(function(global){function rqzt(file,callback){if({}.hasOwnProperty.call(rqzt.cache,file))return rqzt.cache[file];if("function"==typeof callback)return void rqzt.load(file,callback);var resolved=rqzt.resolve(file);if(!resolved)throw new Error("Failed to resolve module "+file);var module$={id:file,rqzt:rqzt,filename:file,exports:{},loaded:!1,parent:null,children:[]},dirname=file.slice(0,file.lastIndexOf("/")+1);return rqzt.cache[file]=module$.exports,resolved.call(module$.exports,module$,module$.exports,dirname,file),module$.loaded=!0,rqzt.cache[file]=module$.exports}var process={title:"browser",browser:!0,env:{},argv:[],nextTick:function(fn){setTimeout(fn,0)},cwd:function(){return"/"},chdir:function(){}};rqzt.modules={},rqzt.cache={},rqzt.resolve=function(file){return{}.hasOwnProperty.call(rqzt.modules,file)?rqzt.modules[file]:void 0},rqzt.define=function(file,fn){rqzt.modules[file]=fn},global.require=rqzt,rqzt.define("riot/riot",function(module,exports,__dirname,__filename,process){!function(window,undefined){"use strict";function loopKeys(expr){var b0=brackets(0),els=expr.trim().slice(b0.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/);return els?{key:els[1],pos:els[2],val:b0+els[3]}:{val:expr}}function mkitem(expr,key,val){var item={};return item[expr.key]=key,expr.pos&&(item[expr.pos]=val),item}function _each(dom,parent,expr){remAttr(dom,"each");var checksum,tagName=getTagName(dom),template=dom.outerHTML,hasImpl=!!tagImpl[tagName],impl=tagImpl[tagName]||{tmpl:template},root=dom.parentNode,placeholder=document.createComment("riot placeholder"),tags=[],child=getTag(dom);root.insertBefore(placeholder,dom),expr=loopKeys(expr),parent.one("premount",function(){root.stub&&(root=parent.root),dom.parentNode.removeChild(dom)}).on("update",function(){var items=tmpl(expr.val,parent);isArray(items)||(checksum=items?JSON.stringify(items):"",items=items?Object.keys(items).map(function(key){return mkitem(expr,key,items[key])}):[]);for(var frag=document.createDocumentFragment(),i=tags.length,j=items.length;i>j;)tags[--i].unmount(),tags.splice(i,1);for(i=0;i<j;++i){var _item=!checksum&&expr.key?mkitem(expr,items[i],i):items[i];tags[i]?tags[i].update(_item):((tags[i]=new Tag(impl,{parent:parent,isLoop:!0,hasImpl:hasImpl,root:SPECIAL_TAGS_REGEX.test(tagName)?root:dom.cloneNode(),item:_item},dom.innerHTML)).mount(),frag.appendChild(tags[i].root)),tags[i]._item=_item}root.insertBefore(frag,placeholder),child&&(parent.tags[tagName]=tags)}).one("updated",function(){var keys=Object.keys(parent);walk(root,function(node){1!=node.nodeType||node.isLoop||node._looped||(node._visited=!1,node._looped=!0,setNamed(node,parent,keys))})})}function parseNamedElements(root,tag,childTags){walk(root,function(dom){if(1==dom.nodeType){dom.isLoop=dom.isLoop||dom.parentNode&&dom.parentNode.isLoop||dom.getAttribute("each")?1:0;var child=getTag(dom);child&&!dom.isLoop&&childTags.push(initChildTag(child,dom,tag)),dom.isLoop||setNamed(dom,tag,[])}})}function parseExpressions(root,tag,expressions){function addExpr(dom,val,extra){if(val.indexOf(brackets(0))>=0){var expr={dom:dom,expr:val};expressions.push(extend(expr,extra))}}walk(root,function(dom){var type=dom.nodeType;if(3==type&&"STYLE"!=dom.parentNode.tagName&&addExpr(dom,dom.nodeValue),1==type){var attr=dom.getAttribute("each");return attr?(_each(dom,tag,attr),!1):(each(dom.attributes,function(attr){var name=attr.name,bool=name.split("__")[1];if(addExpr(dom,attr.value,{attr:bool||name,bool:bool}),bool)return remAttr(dom,name),!1}),!getTag(dom)&&void 0)}})}function Tag(impl,conf,innerHTML){function updateOpts(){var ctx=hasImpl&&isLoop?self:parent||self;each(root.attributes,function(el){opts[el.name]=tmpl(el.value,ctx)}),each(Object.keys(attr),function(name){opts[name]=tmpl(attr[name],ctx)})}function normalizeData(data){for(var key in item)typeof self[key]!==T_UNDEF&&(self[key]=data[key])}function inheritFromParent(){self.parent&&isLoop&&each(Object.keys(self.parent),function(k){var mustSync=!~RESERVED_WORDS_BLACKLIST.indexOf(k)&&~propsInSyncWithParent.indexOf(k);(typeof self[k]===T_UNDEF||mustSync)&&(mustSync||propsInSyncWithParent.push(k),self[k]=self.parent[k])})}function toggle(isMount){if(each(childTags,function(child){child[isMount?"mount":"unmount"]()}),parent){var evt=isMount?"on":"off";isLoop?parent[evt]("unmount",self.unmount):parent[evt]("update",self.update)[evt]("unmount",self.unmount)}}var self=riot.observable(this),opts=inherit(conf.opts)||{},dom=mkdom(impl.tmpl),parent=conf.parent,isLoop=conf.isLoop,hasImpl=conf.hasImpl,item=cleanUpData(conf.item),expressions=[],childTags=[],root=conf.root,fn=impl.fn,tagName=root.tagName.toLowerCase(),attr={},propsInSyncWithParent=[];fn&&root._tag&&root._tag.unmount(!0),this.isMounted=!1,root.isLoop=isLoop,root._tag=this,this._id=__uid++,extend(this,{parent:parent,root:root,opts:opts,tags:{}},item),each(root.attributes,function(el){var val=el.value;brackets(/{.*}/).test(val)&&(attr[el.name]=val)}),dom.innerHTML&&!/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(tagName)&&(dom.innerHTML=replaceYield(dom.innerHTML,innerHTML)),this.update=function(data){data=cleanUpData(data),inheritFromParent(),data&&typeof item===T_OBJECT&&(normalizeData(data),item=data),extend(self,data),updateOpts(),self.trigger("update",data),update(expressions,self),self.trigger("updated")},this.mixin=function(){each(arguments,function(mix){mix=typeof mix===T_STRING?riot.mixin(mix):mix,each(Object.keys(mix),function(key){"init"!=key&&(self[key]=isFunction(mix[key])?mix[key].bind(self):mix[key])}),mix.init&&mix.init.bind(self)()})},this.mount=function(){if(updateOpts(),fn&&fn.call(self,opts),parseExpressions(dom,self,expressions),toggle(!0),(impl.attrs||hasImpl)&&(walkAttributes(impl.attrs,function(k,v){root.setAttribute(k,v)}),parseExpressions(self.root,self,expressions)),self.parent&&!isLoop||self.update(item),self.trigger("premount"),isLoop&&!hasImpl)self.root=root=dom.firstChild;else{for(;dom.firstChild;)root.appendChild(dom.firstChild);root.stub&&(self.root=root=parent.root)}!self.parent||self.parent.isMounted?(self.isMounted=!0,self.trigger("mount")):self.parent.one("mount",function(){isInStub(self.root)||(self.parent.isMounted=self.isMounted=!0,self.trigger("mount"))})},this.unmount=function(keepRootTag){var ptag,el=root,p=el.parentNode;if(p){if(parent)ptag=getImmediateCustomParentTag(parent),isArray(ptag.tags[tagName])?each(ptag.tags[tagName],function(tag,i){tag._id==self._id&&ptag.tags[tagName].splice(i,1)}):ptag.tags[tagName]=undefined;else for(;el.firstChild;)el.removeChild(el.firstChild);keepRootTag?p.removeAttribute("riot-tag"):p.removeChild(el)}self.trigger("unmount"),toggle(),self.off("*"),root._tag=null},parseNamedElements(dom,this,childTags)}function setEventHandler(name,handler,dom,tag){dom[name]=function(e){var el,item=tag._item,ptag=tag.parent;if(!item)for(;ptag&&!item;)item=ptag._item,ptag=ptag.parent;e=e||window.event;try{e.currentTarget=dom,e.target||(e.target=e.srcElement),e.which||(e.which=e.charCode||e.keyCode)}catch(ignored){}e.item=item,handler.call(tag,e)===!0||/radio|check/.test(dom.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(el=item?getImmediateCustomParentTag(ptag):tag,el.update())}}function insertTo(root,node,before){root&&(root.insertBefore(before,node),root.removeChild(node))}function update(expressions,tag){each(expressions,function(expr,i){var dom=expr.dom,attrName=expr.attr,value=tmpl(expr.expr,tag),parent=expr.dom.parentNode;if(expr.bool?value=!!value&&attrName:null==value&&(value=""),parent&&"TEXTAREA"==parent.tagName&&(value=(""+value).replace(/riot-/g,"")),expr.value!==value){if(expr.value=value,!attrName)return void(dom.nodeValue=""+value);if(remAttr(dom,attrName),isFunction(value))setEventHandler(attrName,value,dom,tag);else if("if"==attrName){var stub=expr.stub,add=function(){insertTo(stub.parentNode,stub,dom)},remove=function(){insertTo(dom.parentNode,dom,stub)};value?stub&&(add(),dom.inStub=!1,isInStub(dom)||walk(dom,function(el){el._tag&&!el._tag.isMounted&&(el._tag.isMounted=!!el._tag.trigger("mount"))})):(stub=expr.stub=stub||document.createTextNode(""),dom.parentNode?remove():(tag.parent||tag).one("updated",remove),dom.inStub=!0)}else if(/^(show|hide)$/.test(attrName))"hide"==attrName&&(value=!value),dom.style.display=value?"":"none";else if("value"==attrName)dom.value=value;else if(startsWith(attrName,RIOT_PREFIX)&&attrName!=RIOT_TAG)value&&dom.setAttribute(attrName.slice(RIOT_PREFIX.length),value);else{if(expr.bool&&(dom[attrName]=value,!value))return;typeof value!==T_OBJECT&&dom.setAttribute(attrName,value)}}})}function each(els,fn){for(var el,i=0,len=(els||[]).length;i<len;i++)el=els[i],null!=el&&fn(el,i)===!1&&i--;return els}function isFunction(v){return typeof v===T_FUNCTION||!1}function remAttr(dom,name){dom.removeAttribute(name)}function getTag(dom){return dom.tagName&&tagImpl[dom.getAttribute(RIOT_TAG)||dom.tagName.toLowerCase()]}function initChildTag(child,dom,parent){var cachedTag,tag=new Tag(child,{root:dom,parent:parent},dom.innerHTML),tagName=getTagName(dom),ptag=getImmediateCustomParentTag(parent);return tag.parent=ptag,cachedTag=ptag.tags[tagName],cachedTag?(isArray(cachedTag)||(ptag.tags[tagName]=[cachedTag]),~ptag.tags[tagName].indexOf(tag)||ptag.tags[tagName].push(tag)):ptag.tags[tagName]=tag,dom.innerHTML="",tag}function getImmediateCustomParentTag(tag){for(var ptag=tag;!getTag(ptag.root)&&ptag.parent;)ptag=ptag.parent;return ptag}function getTagName(dom){var child=getTag(dom),namedTag=dom.getAttribute("name"),tagName=namedTag&&namedTag.indexOf(brackets(0))<0?namedTag:child?child.name:dom.tagName.toLowerCase();return tagName}function extend(src){for(var obj,args=arguments,i=1;i<args.length;++i)if(obj=args[i])for(var key in obj)src[key]=obj[key];return src}function cleanUpData(data){if(!(data instanceof Tag||data&&typeof data.trigger==T_FUNCTION))return data;var o={};for(var key in data)~RESERVED_WORDS_BLACKLIST.indexOf(key)||(o[key]=data[key]);return o}function walk(dom,fn){if(dom){if(fn(dom)===!1)return;for(dom=dom.firstChild;dom;)walk(dom,fn),dom=dom.nextSibling}}function walkAttributes(html,fn){for(var m,re=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;m=re.exec(html);)fn(m[1].toLowerCase(),m[2]||m[3]||m[4])}function isInStub(dom){for(;dom;){if(dom.inStub)return!0;dom=dom.parentNode}return!1}function mkEl(name){return document.createElement(name)}function replaceYield(tmpl,innerHTML){return tmpl.replace(/<(yield)\/?>(<\/\1>)?/gi,innerHTML||"")}function $$(selector,ctx){return(ctx||document).querySelectorAll(selector)}function $(selector,ctx){return(ctx||document).querySelector(selector)}function inherit(parent){function Child(){}return Child.prototype=parent,new Child}function setNamed(dom,parent,keys){if(!dom._visited){var p,v=dom.getAttribute("id")||dom.getAttribute("name");v&&(keys.indexOf(v)<0&&(p=parent[v],p?isArray(p)?p.push(dom):parent[v]=[p,dom]:parent[v]=dom),dom._visited=!0)}}function startsWith(src,str){return src.slice(0,str.length)===str}function injectStyle(css){if(!riot.render){styleNode||(styleNode=mkEl("style"),styleNode.setAttribute("type","text/css"));var head=document.head||document.getElementsByTagName("head")[0];if(styleNode.styleSheet?styleNode.styleSheet.cssText+=css:styleNode.innerHTML+=css,!styleNode._rendered)if(styleNode.styleSheet)document.body.appendChild(styleNode);else{var rs=$("style[type=riot]");rs?(rs.parentNode.insertBefore(styleNode,rs),rs.parentNode.removeChild(rs)):head.appendChild(styleNode)}styleNode._rendered=!0}}function mountTo(root,tagName,opts){var tag=tagImpl[tagName],innerHTML=root._innerHTML=root._innerHTML||root.innerHTML;if(root.innerHTML="",tag&&root&&(tag=new Tag(tag,{root:root,opts:opts},innerHTML)),tag&&tag.mount)return tag.mount(),virtualDom.push(tag),tag.on("unmount",function(){virtualDom.splice(virtualDom.indexOf(tag),1)})}var riot={version:"v2.2.4",settings:{}},__uid=0,RIOT_PREFIX="riot-",RIOT_TAG=RIOT_PREFIX+"tag",T_STRING="string",T_OBJECT="object",T_UNDEF="undefined",T_FUNCTION="function",SPECIAL_TAGS_REGEX=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,RESERVED_WORDS_BLACKLIST=["_item","_id","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],IE_VERSION=0|(window&&window.document||{}).documentMode,isArray=Array.isArray;riot.observable=function(el){el=el||{};var callbacks={},_id=0;return el.on=function(events,fn){return isFunction(fn)&&(typeof fn.id===T_UNDEF&&(fn._id=_id++),events.replace(/\S+/g,function(name,pos){(callbacks[name]=callbacks[name]||[]).push(fn),fn.typed=pos>0})),el},el.off=function(events,fn){return"*"==events?callbacks={}:events.replace(/\S+/g,function(name){if(fn)for(var cb,arr=callbacks[name],i=0;cb=arr&&arr[i];++i)cb._id==fn._id&&arr.splice(i--,1);else callbacks[name]=[]}),el},el.one=function(name,fn){function on(){el.off(name,on),fn.apply(el,arguments)}return el.on(name,on)},el.trigger=function(name){for(var fn,args=[].slice.call(arguments,1),fns=callbacks[name]||[],i=0;fn=fns[i];++i)fn.busy||(fn.busy=1,fn.apply(el,fn.typed?[name].concat(args):args),fns[i]!==fn&&i--,fn.busy=0);return callbacks.all&&"all"!=name&&el.trigger.apply(el,["all",name].concat(args)),el},el},riot.mixin=function(){var mixins={};return function(name,mixin){return mixin?void(mixins[name]=mixin):mixins[name]}}(),function(riot,evt,win){function hash(){return loc.href.split("#")[1]||""}function parser(path){return path.split("/")}function emit(path){path.type&&(path=hash()),path!=current&&(fns.trigger.apply(null,["H"].concat(parser(path))),current=path)}if(win){var current,loc=win.location,fns=riot.observable(),started=!1,r=riot.route=function(arg){arg[0]?(loc.hash=arg,emit(arg)):fns.on("H",arg)};r.exec=function(fn){fn.apply(null,parser(hash()))},r.parser=function(fn){parser=fn},r.stop=function(){started&&(win.removeEventListener?win.removeEventListener(evt,emit,!1):win.detachEvent("on"+evt,emit),fns.off("*"),started=!1)},r.start=function(){started||(win.addEventListener?win.addEventListener(evt,emit,!1):win.attachEvent("on"+evt,emit),started=!0)},r.start()}}(riot,"hashchange",window);var styleNode,brackets=function(orig){var cachedBrackets,r,b,re=/[{}]/g;return function(x){var s=riot.settings.brackets||orig;return cachedBrackets!==s&&(cachedBrackets=s,b=s.split(" "),r=b.map(function(e){return e.replace(/(?=.)/g,"\\")})),x instanceof RegExp?s===orig?x:new RegExp(x.source.replace(re,function(b){return r[~~("}"===b)]}),x.global?"g":""):b[x]}}("{ }"),tmpl=function(){function tmpl(s,p){return s.indexOf(brackets(0))<0?(s=s.replace(/\n|\r\n?/g,"\n"),function(){return s}):(s=s.replace(brackets(/\\{/g),"￰").replace(brackets(/\\}/g),"￱"),p=split(s,extract(s,brackets(/{/),brackets(/}/))),s=2!==p.length||p[0]?"["+p.map(function(s,i){return i%2?expr(s,!0):'"'+s.replace(/\n|\r\n?/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':expr(p[1]),new Function("d","return "+s.replace(/\uFFF0/g,brackets(0)).replace(/\uFFF1/g,brackets(1))+";"))}function expr(s,n){return s=s.replace(/\n|\r\n?/g," ").replace(brackets(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(s)?"["+extract(s,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(pair){return pair.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(_,k,v){return v.replace(/[^&|=!><]+/g,wrap)+'?"'+k+'":"",'})}).join("")+'].join(" ").trim()':wrap(s,n)}function wrap(s,nonull){return s=s.trim(),s?"(function(v){try{v="+s.replace(reVars,function(s,_,v){return v?'(("'+v+OGLOB+v+")":s})+"}catch(e){}return "+(nonull===!0?'!v&&v!==0?"":v':"v")+"}).call(d)":""}function split(str,substrings){var parts=[];return substrings.map(function(sub,i){i=str.indexOf(sub),parts.push(str.slice(0,i),sub),str=str.slice(i+sub.length)}),str&&parts.push(str),parts}function extract(str,open,close){var start,level=0,matches=[],re=new RegExp("("+open.source+")|("+close.source+")","g");return str.replace(re,function(_,open,close,pos){!level&&open&&(start=pos),level+=open?1:-1,level||null==close||matches.push(str.slice(start,pos+close.length))}),matches}var cache={},OGLOB='"in d?d:'+(window?"window).":"global)."),reVars=/(['"\/])(?:[^\\]*?|\\.|.)*?\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function\s*\()|([A-Za-z_$]\w*)/g;return function(str,data){return str&&(cache[str]||(cache[str]=tmpl(str)))(data)}}(),mkdom=function(checkIE){function _mkdom(html){var match=html&&html.match(/^\s*<([-\w]+)/),tagName=match&&match[1].toLowerCase(),rootTag=rootEls[tagName]||GENERIC,el=mkEl(rootTag);return el.stub=!0,checkIE&&tagName&&(match=tagName.match(SPECIAL_TAGS_REGEX))?ie9elem(el,html,tagName,!!match[1]):el.innerHTML=html,el}function ie9elem(el,html,tagName,select){var child,div=mkEl(GENERIC),tag=select?"select>":"table>";div.innerHTML="<"+tag+html+"</"+tag,child=div.getElementsByTagName(tagName)[0],child&&el.appendChild(child)}var rootEls={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},GENERIC="div";return checkIE=checkIE&&checkIE<10,_mkdom}(IE_VERSION),virtualDom=[],tagImpl={};riot.tag=function(name,html,css,attrs,fn){return isFunction(attrs)&&(fn=attrs,/^[\w\-]+\s?=/.test(css)?(attrs=css,css=""):attrs=""),css&&(isFunction(css)?fn=css:injectStyle(css)),tagImpl[name]={name:name,tmpl:html,attrs:attrs,fn:fn},name},riot.mount=function(selector,tagName,opts){function addRiotTags(arr){var list="";return each(arr,function(e){list+=", *["+RIOT_TAG+'="'+e.trim()+'"]'}),list}function selectAllTags(){var keys=Object.keys(tagImpl);return keys+addRiotTags(keys)}function pushTags(root){var last;if(root.tagName){!tagName||(last=root.getAttribute(RIOT_TAG))&&last==tagName||root.setAttribute(RIOT_TAG,tagName);var tag=mountTo(root,tagName||root.getAttribute(RIOT_TAG)||root.tagName.toLowerCase(),opts);tag&&tags.push(tag)}else root.length&&each(root,pushTags)}var els,allTags,tags=[];if(typeof tagName===T_OBJECT&&(opts=tagName,tagName=0),typeof selector===T_STRING?("*"===selector?selector=allTags=selectAllTags():selector+=addRiotTags(selector.split(",")),els=$$(selector)):els=selector,"*"===tagName){if(tagName=allTags||selectAllTags(),els.tagName)els=$$(tagName,els);else{var nodeList=[];each(els,function(_el){nodeList.push($$(tagName,_el))}),els=nodeList}tagName=0}return els.tagName?pushTags(els):each(els,pushTags),tags},riot.update=function(){return each(virtualDom,function(tag){tag.update()})},riot.mountTo=riot.mount,riot.util={brackets:brackets,tmpl:tmpl},typeof exports===T_OBJECT?module.exports=riot:"function"==typeof define&&define.amd?define(function(){return window.riot=riot}):window.riot=riot}("undefined"!=typeof window?window:void 0)}),rqzt.define("underscore/underscore",function(module,exports,__dirname,__filename,process){(function(){function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;return arguments.length<3&&(memo=obj[keys?keys[index]:index],index+=dir),iterator(obj,iteratee,memo,keys,index,length)}}function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);for(var length=getLength(array),index=dir>0?0:length-1;index>=0&&index<length;index+=dir)if(predicate(array[index],index,array))return index;return-1}}function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if("number"==typeof idx)dir>0?i=idx>=0?idx:Math.max(idx+length,i):length=idx>=0?Math.min(idx+1,length):idx+length+1;else if(sortedIndex&&idx&&length)return idx=sortedIndex(array,item),array[idx]===item?idx:-1;if(item!==item)return idx=predicateFind(slice.call(array,i,length),_.isNaN),idx>=0?idx+i:-1;for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir)if(array[idx]===item)return idx;return-1}}function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop="constructor";for(_.has(obj,prop)&&!_.contains(keys,prop)&&keys.push(prop);nonEnumIdx--;)prop=nonEnumerableProps[nonEnumIdx],prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)&&keys.push(prop)}var root=this,previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create,Ctor=function(){},_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.8.3";var optimizeCb=function(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){return null==value?_.identity:_.isFunction(value)?optimizeCb(value,context,argCount):_.isObject(value)?_.matcher(value):_.property(value)};_.iteratee=function(value,context){return cb(value,context,1/0)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(length<2||null==obj)return obj;for(var index=1;index<length;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;i<l;i++){var key=keys[i];undefinedOnly&&void 0!==obj[key]||(obj[key]=source[key])}return obj}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;return Ctor.prototype=null,result},property=function(key){return function(obj){return null==obj?void 0:obj[key]}},MAX_ARRAY_INDEX=Math.pow(2,53)-1,getLength=property("length"),isArrayLike=function(collection){var length=getLength(collection);return"number"==typeof length&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj))for(i=0,length=obj.length;i<length;i++)iteratee(obj[i],i,obj);else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++)iteratee(obj[keys[i]],keys[i],obj)}return obj},_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length),index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results},_.reduce=_.foldl=_.inject=createReduce(1),_.reduceRight=_.foldr=createReduce(-1),_.find=_.detect=function(obj,predicate,context){var key;if(key=isArrayLike(obj)?_.findIndex(obj,predicate,context):_.findKey(obj,predicate,context),void 0!==key&&key!==-1)return obj[key]},_.filter=_.select=function(obj,predicate,context){var results=[];return predicate=cb(predicate,context),_.each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results},_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)},_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0},_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1},_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){return isArrayLike(obj)||(obj=_.values(obj)),("number"!=typeof fromIndex||guard)&&(fromIndex=0),_.indexOf(obj,item,fromIndex)>=0},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return null==func?func:func.apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))},_.max=function(obj,iteratee,context){var value,computed,result=-(1/0),lastComputed=-(1/0);if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)value=obj[i],value>result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list),(computed>lastComputed||computed===-(1/0)&&result===-(1/0))&&(result=value,lastComputed=computed)});return result},_.min=function(obj,iteratee,context){var value,computed,result=1/0,lastComputed=1/0;if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)value=obj[i],value<result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list),(computed<lastComputed||computed===1/0&&result===1/0)&&(result=value,lastComputed=computed)});return result},_.shuffle=function(obj){for(var rand,set=isArrayLike(obj)?obj:_.values(obj),length=set.length,shuffled=Array(length),index=0;index<length;index++)rand=_.random(0,index),rand!==index&&(shuffled[index]=shuffled[rand]),shuffled[rand]=set[index];return shuffled},_.sample=function(obj,n,guard){return null==n||guard?(isArrayLike(obj)||(obj=_.values(obj)),obj[_.random(obj.length-1)]):_.shuffle(obj).slice(0,Math.max(0,n))},_.sortBy=function(obj,iteratee,context){return iteratee=cb(iteratee,context),_.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iteratee,context){var result={};return iteratee=cb(iteratee,context),_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)}),result}};_.groupBy=group(function(result,value,key){_.has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,value,key){result[key]=value}),_.countBy=group(function(result,value,key){_.has(result,key)?result[key]++:result[key]=1}),_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):isArrayLike(obj)?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:isArrayLike(obj)?obj.length:_.keys(obj).length},_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];return _.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)}),[pass,fail]},_.first=_.head=_.take=function(array,n,guard){if(null!=array)return null==n||guard?array[0]:_.initial(array,array.length-n)},_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(null==n||guard?1:n)))},_.last=function(array,n,guard){if(null!=array)return null==n||guard?array[array.length-1]:_.rest(array,Math.max(0,array.length-n))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){for(var output=[],idx=0,i=startIndex||0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){shallow||(value=flatten(value,shallow,strict));var j=0,len=value.length;for(output.length+=len;j<len;)output[idx++]=value[j++]}else strict||(output[idx++]=value)}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iteratee,context){_.isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),null!=iteratee&&(iteratee=cb(iteratee,context));for(var result=[],seen=[],i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted?(i&&seen===computed||result.push(value),seen=computed):iteratee?_.contains(seen,computed)||(seen.push(computed),result.push(value)):_.contains(result,value)||result.push(value)}return result},_.union=function(){return _.uniq(flatten(arguments,!0,!0))},_.intersection=function(array){for(var result=[],argsLength=arguments.length,i=0,length=getLength(array);i<length;i++){var item=array[i];if(!_.contains(result,item)){for(var j=1;j<argsLength&&_.contains(arguments[j],item);j++);j===argsLength&&result.push(item)}}return result},_.difference=function(array){var rest=flatten(arguments,!0,!0,1);return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(array){for(var length=array&&_.max(array,getLength).length||0,result=Array(length),index=0;index<length;index++)result[index]=_.pluck(array,index);return result},_.object=function(list,values){for(var result={},i=0,length=getLength(list);i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.findIndex=createPredicateIndexFinder(1),_.findLastIndex=createPredicateIndexFinder(-1),_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);for(var value=iteratee(obj),low=0,high=getLength(array);low<high;){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low},_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(start,stop,step){null==stop&&(stop=start||0,start=0),step=step||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;idx<length;idx++,start+=step)range[idx]=start;return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);return _.isObject(result)?result:self};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var args=slice.call(arguments,2),bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound},_.partial=function(func){var boundArgs=slice.call(arguments,1),bound=function(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;i<length;i++)args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i];for(;position<arguments.length;)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound},_.bindAll=function(obj){var i,key,length=arguments.length;if(length<=1)throw new Error("bindAll must be passed function names");for(i=1;i<length;i++)key=arguments[i],obj[key]=_.bind(obj[key],obj);return obj},_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return _.has(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]};return memoize.cache={},
memoize},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=_.partial(_.delay,_,1),_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:_.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=_.now();previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),timeout||(context=args=null)))};return function(){context=this,args=arguments,timestamp=_.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}},_.compose=function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.before=function(times,func){var memo;return function(){return--times>0&&(memo=func.apply(this,arguments)),times<=1&&(func=null),memo}},_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var currentKey,keys=_.keys(obj),length=keys.length,results={},index=0;index<length;index++)currentKey=keys[index],results[currentKey]=iteratee(obj[currentKey],currentKey,obj);return results},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=createAssigner(_.allKeys),_.extendOwn=_.assign=createAssigner(_.keys),_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);for(var key,keys=_.keys(obj),i=0,length=keys.length;i<length;i++)if(key=keys[i],predicate(obj[key],key,obj))return key},_.pick=function(object,oiteratee,context){var iteratee,keys,result={},obj=object;if(null==obj)return result;_.isFunction(oiteratee)?(keys=_.allKeys(obj),iteratee=optimizeCb(oiteratee,context)):(keys=flatten(arguments,!1,!1,1),iteratee=function(value,key,obj){return key in obj},obj=Object(obj));for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}return result},_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee))iteratee=_.negate(iteratee);else{var keys=_.map(flatten(arguments,!1,!1,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)},_.defaults=createAssigner(_.allKeys,!0),_.create=function(prototype,props){var result=baseCreate(prototype);return props&&_.extendOwn(result,props),result},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(null==object)return!length;for(var obj=Object(object),i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var areArrays="[object Array]"===className;if(!areArrays){if("object"!=typeof a||"object"!=typeof b)return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}aStack=aStack||[],bStack=bStack||[];for(var length=aStack.length;length--;)if(aStack[length]===a)return bStack[length]===b;if(aStack.push(a),bStack.push(b),areArrays){if(length=a.length,length!==b.length)return!1;for(;length--;)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var key,keys=_.keys(a);if(length=keys.length,_.keys(b).length!==length)return!1;for(;length--;)if(key=keys[length],!_.has(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}return aStack.pop(),bStack.pop(),!0};_.isEqual=function(a,b){return eq(a,b)},_.isEmpty=function(obj){return null==obj||(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj))?0===obj.length:0===_.keys(obj).length)},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"===toString.call(obj)},_.isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return _.has(obj,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(obj){return"function"==typeof obj||!1}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"===toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return null!=obj&&hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.noop=function(){},_.property=property,_.propertyOf=function(obj){return null==obj?function(){}:function(key){return obj[key]}},_.matcher=_.matches=function(attrs){return attrs=_.extendOwn({},attrs),function(obj){return _.isMatch(obj,attrs)}},_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=null==string?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap),_.result=function(object,property,fallback){var value=null==object?void 0:object[property];return void 0===value&&(value=fallback),_.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_)},argument=settings.variable||"obj";return template.source="function("+argument+"){\n"+source+"}",template},_.chain=function(obj){var instance=_(obj);return instance._chain=!0,instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result(this,func.apply(_,args))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!==name&&"splice"!==name||0!==obj.length||delete obj[0],result(this,obj)}}),_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this)}),rqzt.define("crowdcontrol/lib",function(module,exports,__dirname,__filename,process){module.exports={data:rqzt("crowdcontrol/lib/data"),utils:rqzt("crowdcontrol/lib/utils"),view:rqzt("crowdcontrol/lib/view"),config:rqzt("crowdcontrol/lib/config"),start:function(opts){return this.utils.shim.riot.mount("*")},Events:rqzt("crowdcontrol/lib/events")},"undefined"!=typeof window&&null!==window&&(window.crowdcontrol=module.exports)}),rqzt.define("crowdcontrol/lib/data",function(module,exports,__dirname,__filename,process){var policy;policy=rqzt("crowdcontrol/lib/data/policy"),module.exports={Api:rqzt("crowdcontrol/lib/data/api"),Source:rqzt("crowdcontrol/lib/data/source"),Policy:policy.Policy,TabularRestfulStreamingPolicy:policy.TabularRestfulStreamingPolicy}}),rqzt.define("crowdcontrol/lib/data/policy",function(module,exports,__dirname,__filename,process){}),rqzt.define("crowdcontrol/lib/data/api",function(module,exports,__dirname,__filename,process){var Api,ScheduledTask,ScheduledTaskType,apis,log,promise,requestAnimationFrame,timeNow,utils,xhr;utils=rqzt("crowdcontrol/lib/utils"),promise=utils.shim.promise,xhr=utils.shim.xhr,log=utils.log,requestAnimationFrame=utils.shim.requestAnimationFrame,timeNow=Date.now||function(){return(new Date).getTime()},ScheduledTaskType={every:"every",once:"once"},ScheduledTask=function(){function ScheduledTask(type,fn1,millis1){this.type=type,this.fn=fn1,this.millis=millis1,this.scheduledTime=timeNow()+this.millis,this.kill=!1}return ScheduledTask.prototype.cancel=function(){return this.kill=!0},ScheduledTask}(),apis={},Api=function(){function Api(url1,token){var url;this.url=null!=url1?url1:"",this.token=null!=token?token:"",this.scheduledTasks=[],url=this.url,"/"===url[url.length-1]&&(this.url=url.substring(0,url.length-1))}return Api.prototype.scheduledTasks=null,Api.prototype.url="",Api.prototype.token="",Api.get=function(name){return null==name&&(name=""),apis[name]},Api.prototype.register=function(name){return null==name&&(name=""),apis[name]=this},Api.prototype.get=function(path,data,headers){var p;return null==headers&&(headers={}),this.token&&(headers.Authorization=this.token),p=path,"/"!==p[0]&&(p="/"+path),xhr({method:"GET",contentType:"application/json",headers:headers,url:this.url+p,data:JSON.stringify(data)})},Api.prototype.post=function(path,data,headers){var p;return null==headers&&(headers={}),this.token&&(headers.Authorization=this.token),p=path,"/"!==p[0]&&(p="/"+path),xhr({method:"POST",contentType:"application/json",headers:headers,url:this.url+p,data:JSON.stringify(data)})},Api.prototype.put=function(path,data,headers){var p;return null==headers&&(headers={}),this.token&&(headers.Authorization=this.token),p=path,"/"!==p[0]&&(p="/"+path),xhr({method:"PUT",contentType:"application/json",headers:headers,url:this.url+p,data:JSON.stringify(data)})},Api.prototype.patch=function(path,data,headers){var p;return null==headers&&(headers={}),this.token&&(headers.Authorization=this.token),p=path,"/"!==p[0]&&(p="/"+path),xhr({method:"PATCH",contentType:"application/json",headers:headers,url:this.url+p,data:JSON.stringify(data)})},Api.prototype.delete=function(path,data,headers){var p;return null==headers&&(headers={}),this.token&&(headers.Authorization=this.token),p=path,"/"!==p[0]&&(p="/"+path),xhr({method:"DELETE",contentType:"application/json",headers:headers,url:this.url+p,data:JSON.stringify(data)})},Api.prototype.scheduleOnce=function(fn,millis){var task;return task=new ScheduledTask(ScheduledTaskType.once,fn,millis),this.scheduledTasks.push(task),1===this.scheduledTasks.length&&this.loop(),task},Api.prototype.scheduleEvery=function(fn,millis,now){var task;return null==now&&(now=!1),task=new ScheduledTask(ScheduledTaskType.every,fn,millis),this.scheduledTasks.push(task),1===this.scheduledTasks.length&&this.loop(),now&&(log("API: scheduling for immediate execution"),task=new ScheduledTask(ScheduledTaskType.once,fn,0),this.scheduledTasks.push(task)),task},Api.prototype.loop=function(){if(this.scheduledTasks.length>0)return log("API: starting loop"),requestAnimationFrame(function(_this){return function(){var i,length,now,sfn;for(now=timeNow(),i=0,length=_this.scheduledTasks.length;i<length;)sfn=_this.scheduledTasks[i],sfn.scheduledTime<=now?(sfn.kill||sfn.fn(now),sfn.kill||sfn.type===ScheduledTaskType.once?(length--,_this.scheduledTasks[i]=_this.scheduledTasks[length]):sfn.type===ScheduledTaskType.every&&(sfn.scheduledTime+=sfn.millis)):i++;if(_this.scheduledTasks.length=length,length>0)return _this.loop()}}(this))},Api}(),module.exports=Api}),rqzt.define("crowdcontrol/lib/utils",function(module,exports,__dirname,__filename,process){module.exports={shim:rqzt("crowdcontrol/lib/utils/shim"),log:rqzt("crowdcontrol/lib/utils/log"),mediator:rqzt("crowdcontrol/lib/utils/mediator")}}),rqzt.define("crowdcontrol/lib/utils/shim",function(module,exports,__dirname,__filename,process){var promise,xhr;promise=rqzt("bluebird/js/browser/bluebird"),xhr=rqzt("xhr-promise"),Function.prototype.property=function(prop,desc){return Object.defineProperty(this.prototype,prop,desc)},promise.new=function(fn){return new promise(fn)},module.exports={observable:function(obj){return this.riot.observable(obj)},requestAnimationFrame:rqzt("raf"),riot:"undefined"!=typeof window&&null!==window&&null!=window.riot?window.riot:void 0,xhr:function(data){var x;return x=new xhr,x.send.apply(x,arguments)},promise:promise}}),rqzt.define("bluebird/js/browser/bluebird",function(module,exports,__dirname,__filename,process){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof _dereq_&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}var SomePromiseArray=Promise._SomePromiseArray;Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";function Async(){this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._trampolineEnabled=!0;var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule.isStatic?schedule(this.drainQueues):schedule}function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg),this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg),this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise),this._queueTick()}var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule.js"),Queue=_dereq_("./queue.js"),util=_dereq_("./util.js");Async.prototype.disableTrampolineIfNecessary=function(){util.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(fn){setTimeout(fn,0)})},Async.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},Async.prototype.throwLater=function(fn,arg){if(1===arguments.length&&(arg=fn,fn=function(){throw arg}),"undefined"!=typeof setTimeout)setTimeout(function(){fn(arg)},0);else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},util.hasDevTools?(schedule.isStatic&&(schedule=function(fn){setTimeout(fn,0)}),Async.prototype.invokeLater=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvokeLater.call(this,fn,receiver,arg):this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})},Async.prototype.invoke=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvoke.call(this,fn,receiver,arg):this._schedule(function(){fn.call(receiver,arg)})},Async.prototype.settlePromises=function(promise){this._trampolineEnabled?AsyncSettlePromises.call(this,promise):this._schedule(function(){promise._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg),this._queueTick()},Async.prototype._drainQueue=function(queue){for(;queue.length()>0;){var fn=queue.shift();if("function"==typeof fn){var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}else fn._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=new Async,module.exports.firstLineError=firstLineError},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise){var rejectThis=function(_,e){this._reject(e)},targetRejected=function(e,context){context.promiseRejectionQueued=!0,context.bindingPromise._then(rejectThis,rejectThis,null,this,e)},bindingResolved=function(thisArg,context){this._isPending()&&this._resolveCallback(context.target)},bindingRejected=function(e,context){context.promiseRejectionQueued||this._reject(e)};Promise.prototype.bind=function(thisArg){var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(ret._setBoundTo(maybePromise),maybePromise instanceof Promise){var context={promiseRejectionQueued:!1,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,ret._progress,ret,context),maybePromise._then(bindingResolved,bindingRejected,ret._progress,ret,context)}else ret._resolveCallback(target);return ret},Promise.prototype._setBoundTo=function(obj){void 0!==obj?(this._bitField=131072|this._bitField,this._boundTo=obj):this._bitField=this._bitField&-131073},Promise.prototype._isBound=function(){return 131072===(131072&this._bitField)},Promise.bind=function(thisArg,value){var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);return ret._setBoundTo(maybePromise),maybePromise instanceof Promise?maybePromise._then(function(){ret._resolveCallback(value)},ret._reject,ret._progress,ret,null):ret._resolveCallback(value),ret}}},{}],4:[function(_dereq_,module,exports){"use strict";function noConflict(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird}var old;"undefined"!=typeof Promise&&(old=Promise);var bluebird=_dereq_("./promise.js")();bluebird.noConflict=noConflict,module.exports=bluebird},{"./promise.js":23}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){function ensureMethod(obj,methodName){var fn;if(null!=obj&&(fn=obj[methodName]),"function"!=typeof fn){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop(),fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return index<0&&(index=Math.max(0,index+obj.length)),obj[index]}var getGetter,util=_dereq_("./util.js"),canEvaluate=util.canEvaluate;util.isIdentifier;Promise.prototype.call=function(methodName){for(var $_len=arguments.length,args=new Array($_len-1),$_i=1;$_i<$_len;++$_i)args[$_i-1]=arguments[$_i];return args.push(methodName),this._then(caller,void 0,void 0,args,void 0)},Promise.prototype.get=function(propertyName){var getter,isIndex="number"==typeof propertyName;if(isIndex)getter=indexedGetter;else if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=null!==maybeGetter?maybeGetter:namedGetter}else getter=namedGetter;return this._then(getter,void 0,void 0,propertyName,void 0)}}},{"./util.js":38}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var errors=_dereq_("./errors.js"),async=_dereq_("./async.js"),CancellationError=errors.CancellationError;Promise.prototype._cancel=function(reason){if(!this.isCancellable())return this;for(var parent,promiseToReject=this;void 0!==(parent=promiseToReject._cancellationParent)&&parent.isCancellable();)promiseToReject=parent;this._unsetCancellable(),promiseToReject._target()._rejectCallback(reason,!1,!0)},Promise.prototype.cancel=function(reason){return this.isCancellable()?(void 0===reason&&(reason=new CancellationError),async.invokeLater(this._cancel,this,reason),this):this},Promise.prototype.cancellable=function(){return this._cancellable()?this:(async.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},Promise.prototype.uncancellable=function(){var ret=this.then();return ret._unsetCancellable(),ret},Promise.prototype.fork=function(didFulfill,didReject,didProgress){var ret=this._then(didFulfill,didReject,didProgress,void 0,void 0);return ret._setCancellable(),ret._cancellationParent=void 0,ret}}},{"./async.js":2,"./errors.js":13}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(){function CapturedTrace(parent){this._parent=parent;var length=this._length=1+(void 0===parent?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i)(0===stacks[i].length||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])&&(stacks.splice(i,1),i--)}function removeCommonRoots(stacks){for(var current=stacks[0],i=1;i<stacks.length;++i){for(var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1,j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}function cleanStack(stack){for(var ret=[],i=0;i<stack.length;++i){var line=stack[i],isTraceLine=stackFramePattern.test(line)||"    (No stack trace)"===line,isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&" "!==line.charAt(0)&&(line="    "+line),ret.push(line))}return ret}function stackFramesAsArray(error){for(var stack=error.stack.replace(/\s+$/g,"").split("\n"),i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&(stack=stack.slice(i)),stack}function formatNonError(obj){var str;if("function"==typeof obj)str="[function "+(obj.name||"anonymous")+"]";else{str=obj.toString();var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str))try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}0===str.length&&(str="(empty array)")}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;return str.length<maxChars?str:str.substr(0,maxChars-3)+"..."}function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches)return{fileName:matches[1],line:parseInt(matches[2],10)}}var warn,async=_dereq_("./async.js"),util=_dereq_("./util.js"),bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,stackFramePattern=null,formatStack=null,indentStackFrames=!1;util.inherits(CapturedTrace,Error),CapturedTrace.prototype.uncycle=function(){var length=this._length;if(!(length<2)){for(var nodes=[],stackToIndex={},i=0,node=this;void 0!==node;++i)nodes.push(node),node=node._parent;length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;void 0===stackToIndex[stack]&&(stackToIndex[stack]=i)}for(var i=0;i<length;++i){var currentStack=nodes[i].stack,index=stackToIndex[currentStack];if(void 0!==index&&index!==i){index>0&&(nodes[index-1]._parent=void 0,nodes[index-1]._length=1),nodes[i]._parent=void 0,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;index<length-1?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=void 0,cycleEdgeNode._length=1);for(var currentChildLength=cycleEdgeNode._length+1,j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}}},CapturedTrace.prototype.parent=function(){return this._parent},CapturedTrace.prototype.hasParent=function(){return void 0!==this._parent},CapturedTrace.prototype.attachExtraTrace=function(error){if(!error.__stackCleaned__){this.uncycle();for(var parsed=CapturedTrace.parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;void 0!==trace;)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;removeCommonRoots(stacks),removeDuplicateOrEmptyJumps(stacks),util.notEnumerableProp(error,"stack",reconstructStack(message,stacks)),util.notEnumerableProp(error,"__stackCleaned__",!0)}},CapturedTrace.parseStackAndMessage=function(error){var stack=error.stack,message=error.toString();return stack="string"==typeof stack&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"],{message:message,stack:cleanStack(stack)}},CapturedTrace.formatAndLogError=function(error,title){if("undefined"!=typeof console){var message;if("object"==typeof error||"function"==typeof error){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);"function"==typeof warn?warn(message):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(message)}},CapturedTrace.unhandledRejection=function(reason){CapturedTrace.formatAndLogError(reason,"^--- With additional stack trace: ")},CapturedTrace.isSupported=function(){return"function"==typeof captureStackTrace},CapturedTrace.fireRejectionEvent=function(name,localHandler,reason,promise){var localEventFired=!1;try{"function"==typeof localHandler&&(localEventFired=!0,"rejectionHandled"===name?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}var globalEventFired=!1;try{globalEventFired=fireGlobalEvent(name,reason,promise)}catch(e){globalEventFired=!0,async.throwLater(e)}var domEventFired=!1;if(fireDomEvent)try{domEventFired=fireDomEvent(name.toLowerCase(),{reason:reason,promise:promise})}catch(e){domEventFired=!0,async.throwLater(e)}globalEventFired||localEventFired||domEventFired||"unhandledRejection"!==name||CapturedTrace.formatAndLogError(reason,"Unhandled rejection ")};var shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;CapturedTrace.setBounds=function(firstLineError,lastLineError){if(CapturedTrace.isSupported()){for(var firstFileName,lastFileName,firstStackLines=firstLineError.stack.split("\n"),lastStackLines=lastLineError.stack.split("\n"),firstIndex=-1,lastIndex=-1,i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName,firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName,lastIndex=result.line;break}}firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex||(shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return!!(info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex)})}};var fireDomEvent,captureStackTrace=function(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return"string"==typeof stack?stack:void 0!==error.name&&void 0!==error.message?error.toString():formatNonError(error)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;
var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit=Error.stackTraceLimit+6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit=Error.stackTraceLimit-6}}var err=new Error;if("string"==typeof err.stack&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function(o){o.stack=(new Error).stack};var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return"stack"in err||!hasStackAfterThrow||"number"!=typeof Error.stackTraceLimit?(formatStack=function(stack,error){return"string"==typeof stack?stack:"object"!=typeof error&&"function"!=typeof error||void 0===error.name||void 0===error.message?formatNonError(error):error.toString()},null):(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),fireGlobalEvent=function(){if(util.isNode)return function(name,reason,promise){return"rejectionHandled"===name?process.emit(name,promise):process.emit(name,reason,promise)};var customEventWorks=!1,anyEventWorks=!0;try{var ev=new self.CustomEvent("test");customEventWorks=ev instanceof CustomEvent}catch(e){}if(!customEventWorks)try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(event)}catch(e){anyEventWorks=!1}anyEventWorks&&(fireDomEvent=function(type,detail){var event;return customEventWorks?event=new self.CustomEvent(type,{detail:detail,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(event=document.createEvent("CustomEvent"),event.initCustomEvent(type,!1,!0,detail)),!!event&&!self.dispatchEvent(event)});var toWindowMethodNameMap={};return toWindowMethodNameMap.unhandledRejection="onunhandledRejection".toLowerCase(),toWindowMethodNameMap.rejectionHandled="onrejectionHandled".toLowerCase(),function(name,reason,promise){var methodName=toWindowMethodNameMap[name],method=self[methodName];return!!method&&("rejectionHandled"===name?method.call(self,promise):method.call(self,reason,promise),!0)}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(warn=function(message){console.warn(message)},util.isNode&&process.stderr.isTTY?warn=function(message){process.stderr.write("[31m"+message+"[39m\n")}:util.isNode||"string"!=typeof(new Error).stack||(warn=function(message){console.warn("%c"+message,"color: red")})),CapturedTrace}},{"./async.js":2,"./util.js":38}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){function CatchFilter(instances,callback,promise){this._instances=instances,this._callback=callback,this._promise=promise}function safePredicate(predicate,e){var safeObject={},retfilter=tryCatch(predicate).call(safeObject,e);if(retfilter===errorObj)return retfilter;var safeKeys=keys(safeObject);return safeKeys.length?(errorObj.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),errorObj):retfilter}var util=_dereq_("./util.js"),errors=_dereq_("./errors.js"),tryCatch=util.tryCatch,errorObj=util.errorObj,keys=_dereq_("./es5.js").keys,TypeError=errors.TypeError;return CatchFilter.prototype.doFilter=function(e){for(var cb=this._callback,promise=this._promise,boundTo=promise._boundValue(),i=0,len=this._instances.length;i<len;++i){var item=this._instances[i],itemIsErrorType=item===Error||null!=item&&item.prototype instanceof Error;if(itemIsErrorType&&e instanceof item){var ret=tryCatch(cb).call(boundTo,e);return ret===errorObj?(NEXT_FILTER.e=ret.e,NEXT_FILTER):ret}if("function"==typeof item&&!itemIsErrorType){var shouldHandle=safePredicate(item,e);if(shouldHandle===errorObj){e=errorObj.e;break}if(shouldHandle){var ret=tryCatch(cb).call(boundTo,e);return ret===errorObj?(NEXT_FILTER.e=ret.e,NEXT_FILTER):ret}}}return NEXT_FILTER.e=e,NEXT_FILTER},CatchFilter}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace,isDebugging){function Context(){this._trace=new CapturedTrace(peekContext())}function createContext(){if(isDebugging())return new Context}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0)return contextStack[lastIndex]}var contextStack=[];return Context.prototype._pushContext=function(){isDebugging()&&void 0!==this._trace&&contextStack.push(this._trace)},Context.prototype._popContext=function(){isDebugging()&&void 0!==this._trace&&contextStack.pop()},Promise.prototype._peekContext=peekContext,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,createContext}},{}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace){var unhandledRejectionHandled,possiblyUnhandledRejection,getDomain=Promise._getDomain,async=_dereq_("./async.js"),Warning=_dereq_("./errors.js").Warning,util=_dereq_("./util.js"),canAttachTrace=util.canAttachTrace,debugging=util.isNode&&(!!process.env.BLUEBIRD_DEBUG||"development"===process.env.NODE_ENV);return debugging&&async.disableTrampolineIfNecessary(),Promise.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},Promise.prototype._ensurePossibleRejectionHandled=function(){0===(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),async.invokeLater(this._notifyUnhandledRejection,this,void 0))},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){CapturedTrace.fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,void 0,this)},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),CapturedTrace.fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-524289},Promise.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-2097153,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},Promise.prototype._setCarriedStackTrace=function(capturedTrace){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=capturedTrace},Promise.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},Promise.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},Promise.prototype._captureStackTrace=function(){return debugging&&(this._trace=new CapturedTrace(this._peekContext())),this},Promise.prototype._attachExtraTrace=function(error,ignoreSelf){if(debugging&&canAttachTrace(error)){var trace=this._trace;if(void 0!==trace&&ignoreSelf&&(trace=trace._parent),void 0!==trace)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=CapturedTrace.parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n")),util.notEnumerableProp(error,"__stackCleaned__",!0)}}},Promise.prototype._warn=function(message){var warning=new Warning(message),ctx=this._peekContext();if(ctx)ctx.attachExtraTrace(warning);else{var parsed=CapturedTrace.parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}CapturedTrace.formatAndLogError(warning,"")},Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection="function"==typeof fn?null===domain?fn:domain.bind(fn):void 0},Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled="function"==typeof fn?null===domain?fn:domain.bind(fn):void 0},Promise.longStackTraces=function(){if(async.haveItemsQueued()&&debugging===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");debugging=CapturedTrace.isSupported(),debugging&&async.disableTrampolineIfNecessary()},Promise.hasLongStackTraces=function(){return debugging&&CapturedTrace.isSupported()},CapturedTrace.isSupported()||(Promise.longStackTraces=function(){},debugging=!1),function(){return debugging}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util.js"),isPrimitive=util.isPrimitive;module.exports=function(Promise){var returner=function(){return this},thrower=function(){throw this},returnUndefined=function(){},throwUndefined=function(){throw void 0},wrapper=function(value,action){return 1===action?function(){throw value}:2===action?function(){return value}:void 0};Promise.prototype.return=Promise.prototype.thenReturn=function(value){return void 0===value?this.then(returnUndefined):isPrimitive(value)?this._then(wrapper(value,2),void 0,void 0,void 0,void 0):this._then(returner,void 0,void 0,value,void 0)},Promise.prototype.throw=Promise.prototype.thenThrow=function(reason){return void 0===reason?this.then(throwUndefined):isPrimitive(reason)?this._then(wrapper(reason,1),void 0,void 0,void 0,void 0):this._then(thrower,void 0,void 0,reason,void 0)}}},{"./util.js":38}],12:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce;Promise.prototype.each=function(fn){return PromiseReduce(this,fn,null,INTERNAL)},Promise.each=function(promises,fn){return PromiseReduce(promises,fn,null,INTERNAL)}}},{}],13:[function(_dereq_,module,exports){"use strict";function subError(nameProperty,defaultMessage){function SubError(message){return this instanceof SubError?(notEnumerableProp(this,"message","string"==typeof message?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new SubError(message)}return inherits(SubError,Error),SubError}function OperationalError(message){return this instanceof OperationalError?(notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,void(message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new OperationalError(message)}var _TypeError,_RangeError,es5=_dereq_("./es5.js"),Objectfreeze=es5.freeze,util=_dereq_("./util.js"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp,Warning=subError("Warning","warning"),CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}for(var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<methods.length;++i)"function"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;AggregateError.prototype.toString=function(){var indent=Array(4*level+1).join(" "),ret="\n"+indent+"AggregateError of:\n";level++,indent=Array(4*level+1).join(" ");for(var i=0;i<this.length;++i){for(var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n"),j=0;j<lines.length;++j)lines[j]=indent+lines[j];str=lines.join("\n"),ret+=str+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),notEnumerableProp(Error,"__BluebirdErrorTypes__",errorTypes)),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5.js":14,"./util.js":38}],14:[function(_dereq_,module,exports){var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!(descriptor&&!descriptor.writable&&!descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret},ObjectGetDescriptor=function(o,key){return{value:o[key]}},ObjectDefineProperty=function(o,key,desc){return o[key]=desc.value,o},ObjectFreeze=function(obj){return obj},ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},ArrayIsArray=function(obj){try{return"[object Array]"===str.call(obj)}catch(e){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return!0}}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,NEXT_FILTER,tryConvertToPromise){function returnThis(){return this}function throwThis(){throw this}function return$(r){return function(){return r}}function throw$(r){return function(){throw r}}function promisedFinally(ret,reasonOrValue,isFulfilled){var then;return then=isPrimitive(reasonOrValue)?isFulfilled?return$(reasonOrValue):throw$(reasonOrValue):isFulfilled?returnThis:throwThis,ret._then(then,thrower,void 0,reasonOrValue,void 0)}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler,ret=promise._isBound()?handler.call(promise._boundValue()):handler();if(void 0!==ret){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise)return maybePromise=maybePromise._target(),promisedFinally(maybePromise,reasonOrValue,promise.isFulfilled())}return promise.isRejected()?(NEXT_FILTER.e=reasonOrValue,NEXT_FILTER):reasonOrValue}function tapHandler(value){var promise=this.promise,handler=this.handler,ret=promise._isBound()?handler.call(promise._boundValue(),value):handler(value);if(void 0!==ret){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise)return maybePromise=maybePromise._target(),promisedFinally(maybePromise,value,!0)}return value}var util=_dereq_("./util.js"),isPrimitive=util.isPrimitive,thrower=util.thrower;Promise.prototype._passThroughHandler=function(handler,isFinally){if("function"!=typeof handler)return this.then();var promiseAndHandler={promise:this,handler:handler};return this._then(isFinally?finallyHandler:tapHandler,isFinally?finallyHandler:void 0,void 0,promiseAndHandler,void 0)},Promise.prototype.lastly=Promise.prototype.finally=function(handler){return this._passThroughHandler(handler,!0)},Promise.prototype.tap=function(handler){return this._passThroughHandler(handler,!1)}}},{"./util.js":38}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise){function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);if(traceParent._popContext(),result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace(),this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=void 0,this._yieldHandlers="function"==typeof yieldHandler?[yieldHandler].concat(yieldHandlers):yieldHandlers}var errors=_dereq_("./errors.js"),TypeError=errors.TypeError,util=_dereq_("./util.js"),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},PromiseSpawn.prototype._continue=function(result){if(result===errorObj)return this._promise._rejectCallback(result.e,!1,!0);var value=result.value;if(result.done===!0)this._promise._resolveCallback(value);else{var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)&&(maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise),null===maybePromise))return void this._throw(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));maybePromise._then(this._next,this._throw,void 0,this,null)}},PromiseSpawn.prototype._throw=function(reason){this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator.throw).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._next=function(value){this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},Promise.coroutine=function(generatorFunction,options){if("function"!=typeof generatorFunction)throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$(void 0,void 0,yieldHandler,stack);return spawn._generator=generator,spawn._next(void 0),spawn.promise()}},Promise.coroutine.addYieldHandler=function(fn){if("function"!=typeof fn)throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){if("function"!=typeof generatorFunction)return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},{"./errors.js":13,"./util.js":38}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){var util=_dereq_("./util.js");util.canEvaluate,util.tryCatch,util.errorObj;Promise.join=function(){var fn,last=arguments.length-1;if(last>0&&"function"==typeof arguments[last]){fn=arguments[last];var ret}for(var $_len=arguments.length,args=new Array($_len),$_i=0;$_i<$_len;++$_i)args[$_i]=arguments[$_i];fn&&args.pop();var ret=new PromiseArray(args).promise();return void 0!==fn?ret.spread(fn):ret}}},{"./util.js":38}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),this._promise._captureStackTrace();var domain=getDomain();this._callback=null===domain?fn:domain.bind(fn),this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=limit>=1?[]:EMPTY_ARRAY,async.invoke(init,this,void 0)}function init(){this._init$(void 0,-2)}function map(promises,fn,options,_filter){var limit="object"==typeof options&&null!==options?options.concurrency:0;return limit="number"==typeof limit&&isFinite(limit)&&limit>=1?limit:0,new MappingPromiseArray(promises,fn,limit,_filter)}var getDomain=Promise._getDomain,async=_dereq_("./async.js"),util=_dereq_("./util.js"),tryCatch=util.tryCatch,errorObj=util.errorObj,PENDING={},EMPTY_ARRAY=[];util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(values[index]===PENDING){if(values[index]=value,limit>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,void this._queue.push(index);null!==preservedValues&&(preservedValues[index]=value);var callback=this._callback,receiver=this._promise._boundValue();this._promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length);if(this._promise._popContext(),ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){if(maybePromise=maybePromise._target(),maybePromise._isPending())return limit>=1&&this._inFlight++,values[index]=PENDING,maybePromise._proxyPromiseArray(this,index);if(!maybePromise._isFulfilled())return this._reject(maybePromise._reason());ret=maybePromise._value()}values[index]=ret}var totalResolved=++this._totalResolved;totalResolved>=length&&(null!==preservedValues?this._filter(values,preservedValues):this._resolve(values))},MappingPromiseArray.prototype._drainQueue=function(){for(var queue=this._queue,limit=this._limit,values=this._values;queue.length>0&&this._inFlight<limit;){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){for(var len=values.length,ret=new Array(len),j=0,i=0;i<len;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return"function"!=typeof fn?apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):map(this,fn,options,null).promise()},Promise.map=function(promises,fn,options,_filter){return"function"!=typeof fn?apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):map(promises,fn,options,_filter).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js"),tryCatch=util.tryCatch;Promise.method=function(fn){if("function"!=typeof fn)throw new Promise.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments);return ret._popContext(),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise.try=function(fn,args,ctx){if("function"!=typeof fn)return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=util.isArray(args)?tryCatch(fn).apply(ctx,args):tryCatch(fn).call(ctx,args);return ret._popContext(),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1,!0):this._resolveCallback(value,!0)}}},{"./util.js":38}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var promise=this,receiver=promise._boundValue(),ret=void 0===val?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var target=promise._target(),newReason=target._getCarriedStackTrace();newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(promise._boundValue(),reason);ret===errorObj&&async.throwLater(ret.e)}var util=_dereq_("./util.js"),async=_dereq_("./async.js"),tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if("function"==typeof nodeback){var adapter=successAdapter;void 0!==options&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,void 0,this,nodeback)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){var util=_dereq_("./util.js"),async=_dereq_("./async.js"),tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.progressed=function(handler){return this._then(void 0,void 0,handler,void 0,void 0)},Promise.prototype._progress=function(progressValue){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(progressValue)},Promise.prototype._progressHandlerAt=function(index){return 0===index?this._progressHandler0:this[(index<<2)+index-5+2]},Promise.prototype._doProgressWith=function(progression){var progressValue=progression.value,handler=progression.handler,promise=progression.promise,receiver=progression.receiver,ret=tryCatch(handler).call(receiver,progressValue);if(ret===errorObj){if(null!=ret.e&&"StopProgressPropagation"!==ret.e.name){var trace=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));promise._attachExtraTrace(trace),promise._progress(ret.e)}}else ret instanceof Promise?ret._then(promise._progress,null,null,promise,void 0):promise._progress(ret)},Promise.prototype._progressUnchecked=function(progressValue){for(var len=this._length(),progress=this._progress,i=0;i<len;i++){var handler=this._progressHandlerAt(i),promise=this._promiseAt(i);if(promise instanceof Promise)"function"==typeof handler?async.invoke(this._doProgressWith,this,{handler:handler,promise:promise,receiver:this._receiverAt(i),value:progressValue}):async.invoke(progress,promise,progressValue);else{var receiver=this._receiverAt(i);"function"==typeof handler?handler.call(receiver,progressValue,promise):receiver instanceof PromiseArray&&!receiver._isResolved()&&receiver._promiseProgressed(progressValue,promise)}}}}},{"./async.js":2,"./util.js":38}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(){function Promise(resolver){if("function"!=typeof resolver)throw new TypeError("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,resolver!==INTERNAL&&this._resolveFromResolver(resolver)}function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value,p._rejectionHandler0=value,p._progressHandler0=value,p._promise0=value,p._receiver0=value,p._settledValue=value}var getDomain,makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},reflect=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))},util=_dereq_("./util.js");getDomain=util.isNode?function(){var ret=process.domain;return void 0===ret&&(ret=null),ret}:function(){return null},util.notEnumerableProp(Promise,"_getDomain",getDomain);var async=_dereq_("./async.js"),errors=_dereq_("./errors.js"),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError,Promise.CancellationError=errors.CancellationError,Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={e:null},tryConvertToPromise=_dereq_("./thenables.js")(Promise,INTERNAL),PromiseArray=_dereq_("./promise_array.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),CapturedTrace=_dereq_("./captured_trace.js")(),isDebugging=_dereq_("./debuggability.js")(Promise,CapturedTrace),createContext=_dereq_("./context.js")(Promise,CapturedTrace,isDebugging),CatchFilter=_dereq_("./catch_filter.js")(NEXT_FILTER),PromiseResolver=_dereq_("./promise_resolver.js"),nodebackForPromise=PromiseResolver._nodebackForPromise,errorObj=util.errorObj,tryCatch=util.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype.catch=function(fn){var len=arguments.length;if(len>1){var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if("function"!=typeof item)return Promise.reject(new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));catchInstances[j++]=item}catchInstances.length=j,fn=arguments[i];var catchFilter=new CatchFilter(catchInstances,fn,this);return this._then(void 0,catchFilter.doFilter,void 0,catchFilter,void 0)}return this._then(void 0,fn,void 0,void 0,void 0)},Promise.prototype.reflect=function(){return this._then(reflect,reflect,void 0,this,void 0)},Promise.prototype.then=function(didFulfill,didReject,didProgress){if(isDebugging()&&arguments.length>0&&"function"!=typeof didFulfill&&"function"!=typeof didReject){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);arguments.length>1&&(msg+=", "+util.classString(didReject)),this._warn(msg)}return this._then(didFulfill,didReject,didProgress,void 0,void 0)},Promise.prototype.done=function(didFulfill,didReject,didProgress){var promise=this._then(didFulfill,didReject,didProgress,void 0,void 0);promise._setIsFinal()},Promise.prototype.spread=function(didFulfill,didReject){return this.all()._then(didFulfill,didReject,void 0,APPLY,void 0)},Promise.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){return new PromiseArray(this).promise()},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.is=function(val){return val instanceof Promise;
},Promise.fromNode=function(fn){var ret=new Promise(INTERNAL),result=tryCatch(fn)(nodebackForPromise(ret));return result===errorObj&&ret._rejectCallback(result.e,!0,!0),ret},Promise.all=function(promises){return new PromiseArray(promises).promise()},Promise.defer=Promise.pending=function(){var promise=new Promise(INTERNAL);return new PromiseResolver(promise)},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);if(!(ret instanceof Promise)){var val=ret;ret=new Promise(INTERNAL),ret._fulfillUnchecked(val)}return ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if("function"!=typeof fn)throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var prev=async._schedule;return async._schedule=fn,prev},Promise.prototype._then=function(didFulfill,didReject,didProgress,receiver,internalData){var haveInternalData=void 0!==internalData,ret=haveInternalData?internalData:new Promise(INTERNAL);haveInternalData||(ret._propagateFrom(this,5),ret._captureStackTrace());var target=this._target();target!==this&&(void 0===receiver&&(receiver=this._boundTo),haveInternalData||ret._setIsMigrated());var callbackIndex=target._addCallbacks(didFulfill,didReject,didProgress,ret,receiver,getDomain());return target._isResolved()&&!target._isSettlePromisesQueued()&&async.invoke(target._settlePromiseAtPostResolution,target,callbackIndex),ret},Promise.prototype._settlePromiseAtPostResolution=function(index){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(index)},Promise.prototype._length=function(){return 131071&this._bitField},Promise.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},Promise.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},Promise.prototype._setLength=function(len){this._bitField=this._bitField&-131072|131071&len},Promise.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},Promise.prototype._setRejected=function(){this._bitField=134217728|this._bitField},Promise.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},Promise.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},Promise.prototype._isFinal=function(){return(33554432&this._bitField)>0},Promise.prototype._cancellable=function(){return(67108864&this._bitField)>0},Promise.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},Promise.prototype._unsetCancellable=function(){this._bitField=this._bitField&-67108865},Promise.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},Promise.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&-4194305},Promise.prototype._isMigrated=function(){return(4194304&this._bitField)>0},Promise.prototype._receiverAt=function(index){var ret=0===index?this._receiver0:this[5*index-5+4];return void 0===ret&&this._isBound()?this._boundValue():ret},Promise.prototype._promiseAt=function(index){return 0===index?this._promise0:this[5*index-5+3]},Promise.prototype._fulfillmentHandlerAt=function(index){return 0===index?this._fulfillmentHandler0:this[5*index-5+0]},Promise.prototype._rejectionHandlerAt=function(index){return 0===index?this._rejectionHandler0:this[5*index-5+1]},Promise.prototype._boundValue=function(){var ret=this._boundTo;return void 0!==ret&&ret instanceof Promise?ret.isFulfilled()?ret.value():void 0:ret},Promise.prototype._migrateCallbacks=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),progress=follower._progressHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);promise instanceof Promise&&promise._setIsMigrated(),this._addCallbacks(fulfill,reject,progress,promise,receiver,null)},Promise.prototype._addCallbacks=function(fulfill,reject,progress,promise,receiver,domain){var index=this._length();if(index>=131066&&(index=0,this._setLength(0)),0===index)this._promise0=promise,void 0!==receiver&&(this._receiver0=receiver),"function"!=typeof fulfill||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===domain?fulfill:domain.bind(fulfill)),"function"==typeof reject&&(this._rejectionHandler0=null===domain?reject:domain.bind(reject)),"function"==typeof progress&&(this._progressHandler0=null===domain?progress:domain.bind(progress));else{var base=5*index-5;this[base+3]=promise,this[base+4]=receiver,"function"==typeof fulfill&&(this[base+0]=null===domain?fulfill:domain.bind(fulfill)),"function"==typeof reject&&(this[base+1]=null===domain?reject:domain.bind(reject)),"function"==typeof progress&&(this[base+2]=null===domain?progress:domain.bind(progress))}return this._setLength(index+1),index},Promise.prototype._setProxyHandlers=function(receiver,promiseSlotValue){var index=this._length();if(index>=131066&&(index=0,this._setLength(0)),0===index)this._promise0=promiseSlotValue,this._receiver0=receiver;else{var base=5*index-5;this[base+3]=promiseSlotValue,this[base+4]=receiver}this._setLength(index+1)},Promise.prototype._proxyPromiseArray=function(promiseArray,index){this._setProxyHandlers(promiseArray,index)},Promise.prototype._resolveCallback=function(value,shouldBind){if(!this._isFollowingOrFulfilledOrRejected()){if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1,!0);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);var propagationFlags=1|(shouldBind?4:0);this._propagateFrom(maybePromise,propagationFlags);var promise=maybePromise._target();if(promise._isPending()){for(var len=this._length(),i=0;i<len;++i)promise._migrateCallbacks(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(promise)}else promise._isFulfilled()?this._fulfillUnchecked(promise._value()):this._rejectUnchecked(promise._reason(),promise._getCarriedStackTrace())}},Promise.prototype._rejectCallback=function(reason,synchronous,shouldNotMarkOriginatingFromRejection){shouldNotMarkOriginatingFromRejection||util.markAsOriginatingFromRejection(reason);var trace=util.ensureErrorObject(reason),hasStack=trace===reason;this._attachExtraTrace(trace,!!synchronous&&hasStack),this._reject(reason,hasStack?void 0:trace)},Promise.prototype._resolveFromResolver=function(resolver){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=tryCatch(resolver)(function(value){null!==promise&&(promise._resolveCallback(value),promise=null)},function(reason){null!==promise&&(promise._rejectCallback(reason,synchronous),promise=null)});synchronous=!1,this._popContext(),void 0!==r&&r===errorObj&&null!==promise&&(promise._rejectCallback(r.e,!0,!0),promise=null)},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){if(!promise._isRejected()){promise._pushContext();var x;if(x=receiver!==APPLY||this._isRejected()?tryCatch(handler).call(receiver,value):tryCatch(handler).apply(this._boundValue(),value),promise._popContext(),x===errorObj||x===promise||x===NEXT_FILTER){var err=x===promise?makeSelfResolutionError():x.e;promise._rejectCallback(err,!1,!0)}else promise._resolveCallback(x)}},Promise.prototype._target=function(){for(var ret=this;ret._isFollowing();)ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},Promise.prototype._propagateFrom=function(parent,flags){(1&flags)>0&&parent._cancellable()&&(this._setCancellable(),this._cancellationParent=parent),(4&flags)>0&&parent._isBound()&&this._setBoundTo(parent._boundTo)},Promise.prototype._fulfill=function(value){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(value)},Promise.prototype._reject=function(reason,carriedStackTrace){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(reason,carriedStackTrace)},Promise.prototype._settlePromiseAt=function(index){var promise=this._promiseAt(index),isPromise=promise instanceof Promise;if(isPromise&&promise._isMigrated())return promise._unsetIsMigrated(),async.invoke(this._settlePromiseAt,this,index);var handler=this._isFulfilled()?this._fulfillmentHandlerAt(index):this._rejectionHandlerAt(index),carriedStackTrace=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,value=this._settledValue,receiver=this._receiverAt(index);this._clearCallbackDataAtIndex(index),"function"==typeof handler?isPromise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):receiver instanceof PromiseArray?receiver._isResolved()||(this._isFulfilled()?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(this._isFulfilled()?promise._fulfill(value):promise._reject(value,carriedStackTrace)),index>=4&&4===(31&index)&&async.invokeLater(this._setLength,this,0)},Promise.prototype._clearCallbackDataAtIndex=function(index){if(0===index)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var base=5*index-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=void 0}},Promise.prototype._isSettlePromisesQueued=function(){return(this._bitField&-1073741824)===-1073741824},Promise.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824},Promise.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},Promise.prototype._queueSettlePromises=function(){async.settlePromises(this),this._setSettlePromisesQueued()},Promise.prototype._fulfillUnchecked=function(value){if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._rejectUnchecked(err,void 0)}this._setFulfilled(),this._settledValue=value,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},Promise.prototype._rejectUncheckedCheckError=function(reason){var trace=util.ensureErrorObject(reason);this._rejectUnchecked(reason,trace===reason?void 0:trace)},Promise.prototype._rejectUnchecked=function(reason,trace){if(reason===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._rejectUnchecked(err)}return this._setRejected(),this._settledValue=reason,this._cleanValues(),this._isFinal()?void async.throwLater(function(e){throw"stack"in e&&async.invokeFirst(CapturedTrace.unhandledRejection,void 0,e),e},void 0===trace?reason:trace):(void 0!==trace&&trace!==reason&&this._setCarriedStackTrace(trace),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},Promise.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var len=this._length(),i=0;i<len;i++)this._settlePromiseAt(i)},util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError),_dereq_("./progress.js")(Promise,PromiseArray),_dereq_("./method.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./bind.js")(Promise,INTERNAL,tryConvertToPromise),_dereq_("./finally.js")(Promise,NEXT_FILTER,tryConvertToPromise),_dereq_("./direct_resolve.js")(Promise),_dereq_("./synchronous_inspection.js")(Promise),_dereq_("./join.js")(Promise,PromiseArray,tryConvertToPromise,INTERNAL),Promise.Promise=Promise,_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL),_dereq_("./cancel.js")(Promise),_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext),_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise),_dereq_("./nodeify.js")(Promise),_dereq_("./call_get.js")(Promise),_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection),_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL),_dereq_("./settle.js")(Promise,PromiseArray),_dereq_("./some.js")(Promise,PromiseArray,apiRejection),_dereq_("./promisify.js")(Promise,INTERNAL),_dereq_("./any.js")(Promise),_dereq_("./each.js")(Promise,INTERNAL),_dereq_("./timers.js")(Promise,INTERNAL),_dereq_("./filter.js")(Promise,INTERNAL),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(INTERNAL)),CapturedTrace.setBounds(async.firstLineError,util.lastLineError),Promise}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var parent,promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&(parent=values,promise._propagateFrom(parent,5)),this._values=values,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var util=_dereq_("./util.js"),isArray=util.isArray;return PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){if(values=values._target(),this._values=values,!values._isFulfilled())return values._isPending()?void values._then(init,this._reject,void 0,this,resolveValueIfEmpty):void this._reject(values._reason());if(values=values._value(),!isArray(values)){var err=new Promise.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(err)}}else if(!isArray(values))return void this._promise._reject(apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===values.length)return void(resolveValueIfEmpty===-5?this._resolveEmptyArray():this._resolve(toResolutionValue(resolveValueIfEmpty)));var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;for(var promise=this._promise,i=0;i<len;++i){var isResolved=this._isResolved(),maybePromise=tryConvertToPromise(values[i],promise);maybePromise instanceof Promise?(maybePromise=maybePromise._target(),isResolved?maybePromise._ignoreRejections():maybePromise._isPending()?maybePromise._proxyPromiseArray(this,i):maybePromise._isFulfilled()?this._promiseFulfilled(maybePromise._value(),i):this._promiseRejected(maybePromise._reason(),i)):isResolved||this._promiseFulfilled(maybePromise,i)}},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype.__hardReject__=PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1,!0)},PromiseArray.prototype._promiseProgressed=function(progressValue,index){this._promise._progress({index:index,value:progressValue})},PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;totalResolved>=this._length&&this._resolve(this._values)},PromiseArray.prototype._promiseRejected=function(reason,index){this._totalResolved++,this._reject(reason)},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},{"./util.js":38}],25:[function(_dereq_,module,exports){"use strict";function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj),ret.name=obj.name,ret.message=obj.message,ret.stack=obj.stack;for(var keys=es5.keys(obj),i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}function nodebackForPromise(promise){return function(err,value){if(null!==promise){if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(arguments.length>2){for(var $_len=arguments.length,args=new Array($_len-1),$_i=1;$_i<$_len;++$_i)args[$_i-1]=arguments[$_i];promise._fulfill(args)}else promise._fulfill(value);promise=null}}}var PromiseResolver,util=_dereq_("./util.js"),maybeWrapAsError=util.maybeWrapAsError,errors=_dereq_("./errors.js"),TimeoutError=errors.TimeoutError,OperationalError=errors.OperationalError,haveGetters=util.haveGetters,es5=_dereq_("./es5.js"),rErrorKey=/^(?:name|message|stack|cause)$/;if(PromiseResolver=haveGetters?function(promise){this.promise=promise}:function(promise){this.promise=promise,this.asCallback=nodebackForPromise(promise),this.callback=this.asCallback},haveGetters){var prop={get:function(){return nodebackForPromise(this.promise)}};es5.defineProperty(PromiseResolver.prototype,"asCallback",prop),es5.defineProperty(PromiseResolver.prototype,"callback",prop)}PromiseResolver._nodebackForPromise=nodebackForPromise,PromiseResolver.prototype.toString=function(){return"[object PromiseResolver]"},PromiseResolver.prototype.resolve=PromiseResolver.prototype.fulfill=function(value){if(!(this instanceof PromiseResolver))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(value)},PromiseResolver.prototype.reject=function(reason){if(!(this instanceof PromiseResolver))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(reason)},PromiseResolver.prototype.progress=function(value){if(!(this instanceof PromiseResolver))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(value)},PromiseResolver.prototype.cancel=function(err){this.promise.cancel(err)},PromiseResolver.prototype.timeout=function(){this.reject(new TimeoutError("timeout"))},PromiseResolver.prototype.isResolved=function(){return this.promise.isResolved()},PromiseResolver.prototype.toJSON=function(){return this.promise.toJSON()},module.exports=PromiseResolver},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===!0}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return!!val&&isPromisified(val)}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key))for(var keyWithoutAsyncSuffix=key.replace(suffixRegexp,""),j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",suffix))}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){for(var keys=util.inheritedDataKeys(obj),ret=[],i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter||defaultFilter(key,value,obj);"function"!=typeof value||isPromisified(value)||hasPromisified(obj,key,suffix)||!filter(key,value,obj,passesDefaultFilter)||ret.push(key,value)}return checkValid(ret,suffix,suffixRegexp),ret}function makeNodePromisifiedClosure(callback,receiver,_,fn){function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this);var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb="string"==typeof method&&this!==defaultThis?this[method]:callback,fn=nodebackForPromise(promise);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),!0,!0)}return promise}var defaultThis=function(){return this}(),method=callback;return"string"==typeof method&&(callback=fn),util.notEnumerableProp(promisified,"__isPromisified__",!0),promisified}function promisifyAll(obj,suffix,filter,promisifier){for(var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter),i=0,len=methods.length;i<len;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;obj[promisifiedKey]=promisifier===makeNodePromisified?makeNodePromisified(key,THIS,key,fn,suffix):promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix)})}return util.toFastProperties(obj),obj}function promisify(callback,receiver){return makeNodePromisified(callback,receiver,void 0,callback)}var makeNodePromisifiedEval,THIS={},util=_dereq_("./util.js"),nodebackForPromise=_dereq_("./promise_resolver.js")._nodebackForPromise,withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=_dereq_("./errors").TypeError,defaultSuffix="Async",defaultPromisified={__isPromisified__:!0},noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$"),defaultFilter=function(name){return util.isIdentifier(name)&&"_"!==name.charAt(0)&&"constructor"!==name},escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")},makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;Promise.promisify=function(fn,receiver){if("function"!=typeof fn)throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(isPromisified(fn))return fn;var ret=promisify(fn,arguments.length<2?THIS:receiver);return util.copyDescriptors(fn,ret,propsFilter),ret},Promise.promisifyAll=function(target,options){if("function"!=typeof target&&"object"!=typeof target)throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");options=Object(options);var suffix=options.suffix;"string"!=typeof suffix&&(suffix=defaultSuffix);var filter=options.filter;"function"!=typeof filter&&(filter=defaultFilter);var promisifier=options.promisifier;if("function"!=typeof promisifier&&(promisifier=makeNodePromisified),!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var keys=util.inheritedDataKeys(target),i=0;i<keys.length;++i){var value=target[keys[i]];"constructor"!==keys[i]&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier),promisifyAll(value,suffix,filter,promisifier))}return promisifyAll(target,suffix,filter,promisifier)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){function PropertiesPromiseArray(obj){for(var keys=es5.keys(obj),len=keys.length,values=new Array(2*len),i=0;i<len;++i){var key=keys[i];values[i]=obj[key],values[i+len]=key}this.constructor$(values)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(ret=castValue instanceof Promise?castValue._then(Promise.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(castValue).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,4),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var util=_dereq_("./util.js"),isObject=util.isObject,es5=_dereq_("./es5.js");util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){this._init$(void 0,-3)},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){for(var val={},keyOffset=this.length(),i=0,len=this.length();i<len;++i)val[this._values[i+keyOffset]]=this._values[i];this._resolve(val)}},PropertiesPromiseArray.prototype._promiseProgressed=function(value,index){this._promise._progress({key:this._values[index+this.length()],value:value})},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},{"./es5.js":14,"./util.js":38}],28:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg,this._length=length+1},Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front,i=(front-1&capacity-1^capacity)-capacity;this[i]=value,this._front=i,this._length=this.length()+1},Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg),this._unshiftOne(receiver),this._unshiftOne(fn)},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length))return this._pushOne(fn),this._pushOne(receiver),void this._pushOne(arg);var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=void 0,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front,length=this._length,moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)},module.exports=Queue},{}],29:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return raceLater(maybePromise);if(!isArray(promises))return apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var ret=new Promise(INTERNAL);void 0!==parent&&ret._propagateFrom(parent,5);for(var fulfill=ret._fulfill,reject=ret._reject,i=0,len=promises.length;i<len;++i){var val=promises[i];(void 0!==val||i in promises)&&Promise.cast(val)._then(fulfill,reject,void 0,ret,null)}return ret}var isArray=_dereq_("./util.js").isArray,raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};Promise.race=function(promises){return race(promises,void 0)},Promise.prototype.race=function(){return race(this,void 0)}}},{"./util.js":38}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){function ReductionPromiseArray(promises,fn,accum,_each){this.constructor$(promises),this._promise._captureStackTrace(),this._preservedValues=_each===INTERNAL?[]:null,this._zerothIsAccum=void 0===accum,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var maybePromise=tryConvertToPromise(accum,this._promise),rejected=!1,isPromise=maybePromise instanceof Promise;isPromise&&(maybePromise=maybePromise._target(),maybePromise._isPending()?maybePromise._proxyPromiseArray(this,-1):maybePromise._isFulfilled()?(accum=maybePromise._value(),this._gotAccum=!0):(this._reject(maybePromise._reason()),rejected=!0)),isPromise||this._zerothIsAccum||(this._gotAccum=!0);var domain=getDomain();this._callback=null===domain?fn:domain.bind(fn),this._accum=accum,rejected||async.invoke(init,this,void 0)}function init(){this._init$(void 0,-5)}function reduce(promises,fn,initialValue,_each){if("function"!=typeof fn)return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}var getDomain=Promise._getDomain,async=_dereq_("./async.js"),util=_dereq_("./util.js"),tryCatch=util.tryCatch,errorObj=util.errorObj;util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},ReductionPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;values[index]=value;var valuesPhaseIndex,length=this.length(),preservedValues=this._preservedValues,isEach=null!==preservedValues,gotAccum=this._gotAccum,valuesPhase=this._valuesPhase;if(!valuesPhase)for(valuesPhase=this._valuesPhase=new Array(length),valuesPhaseIndex=0;valuesPhaseIndex<length;++valuesPhaseIndex)valuesPhase[valuesPhaseIndex]=0;if(valuesPhaseIndex=valuesPhase[index],0===index&&this._zerothIsAccum?(this._accum=value,this._gotAccum=gotAccum=!0,valuesPhase[index]=0===valuesPhaseIndex?1:2):index===-1?(this._accum=value,this._gotAccum=gotAccum=!0):0===valuesPhaseIndex?valuesPhase[index]=1:(valuesPhase[index]=2,this._accum=value),gotAccum){for(var ret,callback=this._callback,receiver=this._promise._boundValue(),i=this._reducingIndex;i<length;++i)if(valuesPhaseIndex=valuesPhase[i],2!==valuesPhaseIndex){if(1!==valuesPhaseIndex)return;if(value=values[i],this._promise._pushContext(),isEach?(preservedValues.push(value),ret=tryCatch(callback).call(receiver,value,i,length)):ret=tryCatch(callback).call(receiver,this._accum,value,i,length),this._promise._popContext(),ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){if(maybePromise=maybePromise._target(),maybePromise._isPending())return valuesPhase[i]=4,maybePromise._proxyPromiseArray(this,i);if(!maybePromise._isFulfilled())return this._reject(maybePromise._reason());ret=maybePromise._value()}this._reducingIndex=i+1,this._accum=ret}else this._reducingIndex=i+1;this._resolve(isEach?preservedValues:this._accum)}},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./async.js":2,"./util.js":38}],31:[function(_dereq_,module,exports){"use strict";var schedule,util=_dereq_("./util"),noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(util.isNode&&"undefined"==typeof MutationObserver){
var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?schedule="undefined"!=typeof setImmediate?function(fn){setImmediate(fn)}:"undefined"!=typeof setTimeout?function(fn){setTimeout(fn,0)}:noAsyncScheduler:(schedule=function(fn){var div=document.createElement("div"),observer=new MutationObserver(fn);return observer.observe(div,{attributes:!0}),function(){div.classList.toggle("foo")}},schedule.isStatic=!0);module.exports=schedule},{"./util":38}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){function SettledPromiseArray(values){this.constructor$(values)}var PromiseInspection=Promise.PromiseInspection,util=_dereq_("./util.js");util.inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;totalResolved>=this._length&&this._resolve(this._values)},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;ret._bitField=268435456,ret._settledValue=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;ret._bitField=134217728,ret._settledValue=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return new SettledPromiseArray(promises).promise()},Promise.prototype.settle=function(){return new SettledPromiseArray(this).promise()}}},{"./util.js":38}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((0|howMany)!==howMany||howMany<0)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}var util=_dereq_("./util.js"),RangeError=_dereq_("./errors.js").RangeError,AggregateError=_dereq_("./errors.js").AggregateError,isArray=util.isArray;util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){this._addFulfilled(value),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},SomePromiseArray.prototype._promiseRejected=function(reason){if(this._addRejected(reason),this.howMany()>this._canPossiblyFulfill()){for(var e=new AggregateError,i=this.length();i<this._values.length;++i)e.push(this._values[i]);this._reject(e)}},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},{"./errors.js":13,"./util.js":38}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){void 0!==promise?(promise=promise._target(),this._bitField=promise._bitField,this._settledValue=promise._settledValue):(this._bitField=0,this._settledValue=void 0)}PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},PromiseInspection.prototype.isFulfilled=Promise.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},PromiseInspection.prototype.isRejected=Promise.prototype._isRejected=function(){return(134217728&this._bitField)>0},PromiseInspection.prototype.isPending=Promise.prototype._isPending=function(){return 0===(402653184&this._bitField)},PromiseInspection.prototype.isResolved=Promise.prototype._isResolved=function(){return(402653184&this._bitField)>0},Promise.prototype.isPending=function(){return this._target()._isPending()},Promise.prototype.isRejected=function(){return this._target()._isRejected()},Promise.prototype.isFulfilled=function(){return this._target()._isFulfilled()},Promise.prototype.isResolved=function(){return this._target()._isResolved()},Promise.prototype._value=function(){return this._settledValue},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},Promise.prototype.value=function(){var target=this._target();if(!target.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return target._settledValue},Promise.prototype.reason=function(){var target=this._target();if(!target.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return target._unsetRejectionIsUnhandled(),target._settledValue},Promise.PromiseInspection=PromiseInspection}},{}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);return obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null),ret}var then=util.tryCatch(getThen)(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if("function"==typeof then)return doThenable(obj,then,context)}return obj}function getThen(obj){return obj.then}function isAnyBluebirdPromise(obj){return hasProp.call(obj,"_promise0")}function doThenable(x,then,context){function resolveFromThenable(value){promise&&(promise._resolveCallback(value),promise=null)}function rejectFromThenable(reason){promise&&(promise._rejectCallback(reason,synchronous,!0),promise=null)}function progressFromThenable(value){promise&&"function"==typeof promise._progress&&promise._progress(value)}var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext(),promise._captureStackTrace(),context&&context._popContext();var synchronous=!0,result=util.tryCatch(then).call(x,resolveFromThenable,rejectFromThenable,progressFromThenable);return synchronous=!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null),ret}var util=_dereq_("./util.js"),errorObj=util.errorObj,isObject=util.isObject,hasProp={}.hasOwnProperty;return tryConvertToPromise}},{"./util.js":38}],36:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function successClear(value){var handle=this;return handle instanceof Number&&(handle=+handle),clearTimeout(handle),value}function failureClear(reason){var handle=this;throw handle instanceof Number&&(handle=+handle),clearTimeout(handle),reason}var util=_dereq_("./util.js"),TimeoutError=Promise.TimeoutError,afterTimeout=function(promise,message){if(promise.isPending()){"string"!=typeof message&&(message="operation timed out");var err=new TimeoutError(message);util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._cancel(err)}},afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(value,ms){if(void 0===ms){ms=value,value=void 0;var ret=new Promise(INTERNAL);return setTimeout(function(){ret._fulfill()},ms),ret}return ms=+ms,Promise.resolve(value)._then(afterValue,null,null,ms,void 0)};Promise.prototype.delay=function(ms){return delay(this,ms)},Promise.prototype.timeout=function(ms,message){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var handle=setTimeout(function(){afterTimeout(ret,message)},ms);return ret._then(successClear,failureClear,void 0,handle,void 0)}}},{"./util.js":38}],37:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext){function inspectionMapper(inspections){for(var len=inspections.length,i=0;i<len;++i){var inspection=inspections[i];if(inspection.isRejected())return Promise.reject(inspection.error());inspections[i]=inspection._settledValue}return inspections}function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&"function"==typeof thenable._isDisposable&&"function"==typeof thenable._getDisposer&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}function dispose(resources,inspection){function iterator(){if(i>=len)return ret.resolve();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}var i=0,len=resources.length,ret=Promise.defer();return iterator(),ret.promise}function disposerSuccess(value){var inspection=new PromiseInspection;return inspection._settledValue=value,inspection._bitField=268435456,dispose(this,inspection).thenReturn(value)}function disposerFail(reason){var inspection=new PromiseInspection;return inspection._settledValue=reason,inspection._bitField=134217728,dispose(this,inspection).thenThrow(reason)}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}var TypeError=_dereq_("./errors.js").TypeError,inherits=_dereq_("./util.js").inherits,PromiseInspection=Promise.PromiseInspection;Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;void 0!==context&&context._pushContext();var ret=null!==resource?this.doDispose(resource,inspection):null;return void 0!==context&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return null!=d&&"function"==typeof d.resource&&"function"==typeof d.tryDispose},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)},Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if("function"!=typeof fn)return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");len--;for(var resources=new Array(len),i=0;i<len;++i){var resource=arguments[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise(),resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},void 0))}resources[i]=resource}var promise=Promise.settle(resources).then(inspectionMapper).then(function(vals){promise._pushContext();var ret;try{ret=fn.apply(void 0,vals)}finally{promise._popContext()}return ret})._then(disposerSuccess,disposerFail,void 0,resources,void 0);return resources.promise=promise,promise},Promise.prototype._setDisposable=function(disposer){this._bitField=262144|this._bitField,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(262144&this._bitField)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&-262145,this._disposer=void 0},Promise.prototype.disposer=function(fn){if("function"==typeof fn)return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},{"./errors.js":13,"./util.js":38}],38:[function(_dereq_,module,exports){"use strict";function tryCatcher(){try{var target=tryCatchTarget;return tryCatchTarget=null,target.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}function isPrimitive(val){return null==val||val===!0||val===!1||"string"==typeof val||"number"==typeof val}function isObject(value){return!isPrimitive(value)}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(safeToString(maybeError)):maybeError}function withAppended(target,appendee){var i,len=target.length,ret=new Array(len+1);for(i=0;i<len;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:void 0;var desc=Object.getOwnPropertyDescriptor(obj,key);return null!=desc?null==desc.get&&null==desc.set?desc.value:defaultValue:void 0}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}function isClass(fn){try{if("function"==typeof fn){var keys=es5.names(fn.prototype),hasMethods=es5.isES5&&keys.length>1,hasMethodsOtherThanConstructor=keys.length>0&&!(1===keys.length&&"constructor"===keys[0]),hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods)return!0}return!1}catch(e){return!1}}function toFastProperties(obj){function f(){}f.prototype=obj;for(var l=8;l--;)new f;return obj}function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){for(var ret=new Array(count),i=0;i<count;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function canAttachTrace(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack")}function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){for(var keys=es5.names(from),i=0;i<keys.length;++i){var key=keys[i];if(filter(key))try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}var es5=_dereq_("./es5.js"),canEvaluate="undefined"==typeof navigator,haveGetters=function(){try{var o={};return es5.defineProperty(o,"f",{get:function(){return 3}}),3===o.f}catch(e){return!1}}(),errorObj={e:{}},tryCatchTarget,inherits=function(Child,Parent){function T(){this.constructor=Child,this.constructor$=Parent;for(var propertyName in Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&"$"!==propertyName.charAt(propertyName.length-1)&&(this[propertyName+"$"]=Parent.prototype[propertyName])}var hasProp={}.hasOwnProperty;return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype},inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype],isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i)if(excludedPrototypes[i]===val)return!0;return!1};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){for(var ret=[],visitedKeys=Object.create(null);null!=obj&&!isExcludedProto(obj);){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(!visitedKeys[key]){visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);null!=desc&&null==desc.get&&null==desc.set&&ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj)if(hasProp.call(obj,key))ret.push(key);else{for(var i=0;i<excludedPrototypes.length;++i)if(hasProp.call(excludedPrototypes[i],key))continue enumeration;ret.push(key)}return ret}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/,rident=/^[a-z$_][a-z$_0-9]*$/i,ensureErrorObject=function(){return"stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}(),ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,haveGetters:haveGetters,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof process&&"[object process]"===classString(process).toLowerCase()};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return 0===version[0]&&version[1]>10||version[0]>0}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}),rqzt.define("xhr-promise",function(module,exports,__dirname,__filename,process){module.exports=rqzt("xhr-promise/lib/xhr-promise")}),rqzt.define("xhr-promise/lib/xhr-promise",function(module,exports,__dirname,__filename,process){var ParseHeaders,Promise,XMLHttpRequestPromise,extend;Promise=rqzt("bluebird/js/browser/bluebird"),extend=rqzt("extend"),ParseHeaders=rqzt("parse-headers/parse-headers"),module.exports=XMLHttpRequestPromise=function(){function XMLHttpRequestPromise(){}return XMLHttpRequestPromise.DEFAULT_CONTENT_TYPE="application/x-www-form-urlencoded; charset=UTF-8",XMLHttpRequestPromise.prototype.send=function(options){var defaults;return null==options&&(options={}),defaults={method:"GET",data:null,headers:{},async:!0,username:null,password:null},options=extend({},defaults,options),new Promise(function(_this){return function(resolve,reject){var e,header,ref,value,xhr;if(!XMLHttpRequest)return void _this._handleError("browser",reject,null,"browser doesn't support XMLHttpRequest");if("string"!=typeof options.url||0===options.url.length)return void _this._handleError("url",reject,null,"URL is a required parameter");_this._xhr=xhr=new XMLHttpRequest,xhr.onload=function(){var responseText;_this._detachWindowUnload();try{responseText=_this._getResponseText()}catch(_error){return void _this._handleError("parse",reject,null,"invalid JSON response")}return resolve({url:_this._getResponseUrl(),status:xhr.status,statusText:xhr.statusText,responseText:responseText,headers:_this._getHeaders(),xhr:xhr})},xhr.onerror=function(){return _this._handleError("error",reject)},xhr.ontimeout=function(){return _this._handleError("timeout",reject)},xhr.onabort=function(){return _this._handleError("abort",reject)},_this._attachWindowUnload(),xhr.open(options.method,options.url,options.async,options.username,options.password),null==options.data||options.headers["Content-Type"]||(options.headers["Content-Type"]=_this.constructor.DEFAULT_CONTENT_TYPE),ref=options.headers;for(header in ref)value=ref[header],xhr.setRequestHeader(header,value);try{return xhr.send(options.data)}catch(_error){return e=_error,_this._handleError("send",reject,null,e.toString())}}}(this))},XMLHttpRequestPromise.prototype.getXHR=function(){return this._xhr},XMLHttpRequestPromise.prototype._attachWindowUnload=function(){if(this._unloadHandler=this._handleWindowUnload.bind(this),window.attachEvent)return window.attachEvent("onunload",this._unloadHandler)},XMLHttpRequestPromise.prototype._detachWindowUnload=function(){if(window.detachEvent)return window.detachEvent("onunload",this._unloadHandler)},XMLHttpRequestPromise.prototype._getHeaders=function(){return ParseHeaders(this._xhr.getAllResponseHeaders())},XMLHttpRequestPromise.prototype._getResponseText=function(){var responseText;switch(responseText="string"==typeof this._xhr.responseText?this._xhr.responseText:"",this._xhr.getResponseHeader("Content-Type")){case"application/json":case"text/javascript":responseText=JSON.parse(responseText+"")}return responseText},XMLHttpRequestPromise.prototype._getResponseUrl=function(){return null!=this._xhr.responseURL?this._xhr.responseURL:/^X-Request-URL:/m.test(this._xhr.getAllResponseHeaders())?this._xhr.getResponseHeader("X-Request-URL"):""},XMLHttpRequestPromise.prototype._handleError=function(reason,reject,status,statusText){return this._detachWindowUnload(),reject({reason:reason,status:status||this._xhr.status,statusText:statusText||this._xhr.statusText,xhr:this._xhr})},XMLHttpRequestPromise.prototype._handleWindowUnload=function(){return this._xhr.abort()},XMLHttpRequestPromise}()}),rqzt.define("extend",function(module,exports,__dirname,__filename,process){var undefined,hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function(obj){"use strict";if(!obj||"[object Object]"!==toStr.call(obj))return!1;var has_own_constructor=hasOwn.call(obj,"constructor"),has_is_property_of_method=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!has_own_constructor&&!has_is_property_of_method)return!1;var key;for(key in obj);return key===undefined||hasOwn.call(obj,key)};module.exports=function extend(){"use strict";var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target?(deep=target,target=arguments[1]||{},i=2):("object"!=typeof target&&"function"!=typeof target||null==target)&&(target={});i<length;++i)if(options=arguments[i],null!=options)for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},target[name]=extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target}}),rqzt.define("parse-headers/parse-headers",function(module,exports,__dirname,__filename,process){var trim=rqzt("trim"),forEach=rqzt("for-each"),isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)};module.exports=function(headers){if(!headers)return{};var result={};return forEach(trim(headers).split("\n"),function(row){var index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));"undefined"==typeof result[key]?result[key]=value:isArray(result[key])?result[key].push(value):result[key]=[result[key],value]}),result}}),rqzt.define("trim",function(module,exports,__dirname,__filename,process){function trim(str){return str.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(str){return str.replace(/^\s*/,"")},exports.right=function(str){return str.replace(/\s*$/,"")}}),rqzt.define("for-each",function(module,exports,__dirname,__filename,process){function forEach(list,iterator,context){if(!isFunction(iterator))throw new TypeError("iterator must be a function");arguments.length<3&&(context=this),"[object Array]"===toString.call(list)?forEachArray(list,iterator,context):"string"==typeof list?forEachString(list,iterator,context):forEachObject(list,iterator,context)}function forEachArray(array,iterator,context){for(var i=0,len=array.length;i<len;i++)hasOwnProperty.call(array,i)&&iterator.call(context,array[i],i,array)}function forEachString(string,iterator,context){for(var i=0,len=string.length;i<len;i++)iterator.call(context,string.charAt(i),i,string)}function forEachObject(object,iterator,context){for(var k in object)hasOwnProperty.call(object,k)&&iterator.call(context,object[k],k,object)}var isFunction=rqzt("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty}),rqzt.define("is-function",function(module,exports,__dirname,__filename,process){function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString}),rqzt.define("raf",function(module,exports,__dirname,__filename,process){for(var now=rqzt("performance-now/lib/performance-now"),root="undefined"==typeof window?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(0===queue.length){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now,setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))}return queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var i=0;i<queue.length;i++)queue[i].handle===handle&&(queue[i].cancelled=!0)}}module.exports=function(fn){return raf.call(root,fn)},module.exports.cancel=function(){caf.apply(root,arguments)},module.exports.polyfill=function(){root.requestAnimationFrame=raf,root.cancelAnimationFrame=caf}}),rqzt.define("performance-now/lib/performance-now",function(module,exports,__dirname,__filename,process){(function(){var getNanoSeconds,hrtime,loadTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-loadTime)/1e6},hrtime=process.hrtime,getNanoSeconds=function(){var hr;return hr=hrtime(),1e9*hr[0]+hr[1]},loadTime=getNanoSeconds()):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(this)}),rqzt.define("crowdcontrol/lib/utils/log",function(module,exports,__dirname,__filename,process){var log;log=function(){if(log.DEBUG)return console.log.apply(console,arguments)},log.DEBUG=!1,log.debug=log,log.info=function(){return console.log.apply(console,arguments)},log.warn=function(){return console.log("WARN:"),console.log.apply(console,arguments)},log.error=function(){throw console.log("ERROR:"),console.log.apply(console,arguments),new arguments[0]},module.exports=log}),rqzt.define("crowdcontrol/lib/utils/mediator",function(module,exports,__dirname,__filename,process){var mediator,riot;riot=rqzt("crowdcontrol/lib/utils/shim").riot,mediator={},riot.observable(mediator),module.exports=mediator}),rqzt.define("crowdcontrol/lib/data/source",function(module,exports,__dirname,__filename,process){}),rqzt.define("crowdcontrol/lib/view",function(module,exports,__dirname,__filename,process){module.exports={form:rqzt("crowdcontrol/lib/view/form"),View:rqzt("crowdcontrol/lib/view/view")}}),rqzt.define("crowdcontrol/lib/view/form",function(module,exports,__dirname,__filename,process){var Events,FormView,Input,InputCondition,InputConfig,InputView,ValidatorCondition,View,helpers,isArray,isFunction,isNumber,isObject,log,promise,riot,tokenize,traverse,utils,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;isArray=rqzt("is-array"),isFunction=rqzt("is-function"),isNumber=rqzt("is-number"),isObject=rqzt("is-object"),Events=rqzt("crowdcontrol/lib/events"),utils=rqzt("crowdcontrol/lib/utils"),log=utils.log,riot=utils.shim.riot,promise=utils.shim.promise,View=rqzt("crowdcontrol/lib/view/view"),tokenize=function(str){var dict,j,k,len,ref,token,tokens,v;for(tokens=str.split(" "),dict={},j=0,len=tokens.length;j<len;j++)token=tokens[j],token.indexOf(":")>=0?(ref=token.split(":"),k=ref[0],v=ref[1],dict[k]=v):dict[token]=!0;return dict},InputConfig=function(){function InputConfig(name1,_default,placeholder,hints){this.name=name1,this.default=null!=_default?_default:"",this.placeholder=null!=placeholder?placeholder:"",null==hints&&(hints=""),this.hints=tokenize(hints)}return InputConfig.prototype.name="",InputConfig.prototype.default="",InputConfig.prototype.placeholder="",InputConfig.prototype.hints=null,InputConfig}(),Input=function(){function Input(tag1,model1,validator1){this.tag=tag1,this.model=model1,this.validator=validator1}return Input.prototype.tag="",Input.prototype.model={},Input.prototype.validator=function(){},Input.prototype.obs=null,Input}(),ValidatorCondition=function(){function ValidatorCondition(predicate1,validatorFn1){this.predicate=predicate1,this.validatorFn=validatorFn1}return ValidatorCondition}(),InputCondition=function(){function InputCondition(predicate1,tagName1){this.predicate=predicate1,this.tagName=tagName1}return InputCondition}(),helpers={tagLookup:[],validatorLookup:[],defaultTagName:"form-input",errorTag:"form-error",registerValidator:function(predicate,validatorFn){if(isFunction(validatorFn))return this.validatorLookup.push(new ValidatorCondition(predicate,validatorFn));
},registerTag:function(predicate,tagName){return this.tagLookup.push(new InputCondition(predicate,tagName))},deleteTag:function(tagName){var i,j,len,lookup,ref,results1;for(ref=this.tagLookup,results1=[],i=j=0,len=ref.length;j<len;i=++j)lookup=ref[i],lookup.tagName===tagName?results1.push(this.tagLookup[i]=null):results1.push(void 0);return results1},deleteValidator:function(predicate,validatorFn){var i,j,len,lookup,ref,results1;for(ref=this.validatorLookup,results1=[],i=j=0,len=ref.length;j<len;i=++j)lookup=ref[i],lookup.validatorFn===validatorFn?results1.push(this.validatorLookup[i]=null):results1.push(void 0);return results1},render:function(inputCfgs){var fn1,i,inputCfg,inputs,j,len,validators;for(inputs={},fn1=function(_this){return function(validators,inputCfg){var found,l,len1,len2,lookup,m,model,ref,ref1,tag,validator,validatorFn;for(ref=_this.validatorLookup,l=0,len1=ref.length;l<len1;l++)lookup=ref[l],lookup.predicate(inputCfg)&&(validatorFn=lookup.validatorFn,function(validatorFn){return validators.push(function(pair){var model,name,p;return model=pair[0],name=pair[1],p=promise.new(function(resolve,reject){return resolve(pair)}),p.then(function(pair){return validatorFn.call(inputCfg,pair[0],pair[1])}).then(function(v){return model[name]=v,promise.new(function(resolve,reject){return resolve(pair)})})})}(validatorFn));for(validators.push(function(pair){var model,name;return model=pair[0],name=pair[1],promise.new(function(resolve,reject){return resolve(model[name])})}),validator=function(model,name){var len2,m,p;for(p=promise.new(function(resolve,reject){return resolve([model,name])}),m=0,len2=validators.length;m<len2;m++)validatorFn=validators[m],p=p.then(validatorFn);return p},found=!1,ref1=_this.tagLookup,m=0,len2=ref1.length;m<len2;m++)if(lookup=ref1[m],null!=lookup&&lookup.predicate(inputCfg)){tag=lookup.tagName,found=!0;break}return found||(tag=_this.defaultTagName),model={name:inputCfg.name,value:inputCfg.default,placeholder:inputCfg.placeholder,cfg:inputCfg},inputs[inputCfg.name]=new Input(tag,model,validator)}}(this),i=j=0,len=inputCfgs.length;j<len;i=++j)inputCfg=inputCfgs[i],null!=inputCfg&&(validators=[],fn1(validators,inputCfg));return inputs}},Events.Input={Result:"input-result",Get:"input-get",Set:"input-set",Change:"input-change",Error:"input-error",ClearError:"input-clear-error"},InputView=function(superClass){function InputView(){return InputView.__super__.constructor.apply(this,arguments)}var obj1;return extend(InputView,superClass),InputView.prototype.getValue=function(el){return el.value},InputView.prototype.errorHtml='<div class="error-container" if="{ hasError() }">\n  <div class="error-message">{ error }</div>\n</div>',InputView.prototype.init=function(){return this.html+=this.errorHtml},InputView.prototype.events=(obj1={},obj1[""+Events.Input.Set]=function(){return this._set.apply(this,arguments)},obj1[""+Events.Input.Error]=function(){return this._error.apply(this,arguments)},obj1[""+Events.Input.ClearError]=function(){return this._clearError.apply(this,arguments)},obj1),InputView.prototype._clearError=function(name){if(name===this.model.name)return this.clearError(),this.update()},InputView.prototype._error=function(name,message){if(name===this.model.name)return this.setError(message),this.update()},InputView.prototype._set=function(name,value){if(name===this.model.name)return this.clearError(),this.model.value=value,this.update()},InputView.prototype.change=function(event){var value;return value=this.getValue(event.target),""!==value&&value===this.model.value||this.obs.trigger(Events.Input.Change,this.model.name,value),this.model.value=value},InputView.prototype.hasError=function(){var error;return error=this.error,null!=error&&null!=error.length&&error.length>0},InputView.prototype.setError=function(message){return this.error=message},InputView.prototype.clearError=function(){return this.setError(null)},InputView.prototype.js=function(opts){return this.model=opts.input.model},InputView}(View),riot.tag("control","",function(opts){var input;if(input=opts.input,null!=input)return opts.obs=input.obs,riot.mount(this.root,input.tag,opts)}),Events.Form={SubmitSuccess:"form-submit-success",SubmitFailed:"form-submit-failed"},FormView=function(superClass){function FormView(){return FormView.__super__.constructor.apply(this,arguments)}var obj1;return extend(FormView,superClass),FormView.prototype.inputConfigs=null,FormView.prototype.events=(obj1={},obj1[""+Events.Input.Get]=function(){return this._result.apply(this,arguments)},obj1[""+Events.Input.Change]=function(){return this._change.apply(this,arguments)},obj1),FormView.prototype._change=function(name,newValue){var input,lastName,model,ref;if(this.fullyValidated=!1,ref=this._set(this.model,name,newValue),model=ref[0],lastName=ref[1],input=this.inputs[name],null!=input)return input.validator(model,lastName).then(function(_this){return function(value){return _this.obs.trigger(Events.Input.Set,name,value)}}(this)).catch(function(_this){return function(err){return log("Validation error has occured",err.stack),_this.obs.trigger(Events.Input.Error,name,err.message)}}(this))},FormView.prototype._result=function(name){return this.obs.trigger(Events.Input.Result,this._get(this.model,name))},FormView.prototype._submit=function(event){},FormView.prototype.submit=function(event){var input,lastName,model,name,names,promises,ref,ref1;if(null!=event&&event.preventDefault(),this.fullyValidated)return void this._submit(event);names=[],promises=[],ref=this.inputs;for(name in ref)input=ref[name],names.push(name),ref1=this._find(this.model,name),model=ref1[0],lastName=ref1[1],promises.push(input.validator(model,lastName));return promise.settle(promises).then(function(_this){return function(results){var i,j,len,rejected,result;for(rejected=!1,i=j=0,len=results.length;j<len;i=++j)result=results[i],result.isRejected()&&(rejected=!0,_this.obs.trigger(Events.Input.Error,names[i],result.reason().message));return rejected?void _this.obs.trigger(Events.Form.SubmitFailed,_this.model):(_this.fullyValidated=!0,_this.obs.trigger(Events.Form.SubmitSuccess,_this.model),_this._submit(event))}}(this))},FormView.prototype._get=function(model,path){var currentObject,j,len,name,names;if(names=path.split("."),1===names.length)return model[path];for(currentObject=model,j=0,len=names.length;j<len;j++){if(name=names[j],null==currentObject[name])return;currentObject=currentObject[name]}return currentObject[lastName]},FormView.prototype._set=function(model,path,value){var currentObject,lastName,ref;return ref=this._find(model,path),currentObject=ref[0],lastName=ref[1],currentObject[lastName]=value,[currentObject,lastName]},FormView.prototype._find=function(model,path){var currentObject,j,lastName,len,name,names;if(names=path.split("."),1===names.length)return[model,path];for(lastName=names.pop(),currentObject=model,j=0,len=names.length;j<len;j++)name=names[j],null==currentObject[name]?(isNumber(name)?currentObject[name]=[]:currentObject[name]={},currentObject=currentObject[name]):currentObject=currentObject[name];return[currentObject,lastName]},FormView.prototype.js=function(){return this.initFormGroup()},FormView.prototype.initFormGroup=function(){var input,inputs,key;if(null!=this.inputConfigs){null==this.inputs?this.inputs=inputs=helpers.render(this.inputConfigs):inputs=this.inputs;for(key in inputs)input=inputs[key],input.obs=this.obs;return this.fullyValidated=!1,traverse(this.model,function(key,value){if(null!=inputs[key])return inputs[key].model.value=value})}},FormView}(View),traverse=function(obj,fn,key){var k,results1,v;if(null==key&&(key=""),isArray(obj)||isObject(obj)){results1=[];for(k in obj)v=obj[k],results1.push(traverse(v,fn,""===key?k:key+"."+k));return results1}return fn(key,obj)},module.exports={helpers:helpers,FormView:FormView,InputView:InputView,Input:Input,InputConfig:InputConfig,tokenize:tokenize}}),rqzt.define("is-array",function(module,exports,__dirname,__filename,process){var isArray=Array.isArray,str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}}),rqzt.define("is-number",function(module,exports,__dirname,__filename,process){"use strict";var typeOf=rqzt("kind-of");module.exports=function(num){var type=typeOf(num);if("number"!==type&&"string"!==type)return!1;var n=+num;return n-n+1>=0&&""!==num}}),rqzt.define("kind-of",function(module,exports,__dirname,__filename,process){var isBuffer=rqzt("is-buffer"),toString=Object.prototype.toString;module.exports=function(val){if("undefined"==typeof val)return"undefined";if(null===val)return"null";if(val===!0||val===!1||val instanceof Boolean)return"boolean";if("string"==typeof val||val instanceof String)return"string";if("number"==typeof val||val instanceof Number)return"number";if("function"==typeof val||val instanceof Function)return"function";if("undefined"!=typeof Array.isArray&&Array.isArray(val))return"array";if(val instanceof RegExp)return"regexp";if(val instanceof Date)return"date";var type=toString.call(val);return"[object RegExp]"===type?"regexp":"[object Date]"===type?"date":"[object Arguments]"===type?"arguments":"undefined"!=typeof Buffer&&isBuffer(val)?"buffer":"[object Set]"===type?"set":"[object WeakSet]"===type?"weakset":"[object Map]"===type?"map":"[object WeakMap]"===type?"weakmap":"[object Symbol]"===type?"symbol":"[object Int8Array]"===type?"int8array":"[object Uint8Array]"===type?"uint8array":"[object Uint8ClampedArray]"===type?"uint8clampedarray":"[object Int16Array]"===type?"int16array":"[object Uint16Array]"===type?"uint16array":"[object Int32Array]"===type?"int32array":"[object Uint32Array]"===type?"uint32array":"[object Float32Array]"===type?"float32array":"[object Float64Array]"===type?"float64array":"object"}}),rqzt.define("is-buffer",function(module,exports,__dirname,__filename,process){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)}}),rqzt.define("is-object",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(x){return"object"==typeof x&&null!==x}}),rqzt.define("crowdcontrol/lib/events",function(module,exports,__dirname,__filename,process){module.exports={}}),rqzt.define("crowdcontrol/lib/view/view",function(module,exports,__dirname,__filename,process){var View,extend,isFunction,riot,utils;extend=rqzt("extend"),isFunction=rqzt("is-function"),utils=rqzt("crowdcontrol/lib/utils"),riot=utils.shim.riot,View=function(){function View(){var parentProto,proto,temp,view;for(proto=Object.getPrototypeOf(this),parentProto=proto,temp={};parentProto!==View.prototype;)parentProto=Object.getPrototypeOf(parentProto),proto.events=extend({},parentProto.events||{},proto.events),extend(temp,parentProto||{},proto);extend(proto,temp),view=this,this.init(),riot.tag(this.tag,this.html,this.css,this.attrs,function(opts){var fn,handler,k,name,obs,optsP,ref,ref1,v;optsP=Object.getPrototypeOf(opts);for(k in opts)v=opts[k],null!=optsP[k]&&null==v&&(opts[k]=optsP[k]);if(null!=view){ref=Object.getPrototypeOf(view);for(k in ref)v=ref[k],isFunction(v)?!function(_this){return function(v){var oldFn;return null!=_this[k]?(oldFn=_this[k],_this[k]=function(){return oldFn.apply(_this,arguments),v.apply(_this,arguments)}):_this[k]=function(){return v.apply(_this,arguments)}}}(this)(v):this[k]=v}if(this.model=opts.model||this.model,null==this.model&&(this.model={}),obs=this.obs=opts.obs,null==this.obs&&(obs=this.obs={},utils.shim.observable(obs)),null!=view.events){ref1=view.events,fn=function(_this){return function(name,handler){return obs.on(name,function(){return handler.apply(_this,arguments)})}}(this);for(name in ref1)handler=ref1[name],fn(name,handler)}if(this.js)return this.js(opts)})}return View.register=function(){return new this},View.prototype.tag="",View.prototype.html="",View.prototype.css="",View.prototype.attrs="",View.prototype.events=null,View.prototype.mixins=null,View.prototype.model=null,View.prototype.js=function(){},View.prototype.init=function(){},View}(),module.exports=View}),rqzt.define("crowdcontrol/lib/config",function(module,exports,__dirname,__filename,process){module.exports={}}),rqzt.define("moment/moment",function(module,exports,__dirname,__filename,process){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!(isNaN(m._d.getTime())||!(flags.overflow<0)||flags.empty||flags.invalidMonth||flags.invalidWeekday||flags.nullInput||flags.invalidFormat||flags.userInvalidated),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=getParsingFlags(from)),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number):Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data="undefined"==typeof values?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null!==values?(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name]):(delete locales[name],null)}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function get_set__set(mom,unit,value){return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),"function"==typeof this[units])return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function isFunction(sth){return"function"==typeof sth&&"[object Function]"===Object.prototype.toString.call(sth)}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m){return this._months[m.month()]}function localeMonthsShort(m){return this._monthsShort[m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(m){var overflow,a=m._a;return a&&getParsingFlags(m).overflow===-2&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m).overflow=overflow),m}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0];break}for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(string)){config._f+=(match[6]||" ")+isoTimes[i][0];break}string.match(matchOffset)&&(config._f+="Z"),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date(+matched[1])):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<1970&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<1970&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),daysToDayOfWeek<end-7&&(daysToDayOfWeek+=7),adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var dayOfYear,week1Jan=6+firstDayOfWeek-firstDayOfWeekOfYear,janX=createUTCDate(year,0,1+week1Jan),d=janX.getUTCDay();return d<firstDayOfWeek&&(d+=7),weekday=null!=weekday?1*weekday:firstDayOfWeek,dayOfYear=1+week1Jan+7*(week-1)-d+weekday,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,weekday<dow&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),getParsingFlags(config).bigHour===!0&&config._a[HOUR]<=12&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date:isDate(input)?config._d=new Date(+input):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){
return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(string){var matches=(string||"").match(matchOffset)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null!=input?("string"==typeof input&&(input=offsetFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(this._i)),this}function hasAlignedHourOffset(input){return input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&0===this._offset}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=create__isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months)}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";return this.format(formats&&formats[format]||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this>+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),inputMs<+this.clone().startOf(units))}function isBefore(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this<+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),+this.clone().endOf(units)<inputMs)}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this===+input):(inputMs=+local__createLocal(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))}function diff(input,units,asFloat){var delta,output,that=cloneWithOffset(input,this),zoneDelta=6e4*(that.utcOffset()-this.utcOffset());return units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-6e4*(this._offset||0)}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week}function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")}function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function localeWeekdays(m){return this._weekdays[m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName){var i,mom,regex;for(this._weekdaysParse=this._weekdaysParse||[],i=0;i<7;i++)if(this._weekdaysParse[i]||(mom=local__createLocal([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i}function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,setter);var i,out=[];for(i=0;i<count;i++)out[i]=lists__get(format,i,field,setter);return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<thresholds.h&&["hh",hours]||1===days&&["d"]||days<thresholds.d&&["dd",days]||1===months&&["M"]||months<thresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0))}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,globalLocale,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",matchWord),addRegexToken("MMMM",matchWord),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!1);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other<this?this:other}),prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchOffset),addRegexToken("ZZ",matchOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,0,"quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",matchWord),addRegexToken("ddd",matchWord),addRegexToken("dddd",matchWord),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config){var weekday=config._locale.weekdaysParse(input);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,function(){return this.hours()%12||12}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,
momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=moment_format__toISOString,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar,prototype__proto.calendar=locale_calendar__calendar,prototype__proto._longDateFormat=defaultLongDateFormat,prototype__proto.longDateFormat=longDateFormat,prototype__proto._invalidDate=defaultInvalidDate,prototype__proto.invalidDate=invalidDate,prototype__proto._ordinal=defaultOrdinal,prototype__proto.ordinal=ordinal,prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime=defaultRelativeTime,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.week=localeWeek,prototype__proto._week=defaultLocaleWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.isPM=localeIsPM,prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.10.6",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment})}),rqzt.define("./site",function(module,exports,__dirname,__filename,process){module.exports={crumbs:rqzt("./site/crumbs"),menu:rqzt("./site/menu"),Router:rqzt("./site/router"),pages:rqzt("./site/pages")}}),rqzt.define("./site/crumbs",function(module,exports,__dirname,__filename,process){var Crumbs,Router,View,_id,activePage,crowdcontrol,pages,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),pages=rqzt("./site/pages"),Router=rqzt("./site/router"),View=crowdcontrol.view.View,activePage=pages.Dashboard,_id="",Crumbs=function(superClass){function Crumbs(){return Crumbs.__super__.constructor.apply(this,arguments)}return extend(Crumbs,superClass),Crumbs.prototype.tag="crumbs",Crumbs.prototype.html=rqzt("./templates/backend/site/crumbs"),Crumbs.prototype.js=function(){return Crumbs.__super__.js.apply(this,arguments),requestAnimationFrame(function(){var e,ref;try{return"undefined"!=typeof window&&null!==window&&null!=(ref=window.Core)?ref.init():void 0}catch(error){return e=error}})},Crumbs.prototype.setActiveId=function(id){return _id=id},Crumbs.prototype.getActiveId=function(){return _id},Crumbs.setActiveId=function(id){return _id=id},Crumbs.getActiveId=function(){return _id},Crumbs.prototype.setActive=function(p){return activePage=p,this.update()},Crumbs.prototype.getActive=function(){return activePage},Crumbs.setActive=function(p){return activePage=p,riot.update()},Crumbs.getActive=function(){return activePage},Crumbs}(View),Crumbs.register(),module.exports=Router.Crumbs=Crumbs}),rqzt.define("./site/pages",function(module,exports,__dirname,__filename,process){module.exports={Dashboard:rqzt("./site/pages/dashboard"),User:rqzt("./site/pages/user"),Users:rqzt("./site/pages/users"),Order:rqzt("./site/pages/order"),Orders:rqzt("./site/pages/orders"),Payment:rqzt("./site/pages/payment"),Payments:rqzt("./site/pages/payments"),Product:rqzt("./site/pages/product"),Products:rqzt("./site/pages/products"),Coupon:rqzt("./site/pages/coupon"),Coupons:rqzt("./site/pages/coupons"),Store:rqzt("./site/pages/store"),Stores:rqzt("./site/pages/stores"),MailingList:rqzt("./site/pages/mailinglist"),MailingLists:rqzt("./site/pages/mailinglists"),Subscriber:rqzt("./site/pages/subscriber"),Subscribers:rqzt("./site/pages/subscribers"),Profile:rqzt("./site/pages/profile"),Api:rqzt("./site/pages/api"),Organization:rqzt("./site/pages/organization"),Integrations:rqzt("./site/pages/integrations"),Search:rqzt("./site/pages/search")}}),rqzt.define("./site/pages/dashboard",function(module,exports,__dirname,__filename,process){var Api,Dashboard,Events,Page,capitalize,crowdcontrol,currencyModel,lastDayInMonth,promise,riot,store,util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;promise=rqzt("bluebird/js/browser/bluebird"),riot=rqzt("riot/riot"),util=rqzt("./util"),store=rqzt("store/store"),Page=rqzt("./site/pages/page"),capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)},lastDayInMonth=function(){var date;return date=new Date,new Date(date.getFullYear(),date.getMonth()+1,0).getDate()},crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,Api=crowdcontrol.data.Api,currencyModel={name:"currency",value:""},Dashboard=function(superClass){function Dashboard(){return Dashboard.__super__.constructor.apply(this,arguments)}var obj;return extend(Dashboard,superClass),Dashboard.prototype.tag="page-dashboard",Dashboard.prototype.icon="glyphicon glyphicon-home",Dashboard.prototype.name="Dashboard",Dashboard.prototype.html=rqzt("./templates/backend/site/pages/dashboard"),Dashboard.prototype.collection="",Dashboard.prototype.percent=0,Dashboard.prototype.events=(obj={},obj[""+Events.Input.Change]=function(name,value){switch(name){case"period":this.periodModel.value=value,store.set("periodModelValue",value);break;case"date":this.periodDateModel.value=value}return this.refresh()},obj),Dashboard.prototype.chartModel={type:"line",data:{labels:[],datasets:[{label:"Sales",data:[],pointBorderColor:"#1BE7FF",pointBackgroundColor:"C0F8FF",borderColor:"#1BE7FF",yAxisID:"Currency"},{label:"Orders",data:[],pointBorderColor:"#6EEB83",pointBackgroundColor:"#D7F9DD",borderColor:"#6EEB83",yAxisID:"Count"},{label:"Users",data:[],pointBorderColor:"#FF5714",pointBackgroundColor:"#FFD1BE",borderColor:"#FF5714",yAxisID:"Count"}]},options:{scales:{xAxes:[{type:"category",position:"bottom"}],yAxes:[{id:"Currency",type:"linear",position:"left",ticks:{beginAtZero:!0,callback:function(value){var ret,v;return v=parseInt(100*value,10)/100,ret=""+util.currency.getSymbol(currencyModel.value)+v,currencyModel.value&&(ret+=" ("+currencyModel.value.toUpperCase()+")"),ret}},scaleLabel:{display:!0,labelString:"Revenue"}},{id:"Count",type:"linear",position:"right",ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Amount"}}]},responsive:!1}},Dashboard.prototype.currencyModel={name:"currency",value:null},Dashboard.prototype.periodModel={name:"period",value:"week"},Dashboard.prototype.periodDateModel={name:"date",value:""},Dashboard.prototype.currencyOptions={},Dashboard.prototype.periodOptions={week:"Week",month:"Month",dai:"Day"},Dashboard.prototype.periodDescription=function(){return capitalize(this.periodModel.value)+"ly"},Dashboard.prototype.periodLabel=function(){return"THIS "+("dai"===this.periodModel.value?"DAY":this.periodModel.value.toUpperCase())},Dashboard.prototype.js=function(opts){var api,date,day,month,period,year;return this.chartObs={},riot.observable(this.chartObs),this.totalOrdersObs={},this.totalSalesObs={},this.totalUsersObs={},this.totalSubsObs={},riot.observable(this.totalOrdersObs),riot.observable(this.totalSalesObs),riot.observable(this.totalUsersObs),riot.observable(this.totalSubsObs),this.dailyOrdersObs={},this.dailySalesObs={},this.dailyUsersObs={},this.dailySubsObs={},riot.observable(this.dailyOrdersObs),riot.observable(this.dailySalesObs),riot.observable(this.dailyUsersObs),riot.observable(this.dailySubsObs),date=new Date,year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate(),period=store.get("periodModelValue"),period&&(this.periodModel.value=period),this.periodDateModel.value=month+"/"+day+"/"+year,this.api=api=Api.get("crowdstart"),this.on("update",function(_this){return function(){return _this.updateCurrency()}}(this)),this.refresh()},Dashboard.prototype.refresh=function(){var categories,compareDay,compareMonth,compareYear,d,d1,d2,date,day,daysInMonth,j,month,period,ref,tz,year;switch(period=this.periodModel.value,date=new Date(this.periodDateModel.value),compareYear=year=date.getFullYear(),compareMonth=month=date.getMonth()+1,compareDay=day=date.getDate(),this.percent=1,period){case"dai":compareDay-=1,d1=new Date,d1.getFullYear()===date.getFullYear()&&d1.getMonth()===date.getMonth()&&d1.getDate()===date.getDate()&&(d2=new Date(d1.getFullYear(),d1.getMonth(),d1.getDate(),0,0,0),this.percent=(d1.getTime()-d2.getTime())/864e5),this.chartModel.data.labels=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"];break;case"week":d1=new Date,d1.getFullYear()===date.getFullYear()&&d1.getMonth()===date.getMonth()&&d1.getDate()===date.getDate()&&(this.percent=(date.getDay()+1)/7),compareDay-=7,this.chartModel.data.labels=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];break;case"month":for(daysInMonth=lastDayInMonth(),categories=[],d=j=1,ref=daysInMonth;1<=ref?j<=ref:j>=ref;d=1<=ref?++j:--j)categories.push(month+"/"+d);this.chartModel.data.labels=categories,d1=new Date,d1.getFullYear()===date.getFullYear()&&d1.getMonth()===date.getMonth()&&(this.percent=day/daysInMonth),compareMonth-=1}return tz=-date.getTimezoneOffset()/60,promise.settle([this.api.get("c/data/dashboard/"+period+"ly/"+compareYear+"/"+compareMonth+"/"+compareDay+"/"+tz).then(function(_this){return function(res){if(_this.compareModel=res.responseText,200!==res.status&&201!==res.status&&204!==res.status)throw new Error("Form failed to load: ")}}(this)),this.api.get("c/data/dashboard/"+period+"ly/"+year+"/"+month+"/"+day+"/"+tz).then(function(_this){return function(res){if(_this.model=res.responseText,200!==res.status&&201!==res.status&&204!==res.status)throw new Error("Form failed to load: ")}}(this))]).then(function(_this){return function(rets){var cents,currency,i,l,largestCents,len,len1,len2,m,n,orders,ref1,ref2,ref3,ref4,ref5,subs,totalCompareOrders,totalCompareSubs,totalCompareUsers,totalOrders,totalSubs,totalUsers,users;currencyModel=_this.currencyModel,_this.currencyCount=0,ref1=_this.model.TotalSales;for(currency in ref1)cents=ref1[currency],_this.currencyOptions[currency.toLowerCase()]=currency.toUpperCase(),_this.currencyCount+=1;if(largestCents=0,null==_this.currencyModel.value){ref2=_this.model.TotalSales;for(currency in ref2)cents=ref2[currency],cents>largestCents&&""!==currency&&(_this.currencyModel.value=currency,largestCents=cents);if(""===_this.currencyModel.value)return void Dashboard.__super__.refresh.call(_this,0,0,_this.currencyModel.value)}for(totalOrders=0,totalCompareOrders=0,ref3=_this.model.DailyOrders,i=l=0,len=ref3.length;l<len;i=++l)orders=ref3[i],totalOrders+=orders,totalCompareOrders+=_this.compareModel.DailyOrders[i];for(totalUsers=0,totalCompareUsers=0,ref4=_this.model.DailyUsers,i=m=0,len1=ref4.length;m<len1;i=++m)users=ref4[i],totalUsers+=users,totalCompareUsers+=_this.compareModel.DailyUsers[i];for(totalSubs=0,totalCompareSubs=0,ref5=_this.model.DailySubscribers,i=n=0,len2=ref5.length;n<len2;i=++n)subs=ref5[i],totalSubs+=subs,totalCompareSubs+=_this.compareModel.DailySubscribers[i];return _this.totalOrdersObs.trigger(Events.Visual.NewData,_this.model.TotalOrders,NaN),_this.dailyOrdersObs.trigger(Events.Visual.NewData,totalOrders,totalCompareOrders*_this.percent),_this.dailyUsersObs.trigger(Events.Visual.NewData,totalUsers,totalCompareUsers*_this.percent),_this.dailySubsObs.trigger(Events.Visual.NewData,totalSubs,totalCompareSubs*_this.percent),_this.dailyOrdersObs.trigger(Events.Visual.NewDescription,_this.periodDescription()+" Orders"),_this.dailySalesObs.trigger(Events.Visual.NewDescription,_this.periodDescription()+" Sales"),_this.dailyUsersObs.trigger(Events.Visual.NewDescription,_this.periodDescription()+" Sign-ups"),_this.dailySubsObs.trigger(Events.Visual.NewDescription,_this.periodDescription()+" Subscribers"),_this.dailyOrdersObs.trigger(Events.Visual.NewLabel,_this.periodLabel()),_this.dailySalesObs.trigger(Events.Visual.NewLabel,_this.periodLabel()),_this.dailyUsersObs.trigger(Events.Visual.NewLabel,_this.periodLabel()),_this.dailySubsObs.trigger(Events.Visual.NewLabel,_this.periodLabel()),_this.update()}}(this)).catch(function(_this){return function(e){return console.log(e.stack),_this.error=e}}(this))},Dashboard.prototype.updateCurrency=function(){var cents,currency,i,j,k,len,ordersXY,ref,ref1,ref2,ref3,sales,salesXY,totalCents,totalCompareCents,usersXY,v,values;if(null!=this.model.DailySales){totalCents={},totalCompareCents={},ref=this.model.DailySales;for(currency in ref)for(values=ref[currency],totalCents[currency]=0,totalCompareCents[currency]=0,i=j=0,len=values.length;j<len;i=++j)cents=values[i],totalCents[currency]+=cents,null!=this.compareModel.DailySales[currency]&&(totalCompareCents[currency]+=this.compareModel.DailySales[currency][i]);this.dailySalesObs.trigger(Events.Visual.NewData,totalCents[this.currencyModel.value],totalCompareCents[this.currencyModel.value]*this.percent,this.currencyModel.value)}if(null!=(null!=(ref1=this.model.TotalSales)?ref1[this.currencyModel.value]:void 0)&&this.totalSalesObs.trigger(Events.Visual.NewData,this.model.TotalSales[this.currencyModel.value],NaN,this.currencyModel.value),null!=this.model.TotalUsers&&this.totalUsersObs.trigger(Events.Visual.NewData,this.model.TotalUsers,NaN),null!=this.model.TotalSubs&&this.totalSubsObs.trigger(Events.Visual.NewData,this.model.TotalSubs,NaN),null!=this.model.DailySales&&null!=this.model.DailyOrders){sales=this.model.DailySales[this.currencyModel.value],sales=null!=sales?this.model.DailySales[this.currencyModel.value].map(function(val){return val/100}):this.model.DailyOrders.map(function(val){return 0}),salesXY=[];for(k in sales)v=sales[k],i=parseInt(k,10),salesXY[i]={x:i,y:v};ordersXY=[],ref2=this.model.DailyOrders;for(k in ref2)v=ref2[k],i=parseInt(k,10),ordersXY[i]={x:i,y:v};usersXY=[],ref3=this.model.DailyUsers;for(k in ref3)v=ref3[k],i=parseInt(k,10),usersXY[i]={x:i,y:v};return this.chartModel.data.datasets[0].data=salesXY,this.chartModel.data.datasets[1].data=ordersXY,this.chartModel.data.datasets[2].data=usersXY,this.chartObs.trigger(Events.Visual.NewData,this.chartModel)}},Dashboard}(Page),Dashboard.register(),module.exports=Dashboard}),rqzt.define("./util",function(module,exports,__dirname,__filename,process){module.exports={currency:rqzt("./util/currency"),country:rqzt("./util/country")}}),rqzt.define("./util/currency",function(module,exports,__dirname,__filename,process){var Util,_,currencySeparator,currencySigns,digitsOnlyRe,humanize,isZeroDecimal;_=rqzt("underscore/underscore"),humanize=rqzt("humanize/humanize"),currencySigns=rqzt("./util/data/currencies"),currencySeparator=".",digitsOnlyRe=new RegExp("[^\\d.-]","g"),isZeroDecimal=function(code){return"bif"===code||"clp"===code||"djf"===code||"gnf"===code||"jpy"===code||"kmf"===code||"krw"===code||"mga"===code||"pyg"===code||"rwf"===code||"vnd"===code||"vuv"===code||"xaf"===code||"xof"===code||"xpf"===code},module.exports=Util={getSymbol:function(code){return currencySigns[code]||""},renderUpdatedUICurrency:function(code,uiCurrency){return Util.renderUICurrencyFromJSON(code,Util.renderJSONCurrencyFromUI(code,uiCurrency))},renderUICurrencyFromJSON:function(code,jsonCurrency){var currentCurrencySign;if(isNaN(jsonCurrency)&&(jsonCurrency=0),currentCurrencySign=currencySigns[code]||"",jsonCurrency=""+jsonCurrency,isZeroDecimal(code))return currentCurrencySign+jsonCurrency;for(;jsonCurrency.length<3;)jsonCurrency="0"+jsonCurrency;return currentCurrencySign+humanize.numberFormat(jsonCurrency.substr(0,jsonCurrency.length-2),0)+"."+jsonCurrency.substr(-2)},renderJSONCurrencyFromUI:function(code,uiCurrency){var parts;if(_.isNumber(uiCurrency))return uiCurrency;if(isZeroDecimal(code))return parseInt((""+uiCurrency).replace(digitsOnlyRe,"").replace(currencySeparator,""),10);if(parts=uiCurrency.split(currencySeparator),parts.length>1)for(parts[1]=parts[1].substr(0,2);parts[1].length<2;)parts[1]+="0";else parts[1]="00";return parseInt(100*parseFloat(parts[0].replace(digitsOnlyRe,""))+parseFloat(parts[1].replace(digitsOnlyRe,"")),10)}}}),rqzt.define("humanize/humanize",function(module,exports,__dirname,__filename,process){(function(){var root=this,previousHumanize=root.humanize,humanize={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=humanize),exports.humanize=humanize):("function"==typeof define&&define.amd&&define("humanize",function(){return humanize}),root.humanize=humanize),humanize.noConflict=function(){return root.humanize=previousHumanize,this},humanize.pad=function(str,count,padChar,type){if(str+="",padChar?padChar.length>1&&(padChar=padChar.charAt(0)):padChar=" ",type=void 0===type?"left":"right","right"===type)for(;str.length<count;)str+=padChar;else for(;str.length<count;)str=padChar+str;return str},humanize.time=function(){return(new Date).getTime()/1e3};var dayTableCommon=[0,0,31,59,90,120,151,181,212,243,273,304,334],dayTableLeap=[0,0,31,60,91,121,152,182,213,244,274,305,335];humanize.date=function(format,timestamp){var jsdate=void 0===timestamp?new Date:timestamp instanceof Date?new Date(timestamp):new Date(1e3*timestamp),formatChr=/\\?([a-z])/gi,formatChrCb=function(t,s){return f[t]?f[t]():s},shortDayTxt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthTxt=["January","February","March","April","May","June","July","August","September","October","November","December"],f={d:function(){return humanize.pad(f.j(),2,"0")},D:function(){return f.l().slice(0,3)},j:function(){return jsdate.getDate()},l:function(){return shortDayTxt[f.w()]},N:function(){return f.w()||7},S:function(){var j=f.j();return j>4&&j<21?"th":{1:"st",2:"nd",3:"rd"}[j%10]||"th"},w:function(){return jsdate.getDay()},z:function(){return(f.L()?dayTableLeap[f.n()]:dayTableCommon[f.n()])+f.j()-1},W:function(){var midWeekDaysFromJan4=f.z()-f.N()+1.5;return humanize.pad(1+Math.floor(Math.abs(midWeekDaysFromJan4)/7)+(midWeekDaysFromJan4%7>3.5?1:0),2,"0")},F:function(){return monthTxt[jsdate.getMonth()]},m:function(){return humanize.pad(f.n(),2,"0")},M:function(){return f.F().slice(0,3)},n:function(){return jsdate.getMonth()+1},t:function(){return new Date(f.Y(),f.n(),0).getDate()},L:function(){return 1===new Date(f.Y(),1,29).getMonth()?1:0},o:function(){var n=f.n(),W=f.W();return f.Y()+(12===n&&W<9?-1:1===n&&W>9)},Y:function(){return jsdate.getFullYear()},y:function(){return String(f.Y()).slice(-2)},a:function(){return jsdate.getHours()>11?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var unixTime=jsdate.getTime()/1e3,secondsPassedToday=unixTime%86400+3600;secondsPassedToday<0&&(secondsPassedToday+=86400);var beats=secondsPassedToday/86.4%1e3;return unixTime<0?Math.ceil(beats):Math.floor(beats)},g:function(){return f.G()%12||12},G:function(){return jsdate.getHours()},h:function(){return humanize.pad(f.g(),2,"0")},H:function(){return humanize.pad(f.G(),2,"0")},i:function(){return humanize.pad(jsdate.getMinutes(),2,"0")},s:function(){return humanize.pad(jsdate.getSeconds(),2,"0")},u:function(){return humanize.pad(1e3*jsdate.getMilliseconds(),6,"0")},O:function(){var tzo=jsdate.getTimezoneOffset(),tzoNum=Math.abs(tzo);return(tzo>0?"-":"+")+humanize.pad(100*Math.floor(tzoNum/60)+tzoNum%60,4,"0")},P:function(){var O=f.O();return O.substr(0,3)+":"+O.substr(3,2)},Z:function(){return 60*-jsdate.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(formatChr,formatChrCb)},r:function(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},U:function(){return jsdate.getTime()/1e3||0}};return format.replace(formatChr,formatChrCb)},humanize.numberFormat=function(number,decimals,decPoint,thousandsSep){decimals=isNaN(decimals)?2:Math.abs(decimals),decPoint=void 0===decPoint?".":decPoint,thousandsSep=void 0===thousandsSep?",":thousandsSep;var sign=number<0?"-":"";number=Math.abs(+number||0);var intPart=parseInt(number.toFixed(decimals),10)+"",j=intPart.length>3?intPart.length%3:0;return sign+(j?intPart.substr(0,j)+thousandsSep:"")+intPart.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+thousandsSep)+(decimals?decPoint+Math.abs(number-intPart).toFixed(decimals).slice(2):"")},humanize.naturalDay=function(timestamp,format){timestamp=void 0===timestamp?humanize.time():timestamp,format=void 0===format?"Y-m-d":format;var oneDay=86400,d=new Date,today=new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime()/1e3;return timestamp<today&&timestamp>=today-oneDay?"yesterday":timestamp>=today&&timestamp<today+oneDay?"today":timestamp>=today+oneDay&&timestamp<today+2*oneDay?"tomorrow":humanize.date(format,timestamp)},humanize.relativeTime=function(timestamp){timestamp=void 0===timestamp?humanize.time():timestamp;var currTime=humanize.time(),timeDiff=currTime-timestamp;if(timeDiff<2&&timeDiff>-2)return(timeDiff>=0?"just ":"")+"now";if(timeDiff<60&&timeDiff>-60)return timeDiff>=0?Math.floor(timeDiff)+" seconds ago":"in "+Math.floor(-timeDiff)+" seconds";if(timeDiff<120&&timeDiff>-120)return timeDiff>=0?"about a minute ago":"in about a minute";if(timeDiff<3600&&timeDiff>-3600)return timeDiff>=0?Math.floor(timeDiff/60)+" minutes ago":"in "+Math.floor(-timeDiff/60)+" minutes";if(timeDiff<7200&&timeDiff>-7200)return timeDiff>=0?"about an hour ago":"in about an hour";if(timeDiff<86400&&timeDiff>-86400)return timeDiff>=0?Math.floor(timeDiff/3600)+" hours ago":"in "+Math.floor(-timeDiff/3600)+" hours";var days2=172800;if(timeDiff<days2&&timeDiff>-days2)return timeDiff>=0?"1 day ago":"in 1 day";var days29=2505600;if(timeDiff<days29&&timeDiff>-days29)return timeDiff>=0?Math.floor(timeDiff/86400)+" days ago":"in "+Math.floor(-timeDiff/86400)+" days";var days60=5184e3;if(timeDiff<days60&&timeDiff>-days60)return timeDiff>=0?"about a month ago":"in about a month";var currTimeYears=parseInt(humanize.date("Y",currTime),10),timestampYears=parseInt(humanize.date("Y",timestamp),10),currTimeMonths=12*currTimeYears+parseInt(humanize.date("n",currTime),10),timestampMonths=12*timestampYears+parseInt(humanize.date("n",timestamp),10),monthDiff=currTimeMonths-timestampMonths;if(monthDiff<12&&monthDiff>-12)return monthDiff>=0?monthDiff+" months ago":"in "+-monthDiff+" months";var yearDiff=currTimeYears-timestampYears;return yearDiff<2&&yearDiff>-2?yearDiff>=0?"a year ago":"in a year":yearDiff>=0?yearDiff+" years ago":"in "+-yearDiff+" years"},humanize.ordinal=function(number){number=parseInt(number,10),number=isNaN(number)?0:number;var sign=number<0?"-":"";number=Math.abs(number);var tens=number%100;return sign+number+(tens>4&&tens<21?"th":{1:"st",2:"nd",3:"rd"}[number%10]||"th")},humanize.filesize=function(filesize,kilo,decimals,decPoint,thousandsSep,suffixSep){return kilo=void 0===kilo?1024:kilo,filesize<=0?"0 bytes":(filesize<kilo&&void 0===decimals&&(decimals=0),void 0===suffixSep&&(suffixSep=" "),humanize.intword(filesize,["bytes","KB","MB","GB","TB","PB"],kilo,decimals,decPoint,thousandsSep,suffixSep))},humanize.intword=function(number,units,kilo,decimals,decPoint,thousandsSep,suffixSep){var humanized,unit;units=units||["","K","M","B","T"],unit=units.length-1,kilo=kilo||1e3,decimals=isNaN(decimals)?2:Math.abs(decimals),decPoint=decPoint||".",thousandsSep=thousandsSep||",",suffixSep=suffixSep||"";for(var i=0;i<units.length;i++)if(number<Math.pow(kilo,i+1)){unit=i;break}humanized=number/Math.pow(kilo,unit);var suffix=units[unit]?suffixSep+units[unit]:"";return humanize.numberFormat(humanized,decimals,decPoint,thousandsSep)+suffix},humanize.linebreaks=function(str){return str=str.replace(/^([\n|\r]*)/,""),str=str.replace(/([\n|\r]*)$/,""),str=str.replace(/(\r\n|\n|\r)/g,"\n"),str=str.replace(/(\n{2,})/g,"</p><p>"),str=str.replace(/\n/g,"<br />"),"<p>"+str+"</p>"},humanize.nl2br=function(str){return str.replace(/(\r\n|\n|\r)/g,"<br />")},humanize.truncatechars=function(string,length){return string.length<=length?string:string.substr(0,length)+"…"},humanize.truncatewords=function(string,numWords){var words=string.split(" ");return words.length<numWords?string:words.slice(0,numWords).join(" ")+"…";
}}).call(this)}),rqzt.define("./util/data/currencies",function(module,exports,__dirname,__filename,process){module.exports={aud:"$",cad:"$",eur:"€",gbp:"£",hkd:"$",jpy:"¥",nzd:"$",sgd:"$",usd:"$",ghc:"¢",ars:"$",bsd:"$",bbd:"$",bmd:"$",bnd:"$",kyd:"$",clp:"$",cop:"$",xcd:"$",svc:"$",fjd:"$",gyd:"$",lrd:"$",mxn:"$",nad:"$",sbd:"$",srd:"$",tvd:"$",bob:"$b",uyu:"$u",egp:"£",fkp:"£",gip:"£",ggp:"£",imp:"£",jep:"£",lbp:"£",shp:"£",syp:"£",cny:"¥",afn:"؋",thb:"฿",khr:"៛",crc:"₡",trl:"₤",ngn:"₦",kpw:"₩",krw:"₩",ils:"₪",vnd:"₫",lak:"₭",mnt:"₮",cup:"₱",php:"₱",uah:"₴",mur:"₨",npr:"₨",pkr:"₨",scr:"₨",lkr:"₨",irr:"﷼",omr:"﷼",qar:"﷼",sar:"﷼",yer:"﷼",pab:"b/.",vef:"bs",bzd:"bz$",nio:"c$",chf:"chf",huf:"ft",awg:"ƒ",ang:"ƒ",pyg:"gs",jmd:"j$",czk:"kč",bam:"km",hrk:"kn",dkk:"kr",eek:"kr",isk:"kr",nok:"kr",sek:"kr",hnl:"l",ron:"lei",all:"lek",lvl:"ls",ltl:"lt",mzn:"mt",twd:"nt$",bwp:"p",byr:"p.",gtq:"q",zar:"r",brl:"r$",dop:"rd$",myr:"rm",idr:"rp",sos:"s",pen:"s/.",ttd:"tt$",zwd:"z$",pln:"zł",mkd:"ден",rsd:"Дин.",bgn:"лв",kzt:"лв",kgs:"лв",uzs:"лв",azn:"ман",rub:"руб",inr:"",try:"",points:"","":""}}),rqzt.define("./util/country",function(module,exports,__dirname,__filename,process){module.exports={requiresPostalCode:function(code){return code=code.toLowerCase(),"dz"===code||"ar"===code||"am"===code||"au"===code||"at"===code||"az"===code||"a2"===code||"bd"===code||"by"===code||"be"===code||"ba"===code||"br"===code||"bn"===code||"bg"===code||"ca"===code||"ic"===code||"cn"===code||"hr"===code||"cy"===code||"cz"===code||"dk"===code||"en"===code||"ee"===code||"fo"===code||"fi"===code||"fr"===code||"ge"===code||"de"===code||"gr"===code||"gl"===code||"gu"===code||"gg"===code||"ho"===code||"hu"===code||"in"===code||"id"===code||"il"===code||"it"===code||"jp"===code||"je"===code||"kz"===code||"kr"===code||"ko"===code||"kg"===code||"lv"===code||"li"===code||"lt"===code||"lu"===code||"mk"===code||"mg"===code||"m3"===code||"my"===code||"mh"===code||"mq"===code||"yt"===code||"mx"===code||"mn"===code||"me"===code||"nl"===code||"nz"===code||"nb"===code||"no"===code||"pk"===code||"ph"===code||"pl"===code||"po"===code||"pt"===code||"pr"===code||"re"===code||"ru"===code||"sa"===code||"sf"===code||"cs"===code||"sg"===code||"sk"===code||"si"===code||"za"===code||"es"===code||"lk"===code||"nt"===code||"sx"===code||"uv"===code||"vl"===code||"se"===code||"ch"===code||"tw"===code||"tj"===code||"th"===code||"tu"===code||"tn"===code||"tr"===code||"tm"===code||"vi"===code||"ua"===code||"gb"===code||"us"===code||"uy"===code||"uz"===code||"va"===code||"vn"===code||"wl"===code||"ya"===code}}}),rqzt.define("store/store",function(module,exports,__dirname,__filename,process){!function(win){function isLocalStorageNameSupported(){try{return localStorageName in win&&win[localStorageName]}catch(err){return!1}}function ieKeyFix(key){return key.replace(/^d/,"___$&").replace(forbiddenCharsRegex,"___")}var storage,store={},doc=win.document,localStorageName="localStorage",scriptTag="script";if(store.disabled=!1,store.version="1.3.17",store.set=function(key,value){},store.get=function(key,defaultVal){},store.has=function(key){return void 0!==store.get(key)},store.remove=function(key){},store.clear=function(){},store.transact=function(key,defaultVal,transactionFn){null==transactionFn&&(transactionFn=defaultVal,defaultVal=null),null==defaultVal&&(defaultVal={});var val=store.get(key,defaultVal);transactionFn(val),store.set(key,val)},store.getAll=function(){},store.forEach=function(){},store.serialize=function(value){return JSON.stringify(value)},store.deserialize=function(value){if("string"==typeof value)try{return JSON.parse(value)}catch(e){return value||void 0}},isLocalStorageNameSupported())storage=win[localStorageName],store.set=function(key,val){return void 0===val?store.remove(key):(storage.setItem(key,store.serialize(val)),val)},store.get=function(key,defaultVal){var val=store.deserialize(storage.getItem(key));return void 0===val?defaultVal:val},store.remove=function(key){storage.removeItem(key)},store.clear=function(){storage.clear()},store.getAll=function(){var ret={};return store.forEach(function(key,val){ret[key]=val}),ret},store.forEach=function(callback){for(var i=0;i<storage.length;i++){var key=storage.key(i);callback(key,store.get(key))}};else if(doc.documentElement.addBehavior){var storageOwner,storageContainer;try{storageContainer=new ActiveXObject("htmlfile"),storageContainer.open(),storageContainer.write("<"+scriptTag+">document.w=window</"+scriptTag+'><iframe src="/favicon.ico"></iframe>'),storageContainer.close(),storageOwner=storageContainer.w.frames[0].document,storage=storageOwner.createElement("div")}catch(e){storage=doc.createElement("div"),storageOwner=doc.body}var withIEStorage=function(storeFunction){return function(){var args=Array.prototype.slice.call(arguments,0);args.unshift(storage),storageOwner.appendChild(storage),storage.addBehavior("#default#userData"),storage.load(localStorageName);var result=storeFunction.apply(store,args);return storageOwner.removeChild(storage),result}},forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");store.set=withIEStorage(function(storage,key,val){return key=ieKeyFix(key),void 0===val?store.remove(key):(storage.setAttribute(key,store.serialize(val)),storage.save(localStorageName),val)}),store.get=withIEStorage(function(storage,key,defaultVal){key=ieKeyFix(key);var val=store.deserialize(storage.getAttribute(key));return void 0===val?defaultVal:val}),store.remove=withIEStorage(function(storage,key){key=ieKeyFix(key),storage.removeAttribute(key),storage.save(localStorageName)}),store.clear=withIEStorage(function(storage){var attributes=storage.XMLDocument.documentElement.attributes;storage.load(localStorageName);for(var attr,i=0;attr=attributes[i];i++)storage.removeAttribute(attr.name);storage.save(localStorageName)}),store.getAll=function(storage){var ret={};return store.forEach(function(key,val){ret[key]=val}),ret},store.forEach=withIEStorage(function(storage,callback){for(var attr,attributes=storage.XMLDocument.documentElement.attributes,i=0;attr=attributes[i];++i)callback(attr.name,store.deserialize(storage.getAttribute(attr.name)))})}try{var testKey="__storejs__";store.set(testKey,testKey),store.get(testKey)!=testKey&&(store.disabled=!0),store.remove(testKey)}catch(e){store.disabled=!0}store.enabled=!store.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=store:"function"==typeof define&&define.amd?define(store):win.store=store}(Function("return this")())}),rqzt.define("./site/pages/page",function(module,exports,__dirname,__filename,process){var Page,Router,View,_,crowdcontrol,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),View=crowdcontrol.view.View,Router=rqzt("./site/router"),Page=function(superClass){function Page(){return Page.__super__.constructor.apply(this,arguments)}return extend(Page,superClass),Page.prototype.tag="page",Page.prototype.icon="fa fa-circle-thin",Page.prototype.name="Page",Page.prototype.crumbs=[],Page.prototype.collection="",Page.prototype._id="",Page.prototype.action="",Page.prototype.render=function(){},Page.prototype.js=function(opts){return Page.__super__.js.apply(this,arguments),$(this.root).attr("id","current-page").addClass("animated").addClass("fadeIn"),this.render()},Page.register=function(){return Router.add(this.prototype.collection,this.prototype.action,this),Page.__super__.constructor.register.apply(this,arguments)},Page}(View),module.exports=Page}),rqzt.define("./site/router",function(module,exports,__dirname,__filename,process){var Router,changePage,lastPages,riot,routes;riot=rqzt("riot/riot"),routes={},module.exports=Router={add:function(collection,action,clas){return null==action&&(action=""),routes[collection+"_"+action]=clas},Menu:void 0,Crumbs:void 0},lastPages=null,changePage=function(collection,id,action){var e,i,lastPage,len,page,proto;if(null==collection&&(collection=""),null==id&&(id=""),null==action&&(action=""),page=routes[collection+"_"+action],null!=page){if(null!=lastPages)for(i=0,len=lastPages.length;i<len;i++){lastPage=lastPages[i];try{lastPage.unmount()}catch(error){e=error}}return Router.Menu.setActive(page),Router.Crumbs.setActive(page),Router.Crumbs.setActiveId(id),proto=page.prototype,$("#content").html('<div id="replaceme"/>'),lastPages=riot.mount("#replaceme",proto.tag,{_id:id}),$(window).scrollTop(0)}},riot.route(changePage),$(function(){var hash;return hash=window.location.hash.replace("#",""),""===hash?changePage():riot.route(hash)})}),rqzt.define("./templates/backend/site/pages/dashboard",function(module,exports,__dirname,__filename,process){module.exports='<div class="tray tray-center" style="padding-top:0px;overflow:visible">\n  <div>\n    <div class="period-configure row mb20" if="{window.User.owner}">\n      <div class="col-sm-12">\n        <div class="currency-picker" if="{currencyCount > 1}">\n          <basic-select options="{ currencyOptions }" model="{ currencyModel }" obs="{obs}"></basic-select>\n        </div>\n        <h5 class="text-center" if="{currencyCount > 1}">\n          For\n        </h5>\n        <div class="period-picker">\n          <basic-select options="{ periodOptions }" model="{ periodModel }" obs="{obs}"></basic-select>\n        </div>\n        <h5 class="text-center">\n          Of\n        </h5>\n        <div class="period-datepicker">\n          <date-picker model="{ periodDateModel }" obs="{obs}"></date-picker>\n        </div>\n      </div>\n    </div>\n    <div class="row" if="{window.User.owner}">\n      <div class="col-sm-3">\n        <number-panel obs="{ totalOrdersObs }" description="{ \'Total Orders\'}" label="{ \'ALL TIME\' }"></number-panel>\n      </div>\n      <div class="col-sm-3">\n        <money-panel obs="{ totalSalesObs }" description="{ \'Total Sales\' }" label="{ \'ALL TIME\' }"></money-panel>\n      </div>\n      <div class="col-sm-3">\n        <number-panel obs="{ totalUsersObs }" description="{ \'Total Users\'}" label="{ \'ALL TIME\' }"></number-panel>\n      </div>\n      <div class="col-sm-3">\n        <number-panel obs="{ totalSubsObs }" description="{ \'Total Subscribers\' }" label="{ \'ALL TIME\' }"></number-panel>\n      </div>\n    </div>\n    <div class="row" if="{window.User.owner}">\n      <div class="col-sm-3">\n        <number-panel obs="{ dailyOrdersObs }" description="{ periodDescription() + \' Orders\' }" label="{ periodLabel()  }"></number-panel>\n      </div>\n      <div class="col-sm-3">\n        <money-panel obs="{ dailySalesObs }" description="{ periodDescription() + \' Sales\' }" label="{ periodLabel() }"></money-panel>\n      </div>\n      <div class="col-sm-3">\n        <number-panel obs="{ dailyUsersObs }" description="{ periodDescription() + \' Sign-Ups\' }" label="{ periodLabel()  }"></number-panel>\n      </div>\n      <div class="col-sm-3">\n        <number-panel obs="{ dailySubsObs }" description="{ periodDescription() + \' Subscribers\' }" label="{ periodLabel() }"></number-panel>\n      </div>\n    </div>\n\n    <!-- <h1 class="text-center">Welcome to the Hanzo Beta</h1> -->\n    <!-- <p class="text-center">Feedback about our beta is welcome! Contact <a href="mailto:support@hanzo.io">support@hanzo.io</a> and let us know what you think and what you\'d like to see here :)</p> -->\n\n    <!-- Admin-panels -->\n    <div class="admin-panels animated fadeIn" if="{window.User.owner}">\n\n      <div class="row">\n        <div class="col-md-12 admin-grid">\n          <chart title="{ \'Sales for Current Period\' }" model="{ chartModel }" obs="{ chartObs }">\n          </chart>\n        </div>\n      </div>\n    </div>\n\n    <div class="admin-panels animated fadeIn" if="{!window.User.owner}">\n      <div class="row">\n        <div class="col-md-12 admin-grid">\n          <h1 class="text-center">Welcome to the Hanzo Beta</h1>\n        </div>\n      </div>\n    </div>\n\n    <!-- <div class="admin-panels animated fadeIn"> -->\n\n    <!--   <div class="row"> -->\n\n    <!--     <1!-- Three Pane Widget --1> -->\n    <!--     <div class="col-md-12 admin-grid"> -->\n\n    <!--       <1!-- dashboard activity --1> -->\n    <!--       <div class="panel sort-disable" id="p01" data-panel-title="false"> -->\n    <!--         <div class="panel-heading"> -->\n    <!--           <b>Views</b> by <b>Product</b> for Last <b>12 Months</b> -->\n    <!--         </div> -->\n    <!--         <div class="panel-body pn"> -->\n\n    <!--           <div class="tab-content"> -->\n    <!--             <div class="tab-pane active p15" id="tab1_1" role="tabpanel" > -->\n    <!--               <div class="row"> -->\n    <!--                   <1!-- Chart Column --1> -->\n    <!--                   <div class="col-md-12 pln mvn15"> -->\n    <!--                     <h5 class="ml5 mt20 ph10 pb5 br-b fw600 hidden">Visitors -->\n    <!--                       <small class="pull-right fw600">13,253 -->\n    <!--                         <span class="text-primary">(8,251 unique)</span> -->\n    <!--                       </small> -->\n    <!--                     </h5> -->\n    <!--                     <div id="ecommerce_chart1" style="height: 300px;"></div> -->\n    <!--                   </div> -->\n\n    <!--                 </div> -->\n    <!--               </div> -->\n    <!--             <div role="tabpanel" class="tab-pane " id="tab1_3"> -->\n    <!--             </div> -->\n    <!--           </div> -->\n\n    <!--         </div> -->\n    <!--       </div> -->\n\n    <!--     </div> -->\n    <!--     <1!-- end: .col-md-12.admin-grid --1> -->\n\n    <!--   </div> -->\n    <!--   <div class="row"> -->\n    <!--     <div class="col-md-6 admin-grid"> -->\n\n    <!--       <1!-- Geo Map + Table Stats --1> -->\n    <!--       <div class="panel" id="p9"> -->\n    <!--         <div class="panel-heading"> -->\n    <!--           <span class="panel-title">Visitor Geography</span> -->\n    <!--         </div> -->\n    <!--         <div class="panel-body"> -->\n    <!--           <div id="WidgetMap" class="jvector-colors hide-jzoom" style="width: 100%; height: 250px;"></div> -->\n    <!--         </div> -->\n    <!--         <div class="panel-menu admin-form pn"> -->\n    <!--           <1!-- Panel Break Smart Widget --1> -->\n    <!--           <div class="smart-widget sm-right smr-50"> -->\n    <!--             <label class="field"> -->\n    <!--               <input type="text" name="sub" id="sub" class="gui-input br-n" placeholder="United States of America" disabled> -->\n    <!--             </label> -->\n    <!--             <button type="submit" class="button br-n br-l"> -->\n    <!--               <i class="fa fa-caret-down"></i> -->\n    <!--             </button> -->\n    <!--           </div> -->\n    <!--         </div> -->\n    <!--         <div class="panel-body pn"> -->\n    <!--           <table class="table mbn"> -->\n    <!--             <thead> -->\n    <!--               <tr class="hidden"> -->\n    <!--                 <th>#</th> -->\n    <!--                 <th>First Name</th> -->\n    <!--               </tr> -->\n    <!--             </thead> -->\n    <!--             <tbody> -->\n    <!--               <tr> -->\n    <!--                 <td class="va-m fw600 text-muted"> -->\n    <!--                   <span class="fa fa-circle text-info fs14 mr10"></span>California</td> -->\n    <!--                 <td class="fs15 fw600 text-right">24%</td> -->\n    <!--               </tr> -->\n    <!--               <tr> -->\n    <!--                 <td class="va-m fw600 text-muted"> -->\n    <!--                   <span class="fa fa-circle text-primary fs14 mr10"></span>Texas</td> -->\n    <!--                 <td class="fs15 fw600 text-right">7%</td> -->\n    <!--               </tr> -->\n    <!--               <tr> -->\n    <!--                 <td class="va-m fw600 text-muted"> -->\n    <!--                   <span class="fa fa-circle text-success fs14 mr10"></span>Missouri</td> -->\n    <!--                 <td class="fs15 fw600 text-right">14%</td> -->\n    <!--               </tr> -->\n    <!--               <tr> -->\n    <!--                 <td class="va-m fw600 text-muted"> -->\n    <!--                   <span class="fa fa-circle text-warning fs14 mr10"></span>New York</td> -->\n    <!--                 <td class="fs15 fw600 text-right">7%</td> -->\n    <!--               </tr> -->\n    <!--             </tbody> -->\n    <!--           </table> -->\n    <!--         </div> -->\n    <!--       </div> -->\n    <!--     </div> -->\n    <!--     <1!-- end: .row --1> -->\n    <!--     <div class="col-md-6 admin-grid" id="grid-1"> -->\n\n    <!--   <1!-- Browser List --1> -->\n\n    <!--   <div class="panel" id="p17"> -->\n    <!--     <div class="panel-heading ui-sortable-handle"> -->\n    <!--       <span class="panel-title">Crawler List</span> -->\n    <!--     <span class="panel-controls"><a href="#" class="panel-control-loader"></a><a href="#" class="panel-control-remove"></a><a href="#" class="panel-control-title"></a><a href="#" class="panel-control-color"></a><a href="#" class="panel-control-collapse"></a><a href="#" class="panel-control-fullscreen"></a></span></div> -->\n    <!--     <div class="panel-body pn"> -->\n    <!--       <table class="table mbn tc-med-1 tc-bold-last"> -->\n    <!--         <thead> -->\n    <!--           <tr class="hidden"> -->\n    <!--             <th>#</th> -->\n    <!--             <th>First Name</th> -->\n    <!--           </tr> -->\n    <!--         </thead> -->\n    <!--         <tbody> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons google va-t mr10"></span>pages.com/img/15</td> -->\n    <!--             <td>7%</td> -->\n    <!--           </tr> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons yahoo va-t mr10"></span>pages.com/popular</td> -->\n    <!--             <td>14%</td> -->\n    <!--           </tr> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons google va-t mr10"></span>pages.com/news/3</td> -->\n    <!--             <td>31%</td> -->\n    <!--           </tr> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons bing va-t mr10"></span>pages.com/featured/16</td> -->\n    <!--             <td>22%</td> -->\n    <!--           </tr> -->\n    <!--         </tbody> -->\n    <!--       </table> -->\n    <!--     </div> -->\n    <!--   </div><div class="panel" id="p18"> -->\n    <!--     <div class="panel-heading ui-sortable-handle"> -->\n    <!--       <span class="panel-title">Browser List</span> -->\n    <!--     <span class="panel-controls"><a href="#" class="panel-control-loader"></a><a href="#" class="panel-control-remove"></a><a href="#" class="panel-control-title"></a><a href="#" class="panel-control-color"></a><a href="#" class="panel-control-collapse"></a><a href="#" class="panel-control-fullscreen"></a></span></div> -->\n    <!--     <div class="panel-body pn"> -->\n    <!--       <table class="table mbn tc-med-1 tc-bold-2"> -->\n    <!--         <thead> -->\n    <!--           <tr class="hidden"> -->\n    <!--             <th>#</th> -->\n    <!--             <th>First Name</th> -->\n    <!--           </tr> -->\n    <!--         </thead> -->\n    <!--         <tbody> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons chrome va-t mr10"></span>United States</td> -->\n    <!--             <td>39%</td> -->\n    <!--           </tr> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons firefox va-t mr10"></span>Germany</td> -->\n    <!--             <td>43%</td> -->\n    <!--           </tr> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons ie va-t mr10"></span>France</td> -->\n    <!--             <td>14%</td> -->\n    <!--           </tr> -->\n    <!--           <tr> -->\n    <!--             <td> -->\n    <!--               <span class="favicons safari va-t mr10"></span>Spain</td> -->\n    <!--             <td>3%</td> -->\n    <!--           </tr> -->\n    <!--         </tbody> -->\n    <!--       </table> -->\n    <!--     </div> -->\n    <!--   </div><div class="panel preserve-grid"></div></div> -->\n    <!-- </div> -->\n  </div>\n</div>\n'}),rqzt.define("./site/pages/user",function(module,exports,__dirname,__filename,process){var Page,User,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),User=function(superClass){function User(){return User.__super__.constructor.apply(this,arguments)}return extend(User,superClass),User.prototype.tag="page-user",User.prototype.icon="fa fa-users",User.prototype.name="User",User.prototype.html=rqzt("./templates/backend/site/pages/user"),User.prototype.collection="user",User}(Page),User.register(),module.exports=User}),rqzt.define("./templates/backend/site/pages/user",function(module,exports,__dirname,__filename,process){module.exports='<!-- User information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- User information Form Content -->\n    <user-form id="{opts._id}">\n      <div class="col-md-8">\n        <div id="user-info" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Contact\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20" style="padding:0">\n              <control class="col-sm-12" label="Email" input="{ inputs.email }"></control>\n              <control class="col-sm-6" label="First Name" input="{ inputs.firstName }"></control>\n              <control class="col-sm-6" label="Last Name" input="{ inputs.lastName }"></control>\n              <control class="col-sm-9" label="Phone" input="{ inputs.phone }"></control>\n              <control class="col-sm-3" label="Account Enabled" input="{ inputs.enabled }"></control>\n            </div>\n\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-xs-6">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="reset" class="btn btn-block btn-default">Reset</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="button" class="btn btn-block btn-default" onclick="{ deleteModal }">Delete</button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n        <div id="affiliate-info" class="panel animated fadeIn">\n          <affiliate-form userobs="{ obs }" assignToUserFn="{ assignToUser }">\n            <div class="panel-heading">\n              Affiliate Marketing\n            </div>\n            <div class="panel-body">\n              <div class="section col-xs-12" style="padding:0">\n                <control class="col-sm-6" label="Flat Fee" input="{ inputs[\'commission.flat\'] }"></control>\n                <control class="col-sm-6" label="Percent Fee" input="{ inputs[\'commission.percent\'] }"></control>\n              </div>\n\n              <div class="section col-xs-12 mb20" style="padding:0">\n                <control class="col-sm-6" label="Affiliate Coupon" input="{ inputs.couponId }"></control>\n                <control class="col-sm-6" label="Affiliate Enabled" input="{ inputs.enabled }"></control>\n              </div>\n\n              <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n\n              <div class="form-actions section col-xs-12" style="padding:0">\n                <div class="col-xs-6">\n                  <button type="submit" class="btn btn-block btn-dark">Save</button>\n                </div>\n\n              </div>\n            </div>\n          </affiliate-form>\n        </div>\n\n        <!-- <div id="user-shipping-address" class="panel"> -->\n        <!--   <div class="panel-heading"> -->\n        <!--     <ul class="nav panel-tabs-border panel-tabs panel-tabs-left"> -->\n        <!--       <li class="active"> -->\n        <!--         <a href="#address1" data-toggle="tab" aria-expanded="true">Shipping Address</a> -->\n        <!--       </li> -->\n        <!--       <li class=""> -->\n        <!--         <a href="#address2" data-toggle="tab" aria-expanded="false">Billing Address</a> -->\n        <!--       </li> -->\n        <!--     </ul> -->\n        <!--   </div> -->\n        <!--   <div class="panel-body"> -->\n        <!--     <div class="tab-content pn br-n"> -->\n        <!--       <div id="address1" class="tab-pane active animated fadeIn"> -->\n        <!--         <div class="section col-xs-12" style="padding:0"> -->\n        <!--           <div class="col-md-8"> -->\n        <!--             <control label="Street Address" input="{ inputs[\'shippingAddress.line1\'] }"></control> -->\n        <!--           </div> -->\n        <!--           <div class="col-md-4"> -->\n        <!--             <control label="Apt/Suite Number" input="{ inputs[\'shippingAddress.line2\'] }"></control> -->\n        <!--           </div> -->\n        <!--         </div> -->\n        <!--         <div class="section col-xs-12" style="padding:0"> -->\n        <!--           <div class="col-md-6"> -->\n        <!--             <control label="City" input="{ inputs[\'shippingAddress.city\'] }"></control> -->\n        <!--           </div> -->\n        <!--           <div class="col-md-3"> -->\n        <!--             <control label="State" input="{ inputs[\'shippingAddress.state\'] }"></control> -->\n        <!--           </div> -->\n        <!--           <div class="col-md-3"> -->\n        <!--             <control label="Postal/ZIP Code" input="{ inputs[\'shippingAddress.postalCode\'] }"></control> -->\n        <!--           </div> -->\n        <!--         </div> -->\n        <!--         <div class="section col-xs-12 mb20" style="padding:0"> -->\n        <!--           <div class="col-md-12"> -->\n        <!--             <control label="Country" input="{ inputs[\'shippingAddress.country\'] }"></control> -->\n        <!--           </div> -->\n        <!--         </div> -->\n        <!--       </div> -->\n        <!--       <div id="address2" class="tab-pane animated fadeIn"> -->\n        <!--         <div class="section col-xs-12" style="padding:0"> -->\n        <!--           <div class="col-md-8"> -->\n        <!--             <control label="Street Address" input="{ inputs[\'billingAddress.line1\'] }"></control> -->\n        <!--           </div> -->\n        <!--           <div class="col-md-4"> -->\n        <!--             <control label="Apt/Suite Number" input="{ inputs[\'billingAddress.line2\'] }"></control> -->\n        <!--           </div> -->\n        <!--         </div> -->\n        <!--         <div class="section col-xs-12" style="padding:0"> -->\n        <!--           <div class="col-md-6"> -->\n        <!--             <control label="City" input="{ inputs[\'billingAddress.city\'] }"></control> -->\n        <!--           </div> -->\n        <!--           <div class="col-md-3"> -->\n        <!--             <control label="State" input="{ inputs[\'billingAddress.state\'] }"></control> -->\n        <!--           </div> -->\n        <!--           <div class="col-md-3"> -->\n        <!--             <control label="Postal/ZIP Code" input="{ inputs[\'billingAddress.postalCode\'] }"></control> -->\n        <!--           </div> -->\n        <!--         </div> -->\n        <!--         <div class="section col-xs-12 mb20" style="padding:0"> -->\n        <!--           <div class="col-md-12"> -->\n        <!--             <control label="Country" input="{ inputs[\'billingAddress.country\'] }"></control> -->\n        <!--           </div> -->\n        <!--         </div> -->\n        <!--       </div> -->\n        <!--       <div class="form-actions section"> -->\n        <!--         <div class="col-xs-8 col-md-3 col-md-offset-3"> -->\n        <!--           <button type="submit" class="btn btn-block btn-dark">Save</button> -->\n        <!--         </div> -->\n        <!--         <div class="col-xs-4 col-md-3"> -->\n        <!--           <button type="reset" class="btn btn-block btn-default">Reset</button> -->\n        <!--         </div> -->\n        <!--       </div> -->\n        <!--     </div> -->\n        <!--   </div> -->\n        <!-- </div> -->\n\n        <div id="user-lists" class="panel">\n          <div class="panel-heading">\n            <ul class="nav panel-tabs-border panel-tabs panel-tabs-left">\n              <li class="active">\n                <a href="#list1" data-toggle="tab" aria-expanded="true">Orders</a>\n              </li>\n              <li class>\n                <a href="#list2" data-toggle="tab" aria-expanded="true">Referrer Tokens</a>\n              </li>\n              <li class>\n                <a href="#list3" data-toggle="tab" aria-expanded="true">Referral</a>\n              </li>\n            </ul>\n          </div>\n          <div class="panel-body panel-viewport">\n            <div class="tab-content pn br-n">\n              <div id="list1" class="tab-pane active animated fadeIn">\n                <order-list path="{ \'user/\'+opts.id+\'/orders\' }">\n                  No Orders Found\n                </order-list>\n              </div>\n              <div id="list2" class="tab-pane animated fadeIn">\n                <referrer-list path="{ \'user/\'+opts.id+\'/referrers\' }">\n                  No Referrer Tokens Found\n                </referrer-list>\n              </div>\n              <div id="list3" class="tab-pane animated fadeIn">\n                <referral-list path="{ \'user/\'+opts.id+\'/referrals\' }">\n                  No Referrals Found\n                </referral-list>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      <div class="col-md-4">\n        <div id="user-info" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <control label="ID" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n            <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n            <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n          </div>\n        </div>\n\n        <div id="user-reset-password" class="panel">\n          <div class="panel-heading">\n            Reset Password\n          </div>\n          <div class="panel-body">\n            <reset-password-form userId="{ opts.id }" url ="{ opts.url }" token="{ opts.token }">\n            </reset-password-form>\n          </div>\n        </div>\n\n        <div id="unique-coupon" class="panel">\n          <div class="panel-heading">\n            Unique Coupon\n          </div>\n          <div class="panel-body">\n            <unique-coupon-form userId="{ opts.id }" url ="{ opts.url }" token="{ opts.token }">\n            </unique-coupon-form>\n          </div>\n        </div>\n\n        <div id="balance" class="panel">\n          <div class="panel-heading">\n            Credit Balance\n          </div>\n          <div class="panel-body">\n            <balance-widget userId="{opts.id}">\n            </balance-widget>\n          </div>\n        </div>\n\n      </div>\n\n    </user-form>\n    <!-- END User information Form Content -->\n  </div>\n</div>\n<!-- END User information Form Block -->\n';
}),rqzt.define("./site/pages/users",function(module,exports,__dirname,__filename,process){var Page,Users,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Users=function(superClass){function Users(){return Users.__super__.constructor.apply(this,arguments)}return extend(Users,superClass),Users.prototype.tag="page-users",Users.prototype.icon="fa fa-users",Users.prototype.name="Users",Users.prototype.html=rqzt("./templates/backend/site/pages/users"),Users.prototype.collection="users",Users}(Page),Users.register(),module.exports=Users}),rqzt.define("./templates/backend/site/pages/users",function(module,exports,__dirname,__filename,process){module.exports='<!-- Users View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <div class="panel animated fadeIn">\n      <div class="panel-heading">\n        Users\n      </div>\n      <div class="panel-body">\n          <!-- Users View Content -->\n        <user-paged-table obs="{ obs }">\n          <div>\n            <i class="fa fa-users" style="font-size:50px"></i>\n            <h2 class="text-center">No Users Found</h2>\n          </div>\n        </user-paged-table>\n        <!-- END Users View Content -->\n      </div>\n    </div>\n  </div>\n</div>\n<user-filter-pane tableobs="{ obs }">\n</user-filter-pane>\n<!-- END Users View Block -->\n'}),rqzt.define("./site/pages/order",function(module,exports,__dirname,__filename,process){var Order,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Order=function(superClass){function Order(){return Order.__super__.constructor.apply(this,arguments)}return extend(Order,superClass),Order.prototype.tag="page-order",Order.prototype.icon="glyphicon glyphicon-shopping-cart",Order.prototype.name="Order",Order.prototype.html=rqzt("./templates/backend/site/pages/order"),Order.prototype.collection="order",Order}(Page),Order.register(),module.exports=Order}),rqzt.define("./templates/backend/site/pages/order",function(module,exports,__dirname,__filename,process){module.exports='<!-- Order information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- Order information Form Content -->\n    <order-form id="{opts._id}">\n      <div class="col-md-8">\n        <div id="user-shipping-address" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Shipping Address\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <div class="section col-lg-6 mb20">\n                <control label="Recipient Name" input="{ inputs[\'shippingAddress.name\'] }"></control>\n                <control label="Street Address" input="{ inputs[\'shippingAddress.line1\'] }"></control>\n                <control label="Apt/Suite Number" input="{ inputs[\'shippingAddress.line2\'] }"></control>\n                <control label="City" input="{ inputs[\'shippingAddress.city\'] }"></control>\n                <div class="col-xs-7" style="padding-left:0">\n                  <control label="State" input="{ inputs[\'shippingAddress.state\'] }"></control>\n                </div>\n                <div class="col-xs-5" style="padding-right:0">\n                  <control label="Postal/ZIP Code" input="{ inputs[\'shippingAddress.postalCode\'] }"></control>\n                </div>\n                <control label="Country" input="{ inputs[\'shippingAddress.country\'] }"></control>\n              </div>\n\n              <div class="section col-lg-6 mb20">\n                <gmap obs="{ obs }" addressField="shippingAddress" style="min-height:408px"></gmap>\n              </div>\n            </div>\n\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n\n            <div class="form-actions section">\n              <div class="col-xs-6">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n              <div class="col-xs-6">\n                <button type="reset" class="btn btn-block btn-default">Reset</button>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div id="ship-order" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Shipping\n          </div>\n          <div class="panel-body" if="{ model.fulfillment.integration }">\n            <div class="section col-xs-12" style="padding:0">\n              <div class="section col-lg-6 mb20">\n                <control label="External ID" input="{ inputs[\'fulfillment.externalId\'] }"></control>\n              </div>\n              <div class="section col-lg-6 mb20">\n                <control label="Tracking Number" input="{ inputs[\'fulfillment.trackingNumber\'] }"></control>\n              </div>\n              <div class="section col-lg-6 mb20">\n                <control label="Carrier" input="{ inputs[\'fulfillment.carrier\'] }"></control>\n              </div>\n              <div class="section col-lg-6 mb20">\n                <control label="Service" input="{ inputs[\'fulfillment.service\'] }"></control>\n              </div>\n              <div class="section col-lg-6 mb20">\n                <control label="Shipping Cost" input="{ inputs[\'fulfillment.cost\'] }"></control>\n              </div>\n              <div class="section col-lg-6 mb20">\n                <control label="Created On" input="{ inputs[\'fulfillment.createdAt\'] }"></control>\n              </div>\n              <div class="section col-lg-6 mb20">\n                <control label="Shipped On" input="{ inputs[\'fulfillment.shippedAt\'] }"></control>\n              </div>\n              <div class="section col-lg-6 mb20">\n                <control label="Delivered On" input="{ inputs[\'fulfillment.deliveredAt\'] }"></control>\n              </div>\n              <!-- <div class="form-actions col-lg-6 section mt30"> -->\n              <!--   <button class="btn btn-block btn-default" onclick="{ shippingModal }">Ship via Shipwire</button> -->\n              <!-- </div> -->\n            </div>\n\n            <!-- <div class="section col-xs-12 mb10 has-error" if="{ error }" style="padding:0"> -->\n            <!--   <span class="error-container help-block animated fadeInUp">{ error.message }</span> -->\n            <!-- </div> -->\n\n          </div>\n          <div class="panel-body" if="{ !model.fulfillment.integration }">\n            <div class="section col-xs-12" style="padding:0">\n              <div class="section col-lg-6 mb20">\n                <control label="Shipping Service Level" input="{ inputs[\'shippingService\'] }"></control>\n              </div>\n              <div class="form-actions col-lg-6 section mt30">\n                <button class="btn btn-block btn-default" onclick="{ shippingModal }">Ship via Shipwire</button>\n              </div>\n            </div>\n\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n\n          </div>\n        </div>\n\n        <div id="refund-order" class="panel animated fadeIn" if="{ model.paymentStatus != \'refunded\' }">\n          <div class="panel-heading">\n            Refund\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <div class="section col-lg-6 mb20">\n                <control label="Refund Amount" input="{ inputs[\'refundAmount\'] }"></control>\n              </div>\n              <div class="form-actions col-lg-6 section mt30">\n                <button class="btn btn-block btn-default" onclick="{ refundModal }">Refund</button>\n              </div>\n            </div>\n\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n\n          </div>\n        </div>\n\n        <div id="order-items" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Receipt\n          </div>\n          <div class="panel-body">\n            <item-list obs="{ obs }">\n              No Items Found\n            </item-list>\n          </div>\n          <div class="panel-body">\n            <control label="Currency" input="{ inputs.currency }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right"></control>\n            <control label="Line Total" input="{ inputs.lineTotal }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right"></control>\n            <control label="Discount" input="{ inputs.discount }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right"></control>\n            <control label="Subtotal" input="{ inputs.subtotal }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right"></control>\n            <control label="Shipping" input="{ inputs.shipping }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right"></control>\n            <control label="Tax" input="{ inputs.tax }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right"></control>\n            <control label="Total" input="{ inputs.total }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right"></control>\n            <control label="Refunded" input="{ inputs.refunded }" labelClasses="col-xs-2 col-xs-offset-8 text-right" controlClasses="col-xs-2 text-right" if="{ model.refunded > 0 }"></control>\n          </div>\n        </div>\n\n        <div id="metadata" class="panel animated fadeIn" if="{ Object.keys(model.metadata).length > 0 }">\n          <div class="panel-heading">\n            Metadata\n          </div>\n          <div class="panel-body">\n            <pre class="form-control-static">{ JSON.stringify(model.metadata, null, 2) || \'&nbsp;\' }</pre>\n          </div>\n        </div>\n\n        <div id="free-order-items" class="panel animated fadeIn" if="{ model.couponItems }">\n          <div class="panel-heading">\n            Free Coupon Items\n          </div>\n          <div class="panel-body">\n            <item-list obs="{ obs }" itemsModel="{ \'couponItems\' }">\n            </item-list>\n          </div>\n        </div>\n\n        <div id="gift-info" class="panel animated fadeIn" if="{ model.gift }">\n          <div class="panel-heading">\n            Gift Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <control label="Email" input="{ inputs.giftEmail }" if="{ model.giftEmail }"></control>\n              <control label="Message" input="{ inputs.giftMessage }"></control>\n            </div>\n          </div>\n        </div>\n\n        <div id="affiliate" class="panel animated fadeIn" if="{ model.paymentStatus != \'refunded\' }">\n          <div class="panel-heading">\n            Refund\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <div class="section col-lg-6 mb20">\n                <control label="Refund Amount" input="{ inputs[\'refundAmount\'] }"></control>\n              </div>\n              <div class="form-actions col-lg-6 section mt30">\n                <button class="btn btn-block btn-default" onclick="{ refundModal }">Refund</button>\n              </div>\n            </div>\n\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n\n          </div>\n        </div>\n\n        <div id="order-payments" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Payments\n          </div>\n          <div class="panel-body">\n            <payment-list path="{ \'order/\'+opts.id+\'/payments\' }">\n              No Payments Found\n            </payment-list>\n          </div>i\n        </div>\n\n      </div>\n\n      <div class="col-md-4">\n        <div id="order-info" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <control label="ID" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Number" input="{ inputs.number }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n            </div>\n          </div>\n        </div>\n\n        <div id="order-status" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Status\n          </div>\n          <div class="panel-body">\n            <control label="Status" input="{ inputs.status }" labelClasses="col-md-6" controlClasses="col-md-6"></control>\n            <control label="Payment Status" input="{ inputs.paymentStatus }" labelClasses="col-md-6" controlClasses="col-md-6"></control>\n            <control label="Fulfillment Status" input="{ inputs.fulfillmentStatus }" labelClasses="col-md-6" controlClasses="col-md-6"></control>\n          </div>\n        </div>\n\n        <div id="order-status" class="panel animated fadeIn" if="{ model.couponCodes }">\n          <div class="panel-heading">\n            Coupons\n          </div>\n          <div class="panel-body">\n            <control label="Coupon(s)" input="{ inputs.couponCodes }" labelClasses="col-md-4" controlClasses="col-md-8"></control>\n          </div>\n        </div>\n\n        <div id="user-info" class="panel animated fadeIn">\n          <div class="panel-heading">\n            Buyer Information\n          </div>\n          <div class="panel-body">\n            <order-user-static-form obs="{ obs }">\n              <div if="{ !error }">\n                <div class="section col-xs-12">\n                  <div class="section row">\n                    <control label="ID" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Email" input="{ inputs.email }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="First Name" input="{ inputs.firstName }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Last Name" input="{ inputs.lastName }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Phone" input="{ inputs.phone }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                 </div>\n                  <div class="section row mb20">\n                    <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="col-xs-12" style="padding:0">\n                    <button __disabled="{ sending }" onclick="{ resendOrderConfirmation }" type="button" class="btn btn-block btn-dark">Resend Confirmation</button>\n                  </div>\n                  <div class="col-xs-12" if="{ parent.model.fulfillmentStatus == \'shipped\' }" style="padding:0">\n                    <button __disabled="{ sending }" onclick="{ resendShippingConfirmation }" type="button" class="btn btn-block btn-dark">Resend Shipping</button>\n                  </div>\n                  <div class="col-xs-12 mt20" style="padding:0">\n                    <button if="{ parent.model.refunded }" __disabled="{ sending }" onclick="{ resendRefundConfirmation }" type="button" class="btn btn-block btn-dark">Resend Refund</button>\n                  </div>\n                </div>\n              </div>\n              <h4 if="{ error }" class="text-center mb20">\n                Buyer missing or deleted.\n              </h4>\n            </order-user-static-form>\n          </div>\n        </div>\n\n      </div>\n    </order-form>\n    <!-- END Order information Form Content -->\n  </div>\n</div>\n<!-- END Order information Form Block -->\n'}),rqzt.define("./site/pages/orders",function(module,exports,__dirname,__filename,process){var Orders,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Orders=function(superClass){function Orders(){return Orders.__super__.constructor.apply(this,arguments)}return extend(Orders,superClass),Orders.prototype.tag="page-orders",Orders.prototype.icon="glyphicon glyphicon-shopping-cart",Orders.prototype.name="Orders",Orders.prototype.html=rqzt("./templates/backend/site/pages/orders"),Orders.prototype.collection="orders",Orders}(Page),Orders.register(),module.exports=Orders}),rqzt.define("./templates/backend/site/pages/orders",function(module,exports,__dirname,__filename,process){module.exports='<!-- Orders View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <div class="panel animated fadeIn">\n      <div class="panel-heading">\n        Orders\n      </div>\n      <div class="panel-body">\n          <!-- Orders View Content -->\n        <order-paged-table obs="{ obs }">\n          <div>\n            <i class="glyphicon glyphicon-shopping-cart" style="font-size:50px"></i>\n            <h2 class="text-center">No Orders Found</h2>\n          </div>\n        </order-paged-table>\n        <!-- END Orders View Content -->\n      </div>\n    </div>\n  </div>\n</div>\n<order-filter-pane tableobs="{ obs }">\n</order-filter-pane>\n<!-- END Orders View Block -->\n\n'}),rqzt.define("./site/pages/payment",function(module,exports,__dirname,__filename,process){var Page,Payment,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Payment=function(superClass){function Payment(){return Payment.__super__.constructor.apply(this,arguments)}return extend(Payment,superClass),Payment.prototype.tag="page-payment",Payment.prototype.icon="fa fa-money",Payment.prototype.name="Payments",Payment.prototype.html=rqzt("./templates/backend/site/pages/payment"),Payment.prototype.collection="payment",Payment}(Page),Payment.register(),module.exports=Payment}),rqzt.define("./templates/backend/site/pages/payment",function(module,exports,__dirname,__filename,process){module.exports='<!-- Payment information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- Payment information Form Content -->\n    <payment-form id="{opts._id}">\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb10">\n              <div class="section row">\n                <control label="Order ID" input="{ inputs.orderId }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Type" input="{ inputs.type }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Status" input="{ inputs.status }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Amount" input="{ inputs.amount }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Refunded" input="{ inputs.amountRefunded }" if="{model.status==\'refunded\'}" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Platform Fee" input="{ inputs.fee }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="panel animated fadeIn" if="{model.type == \'stripe\'}">\n          <div class="panel-heading">\n            Stripe Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb10">\n              <div class="section row">\n                <control label="Customer ID" input="{ inputs[\'account.customerId\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Charge ID" input="{ inputs[\'account.chargeId\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                  <control label="Card ID" input="{ inputs[\'account.cardId\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Transaction ID" input="{ inputs[\'account.balanceTransactionId\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Fingerprint" input="{ inputs[\'account.fingerprint\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Funding" input="{ inputs[\'account.funding\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Last Four" input="{ inputs[\'account.lastFour\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Brand" input="{ inputs[\'account.brand\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Expiration Month" input="{ inputs[\'account.month\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Expiration Year" input="{ inputs[\'account.year\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Country" input="{ inputs[\'account.country\'] }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Metadata\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12">\n              <div class="section row">\n                <control label="IP" input="{ inputs[\'client.ip\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Referrer" input="{ inputs[\'client.referer\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="User Agent" input="{ inputs[\'client.userAgent\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Language" input="{ inputs[\'client.language\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="City" input="{ inputs[\'client.city\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Region" input="{ inputs[\'client.region\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Country" input="{ inputs[\'client.country\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <div class="section row">\n                <control label="ID" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Buyer Information\n          </div>\n          <div class="panel-body">\n            <payment-user-static-form obs="{ obs }">\n              <div if="{ !error }">\n                <div class="section col-xs-12" style="padding:0">\n                  <div class="section row">\n                    <control label="ID" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Email" input="{ inputs.email }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="First Name" input="{ inputs.firstName }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Last Name" input="{ inputs.lastName }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Phone" input="{ inputs.phone }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                 </div>\n                  <div class="section row mb20">\n                    <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                </div>\n              </div>\n              <h4 if="{ error }" class="text-center mb20">\n                Buyer missing or deleted.\n              </h4>\n            </payment-user-static-form>\n          </div>\n        </div>\n      </div>\n    </payment-form>\n    <!-- END Payment information Form Content -->\n  </div>\n</div>\n<!-- END Payment information Form Block -->\n'}),rqzt.define("./site/pages/payments",function(module,exports,__dirname,__filename,process){var Page,Payments,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Payments=function(superClass){function Payments(){return Payments.__super__.constructor.apply(this,arguments)}return extend(Payments,superClass),Payments.prototype.tag="page-payments",Payments.prototype.icon="fa fa-money",Payments.prototype.name="Payments",Payments.prototype.html=rqzt("./templates/backend/site/pages/payments"),Payments.prototype.collection="payments",Payments}(Page),Payments.register(),module.exports=Payments}),rqzt.define("./templates/backend/site/pages/payments",function(module,exports,__dirname,__filename,process){module.exports='<!-- Payments View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <div class="panel animated fadeIn">\n      <div class="panel-heading">\n        Payments\n      </div>\n      <div class="panel-body">\n          <!-- Payments View Content -->\n        <payment-paged-table>\n          <div>\n            <i class="fa fa-money" style="font-size:50px"></i>\n            <h2 class="text-center">No Payments Found</h2>\n          </div>\n        </payment-paged-table>\n        <!-- END Payments View Content -->\n      </div>\n    </div>\n  </div>\n</div>\n<!-- END Payments View Block -->\n\n'}),rqzt.define("./site/pages/product",function(module,exports,__dirname,__filename,process){var Page,Product,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Product=function(superClass){function Product(){return Product.__super__.constructor.apply(this,arguments)}return extend(Product,superClass),Product.prototype.tag="page-product",Product.prototype.icon="glyphicon glyphicon-book",Product.prototype.name="Product",Product.prototype.html=rqzt("./templates/backend/site/pages/product"),Product.prototype.collection="product",Product}(Page),Product.register(),module.exports=Product}),rqzt.define("./templates/backend/site/pages/product",function(module,exports,__dirname,__filename,process){module.exports='<!-- Product information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- Product information Form Content -->\n    <product-form id="{opts._id}">\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb10" style="padding:0">\n              <div class="col-md-5">\n                <control label="Name" input="{ inputs.name }"></control>\n                <control label="Slug" input="{ inputs.slug }"></control>\n                <control label="SKU" input="{ inputs.sku }"></control>\n              </div>\n              <div class="col-md-7">\n                <control label="Description" input="{ inputs.description }"></control>\n              </div>\n            </div>\n            <div class="col-xs-7">\n              <div class="panel animated fadeIn">\n                <div class="panel-heading">\n                  Pricing\n                </div>\n                <div class="panel-body">\n                  <control label="Currency" input="{ inputs.currency }"></control>\n                  <control label="List Price (How much this should be listed at)" input="{ inputs.listPrice }"></control>\n                  <control label="Price (How much this is being sold for)" input="{ inputs.price }"></control>\n                </div>\n              </div>\n            </div>\n            <div class="col-xs-5">\n              <div class="panel animated fadeIn">\n                <div class="panel-heading">\n                  Shipping/Availability\n                </div>\n                <div class="panel-body">\n                  <control label="Size (L x W x H)" input="{ inputs.size }"></control>\n                  <control label="Weight (grams)" input="{ inputs.weight }"></control>\n                  <control label="In Stock" input="{ inputs.available }"></control>\n                  <control label="Estimated Delivery" input="{ inputs.estimatedDelivery }"></control>\n                </div>\n              </div>\n            </div>\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-xs-6">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="reset" class="btn btn-block btn-default">Reset</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="button" class="btn btn-block btn-default" onclick="{ deleteModal }">Delete</button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <control label="Id" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n            </div>\n          </div>\n        </div>\n      </div>\n    </product-form>\n    <!-- END Product information Form Content -->\n  </div>\n</div>\n<!-- END Product information Form Block -->\n';
}),rqzt.define("./site/pages/products",function(module,exports,__dirname,__filename,process){var Page,Products,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Products=function(superClass){function Products(){return Products.__super__.constructor.apply(this,arguments)}return extend(Products,superClass),Products.prototype.tag="page-products",Products.prototype.icon="glyphicon glyphicon-book",Products.prototype.name="Products",Products.prototype.html=rqzt("./templates/backend/site/pages/products"),Products.prototype.collection="products",Products}(Page),Products.register(),module.exports=Products}),rqzt.define("./templates/backend/site/pages/products",function(module,exports,__dirname,__filename,process){module.exports='<!-- Products View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <product-form>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Products\n        </div>\n        <div class="panel-body">\n          <!-- Products View Content -->\n          <product-paged-table obs="{obs}">\n            <div>\n              <i class="glyphicon glyphicon-book" style="font-size:50px"></i>\n              <h2 class="text-center">No Products Found</strong>.</h2>\n            </div>\n          </product-paged-table>\n          <!-- END Products View Content -->\n        </div>\n      </div>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Add a Product\n        </div>\n        <div class="panel-body">\n          <div class="section col-xs-12 mb20" style="padding:0">\n            <div class="col-md-5">\n              <control label="Name" input="{ inputs.name }"></control>\n              <control label="Slug" input="{ inputs.slug }"></control>\n              <control label="SKU" input="{ inputs.sku }"></control>\n            </div>\n            <div class="col-md-7">\n              <control label="Description" input="{ inputs.description }"></control>\n            </div>\n          </div>\n          <div class="col-xs-6">\n            <div class="panel animated fadeIn">\n              <div class="panel-heading">\n                Pricing\n              </div>\n              <div class="panel-body">\n                <control label="Currency" input="{ inputs.currency }"></control>\n                <control label="List Price (How much this should be listed at)" input="{ inputs.listPrice }"></control>\n                <control label="Price (How much this is being sold for)" input="{ inputs.price }"></control>\n              </div>\n            </div>\n          </div>\n          <div class="col-xs-6">\n            <div class="panel animated fadeIn">\n              <div class="panel-heading">\n                Shipping/Availability\n              </div>\n              <div class="panel-body">\n                <control label="Size (L x W x H)" input="{ inputs.size }"></control>\n                <control label="Weight (grams)" input="{ inputs.weight }"></control>\n                <div class="col-md-6">\n                  <control label="In Stock" input="{ inputs.available }"></control>\n                </div>\n                <div class="col-md-6">\n                  <control label="Estimated Delivery" input="{ inputs.estimatedDelivery }"></control>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-actions section text-center">\n            <div class="col-xs-4 col-xs-offset-4">\n              <button type="submit" class="btn btn-block btn-dark">Add</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </product-form>\n  </div>\n</div>\n<!-- END Products View Block -->\n\n'}),rqzt.define("./site/pages/coupon",function(module,exports,__dirname,__filename,process){var Coupon,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Coupon=function(superClass){function Coupon(){return Coupon.__super__.constructor.apply(this,arguments)}return extend(Coupon,superClass),Coupon.prototype.tag="page-coupon",Coupon.prototype.icon="glyphicon glyphicon-tag",Coupon.prototype.name="Coupon",Coupon.prototype.html=rqzt("./templates/backend/site/pages/coupon"),Coupon.prototype.collection="coupon",Coupon}(Page),Coupon.register(),module.exports=Coupon}),rqzt.define("./templates/backend/site/pages/coupon",function(module,exports,__dirname,__filename,process){module.exports='<!-- Coupon information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- Coupon information Form Content -->\n    <coupon-form id="{opts._id}">\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20" style="padding:0">\n              <div class="col-md-5">\n                <control label="Name" input="{ inputs.name }"></control>\n                <control label="Code" input="{ inputs.code }"></control>\n                <div class="col-md-6" style="padding-left:0">\n                  <control label="Enabled" input="{ inputs.enabled }"></control>\n                </div>\n                <div class="col-md-6" style="padding-right:0">\n                  <control label="Dynamic" input="{ inputs.dynamic }"></control>\n                </div>\n              </div>\n              <div class="col-md-7">\n                <control label="Coupon Type" input="{ inputs.type }"></control>\n                <div class="col-md-6" style="padding-left:0">\n                  <control label="Amount" input="{ inputs.amount }"></control>\n                </div>\n                <div class="col-md-6" style="padding-right:0">\n                  <control label="Product" input="{ inputs.productId }"></control>\n                </div>\n                <div class="col-md-6" style="padding-left:0">\n                  <control label="Limit" input="{ inputs.limit }"></control>\n                </div>\n              </div>\n            </div>\n\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-xs-6">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="reset" class="btn btn-block btn-default">Reset</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="button" class="btn btn-block btn-default" onclick="{ deleteModal }">Delete</button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <control label="Id" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n            </div>\n          </div>\n        </div>\n      </div>\n    </coupon-form>\n    <!-- END Coupon information Form Content -->\n  </div>\n<div>\n<!-- END Coupon information Form Block -->\n'}),rqzt.define("./site/pages/coupons",function(module,exports,__dirname,__filename,process){var Coupons,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Coupons=function(superClass){function Coupons(){return Coupons.__super__.constructor.apply(this,arguments)}return extend(Coupons,superClass),Coupons.prototype.tag="page-coupons",Coupons.prototype.icon="glyphicon glyphicon-tag",Coupons.prototype.name="Coupons",Coupons.prototype.html=rqzt("./templates/backend/site/pages/coupons"),Coupons.prototype.collection="coupons",Coupons}(Page),Coupons.register(),module.exports=Coupons}),rqzt.define("./templates/backend/site/pages/coupons",function(module,exports,__dirname,__filename,process){module.exports='<!-- Coupons View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <coupon-form>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Coupons\n        </div>\n        <div class="panel-body">\n          <!-- New Coupon Form-->\n          <!-- END New Coupon Form-->\n          <!-- Coupons View Content -->\n          <coupon-paged-table obs="{obs}">\n            <div>\n              <i class="glyphicon glyphicon-tag" style="font-size:50px"></i>\n              <h2 class="text-center">No Coupons Found</h2>\n            </div>\n          </coupon-paged-table>\n          <!-- END Coupons View Content -->\n        </div>\n      </div>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Add a Coupon\n        </div>\n        <div class="panel-body">\n          <div class="section col-xs-12 mb20" style="padding:0">\n            <div class="col-md-6">\n              <control label="Name" input="{ inputs.name }"></control>\n              <control label="Code" input="{ inputs.code }"></control>\n              <div class="col-md-6" style="padding-left:0">\n                <control label="Enabled" input="{ inputs.enabled }"></control>\n              </div>\n              <div class="col-md-6" style="padding-right:0">\n                <control label="Dynamic" input="{ inputs.dynamic }"></control>\n              </div>\n            </div>\n            <div class="col-md-6">\n              <control label="Coupon Type" input="{ inputs.type }"></control>\n              <div class="col-md-6" style="padding-left:0">\n                <control label="Amount" input="{ inputs.amount }"></control>\n              </div>\n              <div class="col-md-6" style="padding-right:0">\n                <control label="Product" input="{ inputs.productId }"></control>\n              </div>\n              <div class="col-md-6" style="padding-left:0">\n                <control label="Limit" input="{ inputs.limit }"></control>\n              </div>\n            </div>\n          </div>\n          <div class="section col-xs-12" style="padding:0">\n            <div class="col-md-6">\n            </div>\n            <div class="col-md-6">\n            </div>\n          </div>\n          <div class="form-actions section text-center">\n            <div class="col-xs-4 col-xs-offset-4">\n              <button type="submit" class="btn btn-block btn-dark">Add</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </coupon-form>\n  </div>\n</div>\n<!-- END Coupons View Block -->\n\n'}),rqzt.define("./site/pages/store",function(module,exports,__dirname,__filename,process){var Page,Store,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Store=function(superClass){function Store(){return Store.__super__.constructor.apply(this,arguments)}return extend(Store,superClass),Store.prototype.tag="page-store",Store.prototype.icon="glyphicon glyphicon-home",Store.prototype.name="Store",Store.prototype.html=rqzt("./templates/backend/site/pages/store"),Store.prototype.collection="store",Store}(Page),Store.register(),module.exports=Store}),rqzt.define("./templates/backend/site/pages/store",function(module,exports,__dirname,__filename,process){module.exports='<!-- Store information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- Store information Form Content -->\n    <store-form id="{opts._id}">\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20" style="padding:0">\n              <div class="col-md-4">\n                <control label="Name" input="{ inputs.name }"></control>\n              </div>\n              <div class="col-md-4">\n                <control label="Slug" input="{ inputs.slug }"></control>\n              </div>\n              <div class="col-md-4">\n                <control label="Currency" input="{ inputs.currency }"></control>\n              </div>\n            </div>\n            <div class="section col-xs-12 mb20">\n              <listing-widget obs="{obs}">\n              </listing-widget>\n            </div>\n\n            <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n              <span class="error-container help-block animated fadeInUp">{error.message}</span>\n            </div>\n\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-xs-6">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="reset" class="btn btn-block btn-default">Reset</button>\n              </div>\n              <div class="col-xs-3">\n                <button type="button" class="btn btn-block btn-default" onclick="{ deleteModal }">Delete</button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <control label="Id" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n            </div>\n          </div>\n        </div>\n      </div>\n    </store-form>\n    <!-- END Store information Form Content -->\n  </div>\n</div>\n<!-- END Store information Form Block -->\n'}),rqzt.define("./site/pages/stores",function(module,exports,__dirname,__filename,process){var Page,Stores,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Stores=function(superClass){function Stores(){return Stores.__super__.constructor.apply(this,arguments)}return extend(Stores,superClass),Stores.prototype.tag="page-stores",Stores.prototype.icon="glyphicon glyphicon-home",Stores.prototype.name="Stores",Stores.prototype.html=rqzt("./templates/backend/site/pages/stores"),Stores.prototype.collection="stores",Stores}(Page),Stores.register(),module.exports=Stores}),rqzt.define("./templates/backend/site/pages/stores",function(module,exports,__dirname,__filename,process){module.exports='<!-- Stores View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <store-form>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Stores\n        </div>\n        <div class="panel-body">\n          <!-- Stores View Content -->\n          <store-paged-table obs="{obs}">\n            <div>\n              <i class="glyphicon glyphicon-home" style="font-size:50px"></i>\n              <h2 class="text-center">No Stores Found</strong>.</h2>\n            </div>\n          </store-paged-table>\n          <!-- END Stores View Content -->\n        </div>\n      </div>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Add a Store\n        </div>\n        <div class="panel-body">\n          <div class="section col-xs-12 mb20" style="padding:0">\n            <div class="col-md-4">\n              <control label="Name" input="{ inputs.name }"></control>\n            </div>\n            <div class="col-md-4">\n              <control label="Slug" input="{ inputs.slug }"></control>\n            </div>\n            <div class="col-md-4">\n              <control label="Currency" input="{ inputs.currency }"></control>\n            </div>\n          </div>\n          <div class="section col-xs-12 mb20">\n            <listing-widget obs="{obs}">\n            </listing-widget>\n          </div>\n          <div class="form-actions section text-center">\n            <div class="col-xs-4 col-xs-offset-4">\n              <button type="submit" class="btn btn-block btn-dark">Add</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </store-form>\n  </div>\n</div>\n<!-- END Stores View Block -->\n'}),rqzt.define("./site/pages/mailinglist",function(module,exports,__dirname,__filename,process){var MailingList,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),MailingList=function(superClass){function MailingList(){return MailingList.__super__.constructor.apply(this,arguments)}return extend(MailingList,superClass),MailingList.prototype.tag="page-mailinglist",MailingList.prototype.icon="fa fa-envelope",MailingList.prototype.name="Mailing List",MailingList.prototype.html=rqzt("./templates/backend/site/pages/mailinglist"),MailingList.prototype.collection="mailinglist",MailingList.prototype.js=function(){return MailingList.__super__.js.apply(this,arguments),this.on("update",function(){return requestAnimationFrame(function(){var $code,e;try{if($code=$("pre code"),$code.html().indexOf("undefined")>-1)return;return $code.each(function(i,block){return hljs.highlightBlock(block)})}catch(error){return e=error}})})},MailingList}(Page),MailingList.register(),module.exports=MailingList}),rqzt.define("./templates/backend/site/pages/mailinglist",function(module,exports,__dirname,__filename,process){module.exports='<!-- Mailing List View Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <mailinglist-form id="{opts._id}">\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20" style="padding:0">\n              <div class="col-md-5">\n                <control label="Name" input="{ inputs.name }"></control>\n                <control label="Choose what happens after form submit" input="{ inputs[\'thankyou.type\'] }"></control>\n              </div>\n              <div class="col-md-7">\n                <control label="HTML Template or URL (Ignore if using default form action)" input="{ inputs[\'thankyou.html\'] }"></control>\n              </div>\n            </div>\n            <div class="section col-xs-12" style="padding:0">\n              <div class="panel animated fadeIn">\n                <div class="panel-heading">\n                  MailChimp\n                </div>\n                <div class="panel-body">\n                  <div class="col-xs-6">\n                    <control label="MailChimp List ID"  input="{ inputs[\'mailchimp.id\'] }"></control>\n                    <control label="MailChimp API Key"  input="{ inputs[\'mailchimp.apiKey\'] }"></control>\n                  </div>\n                  <div class="col-xs-6">\n                    <div class="col-xs-6">\n                      <control label="Double Optin?"       input="{ inputs[\'mailchimp.doubleOptin\'] }"></control>\n                    </div>\n                    <div class="col-xs-6">\n                      <control label="Update Existing?"   input="{ inputs[\'mailchimp.updateExisting\'] }"></control>\n                    </div>\n                    <div class="col-xs-6">\n                      <control label="Replace Interests?" input="{ inputs[\'mailchimp.replaceInterests\'] }"></control>\n                    </div>\n                    <div class="col-xs-6">\n                      <control label="Send Welcome?"      input="{ inputs[\'mailchimp.sendWelcome\'] }"></control>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-6">\n                <div class="panel animated fadeIn">\n                  <div class="panel-heading">\n                    Google Analytics\n                  </div>\n                  <div class="panel-body">\n                    <control label="Google Analytics Event Name"    input="{ inputs[\'google.name\'] }"></control>\n                    <control label="Google Analytics Category"      input="{ inputs[\'google.category\'] }"></control>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-6">\n                <div class="panel animated fadeIn">\n                  <div class="panel-heading">\n                    Facebook Analytics\n                  </div>\n                  <div class="panel-body">\n                    <control label="Facebook Event Id"          input="{ inputs[\'facebook.id\'] }"></control>\n                    <control label="Facebook Event Value"       input="{ inputs[\'facebook.value\'] }"></control>\n                    <control label="Facebook Event Currency"    input="{ inputs[\'facebook.currency\'] }"></control>\n                  </div>\n                </div>\n              </div>\n\n              <div class="section col-xs-12 mb10 has-error" if="{error}" style="padding:0">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n\n              <div class="form-actions section col-xs-12" style="padding:0">\n                <div class="col-xs-6">\n                  <button type="submit" class="btn btn-block btn-dark">Save</button>\n                </div>\n                <div class="col-xs-3">\n                  <button type="reset" class="btn btn-block btn-default">Reset</button>\n                </div>\n                <div class="col-xs-3">\n                  <button type="button" class="btn btn-block btn-default" onclick="{ deleteModal }">Delete</button>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Snippet\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <ol>\n                <li>Copy snippet below</li>\n                <li>Paste in your HTML Form</li>\n                <li>\n                  Your HTML code should look something like:\n                </li>\n              </ol>\n              <div class="section pl15 pr15">\n                <pre class="highlight br bw2 br-grey br-dashed br0 p10 mn hljs xml"><code>  &lt;form&gt;\n    &lt;script src="{ api.url + \'/mailinglist/\' + model.id }/js"&gt;&lt;/script&gt;\n    Email&lt;input name="email" value="your@email.com"&gt;\n    &lt;button type="submit"&gt;Sign me up!&lt;/button&gt;\n  &lt;/form&gt;</code></pre>\n              </div>\n              <div class="section p15">\n                <textarea style="width:100%"><script src="{ api.url + \'/mailinglist/\' + model.id }/js"></script></textarea>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <control label="Id" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n            </div>\n          </div>\n        </div>\n      </div>\n    </mailinglist-form>\n  </div>\n</div>\n<!-- END Mailing List View Block -->\n'}),rqzt.define("./site/pages/mailinglists",function(module,exports,__dirname,__filename,process){var MailingLists,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),MailingLists=function(superClass){function MailingLists(){return MailingLists.__super__.constructor.apply(this,arguments)}return extend(MailingLists,superClass),MailingLists.prototype.tag="page-mailinglists",MailingLists.prototype.icon="fa fa-envelope",MailingLists.prototype.name="Mailing Lists",MailingLists.prototype.html=rqzt("./templates/backend/site/pages/mailinglists"),MailingLists.prototype.collection="mailinglists",MailingLists}(Page),MailingLists.register(),module.exports=MailingLists}),rqzt.define("./templates/backend/site/pages/mailinglists",function(module,exports,__dirname,__filename,process){module.exports='<!-- Mailing Lists View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <mailinglist-form>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Mailing Lists\n        </div>\n        <div class="panel-body">\n            <!-- Mailing Lists View Content -->\n            <mailinglist-paged-table obs="{obs}">\n            <div>\n              <i class="fa fa-envelope" style="font-size:50px"></i>\n              <h2 class="text-center">No Mailing Lists Found</h2>\n            </div>\n          </mailinglist-paged-table>\n          <!-- END Mailing Lists View Content -->\n        </div>\n      </div>\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Add a Mailing List\n        </div>\n        <div class="panel-body">\n          <div class="section col-xs-12 mb20" style="padding:0">\n            <div class="col-md-5">\n              <control label="Name" input="{ inputs.name }"></control>\n              <control label="Choose what happens after form submit" input="{ inputs[\'thankyou.type\'] }"></control>\n            </div>\n            <div class="col-md-7">\n              <control label="HTML Template or URL (Ignore if using default form action)" input="{ inputs[\'thankyou.html\'] }"></control>\n            </div>\n          </div>\n          <div class="section col-xs-12" style="padding:0">\n            <div class="panel animated fadeIn">\n              <div class="panel-heading">\n                MailChimp\n              </div>\n              <div class="panel-body">\n                <div class="col-xs-6">\n                  <control label="MailChimp List ID"  input="{ inputs[\'mailchimp.id\'] }"></control>\n                  <control label="MailChimp API Key"  input="{ inputs[\'mailchimp.apiKey\'] }"></control>\n                </div>\n                <div class="col-xs-6">\n                  <div class="col-xs-6">\n                    <control label="Double Optin?"       input="{ inputs[\'mailchimp.doubleOptin\'] }"></control>\n                  </div>\n                  <div class="col-xs-6">\n                    <control label="Update Existing?"   input="{ inputs[\'mailchimp.updateExisting\'] }"></control>\n                  </div>\n                  <div class="col-xs-6">\n                    <control label="Replace Interests?" input="{ inputs[\'mailchimp.replaceInterests\'] }"></control>\n                  </div>\n                  <div class="col-xs-6">\n                    <control label="Send Welcome?"      input="{ inputs[\'mailchimp.sendWelcome\'] }"></control>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-6">\n              <div class="panel animated fadeIn">\n                <div class="panel-heading">\n                  Google Analytics\n                </div>\n                <div class="panel-body">\n                  <control label="Google Analytics Event Name"    input="{ inputs[\'google.name\'] }"></control>\n                  <control label="Google Analytics Category"      input="{ inputs[\'google.category\'] }"></control>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-6">\n              <div class="panel animated fadeIn">\n                <div class="panel-heading">\n                  Facebook Analytics\n                </div>\n                <div class="panel-body">\n                  <control label="Facebook Event Id"          input="{ inputs[\'facebook.id\'] }"></control>\n                  <control label="Facebook Event Value"       input="{ inputs[\'facebook.value\'] }"></control>\n                  <control label="Facebook Event Currency"    input="{ inputs[\'facebook.currency\'] }"></control>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="form-actions section text-center">\n            <div class="col-xs-4 col-xs-offset-4">\n              <button type="submit" class="btn btn-block btn-dark">Add</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </mailinglist-form>\n  </div>\n</div>\n<!-- END Mailing Lists View Block -->\n'}),rqzt.define("./site/pages/subscriber",function(module,exports,__dirname,__filename,process){var Page,Subscriber,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Subscriber=function(superClass){function Subscriber(){return Subscriber.__super__.constructor.apply(this,arguments)}return extend(Subscriber,superClass),Subscriber.prototype.tag="page-subscriber",Subscriber.prototype.icon="fa fa-newspaper-o",Subscriber.prototype.name="Subscriber",Subscriber.prototype.html=rqzt("./templates/backend/site/pages/subscriber"),Subscriber.prototype.collection="subscriber",Subscriber}(Page),Subscriber.register(),module.exports=Subscriber}),rqzt.define("./templates/backend/site/pages/subscriber",function(module,exports,__dirname,__filename,process){
module.exports='<!-- Subscriber information Form Block -->\n<div class="tray tray-center">\n  <div class="block col-xs-12">\n    <!-- Subscriber information Form Content -->\n    <subscriber-form id="{opts._id}">\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb10">\n              <control label="Email" input="{ inputs.email }"></control>\n              <control label="Unsubscribed?" input="{ inputs.unsubscribed }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              <control label="Additional JSON Data" input="{ inputs.metadata }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n            </div>\n          </div>\n        </div>\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Metadata\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12">\n              <div class="section row">\n                <control label="IP" input="{ inputs[\'client.ip\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Referrer" input="{ inputs[\'client.referer\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="User Agent" input="{ inputs[\'client.userAgent\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Language" input="{ inputs[\'client.language\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="City" input="{ inputs[\'client.city\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Region" input="{ inputs[\'client.region\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Country" input="{ inputs[\'client.country\'] }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Statistics\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12" style="padding:0">\n              <div class="section row">\n                <control label="ID" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Mailing List ID" input="{ inputs.mailingListId }" labelclasses="col-xs-3" controlclasses="col-xs-9"></control>\n              </div>\n              <div class="section row">\n                <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n              <div class="section row">\n                <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            User Information\n          </div>\n          <div class="panel-body">\n            <subscriber-user-static-form obs="{ obs }">\n              <div if="{ !error }">\n                <div class="section col-xs-12" style="padding:0">\n                  <div class="section row">\n                    <control label="ID" input="{ inputs.id }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Email" input="{ inputs.email }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="First Name" input="{ inputs.firstName }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Last Name" input="{ inputs.lastName }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Phone" input="{ inputs.phone }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                  <div class="section row">\n                    <control label="Created" input="{ inputs.createdAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                 </div>\n                  <div class="section row mb20">\n                    <control label="Last Updated" input="{ inputs.updatedAt }" labelclasses="col-xs-4" controlclasses="col-xs-8"></control>\n                  </div>\n                </div>\n              </div>\n              <h4 if="{ error }" class="text-center mb20">\n                User unlinked or deleted.\n              </h4>\n            </subscriber-user-static-form>\n          </div>\n        </div>\n      </div>\n    </subscriber-form>\n    <!-- END Subscriber information Form Content -->\n  </div>\n</div>\n<!-- END Subscriber information Form Block -->\n'}),rqzt.define("./site/pages/subscribers",function(module,exports,__dirname,__filename,process){var Page,Subscribers,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Subscribers=function(superClass){function Subscribers(){return Subscribers.__super__.constructor.apply(this,arguments)}return extend(Subscribers,superClass),Subscribers.prototype.tag="page-subscribers",Subscribers.prototype.icon="fa fa-newspaper-o",Subscribers.prototype.name="Subscribers",Subscribers.prototype.html=rqzt("./templates/backend/site/pages/subscribers"),Subscribers.prototype.collection="subscribers",Subscribers}(Page),Subscribers.register(),module.exports=Subscribers}),rqzt.define("./templates/backend/site/pages/subscribers",function(module,exports,__dirname,__filename,process){module.exports='<!-- Subscribers View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <div class="panel animated fadeIn">\n      <div class="panel-heading">\n        Subscribers\n      </div>\n      <div class="panel-body">\n          <!-- Subscribers View Content -->\n        <subscriber-paged-table>\n          <div>\n            <i class="fa fa-newspaper-o" style="font-size:50px"></i>\n            <h2 class="text-center">No Subscribers Found</h2>\n          </div>\n        </subscriber-paged-table>\n        <!-- END Subscribers View Content -->\n      </div>\n    </div>\n  </div>\n</div>\n<!-- END Subscribers View Block -->\n\n'}),rqzt.define("./site/pages/profile",function(module,exports,__dirname,__filename,process){var Page,Profile,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Profile=function(superClass){function Profile(){return Profile.__super__.constructor.apply(this,arguments)}return extend(Profile,superClass),Profile.prototype.tag="page-profile",Profile.prototype.icon="glyphicon glyphicon-user",Profile.prototype.name="Profile",Profile.prototype.html=rqzt("./templates/backend/site/pages/profile"),Profile.prototype.apiName="platform",Profile.prototype.collection="profile",Profile}(Page),Profile.register(),module.exports=Profile}),rqzt.define("./templates/backend/site/pages/profile",function(module,exports,__dirname,__filename,process){module.exports='<!-- Profile information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- Profile information Form Content -->\n    <profile-admin-form>\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Contact Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20">\n              <control label="First Name" input="{ inputs.firstName }"></control>\n              <control label="Last Name" input="{ inputs.lastName }"></control>\n              <control label="Email" input="{ inputs.email }"></control>\n              <control label="Phone Number" input="{ inputs.phone }"></control>\n              <div class="has-error" if="{error}">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n            </div>\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-xs-4 col-xs-offset-4">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </profile-admin-form>\n    <new-password-admin-form>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Change Password\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20">\n              <control label="Old Password" input="{ inputs.oldPassword }"></control>\n              <control label="New Password" input="{ inputs.password }"></control>\n              <control label="Confirm Password" input="{ inputs.confirmPassword }"></control>\n              <div class="has-error" if="{error}">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n            </div>\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-md-12 col-md-offset-0 col-xs-4 col-xs-offset-4">\n                <button type="submit" class="btn btn-block btn-dark">Update Password</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </new-password-admin-form>\n    <!-- END Profile information Form Content -->\n  </div>\n  <div class="block row">\n    <!-- Profile information Form Content -->\n    <profile-admin-form>\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Contact Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20">\n              <control label="First Name" input="{ inputs.firstName }"></control>\n              <control label="Last Name" input="{ inputs.lastName }"></control>\n              <control label="Email" input="{ inputs.email }"></control>\n              <control label="Phone Number" input="{ inputs.phone }"></control>\n              <div class="has-error" if="{error}">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n            </div>\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-xs-4 col-xs-offset-4">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </profile-admin-form>\n    <new-password-admin-form>\n      <div class="col-md-4">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Change Password\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20">\n              <control label="Old Password" input="{ inputs.oldPassword }"></control>\n              <control label="New Password" input="{ inputs.password }"></control>\n              <control label="Confirm Password" input="{ inputs.confirmPassword }"></control>\n              <div class="has-error" if="{error}">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n            </div>\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-md-12 col-md-offset-0 col-xs-4 col-xs-offset-4">\n                <button type="submit" class="btn btn-block btn-dark">Update Password</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </new-password-admin-form>\n    <!-- END Profile information Form Content -->\n  </div>\n</div>\n<!-- END Profile information Form Block -->\n'}),rqzt.define("./site/pages/api",function(module,exports,__dirname,__filename,process){var Api,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Api=function(superClass){function Api(){return Api.__super__.constructor.apply(this,arguments)}return extend(Api,superClass),Api.prototype.tag="page-api",Api.prototype.icon="fa fa-key",Api.prototype.name="API",Api.prototype.html=rqzt("./templates/backend/site/pages/api"),Api.prototype.collection="api",Api}(Page),Api.register(),module.exports=Api}),rqzt.define("./templates/backend/site/pages/api",function(module,exports,__dirname,__filename,process){module.exports='<!-- Api Keys View Block -->\n<div class="tray tray-center">\n  <div class="block">\n    <!-- Api Keys information Form Content -->\n    <api-keys-admin-form>\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            API Keys\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20">\n              <control label="Live Secret Key"    input="{ inputs[\'live-secret-key\'] }"></control>\n              <control label="Live Published Key" input="{ inputs[\'live-published-key\'] }"></control>\n              <control label="Test Secret Key"    input="{ inputs[\'test-secret-key\'] }"></control>\n              <control label="Test Published Key" input="{ inputs[\'test-published-key\'] }"></control>\n              <div class="has-error" if="{error}">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n            </div>\n            <div class="form-actions section text-center">\n              <div class="col-xs-4 col-xs-offset-4">\n                <button type="button" class="btn btn-block btn-dark" onclick="{ generateModal }">\n                  Generate New Keys\n                </button>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </api-keys-admin-form>\n  </div>\n</div>\n<!-- END Api Keys View Block -->\n\n'}),rqzt.define("./site/pages/organization",function(module,exports,__dirname,__filename,process){var Organization,Page,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Organization=function(superClass){function Organization(){return Organization.__super__.constructor.apply(this,arguments)}return extend(Organization,superClass),Organization.prototype.tag="page-organization",Organization.prototype.icon="fa fa-sitemap",Organization.prototype.name="Organization",Organization.prototype.html=rqzt("./templates/backend/site/pages/organization"),Organization.prototype.collection="organization",Organization}(Page),Organization.register(),module.exports=Organization}),rqzt.define("./templates/backend/site/pages/organization",function(module,exports,__dirname,__filename,process){module.exports='<!-- Organization information Form Block -->\n<div class="tray tray-center">\n  <div class="block row">\n    <!-- Organization information Form Content -->\n    <organization-admin-form>\n      <div class="col-md-8">\n        <div class="panel animated fadeIn">\n          <div class="panel-heading">\n            Information\n          </div>\n          <div class="panel-body">\n            <div class="section col-xs-12 mb20">\n              <control label="Unique Identifer" input="{ inputs.name }" labelclasses="pln"></control>\n              <div class="section row">\n                <div class="col-xs-6">\n                  <control label="Organization Name" input="{ inputs.fullName }"></control>\n                </div>\n                <div class="col-xs-6">\n                  <control label="Website Url" input="{ inputs.website }"></control>\n                </div>\n              </div>\n              <h4 class="mt20">Email Patterns for Testing</h4>\n              <p>Users with emails matching these patterns will be changed 50 cents. </p>\n              <control label="Use command separated globs (ex. *@{model.name}.com,*@gmail.com)" input="{ inputs.emailWhitelist }"></control>\n              <div class="has-error" if="{error}">\n                <span class="error-container help-block animated fadeInUp">{error.message}</span>\n              </div>\n            </div>\n            <div class="form-actions section col-xs-12" style="padding:0">\n              <div class="col-xs-4 col-xs-offset-4">\n                <button type="submit" class="btn btn-block btn-dark">Save</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </organization-admin-form>\n    <!-- END Organization information Form Content -->\n  </div>\n</div>\n<!-- END Organization information Form Block -->\n'}),rqzt.define("./site/pages/integrations",function(module,exports,__dirname,__filename,process){var Api,Events,Integrations,Page,analyticsSnippet,crowdcontrol,integrations,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,Api=crowdcontrol.data.Api,Page=rqzt("./site/pages/page"),integrations=rqzt("./widget/integrations"),analyticsSnippet='<!-- Crowdstart analytics tag -->\n<script>\n  !function(t,e,a){var r,n,c,i,o,s,l,u;if(null==t.analytics){for(r=[],r.methods=["ab","alias","group","identify","off","on","once","page","pageview","ready","track","trackClick","trackForm","trackLink","trackSubmit"],l=r.methods,c=function(t){r[t]=function(){var e;return e=Array.prototype.slice.call(arguments),e.unshift(t),r.push(e),r}},i=0,o=l.length;o>i;i++)s=l[i],c(s);return u=e.createElement("script"),u.async=!0,u.type="text/javascript",u.src=a,n=e.getElementsByTagName("script")[0],n.parentNode.insertBefore(u,n),t.analytics=r}}(window,document,"//cdn.hanzo.io/a/{orgId}.js");\n</script>',Integrations=function(superClass){function Integrations(){return Integrations.__super__.constructor.apply(this,arguments)}return extend(Integrations,superClass),Integrations.prototype.tag="page-integrations",Integrations.prototype.icon="fa fa-credit-card",Integrations.prototype.name="Integrations",Integrations.prototype.html=rqzt("./templates/backend/site/pages/integrations"),Integrations.prototype.tab="paymentprocessors",Integrations.prototype.dragging=!1,Integrations.prototype.draggingIntegration=null,Integrations.prototype.showSave=!1,Integrations.prototype.saving=!1,Integrations.prototype.events={dragstart:function(e,model){if(null!=(null!=model?model.integration:void 0))return this.dragging=!0,this.draggingIntegration=model.integration,this.update()},dragend:function(e,model){if(null!=(null!=model?model.integration:void 0)){if((null!=model?model.integration:void 0)!==this.draggingIntegration)return;return this.dragging=!1,this.draggingIntegration=null,this.update()}},drop:function(e){if(null!=this.draggingIntegration)return this.addIntegration(this.draggingIntegration,this.tab)}},Integrations.prototype.addIntegration=function(integration,tab,model){var i,obs;return null==model&&(model={}),i=this.integrations[tab].length,this.integrations[tab].push(integration),this.models[tab].push(model),obs={},riot.observable(obs),this.obses[tab].push(obs),obs.on(Events.Integration.Remove,function(_this){return function(){return obs.off(Events.Integration.Remove),console.log("remove",i),delete _this.integrations[tab][i],delete _this.models[tab][i],delete _this.obses[tab][i],riot.update()}}(this)),obs.on(Events.Integration.Update,function(_this){return function(){return console.log("update",i),_this.showSave=!0,riot.update()}}(this)),riot.update()},Integrations.prototype.save=function(event){var j,len,m,model,ref;for(model={integrations:[]},ref=this.models.analytics,j=0,len=ref.length;j<len;j++)m=ref[j],null!=m&&m._validated&&model.integrations.push(m);return this.saving=!0,this.api.post("c/organization/"+window.Organization+"/analytics",model).then(function(_this){return function(res){if(_this.saving=!1,_this.showSave=!1,_this.model=model,200!==res.status&&201!==res.status&&204!==res.status)throw new Error("Form failed to load: ");return riot.update()}}(this)).catch(function(_this){return function(e){return console.log(e.stack),_this.error=e}}(this))},Integrations.prototype.setType=function(t){return function(_this){return function(e){return _this.tab=t,e.preventDefault(),riot.update()}}(this)},Integrations.prototype.collection="integrations",Integrations.prototype.isTabEmpty=function(tab){var integration,j,len,ref;for(ref=this.integrations[tab],j=0,len=ref.length;j<len;j++)if(integration=ref[j])return!1;return!0},Integrations.prototype.js=function(){var api;return Integrations.__super__.js.apply(this,arguments),this.analyticsSnippet=analyticsSnippet.replace("{orgId}",window.Organization),this.models={analytics:[]},this.integrationClasses={analytics:[integrations.Analytics.GoogleAnalytics,integrations.Analytics.GoogleAdwords,integrations.Analytics.FacebookConversions,integrations.Analytics.FacebookPixel,integrations.Analytics.Custom,integrations.Analytics.HeapAnalytics]},this.integrations={analytics:[]},this.obses={analytics:[]},requestAnimationFrame(function(){var e,ref,ref1;try{return"undefined"!=typeof window&&null!==window&&null!=(ref=window.Core)&&ref.init(),"undefined"!=typeof window&&null!==window&&null!=(ref1=window.Core)?ref1.init():void 0}catch(error){return e=error}}),this.on("update",function(){return $(".tray-right").outerHeight($("#content").outerHeight())}),this.api=api=Api.get("crowdstart"),api.get("c/organization/"+window.Organization+"/analytics").then(function(_this){return function(res){var analyticsClass,j,k,len,len1,model,ref,ref1;if(200!==res.status&&204!==res.status)throw new Error("Form failed to load: ");for(_this.model=res.responseText,ref=_this.model.integrations,j=0,len=ref.length;j<len;j++)for(model=ref[j],ref1=_this.integrationClasses.analytics,k=0,len1=ref1.length;k<len1;k++)if(analyticsClass=ref1[k],model.type===analyticsClass.prototype.type){_this.addIntegration(analyticsClass,"analytics",model);break}return riot.update()}}(this)).catch(function(_this){return function(e){return console.log(e.stack),_this.error=e}}(this))},Integrations}(Page),Integrations.register(),riot.tag("integration","",function(opts){var type;if(type=opts.type,null!=type)return riot.mount(this.root,type.prototype.tag,opts)}),module.exports=Integrations}),rqzt.define("./widget/integrations",function(module,exports,__dirname,__filename,process){module.exports={Analytics:rqzt("./widget/integrations/analytics")}}),rqzt.define("./widget/integrations/analytics",function(module,exports,__dirname,__filename,process){module.exports={Custom:rqzt("./widget/integrations/analytics/custom"),GoogleAdwords:rqzt("./widget/integrations/analytics/google-adwords"),GoogleAnalytics:rqzt("./widget/integrations/analytics/google-analytics"),FacebookPixel:rqzt("./widget/integrations/analytics/facebook-pixel"),HeapAnalytics:rqzt("./widget/integrations/analytics/heap"),FacebookConversions:rqzt("./widget/integrations/analytics/facebook-conversions")}}),rqzt.define("./widget/integrations/analytics/custom",function(module,exports,__dirname,__filename,process){var CustomAnalytics,Integration,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Integration=rqzt("./widget/integrations/integration"),input=rqzt("./form/input"),CustomAnalytics=function(superClass){function CustomAnalytics(){return CustomAnalytics.__super__.constructor.apply(this,arguments)}return extend(CustomAnalytics,superClass),CustomAnalytics.prototype.tag="custom-integration",CustomAnalytics.prototype.type="custom",CustomAnalytics.prototype.html=rqzt("./templates/backend/widget/integrations/analytics/custom"),CustomAnalytics.prototype.img="/img/integrations/custom.png",CustomAnalytics.prototype.text="Custom Analytics",CustomAnalytics.prototype.alt="Custom Analytics",CustomAnalytics.prototype.model={code:"//Do Something in JS"},CustomAnalytics.prototype.inputConfigs=[input("event","Choose an event","analytics-events-select required"),input("code","//Do Something in JS","js required"),input("sampling","","numeric")],CustomAnalytics}(Integration),CustomAnalytics.register(),module.exports=CustomAnalytics}),rqzt.define("./widget/integrations/integration",function(module,exports,__dirname,__filename,process){var Events,FormView,Integration,IntegrationHeader,View,crowdcontrol,instanceId,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),View=crowdcontrol.view.View,Events=crowdcontrol.Events,FormView=crowdcontrol.view.form.FormView,instanceId=0,Events.Integration={Update:"integration-updated",Remove:"integration-close"},Integration=function(superClass){function Integration(){return Integration.__super__.constructor.apply(this,arguments)}var obj;return extend(Integration,superClass),Integration.prototype.tag="basic-integration",Integration.prototype.type="basic-integration",Integration.prototype.html="",Integration.prototype.instructions="Information on what to expect from the integration",Integration.prototype.img="/img/integrations/basic.png",Integration.prototype.src="",Integration.prototype.text="",Integration.prototype.alt="Basic",Integration.prototype.name="Basic Integration",Integration.prototype.instanceId=-1,Integration.prototype.error=!1,Integration.prototype.fakeSubmit=!0,Integration.prototype.events=(obj={},obj[""+Events.Form.SubmitFailed]=function(){return this.error=!0,this.fakeSubmit=!1,this.model._validated=!1,this.update()},obj[""+Events.Form.SubmitSuccess]=function(){return this.error=!1,this.model._validated=!0,this.update()},obj[""+Events.Input.Error]=function(){return this.error=!0,this.update()},obj[""+Events.Input.Set]=function(){return this.submit(),this.update()},obj),Integration.prototype._submit=function(){return this.fakeSubmit?void(this.fakeSubmit=!1):this.obs.trigger(Events.Integration.Update)},Integration.prototype.js=function(opts){return Integration.__super__.js.apply(this,arguments),this.on("update",function(){return $('[data-toggle="tooltip"]').tooltip()}),null==this.model.disabled&&(this.model.disabled=!1),this.model.type=this.type,$(this.root).attr("id","current-integration").addClass("animated").addClass("fadeIn"),this.src=this.img?window.staticUrl+this.img:"",this.instanceId=instanceId++,requestAnimationFrame(function(_this){return function(){return _this.fakeSubmit=!0,_this.submit()}}(this)),this.update()},Integration.prototype.removeModal=function(){return bootbox.dialog({title:"Are You Sure?",message:"Removing this integration will delete its settings.",buttons:{Yes:{className:"btn btn-danger",callback:function(_this){return function(){return _this.remove()}}(this)},No:{className:"btn btn-primary",callback:function(){}}}})},Integration.prototype.remove=function(event){return this.obs.trigger(Events.Integration.Remove,event)},Integration.prototype.toggle=function(event){return this.model.disabled=!this.model.disabled,this.submit(),this.update()},Integration.src=function(){return this.prototype.img?window.staticUrl+this.prototype.img:""},Integration.data=function(){return{integration:this,src:this.src(),text:this.prototype.text,alt:this.prototype.alt}},Integration}(FormView),IntegrationHeader=function(superClass){function IntegrationHeader(){return IntegrationHeader.__super__.constructor.apply(this,arguments)}return extend(IntegrationHeader,superClass),IntegrationHeader.prototype.tag="integration-header",IntegrationHeader.prototype.html=rqzt("./templates/backend/widget/integrations/header"),IntegrationHeader}(View),IntegrationHeader.register(),module.exports=Integration}),rqzt.define("./templates/backend/widget/integrations/header",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel-heading">\n  <img if="{ model.src }" src="{ model.src }" alt="{ model.alt }">\n  <span if="{ model.text }">{ model.text }</span>\n  <i if="{ model.error && !model.model.disabled }" class="fa fa-exclamation-triangle warning animated fadeIn" data-toggle="tooltip" data-placement="right" title="Please correct the errors to enable this plugin"></i>\n  <span class="admin-form integration-toggle">\n    <label class="switch switch-primary">\n      <input id="integration-toggle-{ model.instanceId }" type="checkbox" __checked="{ !model.model.disabled }" onchange="{ model.toggle }"></input>\n      <label for="integration-toggle-{ model.instanceId }" data-on="ON" data-off="OFF"></label>\n    </label>\n    <i class="fa fa-times integration-remove" onclick="{ model.removeModal }"></i>\n  </span>\n</div>\n'}),rqzt.define("./form/input",function(module,exports,__dirname,__filename,process){var InputConfig,crowdcontrol;crowdcontrol=rqzt("crowdcontrol/lib"),InputConfig=crowdcontrol.view.form.InputConfig,module.exports=function(name,placeholder,hints,value){return null==value&&(value=""),new InputConfig(name,value,placeholder,hints)}}),rqzt.define("./templates/backend/widget/integrations/analytics/custom",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel form-horizontal animated fadeIn">\n  <integration-header model="{this}">\n  </integration-header>\n  <div class="{panel-body: true, collapsed: model.disabled}">\n    <div class="section mb20">\n      <control label="Tracking Event" input="{ inputs.event }"></control>\n    </div>\n    <div class="section mb20">\n      <control label="Sampling Percent" input="{ inputs.sampling }"></control>\n    </div>\n    <div class="section">\n      <control label="Custom Javascript" input="{ inputs.code }"></control>\n    </div>\n  </div>\n</div>\n';
}),rqzt.define("./widget/integrations/analytics/google-adwords",function(module,exports,__dirname,__filename,process){var GoogleAdwords,Integration,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Integration=rqzt("./widget/integrations/integration"),input=rqzt("./form/input"),GoogleAdwords=function(superClass){function GoogleAdwords(){return GoogleAdwords.__super__.constructor.apply(this,arguments)}return extend(GoogleAdwords,superClass),GoogleAdwords.prototype.tag="gadwords-integration",GoogleAdwords.prototype.type="google-adwords",GoogleAdwords.prototype.html=rqzt("./templates/backend/widget/integrations/analytics/gadwords"),GoogleAdwords.prototype.img="/img/integrations/adwrds.png",GoogleAdwords.prototype.alt="Google Adwords",GoogleAdwords.prototype.text="Google Adwords",GoogleAdwords.prototype.inputConfigs=[input("id","123456789","required"),input("event","Choose an event","analytics-events-select required"),input("sampling","","numeric")],GoogleAdwords}(Integration),GoogleAdwords.register(),module.exports=GoogleAdwords}),rqzt.define("./templates/backend/widget/integrations/analytics/gadwords",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel form-horizontal animated fadeIn">\n  <integration-header model="{this}">\n  </integration-header>\n  <div class="{panel-body: true, collapsed: model.disabled}">\n    <div class="section row">\n      <div class="col-xs-6">\n        <control label="ID" input="{ inputs.id}"></control>\n      </div>\n      <div class="col-xs-6">\n        <control label="Tracking Event" input="{ inputs.event}"></control>\n      </div>\n    </div>\n    <div class="section row">\n      <div class="col-xs-12">\n        <control label="Sampling Percent" input="{ inputs.sampling }"></control>\n      </div>\n    </div>\n  </div>\n</div>\n'}),rqzt.define("./widget/integrations/analytics/google-analytics",function(module,exports,__dirname,__filename,process){var GoogleAnalytics,Integration,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Integration=rqzt("./widget/integrations/integration"),input=rqzt("./form/input"),GoogleAnalytics=function(superClass){function GoogleAnalytics(){return GoogleAnalytics.__super__.constructor.apply(this,arguments)}return extend(GoogleAnalytics,superClass),GoogleAnalytics.prototype.tag="ga-integration",GoogleAnalytics.prototype.type="google-analytics",GoogleAnalytics.prototype.html=rqzt("./templates/backend/widget/integrations/analytics/ga"),GoogleAnalytics.prototype.img="/img/integrations/ga.png",GoogleAnalytics.prototype.alt="Google Analytics",GoogleAnalytics.prototype.text="Google Analytics",GoogleAnalytics.prototype.inputConfigs=[input("id","UA-XXXXXXXX-1","required"),input("sampling","","numeric")],GoogleAnalytics}(Integration),GoogleAnalytics.register(),module.exports=GoogleAnalytics}),rqzt.define("./templates/backend/widget/integrations/analytics/ga",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel form-horizontal animated fadeIn">\n  <integration-header model="{this}">\n  </integration-header>\n  <div class="{ panel-body: true, collapsed: model.disabled }">\n    <div class="section">\n      <control label="ID" input="{ inputs.id}"></control>\n    </div>\n    <div class="section">\n      <control label="Sampling Percent" input="{ inputs.sampling }"></control>\n    </div>\n  </div>\n</div>\n'}),rqzt.define("./widget/integrations/analytics/facebook-pixel",function(module,exports,__dirname,__filename,process){var FacebookPixel,Integration,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Integration=rqzt("./widget/integrations/integration"),input=rqzt("./form/input"),FacebookPixel=function(superClass){function FacebookPixel(){return FacebookPixel.__super__.constructor.apply(this,arguments)}return extend(FacebookPixel,superClass),FacebookPixel.prototype.tag="fb-pixel-integration",FacebookPixel.prototype.type="facebook-pixel",FacebookPixel.prototype.html=rqzt("./templates/backend/widget/integrations/analytics/fbpixel"),FacebookPixel.prototype.img="/img/integrations/fb.png",FacebookPixel.prototype.text="Facebook Pixel",FacebookPixel.prototype.alt="Facebook Pixel",FacebookPixel.prototype.inputConfigs=[input("id","ex. 1234567890123","required"),input("values.currency","","currency-type-select"),input("values.viewedProduct.percent","","numeric"),input("values.viewedProduct.value","","money"),input("values.addedProduct.percent","","numeric"),input("values.addedProduct.value","","money"),input("values.initiateCheckout.percent","","numeric"),input("values.initiateCheckout.value","","money"),input("values.addPaymentInfo.percent","","numeric"),input("values.addPaymentInfo.value","","money"),input("sampling","","numeric")],FacebookPixel}(Integration),FacebookPixel.register(),module.exports=FacebookPixel}),rqzt.define("./templates/backend/widget/integrations/analytics/fbpixel",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel form-horizontal animated fadeIn">\n  <integration-header model="{this}">\n  </integration-header>\n  <div class="{panel-body: true, collapsed: model.disabled }">\n    <div class="section row">\n      <div class="col-xs-6">\n        <control label="Pixel ID" input="{ inputs.id}"></control>\n      </div>\n      <div class="col-xs-6">\n        <control label="Currency" input="{ inputs[\'values.currency\']}"></control>\n      </div>\n    </div>\n    <div class="section row">\n      <div class="col-xs-6">\n        <control label="ViewedProduct Percent" input="{ inputs[\'values.viewedProduct.percent\']}"></control>\n      </div>\n      <div class="col-xs-6">\n        <control label="ViewedProduct Value" input="{ inputs[\'values.viewedProduct.value\']}"></control>\n      </div>\n    </div>\n    <div class="section row">\n      <div class="col-xs-6">\n        <control label="AddedProduct Percent" input="{ inputs[\'values.addedProduct.percent\']}"></control>\n      </div>\n      <div class="col-xs-6">\n        <control label="AddedProduct Value" input="{ inputs[\'values.addedProduct.value\']}"></control>\n      </div>\n    </div>\n    <div class="section row">\n      <div class="col-xs-6">\n        <control label="InitiateCheckout Percent" input="{ inputs[\'values.initiateCheckout.percent\']}"></control>\n      </div>\n      <div class="col-xs-6">\n        <control label="InitiateCheckout Value" input="{ inputs[\'values.initiateCheckout.value\']}"></control>\n      </div>\n    </div>\n    <div class="section row">\n      <div class="col-xs-6">\n        <control label="AddPaymentInfo Percent" input="{ inputs[\'values.addPaymentInfo.percent\']}"></control>\n      </div>\n      <div class="col-xs-6">\n        <control label="AddPaymentInfo Value" input="{ inputs[\'values.addPaymentInfo.value\']}"></control>\n      </div>\n    </div>\n    <div class="section row">\n      <div class="col-xs-12">\n        <control label="Sampling Percent" input="{ inputs.sampling }"></control>\n      </div>\n    </div>\n  </div>\n</div>\n'}),rqzt.define("./widget/integrations/analytics/heap",function(module,exports,__dirname,__filename,process){var HeapAnalytics,Integration,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Integration=rqzt("./widget/integrations/integration"),input=rqzt("./form/input"),HeapAnalytics=function(superClass){function HeapAnalytics(){return HeapAnalytics.__super__.constructor.apply(this,arguments)}return extend(HeapAnalytics,superClass),HeapAnalytics.prototype.tag="heap-integration",HeapAnalytics.prototype.type="heap-analytics",HeapAnalytics.prototype.html=rqzt("./templates/backend/widget/integrations/analytics/heap"),HeapAnalytics.prototype.img="/img/integrations/heap.png",HeapAnalytics.prototype.alt="Heap Analytics",HeapAnalytics.prototype.text="Heap Analytics",HeapAnalytics.prototype.inputConfigs=[input("id","123456789","required"),input("sampling","","numeric")],HeapAnalytics}(Integration),HeapAnalytics.register(),module.exports=HeapAnalytics}),rqzt.define("./templates/backend/widget/integrations/analytics/heap",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel form-horizontal animated fadeIn">\n  <integration-header model="{this}">\n  </integration-header>\n  <div class="{ panel-body: true, collapsed: model.disabled }">\n    <div class="section">\n      <control label="ID" input="{ inputs.id}"></control>\n    </div>\n    <div class="section">\n      <control label="Sampling Percent" input="{ inputs.sampling }"></control>\n    </div>\n  </div>\n</div>\n'}),rqzt.define("./widget/integrations/analytics/facebook-conversions",function(module,exports,__dirname,__filename,process){var FacebookConversions,Integration,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Integration=rqzt("./widget/integrations/integration"),input=rqzt("./form/input"),FacebookConversions=function(superClass){function FacebookConversions(){return FacebookConversions.__super__.constructor.apply(this,arguments)}return extend(FacebookConversions,superClass),FacebookConversions.prototype.tag="fb-conversions-integration",FacebookConversions.prototype.type="facebook-conversions",FacebookConversions.prototype.html=rqzt("./templates/backend/widget/integrations/analytics/fbconversions"),FacebookConversions.prototype.img="/img/integrations/fb.png",FacebookConversions.prototype.text="Facebook Conversions",FacebookConversions.prototype.alt="Facebook Analytics",FacebookConversions.prototype.inputConfigs=[input("id","ex. 1234567890123","required"),input("event","Choose an event","analytics-events-select required"),input("sampling","","numeric")],FacebookConversions}(Integration),FacebookConversions.register(),module.exports=FacebookConversions}),rqzt.define("./templates/backend/widget/integrations/analytics/fbconversions",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel form-horizontal animated fadeIn">\n  <integration-header model="{this}">\n  </integration-header>\n  <div class="{panel-body: true, collapsed: model.disabled}">\n    <div class="section row">\n      <div class="col-xs-6">\n        <control label="Pixel ID" input="{ inputs.id}"></control>\n      </div>\n      <div class="col-xs-6">\n        <control label="Tracking Event" input="{ inputs.event}"></control>\n      </div>\n    </div>\n    <div class="section row">\n      <div class="col-xs-12">\n        <control label="Sampling Percent" input="{ inputs.sampling }"></control>\n      </div>\n    </div>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/site/pages/integrations",function(module,exports,__dirname,__filename,process){module.exports='<!-- Integration information Form Block -->\n<div class ="block cs-nav-tabs nav-tabs">\n  <div class="btn-group">\n    <a href="#" class="{ btn: true, btn-default: true, cs-selected: tab == \'paymentprocessors\' }" onclick="{ setType(\'paymentprocessors\') }">Payment Processors</a>\n    <a href="#" class="{ btn: true, btn-default: true, cs-selected: tab == \'analytics\' }" onclick="{ setType(\'analytics\') }">Analytics</a>\n  </div>\n</div>\n\n<div class="tray tray-center">\n\n  <div class="block row">\n    <div id="paymentprocessors" if="{ tab == \'paymentprocessors\' }">\n\n      <!-- Stripe Integration information Form Content -->\n      <st-ripe-integration-form>\n        <div class="col-md-6">\n          <div class="panel animated fadeIn">\n            <div class="panel-heading">\n              Stripe\n            </div>\n            <div class="panel-body">\n              <div class="section col-xs-12" style="padding:0">\n                <div class="well">\n                  <h4 if="{ model.state == \'error\' }" class="text-danger text-center">Your Stripe account was not successfully be connected.  Please try again.</h4>\n                  <h4 if="{ model.state == \'connected\' }" class="text-center">Your Stripe account is connected.</h4>\n                  <h4 if="{ model.state == \'new\' }" class="text-center">Connect a Stripe account to start selling products.</h4>\n                </div>\n              </div>\n              <div class="form-actions section row">\n                <div class="col-md-8">\n                  <button onclick="{ stripeOAuth }" __disabled="{ !model.clientId }" if="{ model.state == \'connected\' }" class="btn btn-block btn-effect-ripple btn-success" class="stripe-connect" type="button"><i class="fa fa-check"></i>Update Stripe Connect</button>\n                  <button onclick="{ stripeOAuth }" __disabled="{ !model.clientId }" if="{ model.state != \'connected\' }" class="btn btn-block btn-effect-ripple btn-dark" class="stripe-connect" type="button">Connect with Stripe</button>\n                </div>\n                <div class="col-md-4">\n                  <button onclick="{ stripeSync }" __disabled="{ !model.clientId || syncing }" class="btn btn-block btn-default" type="button">Sync orders</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </st-ripe-integration-form>\n      <!-- END Stripe Integration information Form Content -->\n\n    </div>\n  </div>\n\n  <div id="analytics" if="{ tab == \'analytics\' }">\n    <div class="{cs-droparea: true, active: dragging}">\n      <div if="{ isTabEmpty(\'analytics\') }" class="text-center mt30">\n        Drag plugins over here to enable them.\n      </div>\n      <integration if="{ integration }" type="{ integration }" model="{ this.parent.models.analytics[i] }" obs="{ this.parent.obses.analytics[i] }" each="{ integration, i in integrations.analytics }">\n      </integration>\n      <drop obs="{ obs }">\n        <div class="{cs-droparea-overlay: true}">\n          Drop Plugins Here\n        </div>\n      </drop>\n    </div>\n  </div>\n\n</div>\n\n<aside class="{ tray-hidden: tab != \'analytics\', tray: true, tray-right: true, tray320: true, p20: true, cs-integration: true }">\n  <div if="{ tab == \'analytics\'}">\n    <h4>Snippet</h4>\n    <hr class="alt short">\n    <textarea class="form-control mb20">{analyticsSnippet}</textarea>\n    <h4>Plugins</h4>\n    <hr class="alt short">\n    <drag each="{ integrationClass, i in integrationClasses.analytics }" model="{ integrationClass.data() }" obs="{ this.parent.obs }">\n      <div class="btn btn-lg btn-block btn-rounded mb10">\n        <img if="{model.src}" src="{model.src}" alt="{model.alt}">\n        <span if="{model.text}">{model.text}</span>\n      </div>\n    </drag>\n  </div>\n</aside>\n\n<!-- Begin: Page Footer -->\n<footer id="content-footer" class="{ affix: true, footer-hidden: !showSave }">\n  <div class="row">\n    <i class="fa fa-info-circle"></i>\n    <h5>Save your changes?</h5>\n    <button type="button" class="btn btn-default btn-sm" onclick="{ save }" __disabled="{ saving }">{ saving ? \'Saving...\' : \'Save\' }</button>\n  </div>\n</footer>\n<!-- End: Page Footer -->\n\n<!-- END Integration information Form Block -->\n'}),rqzt.define("./site/pages/search",function(module,exports,__dirname,__filename,process){var Page,Search,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;Page=rqzt("./site/pages/page"),Search=function(superClass){function Search(){return Search.__super__.constructor.apply(this,arguments)}return extend(Search,superClass),Search.prototype.tag="page-search",Search.prototype.icon="fa fa-search",Search.prototype.name="Search",Search.prototype.html=rqzt("./templates/backend/site/pages/search"),Search.prototype.collection="search",Search}(Page),Search.register(),module.exports=Search}),rqzt.define("./templates/backend/site/pages/search",function(module,exports,__dirname,__filename,process){module.exports='<!-- Orders View Block -->\n<div class="tray tray-center">\n  <search-widget>\n    <div class="block">\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Users\n        </div>\n        <div class="panel-body">\n          <user-list obs="{userObs}">\n            <div>\n              <i class="fa fa-users" style="font-size:50px"></i>\n              <h2 class="text-center">No Users Found</h2>\n            </div>\n          <user-list>\n        </div>\n      </div>\n    </div>\n    <div class="block">\n      <div class="panel animated fadeIn">\n        <div class="panel-heading">\n          Orders\n        </div>\n        <div class="panel-body">\n          <order-list obs="{orderObs}">\n            <div>\n              <i class="glyphicon glyphicon-shopping-cart" style="font-size:50px"></i>\n              <h2 class="text-center">No Orders Found</h2>\n            </div>\n          <order-list>\n        </div>\n      </div>\n    </div>\n  </search-widget>\n</div>\n<!-- END Orders View Block -->\n\n'}),rqzt.define("./templates/backend/site/crumbs",function(module,exports,__dirname,__filename,process){module.exports='<header id="topbar" class="alt">\n  <div class="topbar-left">\n    <ol class="breadcrumb">\n      <li class="crumb-icon">\n        <a href="dashboard">\n          <span class="glyphicon glyphicon-home"></span>\n        </a>\n      </li>\n      <li class="crumb-trail">\n        { getActive().name }\n      </li>\n      <li class="crumb-trail" if="{ getActiveId() }">\n        { getActiveId() }\n      </li>\n    </ol>\n  </div>\n</header>\n'}),rqzt.define("./site/menu",function(module,exports,__dirname,__filename,process){var Menu,Router,View,activePage,crowdcontrol,menu,pages,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),pages=rqzt("./site/pages"),Router=rqzt("./site/router"),View=crowdcontrol.view.View,menu=window.User.owner?[{name:"Menu",data:[pages.Dashboard,pages.Users,pages.Orders,pages.Payments,pages.Products,pages.Coupons,pages.Stores,pages.MailingLists,pages.Subscribers]},{name:"System",data:[pages.Profile,pages.Api,pages.Organization,pages.Integrations]}]:[{name:"Menu",data:[pages.Users,pages.Orders]}],activePage=pages.Dashboard,Menu=function(superClass){function Menu(){return Menu.__super__.constructor.apply(this,arguments)}return extend(Menu,superClass),Menu.prototype.tag="menu",Menu.prototype.html=rqzt("./templates/backend/site/menu"),Menu.prototype.model=menu,Menu.prototype.route=function(url){return riot.route(url)},Menu.prototype.js=function(){return Menu.__super__.js.apply(this,arguments),requestAnimationFrame(function(){var e,ref;try{return"undefined"!=typeof window&&null!==window&&null!=(ref=window.Core)?ref.init():void 0}catch(error){return e=error}})},Menu.prototype.setActive=function(p){return activePage=p,this.update()},Menu.prototype.getActive=function(){return activePage},Menu.setActive=function(p){return activePage=p,riot.update()},Menu.getActive=function(){return activePage},Menu}(View),Menu.register(),module.exports=Router.Menu=Menu}),rqzt.define("./templates/backend/site/menu",function(module,exports,__dirname,__filename,process){module.exports='<!-- Start: Sidebar Menu -->\n<ul class="nav sidebar-menu" each="{ category, i in model }">\n  <li class="sidebar-label pt20">{ category.name }</li>\n  <li each="{ item, j in category.data }" class="{ active: this.parent.parent && this.parent.parent.getActive() === item }">\n    <a if="{!item.data}" id="menu-{ item.prototype.collection }" href="#{ item.prototype.collection }">\n      <span class="{ item.prototype.icon }"></span>\n      <span class="sidebar-title">{ item.prototype.name }</span>\n    </a>\n    <a if="{item.data}" href="#" class="accordion-toggle">\n      <span class="{ item.icon }"></span>\n      <span class="sidebar-title">Settings</span>\n      <span class="caret"></span>\n    </a>\n    <ul if="{ item.data }" class="nav sub-nav">\n      <li each="{ subitem, k in item.data }" class="{ active: this.parent.getActive() === subitem }">\n        <a if="{!data}" id="menu-{ subitem.prototype.collection }" href="#{ subitem.prototype.collection }">\n          <span class="{ subitem.prototype.icon }"></span>\n          <span class="sidebar-title">{ subitem.prototype.name }</span>\n        </a>\n      </li>\n    </ul>\n  </li>\n</ul>\n<!-- End: Sidebar Menu -->\n\n\n'}),rqzt.define("./table",function(module,exports,__dirname,__filename,process){var helpers,types;types=rqzt("./table/types"),helpers=rqzt("./table/helpers"),rqzt("./table/fields"),module.exports={helpers:helpers,BasicTableView:types.BasicTableView,TableFieldConfig:types.TableFieldConfig,lists:rqzt("./table/lists"),paged:rqzt("./table/paged"),field:types.field}}),rqzt.define("./table/types",function(module,exports,__dirname,__filename,process){var BasicTableView,Events,Source,TableFieldConfig,View,_,crowdcontrol,riot,tokenize,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;riot=rqzt("riot/riot"),_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,tokenize=crowdcontrol.view.form.tokenize,View=crowdcontrol.view.View,Source=crowdcontrol.data.Source,TableFieldConfig=function(){function TableFieldConfig(id1,name1,type1,hints){this.id=id1,this.name=name1,this.type=null!=type1?type1:"text",null==hints&&(hints=""),this.hints=tokenize(hints)}return TableFieldConfig.prototype.field="",TableFieldConfig.prototype.name="",TableFieldConfig.prototype.type="",TableFieldConfig.prototype.hints="",TableFieldConfig}(),Events.Table={PrepareForNewData:"table-prepare",NewData:"table-new-data",StartSearch:"table-start-search",EndSearch:"table-end-search"},BasicTableView=function(superClass){function BasicTableView(){return BasicTableView.__super__.constructor.apply(this,arguments)}var obj;return extend(BasicTableView,superClass),BasicTableView.prototype.tag="basic-table",BasicTableView.prototype.html=rqzt("./templates/backend/table/template"),BasicTableView.prototype.searching=!1,BasicTableView.prototype.events=(obj={},obj[""+Events.Table.NewData]=function(model){return this.model=model,riot.update()},obj[""+Events.Table.StartSearch]=function(){return this.searching=!0},obj[""+Events.Table.EndSearch]=function(){return this.searching=!1},obj),BasicTableView.prototype.isEmpty=function(){var model;return model=this.model,null==model||!model.length||0===model.length},BasicTableView.prototype.js=function(opts){var header,i,len,ref,results;for(null==this.headers&&(this.headers=opts.headers),this.headerMap={},ref=this.headers,results=[],i=0,len=ref.length;i<len;i++)header=ref[i],results.push(this.headerMap[header.id]=header);return results},BasicTableView}(View),BasicTableView.register(),module.exports={BasicTableView:BasicTableView,TableFieldConfig:TableFieldConfig,field:function(id,name,type,hints){return new TableFieldConfig(id,name,type,hints)}}}),rqzt.define("./templates/backend/table/template",function(module,exports,__dirname,__filename,process){module.exports='<div if="{ !isEmpty() }" class="table-responsive">\n  <table class="table table-striped table-hover">\n    <thead>\n      <tr>\n        <th class="{ text-right: type == \'date\' || type == \'ago\' || type == \'money\'}" each="{ headers }">{name}</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr each="{ row, i in model }" class="animated fadeIn">\n        <td each="{ field, j in this.parent.headers }">\n          <table-field field="{ field }" row="{ this.parent }"></table-field>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<h3 class="text-center pb10" if="{ isEmpty() }">\n  <div class="status-message" if="{ searching }">\n    <i class="text-center" class="glyphicon glyphicon-search" style="font-size:50px"></i>\n    <h2 class="text-center">Searching...</h2>\n  </div>\n  <div class="status-message" if="{ !searching }">\n    <yield></yield>\n  </div>\n</h3>\n'}),rqzt.define("./table/helpers",function(module,exports,__dirname,__filename,process){var TableFieldCondition,_,helpers,riot;riot=rqzt("riot/riot"),_=rqzt("underscore/underscore"),TableFieldCondition=function(){function TableFieldCondition(predicate1,tagName1){this.predicate=predicate1,this.tagName=tagName1}return TableFieldCondition}(),helpers={tagLookup:[],defaultTagName:"basic-table-field",registerTag:function(predicate,tagName){return this.tagLookup.push(new TableFieldCondition(predicate,tagName))},deleteTag:function(tagName){var i,j,len,lookup,ref,results;for(ref=this.tagLookup,results=[],i=j=0,len=ref.length;j<len;i=++j)lookup=ref[i],lookup.tagName===tagName?results.push(this.tagLookup[i]=null):results.push(void 0);return results},render:function(tableFieldConfig){var j,len,lookup,ref,tag;if(null!=tableFieldConfig){for(ref=this.tagLookup,j=0,len=ref.length;j<len;j++)if(lookup=ref[j],null!=lookup&&lookup.predicate(tableFieldConfig))return tag=lookup.tagName;return this.defaultTagName}}},riot.tag("table-field","",function(opts){var dummyOpts,field,tag,tags;return field=opts.field,tag=helpers.render(field),dummyOpts=_.extend({},opts),tags=riot.mount(this.root,tag,opts),tags[0].js(opts)}),module.exports=helpers}),rqzt.define("./table/fields",function(module,exports,__dirname,__filename,process){var AgoTableFieldView,Api,BasicTableFieldView,DateTableFieldView,IdListTableFieldView,IdTableFieldView,MoneyTableFieldView,NumericTableFieldView,SnippetTableFieldView,TextareaTableFieldView,TotalTableFieldView,View,crowdcontrol,helpers,moment,util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),moment=rqzt("moment/moment"),util=rqzt("./util"),helpers=rqzt("./table/helpers"),View=crowdcontrol.view.View,Api=crowdcontrol.data.Api,BasicTableFieldView=function(superClass){function BasicTableFieldView(){return BasicTableFieldView.__super__.constructor.apply(this,arguments)}return extend(BasicTableFieldView,superClass),BasicTableFieldView.prototype.tag="basic-table-field",BasicTableFieldView.prototype.html=rqzt("./templates/backend/table/fields/basic-field"),BasicTableFieldView.prototype.js=function(opts){var currentObject,i,id,len,name,names,row;if(this.field=opts.field,this.row=row=opts.row,id=opts.field.id,names=id.split("."),1===names.length)return this.value=row[id];for(currentObject=row,i=0,len=names.length;i<len;i++){if(name=names[i],null==currentObject[name])return void(this.value=void 0);currentObject=currentObject[name]}return this.value=currentObject},BasicTableFieldView}(View),BasicTableFieldView.register(),TextareaTableFieldView=function(superClass){function TextareaTableFieldView(){return TextareaTableFieldView.__super__.constructor.apply(this,arguments)}return extend(TextareaTableFieldView,superClass),TextareaTableFieldView.prototype.tag="textarea-table-field",TextareaTableFieldView.prototype.html=rqzt("./templates/backend/table/fields/textarea-field"),TextareaTableFieldView}(BasicTableFieldView),TextareaTableFieldView.register(),SnippetTableFieldView=function(superClass){function SnippetTableFieldView(){return SnippetTableFieldView.__super__.constructor.apply(this,arguments)}return extend(SnippetTableFieldView,superClass),SnippetTableFieldView.prototype.tag="snippet-table-field",SnippetTableFieldView.prototype.js=function(opts){var api;return SnippetTableFieldView.__super__.js.apply(this,arguments),api=Api.get("crowdstart"),this.value='<script src="'+api.url+"/mailinglist/"+this.value+'/js"></script>'},SnippetTableFieldView}(TextareaTableFieldView),SnippetTableFieldView.register(),IdTableFieldView=function(superClass){function IdTableFieldView(){return IdTableFieldView.__super__.constructor.apply(this,arguments)}return extend(IdTableFieldView,superClass),IdTableFieldView.prototype.tag="id-table-field",IdTableFieldView.prototype.html=rqzt("./templates/backend/table/fields/link-field"),IdTableFieldView.prototype.js=function(opts){return IdTableFieldView.__super__.js.apply(this,arguments),this.displayField=opts.field.hints["id-display"],this.displayValue=null!=this.displayField?opts.row[this.displayField]:opts.row[this.field.id],this.path=opts.field.hints["id-path"]},IdTableFieldView}(BasicTableFieldView),IdTableFieldView.register(),IdListTableFieldView=function(superClass){function IdListTableFieldView(){return IdListTableFieldView.__super__.constructor.apply(this,arguments)}return extend(IdListTableFieldView,superClass),IdListTableFieldView.prototype.tag="id-list-table-field",IdListTableFieldView.prototype.html=rqzt("./templates/backend/table/fields/link-list-field"),IdListTableFieldView.prototype.js=function(opts){return IdListTableFieldView.__super__.js.apply(this,arguments),this.path=opts.field.hints["id-path"]},IdListTableFieldView}(BasicTableFieldView),IdListTableFieldView.register(),NumericTableFieldView=function(superClass){function NumericTableFieldView(){return NumericTableFieldView.__super__.constructor.apply(this,arguments)}return extend(NumericTableFieldView,superClass),NumericTableFieldView.prototype.tag="numeric-table-field",NumericTableFieldView.prototype.html=rqzt("./templates/backend/table/fields/numeric-field"),NumericTableFieldView}(BasicTableFieldView),NumericTableFieldView.register(),MoneyTableFieldView=function(superClass){function MoneyTableFieldView(){return MoneyTableFieldView.__super__.constructor.apply(this,arguments)}return extend(MoneyTableFieldView,superClass),MoneyTableFieldView.prototype.tag="money-table-field",MoneyTableFieldView.prototype.js=function(){return MoneyTableFieldView.__super__.js.apply(this,arguments),this.value=util.currency.renderUICurrencyFromJSON(this.row.currency,this.value)},MoneyTableFieldView}(NumericTableFieldView),MoneyTableFieldView.register(),TotalTableFieldView=function(superClass){function TotalTableFieldView(){return TotalTableFieldView.__super__.constructor.apply(this,arguments)}return extend(TotalTableFieldView,superClass),TotalTableFieldView.prototype.tag="total-table-field",TotalTableFieldView.prototype.js=function(){return TotalTableFieldView.__super__.js.apply(this,arguments),this.value=util.currency.renderUICurrencyFromJSON(this.row.currency,this.row.price*this.row.quantity)},TotalTableFieldView}(NumericTableFieldView),TotalTableFieldView.register(),DateTableFieldView=function(superClass){function DateTableFieldView(){return DateTableFieldView.__super__.constructor.apply(this,arguments);
}return extend(DateTableFieldView,superClass),DateTableFieldView.prototype.tag="date-table-field",DateTableFieldView.prototype.html=rqzt("./templates/backend/table/fields/numeric-field"),DateTableFieldView.prototype.js=function(){return DateTableFieldView.__super__.js.apply(this,arguments),this.value=moment(this.value).format("YYYY-MM-DD HH:mm")},DateTableFieldView}(BasicTableFieldView),DateTableFieldView.register(),AgoTableFieldView=function(superClass){function AgoTableFieldView(){return AgoTableFieldView.__super__.constructor.apply(this,arguments)}return extend(AgoTableFieldView,superClass),AgoTableFieldView.prototype.tag="ago-table-field",AgoTableFieldView.prototype.js=function(){return AgoTableFieldView.__super__.js.apply(this,arguments),this.value=moment(this.value).fromNow()},AgoTableFieldView}(DateTableFieldView),AgoTableFieldView.register(),helpers.registerTag(function(fieldCfg){return"numeric"===fieldCfg.type},"numeric-table-field"),helpers.registerTag(function(fieldCfg){return"money"===fieldCfg.type},"money-table-field"),helpers.registerTag(function(fieldCfg){return"ago"===fieldCfg.type},"ago-table-field"),helpers.registerTag(function(fieldCfg){return"date"===fieldCfg.type},"date-table-field"),helpers.registerTag(function(fieldCfg){return"total"===fieldCfg.type},"total-table-field"),helpers.registerTag(function(fieldCfg){return"id"===fieldCfg.type},"id-table-field"),helpers.registerTag(function(fieldCfg){return"id-list"===fieldCfg.type},"id-list-table-field"),helpers.registerTag(function(fieldCfg){return"textarea"===fieldCfg.type},"textarea-table-field"),helpers.registerTag(function(fieldCfg){return"snippet"===fieldCfg.type},"snippet-table-field")}),rqzt.define("./templates/backend/table/fields/basic-field",function(module,exports,__dirname,__filename,process){module.exports="<div>{ value }</div>\n"}),rqzt.define("./templates/backend/table/fields/textarea-field",function(module,exports,__dirname,__filename,process){module.exports="<textarea>{ value }</textarea>\n"}),rqzt.define("./templates/backend/table/fields/link-field",function(module,exports,__dirname,__filename,process){module.exports='<div>\n  <a href="{ path }/{ value }">\n    { displayValue || value }\n  </a>\n</div>\n\n'}),rqzt.define("./templates/backend/table/fields/link-list-field",function(module,exports,__dirname,__filename,process){module.exports='<div>\n  <a href="{ this.parent.path }/{ v }" each="{ v in value }">\n    { v }\n    <br>\n  </a>\n</div>\n'}),rqzt.define("./templates/backend/table/fields/numeric-field",function(module,exports,__dirname,__filename,process){module.exports='<div class="text-right">{ value }</div>\n'}),rqzt.define("./table/lists",function(module,exports,__dirname,__filename,process){module.export={user:rqzt("./table/lists/user"),order:rqzt("./table/lists/order"),item:rqzt("./table/lists/item"),payment:rqzt("./table/lists/payment"),referral:rqzt("./table/lists/referral"),referrer:rqzt("./table/lists/referrer")}}),rqzt.define("./table/lists/user",function(module,exports,__dirname,__filename,process){var BasicList,Source,UserList,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicList=rqzt("./table/lists/list"),UserList=function(superClass){function UserList(){return UserList.__super__.constructor.apply(this,arguments)}return extend(UserList,superClass),UserList.prototype.tag="user-list",UserList.prototype.path="user",UserList.prototype.headers=[field("id","ID","id","id-path:#user id-display:email"),field("firstName","First Name"),field("lastName","Last Name"),field("createdAt","Created On","date"),field("updatedAt","Last Updated","ago")],UserList}(BasicList),UserList.register()}),rqzt.define("./table/lists/list",function(module,exports,__dirname,__filename,process){var Api,BasicList,BasicTableView,crowdcontrol,field,m,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Api=crowdcontrol.data.Api,BasicTableView=table.BasicTableView,m=crowdcontrol.utils.mediator,BasicList=function(superClass){function BasicList(){return BasicList.__super__.constructor.apply(this,arguments)}return extend(BasicList,superClass),BasicList.prototype.tag="basic-list",BasicList.prototype.js=function(opts){var api;if(BasicList.__super__.js.apply(this,arguments),null!=opts.path)return opts.path&&(this.path=opts.path),this.api=api=Api.get("crowdstart"),m.trigger("start-spin",this.tag+this.path+"-list-load"),api.get(this.path).then(function(_this){return function(res){return m.trigger("stop-spin",_this.tag+_this.path+"-list-load"),_this.model=res.responseText,_this.update()}}(this))},BasicList}(BasicTableView),module.exports=BasicList}),rqzt.define("./table/lists/order",function(module,exports,__dirname,__filename,process){var BasicList,OrderList,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicList=rqzt("./table/lists/list"),OrderList=function(superClass){function OrderList(){return OrderList.__super__.constructor.apply(this,arguments)}return extend(OrderList,superClass),OrderList.prototype.tag="order-list",OrderList.prototype.path="order",OrderList.prototype.headers=[field("id","Number","id","id-display:number id-path:#order dontsort"),field("currency","Currency","upper"),field("total","Total","money"),field("status","Order Status"),field("paymentStatus","Paid"),field("fulfillmentStatus","Fulfillment Status"),field("couponCodes","Coupon(s)","id-list","id-path:#coupon"),field("createdAt","Created","date"),field("updatedAt","Last Updated","ago")],OrderList}(BasicList),OrderList.register()}),rqzt.define("./table/lists/item",function(module,exports,__dirname,__filename,process){var BasicFormView,BasicList,Events,ItemList,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,BasicFormView=rqzt("./form/basic"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicList=rqzt("./table/lists/list"),ItemList=function(superClass){function ItemList(){return ItemList.__super__.constructor.apply(this,arguments)}var obj;return extend(ItemList,superClass),ItemList.prototype.tag="item-list",ItemList.prototype.path="item",ItemList.prototype.itemsModel="items",ItemList.prototype.headers=[field("productId","Product Slug","id","id-display:productSlug id-path:../product"),field("productName","Product "),field("quantity","Quantity"),field("price","Unit Price","money"),field("totalPrice","Total","total")],ItemList.prototype.js=function(opts){var ref;return ItemList.__super__.js.apply(this,arguments),this.itemsModel=null!=(ref=opts.itemsmodel)?ref:this.itemsModel},ItemList.prototype.events=(obj={},obj[""+Events.Form.Prefill]=function(orderModel){var i,item,len,ref;if(this.model=orderModel[this.itemsModel],null!=this.model){for(ref=this.model,i=0,len=ref.length;i<len;i++)item=ref[i],item.currency=orderModel.currency;return this.update()}},obj),ItemList}(BasicList),ItemList.register()}),rqzt.define("./form/basic",function(module,exports,__dirname,__filename,process){var Api,BasicFormView,Events,FormView,Source,crowdcontrol,m,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,FormView=crowdcontrol.view.form.FormView,Api=crowdcontrol.data.Api,Source=crowdcontrol.data.Source,m=crowdcontrol.utils.mediator,Events.Form.Prefill="form-data-load",Events.Form.ResponseSuccess="form-response-success",Events.Form.ResponseFailed="form-response-failed",BasicFormView=function(superClass){function BasicFormView(){return BasicFormView.__super__.constructor.apply(this,arguments)}var obj;return extend(BasicFormView,superClass),BasicFormView.prototype.tag="basic-form",BasicFormView.prototype.redirectPath="",BasicFormView.prototype.path="",BasicFormView.prototype.html=rqzt("./templates/backend/form/template"),BasicFormView.prototype.id=null,BasicFormView.prototype.error=null,BasicFormView.prototype.processButtonText="Saving...",BasicFormView.prototype.successButtonText="Saved",BasicFormView.prototype.events=(obj={},obj[""+Events.Form.SubmitFailed]=function(){return requestAnimationFrame(function(){var $container;if($container=$(".error-container"),$container[0])return $("html, body").animate({scrollTop:$container.offset().top-$(window).height()/2},1e3)})},obj),BasicFormView.prototype.deleteModal=function(){return bootbox.dialog({title:"Are You Sure?",message:"Deleting this will remove it forever.",buttons:{Yes:{className:"btn btn-danger",callback:function(_this){return function(){return _this.delete()}}(this)},No:{className:"btn btn-primary",callback:function(){}}}})},BasicFormView.prototype.delete=function(){return m.trigger("start-spin",this.path+"-delete"),this.api.delete(this.path).finally(function(_this){return function(e){return e&&console.log(e.stack),window.location.hash=_this.redirectPath,riot.update()}}(this))},BasicFormView.prototype.js=function(opts){var api;return BasicFormView.__super__.js.apply(this,arguments),this.api=api=Api.get("crowdstart"),null!=this.id?(this.loading=!0,m.trigger("start-spin",this.path+"-form-load"),api.get(this.path).then(function(_this){return function(res){if(m.trigger("stop-spin",_this.path+"-form-load"),200!==res.status&&204!==res.status)throw new Error("Form failed to load: ");return _this.model=res.responseText,_this.loadData(_this.model),_this.initFormGroup(),_this.obs.trigger(Events.Form.Prefill,_this.model),riot.update()}}(this)).catch(function(_this){return function(e){return console.log(e.stack),_this.error=e}}(this))):requestAnimationFrame(function(_this){return function(){return _this.obs.trigger(Events.Form.Prefill,_this.model)}}(this))},BasicFormView.prototype.initFormGroup=function(){var input,key,ref;if(null==this.id&&null!=this.inputs){ref=this.inputs;for(key in ref)input=ref[key],input.model.value=""}return BasicFormView.__super__.initFormGroup.apply(this,arguments)},BasicFormView.prototype.loadData=function(model){},BasicFormView.prototype._submit=function(event){var $button,buttonText,method;return m.trigger("start-spin",this.path+"-form-save"),this.update(),method=null!=this.id?"patch":"post",$button=$(event.target).find("input[type=submit], button[type=submit]"),buttonText=$button.text(),$button.text(this.processButtonText),$button.prop("disabled",!0),this.fullyValidated=!1,this.api[method](this.path,this.model).then(function(_this){return function(res){if(200!==res.status&&201!==res.status&&204!==res.status)throw new Error(res.responseText.error.message);return _this.error=void 0,m.trigger("stop-spin",_this.path+"-form-save"),$button.text(_this.successButtonText),setTimeout(function(){return $button.text(buttonText),$button.prop("disabled",!1)},1e3),_this.loadData(res.responseText),_this.obs.trigger(Events.Form.ResponseSuccess),_this.update()}}(this)).catch(function(_this){return function(e){return _this.error=e,m.trigger("stop-spin",_this.path+"-form-save"),$button.text("An Error Has Occured"),setTimeout(function(){return $button.text(buttonText),$button.prop("disabled",!1)},1e3),_this.obs.trigger(Events.Form.ResponseFailed),_this.update()}}(this))},BasicFormView}(FormView),module.exports=BasicFormView}),rqzt.define("./templates/backend/form/template",function(module,exports,__dirname,__filename,process){module.exports='<form class="form-horizontal" onsubmit="{ submit }" onreset="{ reset }">\n  <yield></yield/>\n</form>\n'}),rqzt.define("./table/lists/payment",function(module,exports,__dirname,__filename,process){var BasicList,PaymentList,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicList=rqzt("./table/lists/list"),PaymentList=function(superClass){function PaymentList(){return PaymentList.__super__.constructor.apply(this,arguments)}return extend(PaymentList,superClass),PaymentList.prototype.tag="payment-list",PaymentList.prototype.path="payment",PaymentList.prototype.headers=[field("id","Id","id","id-path:#payment"),field("account.chargeId","Stripe","id","id-path://dashboard.stripe.com/payments"),field("currency","Currency","upper"),field("amount","Total","money"),field("status","Status"),field("createdAt","Created","date")],PaymentList}(BasicList),PaymentList.register()}),rqzt.define("./table/lists/referral",function(module,exports,__dirname,__filename,process){var BasicList,ReferralList,Source,crowdcontrol,field,m,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicList=rqzt("./table/lists/list"),m=crowdcontrol.utils.mediator,ReferralList=function(superClass){function ReferralList(){return ReferralList.__super__.constructor.apply(this,arguments)}return extend(ReferralList,superClass),ReferralList.prototype.tag="referral-list",ReferralList.prototype.path="referral",ReferralList.prototype.headers=[field("userId","User Id","id","id-path:../user/"),field("referrerId","Referral Token"),field("createdAt","Referred On","date")],ReferralList}(BasicList),ReferralList.register()}),rqzt.define("./table/lists/referrer",function(module,exports,__dirname,__filename,process){var BasicList,ReferrerList,Source,crowdcontrol,field,m,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicList=rqzt("./table/lists/list"),m=crowdcontrol.utils.mediator,ReferrerList=function(superClass){function ReferrerList(){return ReferrerList.__super__.constructor.apply(this,arguments)}return extend(ReferrerList,superClass),ReferrerList.prototype.tag="referrer-list",ReferrerList.prototype.path="referrer",ReferrerList.prototype.headers=[field("id","Referrer Token"),field("createdAt","Created","date")],ReferrerList}(BasicList),ReferrerList.register()}),rqzt.define("./table/paged",function(module,exports,__dirname,__filename,process){module.exports={user:rqzt("./table/paged/user"),order:rqzt("./table/paged/order"),payment:rqzt("./table/paged/payment"),product:rqzt("./table/paged/product"),coupon:rqzt("./table/paged/coupon"),store:rqzt("./table/paged/store"),mailinglist:rqzt("./table/paged/mailinglist"),subscriber:rqzt("./table/paged/subscriber")}}),rqzt.define("./table/paged/user",function(module,exports,__dirname,__filename,process){var BasicPagedTable,Source,UserPagedTable,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),UserPagedTable=function(superClass){function UserPagedTable(){return UserPagedTable.__super__.constructor.apply(this,arguments)}return extend(UserPagedTable,superClass),UserPagedTable.prototype.tag="user-paged-table",UserPagedTable.prototype.path="user",UserPagedTable.prototype.headers=[field("id","Email","id","id-path:#user id-display:email"),field("firstName","First Name"),field("lastName","Last Name"),field("createdAt","Created On","date"),field("updatedAt","Last Updated","ago")],UserPagedTable}(BasicPagedTable),UserPagedTable.register()}),rqzt.define("./table/paged/paged",function(module,exports,__dirname,__filename,process){var Api,BasicPagedTable,BasicTableView,Events,_,capitalizeFirstLetter,crowdcontrol,getSortField,lowerCaseFirstLetter,m,store,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,store=rqzt("store/store"),table=rqzt("./table/types"),Api=crowdcontrol.data.Api,BasicTableView=table.BasicTableView,m=crowdcontrol.utils.mediator,lowerCaseFirstLetter=function(string){return string.charAt(0).toLowerCase()+string.slice(1)},capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1)},getSortField=function(sortField){return"Id"===sortField?"Id_":sortField},BasicPagedTable=function(superClass){function BasicPagedTable(){return BasicPagedTable.__super__.constructor.apply(this,arguments)}var obj;return extend(BasicPagedTable,superClass),BasicPagedTable.prototype.tag="basic-paged-table",BasicPagedTable.prototype.html=rqzt("./templates/backend/table/paged/template"),BasicPagedTable.prototype.page=1,BasicPagedTable.prototype.maxPage=2,BasicPagedTable.prototype.display=10,BasicPagedTable.prototype.$pagination=$(),BasicPagedTable.prototype.loaded=!1,BasicPagedTable.prototype.lock=!1,BasicPagedTable.prototype.staticModel=null,BasicPagedTable.prototype.events=(obj={},obj[""+Events.Table.PrepareForNewData]=function(){return this.loaded=!1,this.staticModel=null,this.model=[],this.lock=!0,this.update()},obj[""+Events.Table.NewData]=function(model){return this.loaded=!0,this.staticModel=model,this.loadData()},obj[""+Events.Form.SubmitSuccess]=function(){return setTimeout(function(_this){return function(){return _this.refresh()}}(this),1e3)},obj),BasicPagedTable.prototype.js=function(opts){var display;return BasicPagedTable.__super__.js.apply(this,arguments),display=store.get("display"),display?this.display=display:store.set("display",this.display),this.filterModel={sortField:"UpdatedAt",sortDirection:"",minDate:"",maxDate:""},opts.path&&(this.path=opts.path),this.api=Api.get("crowdstart"),this.on("update",function(_this){return function(){return requestAnimationFrame(function(){return _this.initDynamicContent()})}}(this)),this.refresh()},BasicPagedTable.prototype.sort=function(id){var field;return field=capitalizeFirstLetter(id),function(_this){return function(){var ref;if(!(_this.locked||null!=(ref=_this.headerMap[id])&&ref.hints.dontsort||"Number"===field))return field!==_this.filterModel.sortField?(_this.filterModel.sortField=field,_this.filterModel.sortDirection="sort-desc"):"sort-desc"!==_this.filterModel.sortDirection?_this.filterModel.sortDirection="sort-desc":_this.filterModel.sortDirection="sort-asc",_this.refresh()}}(this)},BasicPagedTable.prototype.initDynamicContent=function(){var $pagination,$select;if($select=$($(this.root).find("select")[0]),null!=$select[0]&&(this.initializedSelect?setTimeout(function(_this){return function(){return $select.select2("val",_this.display)}}(this),500):($select.select2({minimumResultsForSearch:Infinity}).change(function(_this){return function(event){return _this.updateDisplay(event)}}(this)),this.initializedSelect=!0)),this.$pagination=$pagination=$(this.root).find(".pagination"),!this.initializedPaging&&null!=$pagination[0])return $pagination.jqPagination({paged:function(_this){return function(page){if(page!==_this.page&&!_this.lock)return _this.lock=!0,_this.page=page,_this.refresh()}}(this)}),this.initializedPaging=!0},BasicPagedTable.prototype.updateDisplay=function(event){var display;if(display=parseInt($(event.target).val(),10),this.display!==display)return store.set("display",display),this.display=display,this.page=1,this.refresh(),requestAnimationFrame(function(_this){return function(){return _this.initDynamicContent()}}(this))},BasicPagedTable.prototype.refresh=function(){var coeff,path,sortField;return sortField=getSortField(this.filterModel.sortField),null!=this.staticModel?(sortField=lowerCaseFirstLetter(sortField),coeff=1,"sort-asc"===this.filterModel.sortDirection&&(coeff=-1),this.staticModel.sort(function(a,b){return _.isNumber(a[sortField])?coeff*(a[sortField]-b[sortField]):moment.isDate(a[sortField])?coeff*(moment(a[sortField]).isAfter(b[sortField])?1:-1):_.isString(a[sortField])?coeff*a[sortField].localeCompare(b[sortField]):_.isBoolean(a[sortField])?coeff*(a[sortField]?1:-1):-coeff}),void this.loadData()):(path=this.path+"?page="+this.page+"&display="+this.display+"&sort="+("sort-desc"===this.filterModel.sortDirection?"":"-")+sortField,window.User.owner||(path+="&limit=1000"),requestAnimationFrame(function(){return $(".previous, .next").addClass("disabled")}),this.api.get(path).then(function(_this){return function(res){var data;return _this.loaded=!0,data=res.responseText,_this.loadData(data)}}(this)))},BasicPagedTable.prototype.loadData=function(data){var ref;return this.model=[],this.update(),null!=this.staticModel?(this.model=this.staticModel.slice(this.display*(this.page-1),this.display*this.page),this.count=this.staticModel.length):(this.model=data.models,this.count=data.count),this.maxPage=Math.ceil(this.count/(null!=(ref=null!=data?data.display:void 0)?ref:this.display)),riot.update(),this.initDynamicContent(),this.$pagination.jqPagination("option","max_page",this.maxPage),this.lock=!1,requestAnimationFrame(function(){return $(".previous, .next").removeClass("disabled")})},BasicPagedTable}(BasicTableView),module.exports=BasicPagedTable}),rqzt.define("./templates/backend/table/paged/template",function(module,exports,__dirname,__filename,process){module.exports='<div if="{ !isEmpty() && loaded }">\n  <div class="section row p5">\n    <div class="col-sm-4 col-xs-8">\n      <select class="form-control" style="width:80px;" if="{ maxPage > 1 || model.length > 5 }">\n        <option value="5" __selected="{5 == display }">5</option>\n        <option value="10" __selected="{10 == display }">10</option>\n        <option value="20" __selected="{20 == display }">20</option>\n        <option value="50" __selected="{50 == display }">50</option>\n        <option value="100" __selected="{100 == display }">100</option>\n      </select>\n      <label if="{ maxPage > 1 || model.length > 5 }">&nbsp;&nbsp;Items per Page</label>\n    </div>\n    <div class="col-sm-4 hidden-xs">\n      <!-- <div class="pagination section text-center" if="{ maxPage > 1 && display > 20 }"> -->\n      <!--   <a href="#" class="previous" data-action="previous"> -->\n      <!--     &lsaquo; -->\n      <!--   </a> -->\n      <!--   <input class="text-center form-control" type="text" readonly="readonly" data-max-page="40"> -->\n      <!--   <a href="#" class="next" data-action="next"> -->\n      <!--     &rsaquo; -->\n      <!--   </a> -->\n      <!-- </div> -->\n    </div>\n    <div class="col-sm-4 col-xs-4 text-right" if="{ maxPage > 1 || model.length > 5 }">\n      <label class="form-control-static">{ count } Results</label>\n    </div>\n    <br if="{ maxPage > 1 || model.length > 5 }"/>\n    <br if="{ maxPage > 1 || model.length > 5 }"/>\n  </div>\n  <div class="table-responsive">\n    <table class="table table-striped table-hover mb20">\n      <thead>\n        <tr>\n          <th class="{ text-right: type == \'date\' || type == \'ago\' || type == \'money\', sortable: true }" each="{ headers }" onclick="{ this.parent.sort(hints[\'id-display\'] || id) }">{name}&nbsp;<i  if="{ this.parent.filterModel.sortField.toUpperCase() == id.toUpperCase() }" class="{ fa: true, fa-sort-asc: this.parent.filterModel.sortDirection == \'sort-asc\', fa-sort-desc: this.parent.filterModel.sortDirection == \'sort-desc\' }"></i></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr each="{ row, i in model }" class="animated fadeIn">\n          <td each="{ field, j in this.parent.headers }">\n            <table-field field="{ field }" row="{ this.parent }"></table-field>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="pagination section text-center" if="{ maxPage > 1 }">\n    <a href="#" class="previous" data-action="previous">\n      &lsaquo;\n    </a>\n    <input class="text-center form-control" type="text" readonly="readonly" data-max-page="40">\n    <a href="#" class="next" data-action="next">\n      &rsaquo;\n    </a>\n  </div>\n</div>\n<h3 class="text-center pb10" if="{ !loaded }">\n  <div class="status-message" if="{ searching }">\n    <i class="glyphicon glyphicon-search" style="font-size:50px"></i>\n    <h2 class="text-center">Searching...</h2>\n  </div>\n  <div class="status-message" if="{ !searching }">\n    <i class="fa fa-spinner fa-spin" style="font-size:50px"></i>\n    <h2 class="text-center">Loading...</h2>\n  </div>\n</h3>\n<h3 class="text-center pb10" if="{ isEmpty() && loaded }">\n  <div class="status-message" if="{ searching }">\n    <i class="glyphicon glyphicon-search" style="font-size:50px"></i>\n    <h2 class="text-center">Searching...</h2>\n  </div>\n  <div class="status-message" if="{ !searching }">\n    <yield></yield>\n  </div>\n</h3>\n'}),rqzt.define("./table/paged/order",function(module,exports,__dirname,__filename,process){var BasicPagedTable,OrderPagedTable,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),OrderPagedTable=function(superClass){function OrderPagedTable(){return OrderPagedTable.__super__.constructor.apply(this,arguments)}return extend(OrderPagedTable,superClass),OrderPagedTable.prototype.tag="order-paged-table",OrderPagedTable.prototype.path="order",OrderPagedTable.prototype.headers=[field("id","Number","id","id-display:number id-path:#order"),field("userId","User","id","id-path:#user"),field("currency","Currency","upper"),field("total","Total","money"),field("status","Status"),field("paymentStatus","Paid"),field("fulfillmentStatus","Fullfilled"),field("couponCodes","Coupon(s)","id-list","id-path:#coupon"),field("createdAt","Created On","date"),field("updatedAt","Last Updated","ago")],OrderPagedTable}(BasicPagedTable),OrderPagedTable.register()}),rqzt.define("./table/paged/payment",function(module,exports,__dirname,__filename,process){var BasicPagedTable,PaymentPagedTable,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),PaymentPagedTable=function(superClass){function PaymentPagedTable(){return PaymentPagedTable.__super__.constructor.apply(this,arguments)}return extend(PaymentPagedTable,superClass),PaymentPagedTable.prototype.tag="payment-paged-table",PaymentPagedTable.prototype.path="payment",PaymentPagedTable.prototype.headers=[field("id","Id","id","id-path:#payment"),field("account.chargeId","Stripe","id","id-path://dashboard.stripe.com/payments"),field("orderId","Order","id","id-path:#order"),field("currency","Currency","upper"),field("amount","Total","money"),field("status","Status"),field("createdAt","Created","date"),field("updatedAt","Last Updated","ago")],PaymentPagedTable}(BasicPagedTable),PaymentPagedTable.register()}),rqzt.define("./table/paged/product",function(module,exports,__dirname,__filename,process){var BasicPagedTable,ProductPagedTable,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),ProductPagedTable=function(superClass){function ProductPagedTable(){return ProductPagedTable.__super__.constructor.apply(this,arguments)}return extend(ProductPagedTable,superClass),ProductPagedTable.prototype.tag="product-paged-table",ProductPagedTable.prototype.path="product",ProductPagedTable.prototype.headers=[field("id","Slug","id","id-display:slug id-path:#product"),field("name","Name","upper"),field("currency","Currency","upper"),field("listPrice","List Price","money"),field("price","Price","money"),field("available","Available"),field("createdAt","Created On","date"),field("updatedAt","Last Updated","ago")],ProductPagedTable}(BasicPagedTable),ProductPagedTable.register()}),rqzt.define("./table/paged/coupon",function(module,exports,__dirname,__filename,process){var BasicPagedTable,CouponPagedTable,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),CouponPagedTable=function(superClass){function CouponPagedTable(){return CouponPagedTable.__super__.constructor.apply(this,arguments)}return extend(CouponPagedTable,superClass),CouponPagedTable.prototype.tag="coupon-paged-table",CouponPagedTable.prototype.path="coupon",CouponPagedTable.prototype.headers=[field("id","Code","id","id-display:code id-path:#coupon"),field("name","Name"),field("type","Type"),field("amount","Amount","money"),field("enabled","Enabled"),field("createdAt","Created On","date"),field("updatedAt","Last Updated","ago")],CouponPagedTable}(BasicPagedTable),
CouponPagedTable.register()}),rqzt.define("./table/paged/store",function(module,exports,__dirname,__filename,process){var BasicPagedTable,Source,StorePagedTable,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),StorePagedTable=function(superClass){function StorePagedTable(){return StorePagedTable.__super__.constructor.apply(this,arguments)}return extend(StorePagedTable,superClass),StorePagedTable.prototype.tag="store-paged-table",StorePagedTable.prototype.path="store",StorePagedTable.prototype.headers=[field("id","Slug","id","id-display:slug id-path:#store"),field("name","Name"),field("currency","Currency","upper"),field("createdAt","Created On","date"),field("updatedAt","Last Updated","ago")],StorePagedTable}(BasicPagedTable),StorePagedTable.register()}),rqzt.define("./table/paged/mailinglist",function(module,exports,__dirname,__filename,process){var BasicPagedTable,MailingListPagedTable,Source,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),MailingListPagedTable=function(superClass){function MailingListPagedTable(){return MailingListPagedTable.__super__.constructor.apply(this,arguments)}return extend(MailingListPagedTable,superClass),MailingListPagedTable.prototype.tag="mailinglist-paged-table",MailingListPagedTable.prototype.path="mailinglist",MailingListPagedTable.prototype.headers=[field("id","Name","id","id-display:name id-path:#mailinglist"),field("mailchimp.id","MailChimp List ID"),field("id","Snippet","snippet"),field("createdAt","Created On","date"),field("updatedAt","Last Updated","ago")],MailingListPagedTable}(BasicPagedTable),MailingListPagedTable.register()}),rqzt.define("./table/paged/subscriber",function(module,exports,__dirname,__filename,process){var BasicPagedTable,Source,SubscriberPagedTable,crowdcontrol,field,table,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),table=rqzt("./table/types"),field=table.field,Source=crowdcontrol.data.Source,BasicPagedTable=rqzt("./table/paged/paged"),SubscriberPagedTable=function(superClass){function SubscriberPagedTable(){return SubscriberPagedTable.__super__.constructor.apply(this,arguments)}return extend(SubscriberPagedTable,superClass),SubscriberPagedTable.prototype.tag="subscriber-paged-table",SubscriberPagedTable.prototype.path="subscriber",SubscriberPagedTable.prototype.headers=[field("id","Email","id","id-path:#subscriber id-display:email"),field("userId","User","id","id-path:#user"),field("mailingListId","MailingList","id","id-path:#mailinglist"),field("client.referer","Referrer","","dontsort"),field("unsubscribed","Unsubscribed",""),field("createdAt","Created","date")],SubscriberPagedTable}(BasicPagedTable),SubscriberPagedTable.register()}),rqzt.define("./form",function(module,exports,__dirname,__filename,process){rqzt("./form/controls"),module.exports={admin:rqzt("./form/admin"),generic:rqzt("./form/generic"),randomPassword:rqzt("./form/random-password"),uniqueCoupon:rqzt("./form/unique-coupon"),pane:rqzt("./form/pane")}}),rqzt.define("./form/controls",function(module,exports,__dirname,__filename,process){var AnalyticsEventsSelect,Api,BasicInputView,BasicSelectView,BasicTextareaView,CodeMirrorView,CountrySelectView,CouponTypeSelectView,CurrencySelectView,DatePickerView,DisabledInputView,Events,FulfillmentStatusSelect,IdLinkView,IdListLinkView,InputView,MailinglistThankyouSelectView,MoneyInputView,NumericInputView,OrderStatusSelect,PasswordInputView,PaymentStatusSelect,PercentInputView,ProductSelectView,ShippingServiceSelect,StaticDateView,StaticMoneyView,StaticPreView,StaticView,Switch,View,_,crowdcontrol,helpers,riot,util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,_=rqzt("underscore/underscore"),riot=rqzt("riot/riot"),util=rqzt("./util"),Api=crowdcontrol.data.Api,View=crowdcontrol.view.View,InputView=crowdcontrol.view.form.InputView,helpers=crowdcontrol.view.form.helpers,helpers.defaultTagName="basic-input",StaticView=function(superClass){function StaticView(){return StaticView.__super__.constructor.apply(this,arguments)}return extend(StaticView,superClass),StaticView.prototype.tag="static",StaticView.prototype.html=rqzt("./templates/backend/form/controls/static"),StaticView}(InputView),StaticView.register(),StaticPreView=function(superClass){function StaticPreView(){return StaticPreView.__super__.constructor.apply(this,arguments)}return extend(StaticPreView,superClass),StaticPreView.prototype.tag="static-pre",StaticPreView.prototype.html=rqzt("./templates/backend/form/controls/static-pre"),StaticPreView}(StaticView),StaticPreView.register(),StaticDateView=function(superClass){function StaticDateView(){return StaticDateView.__super__.constructor.apply(this,arguments)}return extend(StaticDateView,superClass),StaticDateView.prototype.tag="static-date",StaticDateView.prototype.html=rqzt("./templates/backend/form/controls/static-date"),StaticDateView}(StaticView),StaticDateView.register(),IdLinkView=function(superClass){function IdLinkView(){return IdLinkView.__super__.constructor.apply(this,arguments)}return extend(IdLinkView,superClass),IdLinkView.prototype.tag="id-link",IdLinkView.prototype.html=rqzt("./templates/backend/form/controls/id-link"),IdLinkView.prototype.js=function(opts){return IdLinkView.__super__.js.apply(this,arguments),this.path=opts.input.model.cfg.hints["id-path"]},IdLinkView}(StaticView),IdLinkView.register(),IdListLinkView=function(superClass){function IdListLinkView(){return IdListLinkView.__super__.constructor.apply(this,arguments)}return extend(IdListLinkView,superClass),IdListLinkView.prototype.tag="id-list-link",IdListLinkView.prototype.html=rqzt("./templates/backend/form/controls/id-list-link"),IdListLinkView}(IdLinkView),IdListLinkView.register(),BasicInputView=function(superClass){function BasicInputView(){return BasicInputView.__super__.constructor.apply(this,arguments)}return extend(BasicInputView,superClass),BasicInputView.prototype.errorHtml="",BasicInputView.prototype.tag="basic-input",BasicInputView.prototype.html=rqzt("./templates/backend/form/controls/basic-input"),BasicInputView.prototype.js=function(opts){return this.model=opts.input?opts.input.model:this.model},BasicInputView}(InputView),BasicInputView.register(),PasswordInputView=function(superClass){function PasswordInputView(){return PasswordInputView.__super__.constructor.apply(this,arguments)}return extend(PasswordInputView,superClass),PasswordInputView.prototype.tag="basic-password",PasswordInputView.prototype.html=rqzt("./templates/backend/form/controls/password"),PasswordInputView}(BasicInputView),PasswordInputView.register(),NumericInputView=function(superClass){function NumericInputView(){return NumericInputView.__super__.constructor.apply(this,arguments)}var obj;return extend(NumericInputView,superClass),NumericInputView.prototype.tag="numeric-input",NumericInputView.prototype.events=(obj={},obj[""+Events.Input.Set]=function(name,value){var v;if(name===this.model.name)return this.clearError(),v=parseFloat(value),this.model.value=isNaN(v)?0:v},obj),NumericInputView.prototype.js=function(opts){var v;return NumericInputView.__super__.js.apply(this,arguments),v=parseFloat(this.model.value),this.model.value=isNaN(v)?0:v},NumericInputView}(BasicInputView),NumericInputView.register(),DatePickerView=function(superClass){function DatePickerView(){return DatePickerView.__super__.constructor.apply(this,arguments)}return extend(DatePickerView,superClass),DatePickerView.prototype.tag="date-picker",DatePickerView.prototype.js=function(opts){return DatePickerView.__super__.js.apply(this,arguments),this.on("update",function(_this){return function(){var $input;return $input=$(_this.root).find("input"),null==$input[0]?requestAnimationFrame(function(){return _this.update()}):_this.initialized?void 0:(requestAnimationFrame(function(){return $input.datepicker().on("changeDate",function(event){return _this.change(event)})}),_this.initialized=!0)}}(this))},DatePickerView}(BasicInputView),DatePickerView.register(),BasicTextareaView=function(superClass){function BasicTextareaView(){return BasicTextareaView.__super__.constructor.apply(this,arguments)}return extend(BasicTextareaView,superClass),BasicTextareaView.prototype.tag="basic-textarea",BasicTextareaView.prototype.html=rqzt("./templates/backend/form/controls/basic-textarea"),BasicTextareaView}(BasicInputView),BasicTextareaView.register(),CodeMirrorView=function(superClass){function CodeMirrorView(){return CodeMirrorView.__super__.constructor.apply(this,arguments)}return extend(CodeMirrorView,superClass),CodeMirrorView.prototype.tag="codemirror-js",CodeMirrorView.prototype.js=function(opts){return CodeMirrorView.__super__.js.apply(this,arguments),this.refresh(),this.on("update",function(_this){return function(){return _this.refresh()}}(this))},CodeMirrorView.prototype.refresh=function(){var $el;return null!=this.editor?void this.editor.refresh():($el=$(this.root).find("textarea"),null!=$el[0]?(this.editor=CodeMirror.fromTextArea($el[0],{lineNumbers:!0,mode:"javascript",gutters:["CodeMirror-lint-markers"],lint:!0}),this.editor.on("change",function(_this){return function(instance,changeObj){return $el.val(_this.editor.getValue()),_this.change({target:$el[0]})}}(this)),{requestAnimationFrame:function(_this){return function(){return _this.editor.refresh()}}(this)}):void 0)},CodeMirrorView}(BasicTextareaView),CodeMirrorView.register(),Switch=function(superClass){function Switch(){return Switch.__super__.constructor.apply(this,arguments)}return extend(Switch,superClass),Switch.prototype.tag="switch",Switch.prototype.html=rqzt("./templates/backend/form/controls/switch"),Switch.prototype.js=function(opts){return this.uid="_"+1e4*Math.random(),Switch.__super__.js.apply(this,arguments)},Switch.prototype.change=function(event){var value;if(value=event.target.checked,value===!0||"true"===value||(value=!1),value!==this.model.value)return this.obs.trigger(Events.Input.Change,this.model.name,value),this.model.value=value,this.update()},Switch}(BasicInputView),Switch.register(),DisabledInputView=function(superClass){function DisabledInputView(){return DisabledInputView.__super__.constructor.apply(this,arguments)}return extend(DisabledInputView,superClass),DisabledInputView.prototype.tag="disabled-input",DisabledInputView.prototype.html=rqzt("./templates/backend/form/controls/disabled-input"),DisabledInputView}(BasicInputView),DisabledInputView.register(),MoneyInputView=function(superClass){function MoneyInputView(){return MoneyInputView.__super__.constructor.apply(this,arguments)}var obj;return extend(MoneyInputView,superClass),MoneyInputView.prototype.tag="money-input",MoneyInputView.prototype.events=(obj={},obj[""+Events.Input.Set]=function(name,value){if(name===this.model.name)return this.clearError(),value=isNaN(parseFloat(value))?0:value,this.currency(function(_this){return function(code){return _this.model.value=util.currency.renderUICurrencyFromJSON(code,value),_this.update()}}(this))},obj),MoneyInputView.prototype.change=function(event){var value;return value=this.getValue(event.target),this.currency(function(_this){return function(code){return _this.obs.trigger(Events.Input.Change,_this.model.name,util.currency.renderJSONCurrencyFromUI(code,value)),_this.model.value=value,_this.update}}(this))},MoneyInputView.prototype.currency=function(fn){return this.obs.trigger(Events.Input.Get,"currency").one(Events.Input.Result,function(result){return fn(result)})},MoneyInputView.prototype.js=function(opts){var model;return this.model=opts.input?opts.input.model:this.model,model=this.model,this.currency(function(code){return model.value=util.currency.renderUICurrencyFromJSON(code,model.value)}),this.on("update",function(_this){return function(){return _this.currency(function(code){var value;if(value=util.currency.renderUpdatedUICurrency(code,model.value),value!==model.value)return model.value=value,_this.update()})}}(this))},MoneyInputView}(BasicInputView),MoneyInputView.register(),StaticMoneyView=function(superClass){function StaticMoneyView(){return StaticMoneyView.__super__.constructor.apply(this,arguments)}return extend(StaticMoneyView,superClass),StaticMoneyView.prototype.tag="static-money",StaticMoneyView.prototype.html=rqzt("./templates/backend/form/controls/static"),StaticMoneyView}(MoneyInputView),StaticMoneyView.register(),PercentInputView=function(superClass){function PercentInputView(){return PercentInputView.__super__.constructor.apply(this,arguments)}return extend(PercentInputView,superClass),PercentInputView.prototype.tag="percent-input",PercentInputView.prototype.html=rqzt("./templates/backend/form/controls/percent-input"),PercentInputView.prototype.change=function(event){var value;return value=this.getValue(event.target),value=parseFloat(value),isNaN(value)&&(value=0),this.obs.trigger(Events.Input.Change,this.model.name,value),this.model.value=value,this.update()},PercentInputView}(BasicInputView),PercentInputView.register(),BasicSelectView=function(superClass){function BasicSelectView(){return BasicSelectView.__super__.constructor.apply(this,arguments)}var obj;return extend(BasicSelectView,superClass),BasicSelectView.prototype.tag="basic-select",BasicSelectView.prototype.html=rqzt("./templates/backend/form/controls/basic-select"),BasicSelectView.prototype.any=!1,BasicSelectView.prototype.tags=!1,BasicSelectView.prototype.async=!1,BasicSelectView.prototype.optionsLoaded=!1,BasicSelectView.prototype.lastValueSet=null,BasicSelectView.prototype.events=(obj={},obj[""+Events.Input.Set]=function(name,value){if(name===this.model.name&&null!=value)return this.clearError(),this.model.value=value,riot.update()},obj),BasicSelectView.prototype.options=function(){return this.selectOptions},BasicSelectView.prototype.changed=!1,BasicSelectView.prototype.change=function(event){var value;if(value=$(event.target).val(),value!==this.model.value)return this.obs.trigger(Events.Input.Change,this.model.name,value),this.model.value=value,this.changed=!0,this.update()},BasicSelectView.prototype.isCustom=function(o){var name,options,value;options=o,null==options&&(options=this.options());for(name in options)if(value=options[name],_.isObject(value)){if(!this.isCustom(value))return!1}else if(name===this.model.value)return!1;return!0},BasicSelectView.prototype.asyncDone=function(){return this.optionsLoaded=!0,null!=this.lastValueSet&&(this.model.value=this.lastValueSet),this.update()},BasicSelectView.prototype.initSelect=function($select){return $select.select2({tags:this.tags,placeholder:this.model.placeholder,minimumResultsForSearch:10}).change(function(_this){return function(event){return _this.change(event)}}(this))},BasicSelectView.prototype.js=function(opts){var ref;return BasicSelectView.__super__.js.apply(this,arguments),this.any=null!=(ref=opts.any)&&ref,this.selectOptions=opts.options,this.on("update",function(_this){return function(){var $select;return $select=$(_this.root).find("select"),null==$select[0]?requestAnimationFrame(function(){return _this.update()}):_this.initialized?_this.changed?requestAnimationFrame(function(){return _this.async&&!_this.optionsLoaded?_this.lastValueSet=_this.model.value:(_this.isCustom()&&($select.select("destroy"),_this.initSelect($select)),$select.select2("val",_this.model.value),_this.changed=!1)}):void 0:requestAnimationFrame(function(){return _this.initSelect($select),_this.initialized=!0,_this.changed=!0})}}(this)),this.on("unmount",function(_this){return function(){var $select;return $select=$(_this.root).find("select")}}(this))},BasicSelectView}(BasicInputView),BasicSelectView.register(),MailinglistThankyouSelectView=function(superClass){function MailinglistThankyouSelectView(){return MailinglistThankyouSelectView.__super__.constructor.apply(this,arguments)}return extend(MailinglistThankyouSelectView,superClass),MailinglistThankyouSelectView.prototype.tag="mailinglist-thankyou-select",MailinglistThankyouSelectView.prototype.options=function(){return{html:"Show HTML Template where form was.",redirect:"Redirect to URL",disable:"Use the default form action."}},MailinglistThankyouSelectView}(BasicSelectView),MailinglistThankyouSelectView.register(),CountrySelectView=function(superClass){function CountrySelectView(){return CountrySelectView.__super__.constructor.apply(this,arguments)}return extend(CountrySelectView,superClass),CountrySelectView.prototype.tag="country-select",CountrySelectView.prototype.options=function(){var countries;return countries=_.extend(window.countries,{}),this.any&&(countries._any="Any Country"),countries},CountrySelectView}(BasicSelectView),CountrySelectView.register(),CurrencySelectView=function(superClass){function CurrencySelectView(){return CurrencySelectView.__super__.constructor.apply(this,arguments)}return extend(CurrencySelectView,superClass),CurrencySelectView.prototype.tag="currency-select",CurrencySelectView.prototype.options=function(){var currencies;return currencies=_.extend(window.currencies,{}),this.any&&(currencies._any="Any Currency"),currencies},CurrencySelectView}(BasicSelectView),CurrencySelectView.register(),CouponTypeSelectView=function(superClass){function CouponTypeSelectView(){return CouponTypeSelectView.__super__.constructor.apply(this,arguments)}return extend(CouponTypeSelectView,superClass),CouponTypeSelectView.prototype.tag="coupon-type-select",CouponTypeSelectView.prototype.options=function(){return{flat:"Flat (Deduct Amount from Product's Price in Product's Currency)",percent:"Percent (Deduct Percent from Product's Price)","free-shipping":"Free Shipping"}},CouponTypeSelectView}(BasicSelectView),CouponTypeSelectView.register(),ProductSelectView=function(superClass){function ProductSelectView(){return ProductSelectView.__super__.constructor.apply(this,arguments)}return extend(ProductSelectView,superClass),ProductSelectView.prototype.tag="product-type-select",ProductSelectView.prototype.async=!0,ProductSelectView.prototype.options=function(){var api;return null!=this.products?this.products:(api=Api.get("crowdstart"),api.get("product").then(function(_this){return function(res){var i,len,product,ref;for(_this.any&&(_this.products={_any:"Any Product"}),ref=res.responseText.models,i=0,len=ref.length;i<len;i++)product=ref[i],_this.products[product.id]=product.name;return _this.asyncDone()}}(this)),this.products={_any:"Any Product"})},ProductSelectView}(BasicSelectView),ProductSelectView.register(),AnalyticsEventsSelect=function(superClass){function AnalyticsEventsSelect(){return AnalyticsEventsSelect.__super__.constructor.apply(this,arguments)}return extend(AnalyticsEventsSelect,superClass),AnalyticsEventsSelect.prototype.tag="analytics-events-select",AnalyticsEventsSelect.prototype.html=rqzt("./templates/backend/form/controls/optgroup-select"),AnalyticsEventsSelect.prototype.tags=!0,AnalyticsEventsSelect.prototype.options=function(){return{"Standard Events":{page:"Load/Page View","Sign-up":"Sign-up","Logged In":"Logged In","Viewed Product":"Viewed Product","Added Product":"Added Product","Removed Product":"Removed Product","Completed Order":"Completed Order","Viewed Promotion":"Viewed Promotion","Clicked Promotion":"Clicked Promotion"},"E-Commerce Events":{"Viewed Product Category":"Viewed Product Category","Viewed Checkout Step":"Viewed Checkout Step","Completed Checkout Step":"Completed Checkout Step","Viewed Checkout Step":"Viewed Checkout Step","Completed Checkout Step":"Completed Checkout Step","Viewed Checkout Step":"Viewed Checkout Step","Completed Checkout Step":"Completed Checkout Step"}}},AnalyticsEventsSelect}(BasicSelectView),AnalyticsEventsSelect.register(),OrderStatusSelect=function(superClass){function OrderStatusSelect(){return OrderStatusSelect.__super__.constructor.apply(this,arguments)}return extend(OrderStatusSelect,superClass),OrderStatusSelect.prototype.tag="order-status-select",OrderStatusSelect.prototype.options=function(){return{cancelled:"Cancelled",completed:"Completed",locked:"Locked","on-hold":"On Hold",open:"Open"}},OrderStatusSelect}(BasicSelectView),OrderStatusSelect.register(),PaymentStatusSelect=function(superClass){function PaymentStatusSelect(){return PaymentStatusSelect.__super__.constructor.apply(this,arguments)}return extend(PaymentStatusSelect,superClass),PaymentStatusSelect.prototype.tag="payment-status-select",PaymentStatusSelect.prototype.options=function(){return{cancelled:"Cancelled",credit:"Credit",disputed:"Disputed",failed:"Failed",fraudulent:"Fraudulent",paid:"Paid",refunded:"Refunded",unpaid:"Unpaid"}},PaymentStatusSelect}(BasicSelectView),PaymentStatusSelect.register(),FulfillmentStatusSelect=function(superClass){function FulfillmentStatusSelect(){return FulfillmentStatusSelect.__super__.constructor.apply(this,arguments)}return extend(FulfillmentStatusSelect,superClass),FulfillmentStatusSelect.prototype.tag="fulfillment-status-select",FulfillmentStatusSelect.prototype.options=function(){return{pending:"Pending",labelled:"Labelled",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"}},FulfillmentStatusSelect}(BasicSelectView),FulfillmentStatusSelect.register(),ShippingServiceSelect=function(superClass){function ShippingServiceSelect(){return ShippingServiceSelect.__super__.constructor.apply(this,arguments)}return extend(ShippingServiceSelect,superClass),ShippingServiceSelect.prototype.tag="shipping-service-select",ShippingServiceSelect.prototype.options=function(){return{GD:"Domestic Ground","2D":"Domestic 2 Day","1D":"Domestic 1 Day","E-INTL":"International Economy",INTL:"International Standard","PL-INTL":"International Plus","PM-INTL":"International Premium"}},ShippingServiceSelect}(BasicSelectView),ShippingServiceSelect.register(),helpers.registerTag(function(inputCfg){return inputCfg.hints.switch},"switch"),helpers.registerTag(function(inputCfg){return inputCfg.hints.text},"basic-textarea"),helpers.registerTag(function(inputCfg){return inputCfg.hints.js},"codemirror-js"),helpers.registerTag(function(inputCfg){return inputCfg.hints.password},"basic-password"),helpers.registerTag(function(inputCfg){return inputCfg.hints.disabled},"disabled-input"),helpers.registerTag(function(inputCfg){return inputCfg.hints["basic-select"]},"basic-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["country-select"]},"country-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["coupon-type-select"]},"coupon-type-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["product-type-select"]},"product-type-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["date-picker"]},"date-picker"),helpers.registerTag(function(inputCfg){return inputCfg.hints["mailinglist-thankyou-select"]},"mailinglist-thankyou-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["currency-type-select"]},"currency-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["analytics-events-select"]},"analytics-events-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["order-status-select"]},"order-status-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["payment-status-select"]},"payment-status-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["fulfillment-status-select"]},"fulfillment-status-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["shipping-service-select"]},"shipping-service-select"),helpers.registerTag(function(inputCfg){return inputCfg.hints["static-money"]},"static-money"),helpers.registerTag(function(inputCfg){return inputCfg.hints["static-date"]},"static-date"),helpers.registerTag(function(inputCfg){return inputCfg.hints["static-pre"]},"static-pre"),helpers.registerTag(function(inputCfg){return inputCfg.hints.static},"static"),helpers.registerTag(function(inputCfg){return inputCfg.hints.id},"id-link"),helpers.registerTag(function(inputCfg){return inputCfg.hints["id-list"]},"id-list-link"),helpers.registerTag(function(inputCfg){return inputCfg.hints.numeric},"numeric-input"),helpers.registerTag(function(inputCfg){return inputCfg.hints.money},"money-input"),helpers.registerTag(function(inputCfg){return inputCfg.hints.percent},"percent-input"),helpers.registerValidator(function(inputCfg){return inputCfg.hints.numeric},function(model,name){var value;return value=model[name],parseFloat(value)}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.required},function(model,name){var value;if(value=model[name],_.isNumber(value))return value;if(value=null!=value?value.trim():void 0,null==value||""===value)throw new Error("Required");return value}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.min},function(model,name){var value;if(value=model[name],null!=value&value.length>=parseInt(this.hints.min,10))return value;throw new Error("Minimum Length is "+this.hints.min)}),helpers.registerValidator(function(inputCfg){return inputCfg.hints["password-match"]},function(model,name){var value,value2;if(value=model[name],value2=model[this.hints["password-match"]],value===value2)return value;throw new Error("Your passwords must match")}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.email},function(model,name){var re,value;if(value=model[name],value=null!=value?value.trim().toLowerCase():void 0,re=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,null!=value&&value.match(re))return value;throw new Error("Enter a valid email")}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.money},function(model,name){var value;return value=model[name],parseFloat(value)}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.percent},function(model,name){var value;return value=model[name],value=parseFloat(value),isNaN(value)&&(value=0),value}),helpers.registerValidator(function(inputCfg){return inputCfg.hints["email-unique"]},function(model,name){var value;return value=model[name],value===this.hints["email-unique-exception"]?value:Api.get("crowdstart").get("account/exists/"+value).then(function(res){if(res.responseText.exists)throw new Error("Email already exists");return value},function(){return value})}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.unique},function(model,name){var value;return value=model[name],value===this.hints["unique-exception"]?value:Api.get("crowdstart").get(this.hints["unique-api"]+"/"+value).then(function(res){if(200===res.status||"OK"===res.staticText)throw new Error("'"+value+"' is already in use");return value},function(){return value})}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.copy},function(model,name){var value;return value=model[name],model[this.hints.copy]=value,value}),helpers.registerValidator(function(inputCfg){return inputCfg.hints.gtzero},function(model,name){var value;return value=model[name],value<0?0:value})}),rqzt.define("./templates/backend/form/controls/static",function(module,exports,__dirname,__filename,process){module.exports='<div>\n  <label __for="{ model.name }" class="control-label text-left { opts.labelclasses || \'col-xs-12\' }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses || \'col-xs-12\' }">\n    <p class="form-control-static">{ model.value || \'&nbsp;\' }</p>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/static-pre",function(module,exports,__dirname,__filename,process){module.exports="<div>\n  <label __for=\"{ model.name }\" class=\"control-label text-left { opts.labelclasses || 'col-xs-12' }\">\n    <span>{ opts.label }</span>\n  </label>\n  <div class=\"section { opts.controlclasses || 'col-xs-12' }\">\n    <pre class=\"form-control-static\">{ JSON.stringify(model.value, null, 2) || '&nbsp;' }</pre>\n    {console.log('val', model.value)}\n  </div>\n</div>\n"}),rqzt.define("./templates/backend/form/controls/static-date",function(module,exports,__dirname,__filename,process){module.exports='<div>\n  <label __for="{ model.name }" class="control-label text-left { opts.labelclasses || \'col-xs-12\' }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses || \'col-xs-12\' }">\n    <p class="form-control-static">{ moment(model.value).format("dddd, DD MMMM YYYY") }</p>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/id-link",function(module,exports,__dirname,__filename,process){module.exports='<div>\n  <label __for="{ model.name }" class="control-label text-left { opts.labelclasses || \'col-xs-12\' }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses || \'col-xs-12\' }">\n    <p class="form-control-static">\n      <a href="{ path }/{ model.value }">\n        { model.value }\n      </a>\n    </p>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/id-list-link",function(module,exports,__dirname,__filename,process){module.exports='<div>\n  <label __for="{ model.name }" class="control-label text-left { opts.labelclasses || \'col-xs-12\' }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses || \'col-xs-12\' }">\n    <p class="form-control-static">\n      <a href="{ this.parent.path }/{ v }" each="{ v in model.value }">\n        { v }\n        <br>\n      </a>\n    </p>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/basic-input",function(module,exports,__dirname,__filename,process){module.exports='<div class="{has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses }" if="{ opts.label }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses }">\n    <input id="{ model.name }" name="{ model.name }" type="text" onchange="{ change }" onblur="{ change }" value="{ model.value }" placeholder="{ model.placeholder }" class="form-control"></input>\n    <div if="{hasError()}" class="error-container help-block animated fadeInUp">{ error }</div>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/password",function(module,exports,__dirname,__filename,process){module.exports='<div class="{has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses }">\n    <input id="{ model.name }" name="{ model.name }" type="password" onchange="{ change }" onblur="{ change }" value="{ model.value }" placeholder="{ model.placeholder }" class="form-control"></input>\n    <div if="{hasError()}" class="error-container help-block animated fadeInUp">{ error }</div>\n  </div>\n</div>\n';
}),rqzt.define("./templates/backend/form/controls/basic-textarea",function(module,exports,__dirname,__filename,process){module.exports='<div class="{has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses }">\n    <textarea id="{ model.name }" name="{ model.name }" type="text"  onchange="{ change }" onblur="{ change }" placeholder="{ model.placeholder }" class="form-control">{ model.value }</textarea>\n    <div if="{hasError()}" class="error-container help-block animated fadeInUp">{ error }</div>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/switch",function(module,exports,__dirname,__filename,process){module.exports='<div class="{has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section admin-form { opts.controlclasses }" style="margin:5px 0">\n    <label class="switch switch-primary">\n      <input id="{ model.name+uid }" name="{ model.name+uid }" type="checkbox" onchange="{ change }" onblur="{ change }" __checked ="{ model.value }"></input>\n      <label for="{ model.name+uid }" data-on="YES" data-off="NO"></label>\n    </label>\n    <div if="{hasError()}" class="error-container help-block animated fadeInUp">{ error }</div>\n  </div>\n</div>\n\n'}),rqzt.define("./templates/backend/form/controls/disabled-input",function(module,exports,__dirname,__filename,process){module.exports='<div class="{form-group: true, has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses || \'col-md-3\' }">{ opts.label }</label>\n  <div class=" { opts.controlclasses || \'col-md-9\' }">\n    <input id="{ model.name }" name="{ model.name }" type="text" onchange="{ change }" onblur="{ change }" value="{ model.value }" placeholder="{ model.placeholder }" class="form-control" disabled></input>\n  </div>\n</div>\n\n'}),rqzt.define("./templates/backend/form/controls/percent-input",function(module,exports,__dirname,__filename,process){module.exports='<div class="{has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses }" if="{ opts.label }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses }">\n    <input id="{ model.name }" name="{ model.name }" type="text" onchange="{ change }" onblur="{ change }" value="{ model.value + \'%\' }" placeholder="{ model.placeholder }" class="form-control"></input>\n    <div if="{hasError()}" class="error-container help-block animated fadeInUp">{ error }</div>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/basic-select",function(module,exports,__dirname,__filename,process){module.exports='<div class="{has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses }" if="{ opts.label }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses }">\n    <select id="{ model.name }" name="{ model.name }" onchange="{ change }" onblur="{ change }" value="{ model.value }" class="form-control" data-placeholder="{ model.placeholder }" style="width:100%">\n      <option if="{ model.placeholder }"></option>\n      <option each="{ value, name in options() }" value="{value}" __selected="{ this.parent.model.value == value }">{name}</option>\n\n      <optgroup if="{ tags && isCustom() }" label="Custom Events">\n        <option value="{ model.value }" selected>{ model.value }<option>\n      </optgroup>\n\n    </select>\n    <div if="{hasError()}" class="error-container help-block animated fadeInUp">{ error }</div>\n  </div>\n</div>\n'}),rqzt.define("./templates/backend/form/controls/optgroup-select",function(module,exports,__dirname,__filename,process){module.exports='<div class="{has-error: hasError()}">\n  <label __for="{ model.name }" class="control-label { opts.labelclasses }">\n    <span>{ opts.label }</span>\n  </label>\n  <div class="section { opts.controlclasses }">\n    <select id="{ model.name }" name="{ model.name }" onchange="{ change }" onblur="{ change }" value="{ model.value }" class="form-control" data-placeholder="{ model.placeholder }" style="width:100%">\n      <option if="{ model.placeholder }"></option>\n      <optgroup each="{ label, options in options() }" label="{ label }">\n        <option each="{ value, name in options }" value="{value}" __selected="{ this.parent.parent.model.value == value }">{name}</option>\n      </optgroup>\n\n      <optgroup if="{ tags && isCustom() }" label="Custom Events">\n        <option value="{ model.value }" selected>{ model.value }<option>\n      </optgroup>\n\n    </select>\n    <div if="{hasError()}" class="error-container help-block animated fadeInUp">{ error }</div>\n  </div>\n</div>\n'}),rqzt.define("./form/admin",function(module,exports,__dirname,__filename,process){module.exports={apikeys:rqzt("./form/admin/apikeys"),profile:rqzt("./form/admin/profile"),stripeIntegration:rqzt("./form/admin/stripeintegration"),newpassword:rqzt("./form/admin/newpassword"),organization:rqzt("./form/admin/organization")}}),rqzt.define("./form/admin/apikeys",function(module,exports,__dirname,__filename,process){var ApiKeysForm,Events,Form,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),Form=rqzt("./form/admin/form"),ApiKeysForm=function(superClass){function ApiKeysForm(){return ApiKeysForm.__super__.constructor.apply(this,arguments)}var obj;return extend(ApiKeysForm,superClass),ApiKeysForm.prototype.tag="api-keys-admin-form",ApiKeysForm.prototype.path="keys",ApiKeysForm.prototype.processButtonText="Generating",ApiKeysForm.prototype.successButtonText="Generated",ApiKeysForm.prototype.prefill=!1,ApiKeysForm.prototype.events=(obj={},obj[""+Events.Form.ResponseSuccess]=function(){return window.location.reload()},obj),ApiKeysForm.prototype.inputConfigs=[input("live-secret-key","","text"),input("live-published-key","","text"),input("test-secret-key","","text"),input("test-published-key","","text")],ApiKeysForm.prototype.generateModal=function(event){return bootbox.dialog({title:"Warning: This will reset all your keys!",message:"Any software integrated with Hanzo will need to be updated to use the new keys.",buttons:{Reset:{className:"btn btn-danger",callback:function(_this){return function(){return _this.submit(event)}}(this)},Cancel:{className:"btn btn-primary",callback:function(){}}}})},ApiKeysForm.prototype.js=function(){return this.model=window.Keys,ApiKeysForm.__super__.js.apply(this,arguments)},ApiKeysForm}(Form),ApiKeysForm.register(),module.exports=ApiKeysForm}),rqzt.define("./form/admin/form",function(module,exports,__dirname,__filename,process){var AdminForm,Api,BasicForm,Events,FormView,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),BasicForm=rqzt("./form/basic"),FormView=crowdcontrol.view.form.FormView,Api=crowdcontrol.data.Api,AdminForm=function(superClass){function AdminForm(){return AdminForm.__super__.constructor.apply(this,arguments)}return extend(AdminForm,superClass),AdminForm.prototype.tag="admin-form",AdminForm.prototype.path="",AdminForm.prototype.processButtonText="Saving...",AdminForm.prototype.successButtonText="Saved",AdminForm.prototype.prefill=!1,AdminForm.prototype.html=BasicForm.prototype.html,AdminForm.prototype.events=BasicForm.prototype.events,AdminForm.prototype.reset=function(){},AdminForm.prototype._submit=BasicForm.prototype._submit,AdminForm.prototype.loadData=function(model){},AdminForm.prototype.js=function(opts){var api;if(AdminForm.__super__.js.apply(this,arguments),this.api=api=Api.get("platform"),this.prefill)return api.get(this.path).then(function(_this){return function(res){if(200!==res.status)throw new Error("Form failed to load");return _this.model=res.responseText,_this.initFormGroup(),_this.obs.trigger(Events.Form.Prefill,_this.model),riot.update()}}(this)).catch(function(e){return console.log(e.stack)})},AdminForm}(FormView),module.exports=AdminForm}),rqzt.define("./form/admin/profile",function(module,exports,__dirname,__filename,process){var Form,ProfileForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Form=rqzt("./form/admin/form"),ProfileForm=function(superClass){function ProfileForm(){return ProfileForm.__super__.constructor.apply(this,arguments)}return extend(ProfileForm,superClass),ProfileForm.prototype.tag="profile-admin-form",ProfileForm.prototype.path="profile",ProfileForm.prototype.prefill=!0,ProfileForm.prototype.inputConfigs=[input("email","Email","required"),input("firstName","First Name","required"),input("lastName","Last Name","required"),input("phone","Phone")],ProfileForm}(Form),ProfileForm.register(),module.exports=ProfileForm}),rqzt.define("./form/admin/stripeintegration",function(module,exports,__dirname,__filename,process){var Form,StripeIntegrationForm,_,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),input=rqzt("./form/input"),Form=rqzt("./form/admin/form"),StripeIntegrationForm=function(superClass){function StripeIntegrationForm(){return StripeIntegrationForm.__super__.constructor.apply(this,arguments)}return extend(StripeIntegrationForm,superClass),StripeIntegrationForm.prototype.tag="st-ripe-integration-form",StripeIntegrationForm.prototype.path="stripe",StripeIntegrationForm.prototype.prefill=!0,StripeIntegrationForm.prototype._submit=function(){},StripeIntegrationForm.prototype.stripeOAuth=function(){return window.location.href="https://connect.stripe.com/oauth/authorize?response_type=code&client_id="+this.model.clientId+"&scope=read_write&state=movetoserver&stripe_landing=login&redirect_uri="+this.model.redirectUrl},StripeIntegrationForm.prototype.stripeSync=function(event){return this.api.get("stripe/sync"),$(event.target).html("Syncing..."),this.syncing=!0},StripeIntegrationForm}(Form),StripeIntegrationForm.register(),module.exports=StripeIntegrationForm}),rqzt.define("./form/admin/newpassword",function(module,exports,__dirname,__filename,process){var Form,NewPasswordForm,_,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),input=rqzt("./form/input"),Form=rqzt("./form/admin/form"),NewPasswordForm=function(superClass){function NewPasswordForm(){return NewPasswordForm.__super__.constructor.apply(this,arguments)}return extend(NewPasswordForm,superClass),NewPasswordForm.prototype.tag="new-password-admin-form",NewPasswordForm.prototype.path="profile/password",NewPasswordForm.prototype.prefill=!1,NewPasswordForm.prototype.inputConfigs=[input("oldPassword","******","password required min:6"),input("password","******","password required min:6"),input("confirmPassword","******","password required min:6 password-match:password")],NewPasswordForm}(Form),NewPasswordForm.register(),module.exports=NewPasswordForm}),rqzt.define("./form/admin/organization",function(module,exports,__dirname,__filename,process){var Form,OrganizationForm,_,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),input=rqzt("./form/input"),Form=rqzt("./form/admin/form"),OrganizationForm=function(superClass){function OrganizationForm(){return OrganizationForm.__super__.constructor.apply(this,arguments)}return extend(OrganizationForm,superClass),OrganizationForm.prototype.tag="organization-admin-form",OrganizationForm.prototype.path="organization",OrganizationForm.prototype.prefill=!0,OrganizationForm.prototype.inputConfigs=[input("name","","static"),input("fullName","Ex. Crowdstart","required"),input("website","Ex. hanzo.io",""),input("emailWhitelist","Ex. your@email.com","text"),input("googleAnalytics",""),input("facebookTag","")],OrganizationForm}(Form),OrganizationForm.register(),module.exports=OrganizationForm}),rqzt.define("./form/generic",function(module,exports,__dirname,__filename,process){module.exports={user:rqzt("./form/generic/user"),item:rqzt("./form/generic/item"),order:rqzt("./form/generic/order"),payment:rqzt("./form/generic/payment"),product:rqzt("./form/generic/product"),coupon:rqzt("./form/generic/coupon"),affiliate:rqzt("./form/generic/affiliate"),store:rqzt("./form/generic/store"),mailinglist:rqzt("./form/generic/mailinglist"),subscriber:rqzt("./form/generic/subscriber")}}),rqzt.define("./form/generic/user",function(module,exports,__dirname,__filename,process){var Api,Form,UserForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Api=crowdcontrol.data.Api,input=rqzt("./form/input"),Form=rqzt("./form/generic/form"),UserForm=function(superClass){function UserForm(){UserForm.__super__.constructor.apply(this,arguments)}return extend(UserForm,superClass),UserForm.prototype.tag="user-form",UserForm.prototype.redirectPath="#users",UserForm.prototype.path="user",UserForm.prototype.affiliated=!1,UserForm.prototype.inputConfigs=[input("id","","static"),input("email","your@email.com","required email email-unique email-unique-exception:"),input("firstName","First Name","required"),input("lastName","Last Name","required"),input("phone","Phone"),input("createdAt","","static-date"),input("updatedAt","","static-date"),input("enabled","","switch"),input("billingAddress.line1","Street Address"),input("billingAddress.line2","Apt/Suite Number"),input("billingAddress.city","City"),input("billingAddress.state","State"),input("billingAddress.postalCode","Postal/ZIP Code"),input("billingAddress.country","Choose a Country...","country-select"),input("shippingAddress.line1","Street Address"),input("shippingAddress.line2","Apt/Suite Number"),input("shippingAddress.city","City"),input("shippingAddress.state","State"),input("shippingAddress.postalCode","Postal/ZIP Code","postal-code"),input("shippingAddress.country","Choose a Country...","country-select")],UserForm.prototype.loadData=function(model){return UserForm.__super__.loadData.apply(this,arguments),this.inputConfigs[1].hints["email-unique-exception"]=model.email,this.affiliated=null!=model.affiliateId&&""!==model.affiliateId},UserForm.prototype.assignToUser=function(model){if(this.model.affiliateId!==model.id)return this.model.affiliateId=model.id,this._submit({})},UserForm}(Form),UserForm.register(),module.exports=UserForm}),rqzt.define("./form/generic/form",function(module,exports,__dirname,__filename,process){var BasicFormView,Events,GenericForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),BasicFormView=rqzt("./form/basic"),GenericForm=function(superClass){function GenericForm(){return GenericForm.__super__.constructor.apply(this,arguments)}return extend(GenericForm,superClass),GenericForm.prototype.tag="form",GenericForm.prototype.redirectPath="",GenericForm.prototype.path="",GenericForm.prototype.resetModel=null,GenericForm.prototype.inputConfigs=[],GenericForm.prototype.js=function(opts){var id;return this.id=id=opts.id,null!=this.id?this.path+="/"+opts.id:this.resetModel=JSON.parse(JSON.stringify(this.model)),GenericForm.__super__.js.apply(this,arguments)},GenericForm.prototype.reset=function(event){return null!=event&&event.preventDefault(),this.model=JSON.parse(JSON.stringify(this.resetModel)),this.initFormGroup.apply(this),this._reset(event),this.obs.trigger(Events.Form.Prefill,this.model),riot.update()},GenericForm.prototype._reset=function(event){},GenericForm.prototype._submit=function(event){var p;return p=GenericForm.__super__._submit.apply(this,arguments),p.then(function(_this){return function(){return null!=_this.id?_this.resetModel=JSON.parse(JSON.stringify(_this.model)):_this.reset()}}(this))},GenericForm.prototype.loadData=function(model){return this.resetModel=JSON.parse(JSON.stringify(model))},GenericForm}(BasicFormView),module.exports=GenericForm}),rqzt.define("./form/generic/item",function(module,exports,__dirname,__filename,process){var Api,BasicFormView,Events,Form,ItemForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),BasicFormView=rqzt("./form/basic"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,ItemForm=function(superClass){function ItemForm(){return ItemForm.__super__.constructor.apply(this,arguments)}return extend(ItemForm,superClass),ItemForm.prototype.tag="item-form",ItemForm.prototype.inputConfigs=[input("productId","","product-type-select"),input("quantity","","numeric")],ItemForm.prototype.js=function(){return ItemForm.__super__.js.apply(this,arguments)},ItemForm}(Form),ItemForm.register()}),rqzt.define("./form/generic/order",function(module,exports,__dirname,__filename,process){var Api,BasicFormView,Events,Form,OrderForm,OrderUserStaticForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),BasicFormView=rqzt("./form/basic"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,OrderForm=function(superClass){function OrderForm(){return OrderForm.__super__.constructor.apply(this,arguments)}return extend(OrderForm,superClass),OrderForm.prototype.tag="order-form",OrderForm.prototype.redirectPath="orders",OrderForm.prototype.path="order",OrderForm.prototype.inputConfigs=[input("id","","static"),input("number","","static"),input("userId","","id id-path:#user"),input("createdAt","","static-date"),input("updatedAt","","static-date"),input("shippingAddress.name","Recipient Name","required"),input("shippingAddress.line1","Street Address","required"),input("shippingAddress.line2","Apt/Suite Number"),input("shippingAddress.city","City","required"),input("shippingAddress.state","State","required"),input("shippingAddress.postalCode","Postal/ZIP Code","postal-code"),input("shippingAddress.country","Choose a Country...","country-select","required"),input("refundAmount","Refund Amount","money gtzero"),input("giftEmail",""),input("giftMessage",""),input("currency","","static"),input("lineTotal","","static-money"),input("discount","","static-money"),input("subtotal","","static-money"),input("shipping","","static-money"),input("refunded","","static-money"),input("tax","","static-money"),input("total","","static-money"),input("couponCodes","","id-list id-path:#coupon"),input("status","","order-status-select"),input("paymentStatus","","payment-status-select"),input("fulfillmentStatus","","fulfillment-status-select"),input("shippingService","","shipping-service-select"),input("fulfillment.externalId","","static"),input("fulfillment.trackingNumber","","static"),input("fulfillment.carrier","","static"),input("fulfillment.service","","static"),input("fulfillment.cost","","static"),input("fulfillment.createdAt","","static-date"),input("fulfillment.shippedAt","","static-date"),input("fulfillment.deliveredAt","","static-date"),input("metadata","","static-pre")],OrderForm.prototype.initFormGroup=function(){return OrderForm.__super__.initFormGroup.apply(this,arguments),this.model.shippingService=this.inputs.shippingService.model.value="GD",this.inputs.couponCodes.model.value=this.model.couponCodes,this.inputs.refundAmount.model.value=this.model.refundAmount=this.model.total-this.model.refunded},OrderForm.prototype.refundModal=function(){var value;return value=$("#refundAmount").val(),bootbox.dialog({title:"Are You Sure?",message:"This will issue a "+value+" refund.",buttons:{Refund:{className:"btn btn-danger",callback:function(_this){return function(){return _this.refund()}}(this)},"Don't Refund":{className:"btn btn-primary",callback:function(){}}}}),!1},OrderForm.prototype.shippingModal=function(){var value;return value=$("#refundAmount").val(),bootbox.dialog({title:"Are You Sure?",message:"This will ship this order.",buttons:{Ship:{className:"btn btn-danger",callback:function(_this){return function(){return _this.ship()}}(this)},"Don't Ship":{className:"btn btn-primary",callback:function(){}}}}),!1},OrderForm.prototype.refund=function(){return this.api.post(this.path+"/refund",{amount:this.model.refundAmount}).finally(function(e){return e&&console.log(e.stack),window.location.reload()})},OrderForm.prototype.ship=function(){var api;return api=Api.get("platform"),api.post("shipwire/ship/"+this.model.id,{service:this.model.shippingService}).finally(function(e){return e&&console.log(e.stack),window.location.reload()})},OrderForm}(Form),OrderForm.register(),OrderUserStaticForm=function(superClass){function OrderUserStaticForm(){return OrderUserStaticForm.__super__.constructor.apply(this,arguments)}var obj;return extend(OrderUserStaticForm,superClass),OrderUserStaticForm.prototype.tag="order-user-static-form",OrderUserStaticForm.prototype.basePath="user",OrderUserStaticForm.prototype.inputConfigs=[input("id","","id id-path:#user"),input("email","your@email.com","static"),input("firstName","First Name","static"),input("lastName","Last Name","static"),input("phone","Phone","static"),input("createdAt","","static-date"),input("updatedAt","","static-date")],OrderUserStaticForm.prototype.events=(obj={},obj[""+Events.Form.Prefill]=function(orderModel){var api;return this.loading=!0,this.orderId=orderModel.id,orderModel.userId?(this.path=this.basePath+"/"+orderModel.userId,this.api=api=Api.get("crowdstart"),api.get(this.path).then(function(_this){return function(res){if(200!==res.status)throw new Error("Form failed to load");return _this.model=res.responseText,_this.loadData(_this.model),_this.initFormGroup(),riot.update()}}(this)).catch(function(_this){return function(e){return _this.error=e,console.log(e.stack),riot.update()}}(this))):(this.error=new Error("No UserId"),riot.update())},obj),OrderUserStaticForm.prototype.js=function(){return this.initFormGroup()},OrderUserStaticForm.prototype.refund=function(event){var api;if(orderModel.userId)return this.path=this.basePath+"/"+orderModel.userId,this.api=api=Api.get("crowdstart"),api.get(this.path).then(function(res){if(200!==res.status)throw new Error("Refund Failed")}).catch(function(_this){return function(e){return _this.error=e,console.log(e.stack),riot.update()}}(this))},OrderUserStaticForm.prototype.resendOrderConfirmation=function(event){var api;return api=Api.get("platform"),api.get("sendorderconfirmation/"+this.orderId),$(event.target).html("Sent!"),this.sending=!0},OrderUserStaticForm.prototype.resendShippingConfirmation=function(event){var api;return api=Api.get("platform"),api.get("sendfulfillmentconfirmation/"+this.orderId),$(event.target).html("Sent!"),this.sending=!0},OrderUserStaticForm.prototype.resendRefundConfirmation=function(event){var api;return api=Api.get("platform"),api.get("sendrefundconfirmation/"+this.orderId),$(event.target).html("Sent!"),this.sending=!0},OrderUserStaticForm}(BasicFormView),OrderUserStaticForm.register(),module.exports=OrderForm}),rqzt.define("./form/generic/payment",function(module,exports,__dirname,__filename,process){var Api,BasicFormView,Events,Form,PaymentForm,PaymentUserStaticForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),BasicFormView=rqzt("./form/basic"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,PaymentForm=function(superClass){function PaymentForm(){return PaymentForm.__super__.constructor.apply(this,arguments)}return extend(PaymentForm,superClass),PaymentForm.prototype.tag="payment-form",PaymentForm.prototype.redirectPath="payments",PaymentForm.prototype.path="payment",PaymentForm.prototype.inputConfigs=[input("id","","static"),input("type","","static"),input("orderId","","id id-path:#order"),input("amount","","static-money"),input("amountRefunded","","static-money"),input("fee","","static-money"),input("status","","static"),input("captured","","static"),input("live","","static"),input("test","","static"),input("client.ip","","static"),input("client.userAgent","","static"),input("client.language","","static"),input("client.referer","","static"),input("client.city","","static"),input("client.region","","static"),input("client.country","","static"),input("account.chargeId","","id id-path://dashboard.stripe.com/charges"),input("account.customerId","","id id-path://dashboard.stripe.com/customers"),input("account.cardId","","static"),input("account.balanceTransactionId","","static"),input("account.fingerprint","","static"),input("account.funding","","static"),input("account.lastFour","","static"),input("account.brand","","static"),input("account.month","","static"),input("account.year","","static"),input("account.country","","static"),input("createdAt","","static-date"),input("updatedAt","","static-date")],PaymentForm}(Form),PaymentForm.register(),PaymentUserStaticForm=function(superClass){function PaymentUserStaticForm(){return PaymentUserStaticForm.__super__.constructor.apply(this,arguments)}var obj;return extend(PaymentUserStaticForm,superClass),PaymentUserStaticForm.prototype.tag="payment-user-static-form",PaymentUserStaticForm.prototype.basePath="user",PaymentUserStaticForm.prototype.inputConfigs=[input("id","","id id-path:#user"),input("email","your@email.com","static"),input("firstName","First Name","static"),input("lastName","Last Name","static"),input("phone","Phone","static"),input("createdAt","","static-date"),input("updatedAt","","static-date")],PaymentUserStaticForm.prototype.events=(obj={},obj[""+Events.Form.Prefill]=function(paymentModel){var api,ref,userId;return this.loading=!0,this.paymentId=paymentModel.id,userId=null!=paymentModel&&null!=(ref=paymentModel.buyer)?ref.userId:void 0,userId?(this.path=this.basePath+"/"+userId,this.api=api=Api.get("crowdstart"),api.get(this.path).then(function(_this){return function(res){if(200!==res.status)throw new Error("Form failed to load");return _this.model=res.responseText,_this.loadData(_this.model),_this.initFormGroup(),riot.update()}}(this)).catch(function(_this){return function(e){return _this.error=e,console.log(e.stack),riot.update()}}(this))):(this.error=new Error("No UserId"),riot.update())},obj),PaymentUserStaticForm.prototype.js=function(){return this.initFormGroup()},PaymentUserStaticForm}(BasicFormView),PaymentUserStaticForm.register(),module.exports=PaymentForm}),rqzt.define("./form/generic/product",function(module,exports,__dirname,__filename,process){var Api,Form,ProductForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,ProductForm=function(superClass){function ProductForm(){return ProductForm.__super__.constructor.apply(this,arguments)}return extend(ProductForm,superClass),ProductForm.prototype.tag="product-form",ProductForm.prototype.redirectPath="products",ProductForm.prototype.path="product",ProductForm.prototype.model={currency:"usd",available:!0},ProductForm.prototype.inputConfigs=[input("id","","static"),input("name","Product Name (Shirt)","required"),input("slug","Product Slug (SHIRT-123)","required unique unique-api:product"),input("sku","Product SKU/Barcode (12345678)","required"),input("description","Describe this product","text"),input("currency","","currency-type-select"),input("listPrice","How much this should cost","money"),input("price","How much this costs right now","money"),input("estimatedDelivery","Estimated Delivery"),input("size","10cm x 10cm x 10cm"),input("weight","1000","numeric"),input("available","","switch"),input("createdAt","","static-date"),input("updatedAt","","static-date")],ProductForm.prototype.loadData=function(model){return ProductForm.__super__.loadData.apply(this,arguments),this.inputConfigs[2].hints["unique-exception"]=model.slug},ProductForm}(Form),ProductForm.register(),module.exports=ProductForm}),rqzt.define("./form/generic/coupon",function(module,exports,__dirname,__filename,process){var Api,CouponForm,Form,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,CouponForm=function(superClass){function CouponForm(){return CouponForm.__super__.constructor.apply(this,arguments)}return extend(CouponForm,superClass),CouponForm.prototype.tag="coupon-form",CouponForm.prototype.redirectPath="coupons",CouponForm.prototype.path="coupon",CouponForm.prototype.model={productId:"_any",
enabled:!0},CouponForm.prototype.inputConfigs=[input("id","","static"),input("name","Name","required"),input("code","Coupon Code","required unique unique-api:coupon"),input("type","Coupon Type","coupon-type-select"),input("amount","Coupon Amount","money"),input("limit","Limit","numeric"),input("enabled","Enabled","switch"),input("dynamic","Dynamic","switch"),input("productId","Select a Product","product-type-select"),input("createdAt","","static-date"),input("updatedAt","","static-date")],CouponForm.prototype._submit=function(event){return"_any"===this.model.productId&&(this.model.productId=""),CouponForm.__super__._submit.apply(this,arguments)},CouponForm.prototype.loadData=function(model){return CouponForm.__super__.loadData.apply(this,arguments),""===model.productId&&(model.productId="_any"),this.inputConfigs[2].hints["unique-exception"]=model.code},CouponForm}(Form),CouponForm.register(),module.exports=CouponForm}),rqzt.define("./form/generic/affiliate",function(module,exports,__dirname,__filename,process){var AffiliateForm,Api,Events,Form,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Form=rqzt("./form/generic/form"),Events=crowdcontrol.Events,Api=crowdcontrol.data.Api,AffiliateForm=function(superClass){function AffiliateForm(){this.model={enabled:!1,commision:{percent:0,flat:0}},AffiliateForm.__super__.constructor.apply(this,arguments)}return extend(AffiliateForm,superClass),AffiliateForm.prototype.tag="affiliate-form",AffiliateForm.prototype.redirectPath="users",AffiliateForm.prototype.path="affiliate",AffiliateForm.prototype.model={enabled:!1,commision:{percent:0,flat:0}},AffiliateForm.prototype.assignToUserFn=function(){},AffiliateForm.prototype.inputConfigs=[input("commission.percent","Percent Fee","percent"),input("commission.flat","Flat Fee","money"),input("enabled","","switch"),input("couponId","","")],AffiliateForm.prototype.js=function(opts){return this.assignToUserFn=opts.assigntouserfn,this.userObs||(this.userObs=opts.userobs,this.userObs.on(""+Events.Form.Prefill,function(_this){return function(model){return _this.opts.id=_this.model.id=model.affiliateId,_this.model.userId=model.id,_this.js(_this.opts)}}(this))),AffiliateForm.__super__.js.apply(this,arguments)},AffiliateForm.prototype.loadData=function(model){var ref;return null!=model&&null!=(ref=model.commission)&&(ref.percent*=100),AffiliateForm.__super__.loadData.apply(this,arguments)},AffiliateForm.prototype._submit=function(event){return this.model.commission.percent/=100,AffiliateForm.__super__._submit.call(this,event).then(function(_this){return function(){return _this.model.commission.percent*=100,_this.assignToUserFn(model)}}(this))},AffiliateForm}(Form),AffiliateForm.register(),module.exports=AffiliateForm}),rqzt.define("./form/generic/store",function(module,exports,__dirname,__filename,process){var Api,Form,StoreForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,StoreForm=function(superClass){function StoreForm(){return StoreForm.__super__.constructor.apply(this,arguments)}return extend(StoreForm,superClass),StoreForm.prototype.tag="store-form",StoreForm.prototype.redirectPath="stores",StoreForm.prototype.path="store",StoreForm.prototype.model={currency:"usd"},StoreForm.prototype.inputConfigs=[input("id","","static"),input("name","Name","required"),input("slug","Store Slug","required unique unique-api:store"),input("currency","Store Currency","currency-type-select"),input("createdAt","","static-date"),input("updatedAt","","static-date")],StoreForm.prototype.loadData=function(model){return StoreForm.__super__.loadData.apply(this,arguments),this.inputConfigs[2].hints["unique-exception"]=model.slug},StoreForm}(Form),StoreForm.register(),module.exports=StoreForm}),rqzt.define("./form/generic/mailinglist",function(module,exports,__dirname,__filename,process){var Api,Form,MailingListForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,MailingListForm=function(superClass){function MailingListForm(){return MailingListForm.__super__.constructor.apply(this,arguments)}return extend(MailingListForm,superClass),MailingListForm.prototype.tag="mailinglist-form",MailingListForm.prototype.redirectPath="mailinglists",MailingListForm.prototype.path="mailinglist",MailingListForm.prototype.model={facebook:{currency:"usd"}},MailingListForm.prototype.inputConfigs=[input("id","","static"),input("name","Mailing List Name (Shirt)","required unique unique-api:mailinglist"),input("thankyou.type","Choose what happens after form submit","mailinglist-thankyou-select required"),input("thankyou.html",'HTML ex. Thank You or <p style="font-weight:600">Thank You</p>\nUrl ex. /thankyou or www.yoursite.com/thankyou.html',"text copy:thankyou.url"),input("mailchimp.id","ex. z1593c999e","required"),input("mailchimp.apiKey","ex. myapikey-us2","required"),input("mailchimp.doubleOptin","Double Optin?","switch"),input("mailchimp.updateExisting","Update Existing?","switch"),input("mailchimp.replaceInterests","Replace Interests?","switch"),input("mailchimp.sendWelcome","Send Welcome?","switch"),input("google.name","Event Name"),input("google.category","Event Category"),input("facebook.id","Event Id"),input("facebook.value","ex 0"),input("facebook.currency","Facebook Currency","currency-type-select"),input("createdAt","","static-date"),input("updatedAt","","static-date")],MailingListForm.prototype.loadData=function(model){return MailingListForm.__super__.loadData.apply(this,arguments),this.inputConfigs[1].hints["unique-exception"]=model.name},MailingListForm}(Form),MailingListForm.register(),module.exports=MailingListForm}),rqzt.define("./form/generic/subscriber",function(module,exports,__dirname,__filename,process){var Api,BasicFormView,Events,Form,SubscriberForm,SubscriberUserStaticForm,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),BasicFormView=rqzt("./form/basic"),Form=rqzt("./form/generic/form"),Api=crowdcontrol.data.Api,SubscriberForm=function(superClass){function SubscriberForm(){return SubscriberForm.__super__.constructor.apply(this,arguments)}return extend(SubscriberForm,superClass),SubscriberForm.prototype.tag="subscriber-form",SubscriberForm.prototype.redirectPath="subscribers",SubscriberForm.prototype.path="subscriber",SubscriberForm.prototype.inputConfigs=[input("id","","static"),input("email","Email"),input("mailingListId","","id id-path:#mailinglist"),input("userId","","static"),input("unsubscribed","Unsubscribed","switch"),input("metadata","{}","text"),input("client.ip","","static"),input("client.userAgent","","static"),input("client.language","","static"),input("client.referer","","static"),input("client.city","","static"),input("client.region","","static"),input("client.country","","static"),input("createdAt","","static-date"),input("updatedAt","","static-date")],SubscriberForm}(Form),SubscriberForm.register(),SubscriberUserStaticForm=function(superClass){function SubscriberUserStaticForm(){return SubscriberUserStaticForm.__super__.constructor.apply(this,arguments)}var obj;return extend(SubscriberUserStaticForm,superClass),SubscriberUserStaticForm.prototype.tag="subscriber-user-static-form",SubscriberUserStaticForm.prototype.basePath="user",SubscriberUserStaticForm.prototype.inputConfigs=[input("id","","id id-path:#user"),input("email","your@email.com","static"),input("firstName","First Name","static"),input("lastName","Last Name","static"),input("phone","Phone","static"),input("createdAt","","static-date"),input("updatedAt","","static-date")],SubscriberUserStaticForm.prototype.events=(obj={},obj[""+Events.Form.Prefill]=function(subscriberModel){var api,userId;return this.loading=!0,this.subscriberId=subscriberModel.id,userId=null!=subscriberModel?subscriberModel.userId:void 0,userId?(this.path=this.basePath+"/"+userId,this.api=api=Api.get("crowdstart"),api.get(this.path).then(function(_this){return function(res){if(200!==res.status)throw new Error("Form failed to load");return _this.model=res.responseText,_this.loadData(_this.model),_this.initFormGroup(),riot.update()}}(this)).catch(function(_this){return function(e){return _this.error=e,console.log(e.stack),riot.update()}}(this))):(this.error=new Error("No UserId"),riot.update())},obj),SubscriberUserStaticForm.prototype.js=function(){return this.initFormGroup()},SubscriberUserStaticForm}(BasicFormView),SubscriberUserStaticForm.register(),module.exports=SubscriberForm}),rqzt.define("./form/random-password",function(module,exports,__dirname,__filename,process){var Api,FormView,ResetPasswordFormView,_,crowdcontrol,input,m,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Api=crowdcontrol.data.Api,FormView=crowdcontrol.view.form.FormView,m=crowdcontrol.utils.mediator,ResetPasswordFormView=function(superClass){function ResetPasswordFormView(){return ResetPasswordFormView.__super__.constructor.apply(this,arguments)}return extend(ResetPasswordFormView,superClass),ResetPasswordFormView.prototype.tag="reset-password-form",ResetPasswordFormView.prototype.html=rqzt("./templates/backend/form/random-password/template"),ResetPasswordFormView.prototype.model={password:""},ResetPasswordFormView.prototype.resetModel=null,ResetPasswordFormView.prototype.inputConfigs=[input("password","Password Appears Here")],ResetPasswordFormView.prototype.js=function(opts){var api;return ResetPasswordFormView.__super__.js.apply(this,arguments),this.api=api=Api.get("crowdstart"),this.userId=opts.userId||opts.userid},ResetPasswordFormView.prototype.submit=function(){return m.trigger("start-spin","user-form-save"),this.api.get("user/"+this.userId+"/password/reset").then(function(_this){return function(data){return m.trigger("stop-spin","user-form-save"),_this.model=data.responseText,_this.initFormGroup(),riot.update()}}(this),function(){return m.trigger("stop-spin","user-form-save")})},ResetPasswordFormView}(FormView),ResetPasswordFormView.register()}),rqzt.define("./templates/backend/form/random-password/template",function(module,exports,__dirname,__filename,process){module.exports='<form class="form-horizontal" onsubmit="{ submit }">\n  <div class="form-group">\n    <control label="" input="{ inputs.password }" labelclasses="" controlclasses="col-xs-12"></control>\n  </div>\n  <div class="form-actions text-center">\n    <button type="button" class="btn btn-dark" onclick="{ submit }">Random Password</button>\n  </div>\n</form>\n\n'}),rqzt.define("./form/unique-coupon",function(module,exports,__dirname,__filename,process){var Api,FormView,UniqueCouponFormView,_,crowdcontrol,input,m,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),input=rqzt("./form/input"),Api=crowdcontrol.data.Api,FormView=crowdcontrol.view.form.FormView,m=crowdcontrol.utils.mediator,UniqueCouponFormView=function(superClass){function UniqueCouponFormView(){return UniqueCouponFormView.__super__.constructor.apply(this,arguments)}return extend(UniqueCouponFormView,superClass),UniqueCouponFormView.prototype.tag="unique-coupon-form",UniqueCouponFormView.prototype.html=rqzt("./templates/backend/form/unique-coupon/template"),UniqueCouponFormView.prototype.model={couponCode:"",code:""},UniqueCouponFormView.prototype.uniqueCouponModel=null,UniqueCouponFormView.prototype.inputConfigs=[input("couponCode","Type Coupon Code Here"),input("code","Coupon Code Appears Here")],UniqueCouponFormView.prototype.js=function(opts){var api;return UniqueCouponFormView.__super__.js.apply(this,arguments),this.api=api=Api.get("crowdstart"),this.userId=opts.userId||opts.userid},UniqueCouponFormView.prototype.submit=function(){return m.trigger("start-spin","user-form-save"),this.api.get("coupon/"+this.model.couponCode+"/code/"+this.userId).then(function(_this){return function(data){var couponCode;return m.trigger("stop-spin","user-form-save"),couponCode=_this.model.couponCode,_this.model=data.responseText,_this.model.couponCode=couponCode,_this.initFormGroup(),riot.update()}}(this),function(){return m.trigger("stop-spin","user-form-save")})},UniqueCouponFormView}(FormView),UniqueCouponFormView.register()}),rqzt.define("./templates/backend/form/unique-coupon/template",function(module,exports,__dirname,__filename,process){module.exports='<form class="form-horizontal" onsubmit="{ submit }">\n  <div class="form-group">\n    <control label="" input="{ inputs.couponCode }" labelclasses="" controlclasses="col-xs-12"></control>\n  </div>\n  <div class="form-group">\n    <control label="" input="{ inputs.code }" labelclasses="" controlclasses="col-xs-12"></control>\n  </div>\n  <div class="form-actions text-center">\n    <button type="button" class="btn btn-dark" onclick="{ submit }">Unique Coupon</button>\n  </div>\n</form>\n\n'}),rqzt.define("./form/pane",function(module,exports,__dirname,__filename,process){module.exports={order:rqzt("./form/pane/order"),user:rqzt("./form/pane/user")}}),rqzt.define("./form/pane/order",function(module,exports,__dirname,__filename,process){var Events,OrderFilterPane,Pane,_,crowdcontrol,input,localizeDate,moment,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),moment=rqzt("moment/moment"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),Pane=rqzt("./form/pane/pane"),localizeDate=function(date){var ref,ref1,ref2,tokens;return tokens=date.split("/"),moment((null!=(ref=tokens[2])?ref:"2015")+" "+(null!=(ref1=tokens[0])?ref1:"01")+" "+(null!=(ref2=tokens[1])?ref2:"01"),"YYYY-MM-DD").format("YYYY-MM-DD")},OrderFilterPane=function(superClass){function OrderFilterPane(){return OrderFilterPane.__super__.constructor.apply(this,arguments)}return extend(OrderFilterPane,superClass),OrderFilterPane.prototype.tag="order-filter-pane",OrderFilterPane.prototype.html=rqzt("./templates/backend/form/pane/order"),OrderFilterPane.prototype.path="search/order",OrderFilterPane.prototype.inputConfigs=[input("minTotal","","money"),input("maxTotal","","money"),input("currency","","currency-type-select"),input("minDate","","date-picker"),input("maxDate","","date-picker"),input("country","","country-select"),input("type","","basic-select"),input("couponCodes","Coupon Code"),input("status","","basic-select"),input("paymentStatus","","basic-select"),input("paymentStatus","","basic-select"),input("fulfillmentStatus","","basic-select"),input("preorder","","basic-select"),input("confirmed","","basic-select"),input("productIds","","product-type-select")],OrderFilterPane.prototype.statusOptions={_any:"Any Order State",cancelled:"Cancelled",completed:"Completed",locked:"Locked",open:"Open","on-hold":"On Hold"},OrderFilterPane.prototype.paymentStatusOptions={_any:"Any Payment State",credit:"Credit",disputed:"Disputed",failed:"Failed",fraudulent:"Fraud",paid:"Paid",refunded:"Refunded",unpaid:"Unpaid"},OrderFilterPane.prototype.fulfillmentStatusOptions={_any:"Any Fulfillment State",cancelled:"Cancelled",processing:"Processing",shipped:"Shipped",unfulfilled:"Unfulfilled"},OrderFilterPane.prototype.preorderOptions={_any:"Any Preorder State",true:"Preorder",false:"Not Preorder"},OrderFilterPane.prototype.confirmedOptions={_any:"Any Confirmation State",true:"Confirmed",false:"Unconfirmed"},OrderFilterPane.prototype.typeOptions={_any:"Any Payment Processor",stripe:"Stripe",paypal:"Paypal"},OrderFilterPane.prototype.js=function(){return this.model={maxDate:moment().format("L"),minTotal:0,maxTotal:0,country:"_any",currency:"_any",minDate:"01/01/2015",couponCodes:"",type:"_any",status:"_any",paymentStatus:"_any",fulfillmentStatus:"_any",preorder:"_any",confirmed:"_any",productIds:"_any"},OrderFilterPane.__super__.js.apply(this,arguments)},OrderFilterPane.prototype.queryString=function(){var maxDate,maxDateStr,minDate,minDateStr,query,swap;return minDate=localizeDate(this.model.minDate),maxDate=localizeDate(this.model.maxDate),moment(minDate,"YYYY-MM-DD").isAfter(moment(maxDate,"YYYY-MM-DD"))&&(swap=maxDate,maxDate=minDate,minDate=swap2),riot.update(),minDateStr=moment(minDate,"YYYY-MM-DD").format("YYYY-MM-DD"),maxDateStr=moment(maxDate,"YYYY-MM-DD").format("YYYY-MM-DD"),query="CreatedAt >= "+encodeURIComponent(minDateStr)+" AND CreatedAt <= "+encodeURIComponent(maxDateStr),"_any"!==this.model.country&&(query+=' AND ShippingAddressCountryCode = "'+encodeURIComponent(this.model.country)+'"'),"_any"!==this.model.currency&&(query+=' AND Currency = "'+encodeURIComponent(this.model.currency)+'"'),0!==this.model.minTotal&&(query+=" AND Total >= "+encodeURIComponent(this.model.minTotal)),0!==this.model.maxTotal&&(query+=" AND Total <= "+encodeURIComponent(this.model.maxTotal)),"_any"!==this.model.status&&(query+=' AND Status = "'+encodeURIComponent(this.model.status)+'"'),"_any"!==this.model.paymentStatus&&(query+=' AND PaymentStatus = "'+encodeURIComponent(this.model.paymentStatus)+'"'),"_any"!==this.model.fulfillmentStatus&&(query+=' AND FulfillmentStatus = "'+encodeURIComponent(this.model.fulfillmentStatus)+'"'),"_any"!==this.model.preorder&&(query+=' AND Preorder = "'+encodeURIComponent(this.model.preorder)+'"'),"_any"!==this.model.confirmed&&(query+=' AND Confirmed = "'+encodeURIComponent(this.model.confirmed)+'"'),"_any"!==this.model.type&&(query+=' AND Type = "'+encodeURIComponent(this.model.type)+'"'),this.model.couponCodes&&(query+=' AND CouponCodes = "'+encodeURIComponent(this.model.couponCodes)+'"'),"_any"!==this.model.productIds&&(query+=' AND ProductIds = "'+encodeURIComponent(this.model.productIds)+'"'),query},OrderFilterPane}(Pane),OrderFilterPane.register(),module.exports=OrderFilterPane}),rqzt.define("./form/pane/pane",function(module,exports,__dirname,__filename,process){var Api,BasicForm,Events,FormView,Pane,_,crowdcontrol,input,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),BasicForm=rqzt("./form/basic"),FormView=crowdcontrol.view.form.FormView,Api=crowdcontrol.data.Api,Pane=function(superClass){function Pane(){return Pane.__super__.constructor.apply(this,arguments)}return extend(Pane,superClass),Pane.prototype.tag="pane",Pane.prototype.path="",Pane.prototype.html=BasicForm.prototype.html,Pane.prototype.events=BasicForm.prototype.events,Pane.prototype.reset=function(){},Pane.prototype.js=function(opts){var api,ref;return Pane.__super__.js.apply(this,arguments),this.tableObs=null!=(ref=opts.tableobs)?ref:this.obs,this.api=api=Api.get("crowdstart"),this.on("update",function(_this){return function(){return setTimeout(function(){var $root;return $root=$(_this.root),$root.children().attr("style",""),requestAnimationFrame(function(){return $root.children().height($root.height())})},500)}}(this))},Pane.prototype.queryString=function(){return""},Pane.prototype._submit=function(event){var path;return this.searching=!0,this.update(),path=this.path+"?q="+this.queryString(),window.User.owner&&(path+="&limit=1000"),this.tableObs.trigger(Events.Table.PrepareForNewData),this.api.get(path,this.model).then(function(_this){return function(res){var data,ref;if(_this.searching=!1,_this.update(),200!==res.status)throw new Error(res.responseText.error.message);return data=null!=(ref=res.responseText)?ref:[],_this.tableObs.trigger(Events.Table.NewData,data)}}(this)).catch(function(_this){return function(e){return console.log(e.stack),_this.error=e}}(this))},Pane}(FormView),module.exports=Pane}),rqzt.define("./templates/backend/form/pane/order",function(module,exports,__dirname,__filename,process){module.exports='<div class="tray tray-right tray290 p20">\n  <div class="admin-form">\n    <h4>Filter Orders</h4>\n    <hr class="short">\n    <h5><small>Date Range (MM/DD/YYYY)</small></h5>\n    <div class="section row">\n      <div class="col-md-6">\n        <control input="{ inputs.minDate }"></control>\n      </div>\n      <div class="col-md-6">\n        <control input="{ inputs.maxDate }"></control>\n      </div>\n    </div>\n    <h5><small>Products</small></h5>\n    <div class="section">\n      <control input="{ inputs.productIds }"></control>\n    </div>\n    <h5><small>Country</small></h5>\n    <div class="section">\n      <control input="{ inputs.country }" any="{ true }"></control>\n    </div>\n    <h5><small>Sales Amount</small></h5>\n    <div class="section">\n      <control input="{ inputs.currency }" any="{ true }"></control>\n    </div>\n    <div class="section row">\n      <div class="col-md-6">\n        <control input="{ inputs.minTotal }"></control>\n      </div>\n      <div class="col-md-6">\n        <control input="{ inputs.maxTotal }"></control>\n      </div>\n    </div>\n    <h5><small>Coupon</small></h5>\n    <div class="section">\n      <control input="{ inputs.couponCodes }"></control>\n    </div>\n    <h5><small>Payment Processor</small></h5>\n    <div class="section">\n      <control input="{ inputs.type }" options="{ typeOptions }"></control>\n    </div>\n    <h5><small>Status</small></h5>\n    <div class="section">\n      <control input="{ inputs.status }" options="{ statusOptions }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.paymentStatus }" options="{ paymentStatusOptions }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.fulfillmentStatus }" options="{ fulfillmentStatusOptions }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.preorder }" options="{ preorderOptions }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.confirmed }" options="{ confirmedOptions }"></control>\n    </div>\n    <hr class="short">\n    <div class="section">\n      <button class="btn btn-default btn-block btn-sm ph25" type="button" onclick="{ submit }" __disabled="{ searching }">{ searching ? \'Searching...\' : \'Search\' }</button>\n    </div>\n  </div>\n</div>\n'}),rqzt.define("./form/pane/user",function(module,exports,__dirname,__filename,process){var Events,Pane,UserFilterPane,_,crowdcontrol,input,localizeDate,moment,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),moment=rqzt("moment/moment"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,input=rqzt("./form/input"),Pane=rqzt("./form/pane/pane"),localizeDate=function(date){var ref,ref1,ref2,tokens;return tokens=date.split("/"),moment((null!=(ref=tokens[2])?ref:"2015")+" "+(null!=(ref1=tokens[0])?ref1:"01")+" "+(null!=(ref2=tokens[1])?ref2:"01"),"YYYY-MM-DD").format("YYYY-MM-DD")},UserFilterPane=function(superClass){function UserFilterPane(){return UserFilterPane.__super__.constructor.apply(this,arguments)}return extend(UserFilterPane,superClass),UserFilterPane.prototype.tag="user-filter-pane",UserFilterPane.prototype.html=rqzt("./templates/backend/form/pane/user"),UserFilterPane.prototype.path="search/user",UserFilterPane.prototype.inputConfigs=[input("email","Email"),input("firstName","First Name"),input("lastName","Last Name"),input("line1","Street Address"),input("line2","Apartment/Suite"),input("city","City"),input("state","State"),input("postal","Postal/ZIP"),input("minDate","","date-picker"),input("maxDate","","date-picker"),input("country","","country-select")],UserFilterPane.prototype.js=function(){return this.model={email:"",firstName:"",lastName:"",line1:"",line2:"",city:"",state:"",postal:"",country:"_any",minDate:"01/01/2015",maxDate:moment().format("L")},UserFilterPane.__super__.js.apply(this,arguments)},UserFilterPane.prototype.queryString=function(){var maxDate,maxDateStr,minDate,minDateStr,query,swap;return minDate=localizeDate(this.model.minDate),maxDate=localizeDate(this.model.maxDate),moment(minDate,"YYYY-MM-DD").isAfter(moment(maxDate,"YYYY-MM-DD"))&&(swap=maxDate,maxDate=minDate,minDate=swap2),riot.update(),minDateStr=moment(minDate,"YYYY-MM-DD").format("YYYY-MM-DD"),maxDateStr=moment(maxDate,"YYYY-MM-DD").format("YYYY-MM-DD"),query="CreatedAt >= "+encodeURIComponent(minDateStr)+" AND CreatedAt <= "+encodeURIComponent(maxDateStr),this.model.email&&(query+=' AND Email = "'+encodeURIComponent(this.model.email)+'"'),this.model.firstName&&(query+=' AND FirstName = "'+encodeURIComponent(this.model.firstName)+'"'),this.model.lastName&&(query+=' AND LastName = "'+encodeURIComponent(this.model.lastName)+'"'),this.model.line1&&(query+=' AND ShippingAddressLine1 = "'+encodeURIComponent(this.model.line1)+'"'),this.model.line2&&(query+=' AND ShippingAddressLine2 = "'+encodeURIComponent(this.model.line2)+'"'),this.model.city&&(query+=' AND ShippingAddressCity = "'+encodeURIComponent(this.model.city)+'"'),this.model.state&&(query+=' AND ShippingAddressState = "'+encodeURIComponent(this.model.state)+'"'),this.model.postal&&(query+=' AND ShippingAddressPostalCode = "'+encodeURIComponent(this.model.postal)+'"'),"_any"!==this.model.country&&(query+=' AND ShippingAddressCountryCode = "'+encodeURIComponent(this.model.country)+'"'),query},UserFilterPane}(Pane),UserFilterPane.register(),module.exports=UserFilterPane}),rqzt.define("./templates/backend/form/pane/user",function(module,exports,__dirname,__filename,process){module.exports='<div class="tray tray-right tray290 p20">\n  <div class="admin-form">\n    <h4>Filter Users</h4>\n    <hr class="short">\n    <h5><small>Date Range (MM/DD/YYYY)</small></h5>\n    <div class="section row">\n      <div class="col-md-6">\n        <control input="{ inputs.minDate }"></control>\n      </div>\n      <div class="col-md-6">\n        <control input="{ inputs.maxDate }"></control>\n      </div>\n    </div>\n    <h5><small>Contact</small></h5>\n    <div class="section">\n      <control input="{ inputs.email }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.firstName }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.lastName }"></control>\n    </div>\n    <h5><small>Address</small></h5>\n    <div class="section">\n      <control input="{ inputs.line1 }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.line2 }"></control>\n    </div>\n    <div class="section">\n      <control input="{ inputs.city }"></control>\n    </div>\n    <div class="section row">\n      <div class="col-md-6">\n        <control input="{ inputs.state }"></control>\n      </div>\n      <div class="col-md-6">\n        <control input="{ inputs.postal }"></control>\n      </div>\n    </div>\n    <div class="section">\n      <control input="{ inputs.country }" any="true"></control>\n    </div>\n    <hr class="short">\n    <div class="section">\n      <button class="btn btn-default btn-block btn-sm ph25" type="button" onclick="{ submit }" __disabled="{ searching }">{ searching ? \'Searching...\' : \'Search\' }</button>\n    </div>\n  </div>\n</div>\n'}),rqzt.define("./widget",function(module,exports,__dirname,__filename,process){module.exports={VariantOptions:rqzt("./widget/variant-options"),Balance:rqzt("./widget/balance"),Spinner:rqzt("./widget/spinner"),Search:rqzt("./widget/search"),Gmap:rqzt("./widget/gmap"),Listing:rqzt("./widget/listing"),DnD:rqzt("./widget/dnd")}}),rqzt.define("./widget/variant-options",function(module,exports,__dirname,__filename,process){var Events,VariantOptionsEditor,View,crowdcontrol,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,View=crowdcontrol.view.View,VariantOptionsEditor=function(superClass){function VariantOptionsEditor(){return VariantOptionsEditor.__super__.constructor.apply(this,arguments)}var obj;return extend(VariantOptionsEditor,superClass),VariantOptionsEditor.prototype.tag="variant-options",VariantOptionsEditor.prototype.html=rqzt("./widget/variant-options/template"),VariantOptionsEditor.prototype.events=(obj={},obj[""+Events.Form.Load]=function(model){var i,j,len,option,ref;for(this.formModel=model,this.model=model.options,this.model||(this.model=model.options=[]),ref=this.model,i=j=0,len=ref.length;j<len;i=++j)option=ref[i],option.i=i;return this.update()},obj),VariantOptionsEditor.prototype.addOption=function(){return this.model.push({i:this.model.length,name:"",values:""})},VariantOptionsEditor.prototype.changeOption=function(i){return function(_this){return function(event){return _this.model[i].name=$(event.target).val()}}(this)},VariantOptionsEditor.prototype.changeOptionValues=function(i,$input){return this.model[i].values=$input.val().split(",")},VariantOptionsEditor.prototype.deleteOption=function(i){return function(_this){return function(){var j,len,option,ref,results;for(_this.model.splice(i,1),ref=_this.model,results=[],i=j=0,len=ref.length;j<len;i=++j)option=ref[i],results.push(option.i=i);return results}}(this)},VariantOptionsEditor.prototype.js=function(){return this.on("update",function(_this){return function(){return setTimeout(function(){var $tagsInput;return $tagsInput=$(_this.root).find(".input-tags").each(function(i,el){var $el,option;if($el=$(el),null==$el.parent().children(".tagsinput")[0])return option=_this.model[i],$el.tagsInput({width:"auto",height:"auto",defaultText:"+",onChange:function(input){return _this.changeOptionValues(option.i,$(input));
}})})},500)}}(this))},VariantOptionsEditor}(View),VariantOptionsEditor.register()}),rqzt.define("./widget/variant-options/template",function(module,exports,__dirname,__filename,process){module.exports='<div class="row">\n  <h5 class="col-xs-offset-1 col-xs-3 variant-option-header">\n    Option Name\n  </h5>\n  <h5 class="col-xs-7">\n    Possible Values\n  </h5>\n  <h5 class="col-xs-1 variant-option-header">\n    Delete\n  </h5>\n</div>\n<div class="form-group animated fadeInUp" each="{ model }">\n  <label for="{ name }" class="control-label col-xs-offset-1 col-xs-3 variant-option">\n    <input id="{ name + \'_name\' }" name="{ name + \'_name\' }" class="form-control" type="text" onchange="{ this.parent.changeOption(i) }"  onblur="{ this.parent.changeOption(i) }" value="{ name }">\n  </label>\n  <div class="col-xs-7">\n    <input id="{ name }" name="{ name }" class="form-control input-tags" type="text" value="{ values.join(\',\') }">\n  </div>\n  <div class="col-xs-1">\n    <button class="btn btn-xs btn-danger" style="margin-top:5px" onclick="{ this.parent.deleteOption(i) }">x</button>\n  </div>\n</div>\n<div class="form-group click-for-new" onclick="{ addOption }">\n  <div class="control-label col-xs-offset-1 col-xs-3 variant-option">\n    <input class="form-control" type="text" placeholder="Click to add a option" disabled>\n  </div>\n  <div class="col-xs-7">\n    <input class="form-control" type="text" placeholder="Click here to add a new option" disabled>\n  </div>\n  <div class="col-xs-1">\n    <span class="btn btn-xs btn-danger btn-disabled" style="margin-top:5px">x</span>\n  </div>\n</div>\n'}),rqzt.define("./widget/balance",function(module,exports,__dirname,__filename,process){var Api,BalanceWidget,BalanceWidgetFormView,BasicTableView,Events,FormView,View,_,crowdcontrol,field,input,m,moment,table,util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),moment=rqzt("moment/moment"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,util=rqzt("./util"),table=rqzt("./table"),field=table.field,input=rqzt("./form/input"),Api=crowdcontrol.data.Api,View=crowdcontrol.view.View,BasicTableView=table.BasicTableView,FormView=crowdcontrol.view.form.FormView,m=crowdcontrol.utils.mediator,BalanceWidgetFormView=function(superClass){function BalanceWidgetFormView(){return BalanceWidgetFormView.__super__.constructor.apply(this,arguments)}return extend(BalanceWidgetFormView,superClass),BalanceWidgetFormView.prototype.tag="balance-widget-form",BalanceWidgetFormView.prototype.path="transaction",BalanceWidgetFormView.prototype.html=rqzt("./templates/backend/widget/balance/balance-form"),BalanceWidgetFormView.prototype.inputConfigs=[input("type","","required basic-select"),input("amount","ex 100","required money"),input("currency","","currency-type-select")],BalanceWidgetFormView.prototype.js=function(opts){var api;return BalanceWidgetFormView.__super__.js.apply(this,arguments),this.api=api=Api.get("crowdstart")},BalanceWidgetFormView.prototype._submit=function(){return this.api.post(this.path,this.model).then(function(_this){return function(){return setTimeout(function(){return _this.obs.trigger("refresh")},500)}}(this))},BalanceWidgetFormView}(FormView),BalanceWidgetFormView.register(),BalanceWidget=function(superClass){function BalanceWidget(){return BalanceWidget.__super__.constructor.apply(this,arguments)}return extend(BalanceWidget,superClass),BalanceWidget.prototype.tag="balance-widget",BalanceWidget.prototype.html=rqzt("./templates/backend/widget/balance/template"),BalanceWidget.prototype.currencyOptions={},BalanceWidget.prototype.isEmpty=!0,BalanceWidget.prototype.formModel={userId:"",type:"deposit",amount:0,currency:"points"},BalanceWidget.prototype.accountingOptions={deposit:"Add(+)",withdraw:"Subtract(-)"},BalanceWidget.prototype.tableHeaders=[field("type","Type"),field("amount","Amount","money"),field("description","Description"),field("createdAt","Created","date")],BalanceWidget.prototype.events={refresh:function(){return m.trigger("start-spin","balance-form-load"),this.api.get(this.path).then(function(_this){return function(res){return m.trigger("stop-spin","balance-form-load"),_this.updateModel(res.responseText)}}(this)),this.update()}},BalanceWidget.prototype.updateModel=function(model){var currency,i,len,newModel,row,transactions;if(!_.isArray(model)||0===model.length)return void(this.isEmpty=!0);for(this.isEmpty=!1,model.sort(function(a,b){return moment(a.createdAt).isBefore(b.createdAt)?1:-1}),this.currency=currency=model[0].currency,this.currencyOptions={},newModel={},i=0,len=model.length;i<len;i++)row=model[i],transactions=newModel[row.currency],transactions||(transactions=newModel[row.currency]=[]),transactions.push(row),this.currencyOptions[row.currency]=row.currency;return this.model=newModel,this.obs.trigger(Events.Table.NewData,newModel[currency]),this.update()},BalanceWidget.prototype.change=function(event){var currency;if(currency=$(event.target).val(),this.currency!==currency)return this.currency=currency,this.obs.trigger(Events.Table.NewData,this.model[this.currency]),this.update()},BalanceWidget.prototype.balance=function(){var amount,i,len,transaction,transactions;for(transactions=this.model[this.currency],amount=0,i=0,len=transactions.length;i<len;i++)transaction=transactions[i],amount+="deposit"===transaction.type?transaction.amount:-transaction.amount;return util.currency.renderUICurrencyFromJSON(this.currency,amount)},BalanceWidget.prototype.js=function(opts){var userId;return userId=opts.userId=opts.userId||opts.userid,this.path="user/"+userId+"/transactions",this.api=Api.get("crowdstart"),this.obs.trigger("refresh"),this.formModel.userId=userId,this.on("update",function(_this){return function(){var $select;if($select=$(_this.root).find("#balance-currency-select"),null!=$select[0])return _this.initialized?setTimeout(function(){return $select.select2("val",_this.currency)},500):($select.select2({minimumResultsForSearch:10}).change(function(event){return _this.change(event)}),_this.initialized=!0)}}(this))},BalanceWidget}(View),BalanceWidget.register()}),rqzt.define("./templates/backend/widget/balance/balance-form",function(module,exports,__dirname,__filename,process){module.exports='<form onsubmit="{ submit }">\n  <div class="section col-xs-12 mb20" style="padding:0">\n    <control label="Do you want to add or subtract credit?" input="{inputs.type}" options="{ opts.accountingoptions }" labelclasses="col-md-6" controlclasses="col-md-6"></control>\n  </div>\n  <div class="section col-xs-12 mb20" style="padding:0">\n    <control label="How much credit do you want to issue?" input="{inputs.amount}" labelclasses="col-md-6" controlclasses="col-md-6"></control>\n  </div>\n  <div class="section col-xs-12 mb20" style="padding:0">\n    <control label="What currency is the credit in?" input="{inputs.currency}" labelclasses="col-md-6" controlclasses="col-md-6"></control>\n  </div>\n  <div class="form-actions text-center section">\n    <button type="button" class="btn btn-dark" onclick="{ submit }">Add Transaction</button>\n  </div>\n</form>\n'}),rqzt.define("./templates/backend/widget/balance/template",function(module,exports,__dirname,__filename,process){module.exports='<div>\n  <div class="form-group" if="{ !isEmpty }">\n    <div class="col-xs-6">\n      <label for="balance-currency-select" class="control-label" style="float:left;text-align:left;">Currency</label>\n      <div class="col-xs-6">\n        <select id="balance-currency-select">\n          <option each="{ value, name in currencyOptions }" value="{ value }" __selected="{ parent.currency == value }">{ window.currencies[value] }</option>\n        </select>\n      </div>\n    </div>\n    <div class="col-xs-6 form-control-static" style="text-align:right">\n      <label class="control-label pn">\n        Total:\n      </label>\n      { balance() }\n    </div>\n  </div>\n  <basic-table class="{table-viewport: !isEmpty, mb20: true}" headers="{ tableHeaders }" obs="{ obs }">\n    No Transactions Found\n  </basic-table>\n  <balance-widget-form model="{ formModel }" accountingoptions="{ accountingOptions }" obs="{ obs }">\n  </balance-widget-form>\n</div>\n'}),rqzt.define("./widget/spinner",function(module,exports,__dirname,__filename,process){var ModalSpinner,View,crowdcontrol,m,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),View=crowdcontrol.view.View,m=crowdcontrol.utils.mediator,ModalSpinner=function(superClass){function ModalSpinner(){return ModalSpinner.__super__.constructor.apply(this,arguments)}return extend(ModalSpinner,superClass),ModalSpinner.prototype.tag="modal-spinner",ModalSpinner.prototype.html='<div class="{ animated: true, fadeIn: isActive(), fadeOut: !isActive(), hide: hide }"><div class="loader"></div></div>',ModalSpinner.prototype.js=function(){var hideId;return this.active={},this.hide=!0,hideId=0,m.on("start-spin",function(_this){return function(name){return null==name&&(name=""),_this.hide=!1,clearTimeout(hideId),_this.active[name]=!0,_this.update()}}(this)),m.on("stop-spin",function(_this){return function(name){return null==name&&(name=""),clearTimeout(hideId),hideId=setTimeout(function(){return _this.hide=!0,_this.update()},1e3),_this.active[name]=!1,_this.update()}}(this))},ModalSpinner.prototype.isActive=function(){var active,name,ref;if(null!=this.active){ref=this.active;for(name in ref)if(active=ref[name])return!0}return!1},ModalSpinner}(View),ModalSpinner.register()}),rqzt.define("./widget/search",function(module,exports,__dirname,__filename,process){var Api,Events,Search,View,crowdcontrol,utils,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;rqzt("./table"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,utils=crowdcontrol.utils,View=crowdcontrol.view.View,Api=crowdcontrol.data.Api,Search=function(superClass){function Search(){return Search.__super__.constructor.apply(this,arguments)}return extend(Search,superClass),Search.prototype.tag="search-widget",Search.prototype.html=rqzt("./templates/backend/widget/search/template"),Search.prototype.js=function(opts){var api,q;return Search.__super__.js.apply(this,arguments),this.userObs={},utils.shim.observable(this.userObs),this.orderObs={},utils.shim.observable(this.orderObs),this.api=api=Api.get("platform"),q=window.location.search,window.User.owner||(q+="&limit=1000"),requestAnimationFrame(function(_this){return function(){return _this.userObs.trigger(Events.Table.StartSearch),_this.orderObs.trigger(Events.Table.StartSearch),riot.update()}}(this)),api.get("search"+q).then(function(_this){return function(res){var model;if(200!==res.status&&204!==res.status)throw new Error("Form failed to load: ");return _this.model=model=res.responseText,_this.userObs.trigger(Events.Table.NewData,model.users),_this.orderObs.trigger(Events.Table.NewData,model.orders),_this.userObs.trigger(Events.Table.EndSearch),_this.orderObs.trigger(Events.Table.EndSearch),riot.update()}}(this)).catch(function(e){return console.log(e.stack)})},Search}(View),Search.register(),module.exports=Search}),rqzt.define("./templates/backend/widget/search/template",function(module,exports,__dirname,__filename,process){module.exports="<yield></yield>\n"}),rqzt.define("./widget/gmap",function(module,exports,__dirname,__filename,process){var Events,Gmap,View,crowdcontrol,gmapsLoaded,needsRefresh,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,View=crowdcontrol.view.View,gmapsLoaded=!1,needsRefresh=[],window.gmapsInit=function(){var fn,i,len,results1;for(gmapsLoaded=!0,results1=[],i=0,len=needsRefresh.length;i<len;i++)fn=needsRefresh[i],results1.push(fn());return results1},Gmap=function(superClass){function Gmap(){return Gmap.__super__.constructor.apply(this,arguments)}var obj;return extend(Gmap,superClass),Gmap.prototype.tag="gmap",Gmap.prototype.addressField="address",Gmap.prototype.events=(obj={},obj[""+Events.Input.Set]=function(name){if(name===this.addressField+".line1"||name===this.addressField+".line2"||name===this.addressField+".city"||name===this.addressField+".state"||name===this.addressField+".postalCode"||name===this.addressField+".country")return this.refresh()},obj[""+Events.Form.Prefill]=function(model){return this.model=model,this.refresh()},obj),Gmap.prototype.refresh=function(){var GMaps,address,city,country,line1,line2,postalCode,ref,ref1,ref2,ref3,ref4,ref5,ref6,state;if(gmapsLoaded)return GMaps=rqzt("gmaps/gmaps"),null!=(null!=(ref=this.model)?ref[this.addressField]:void 0)&&(line1=null!=(ref1=this.model[this.addressField].line1)?ref1:"",line2=null!=(ref2=this.model[this.addressField].line2)?ref2:"",city=null!=(ref3=this.model[this.addressField].city)?ref3:"",state=null!=(ref4=this.model[this.addressField].state)?ref4:"",postalCode=null!=(ref5=this.model[this.addressField].postalCode)?ref5:"",country=null!=(ref6=this.model[this.addressField].country)?ref6:"",address=line1+" "+line2+" "+city+" "+state+" "+postalCode+" "+country),address!==this.lastAddress?(this.lastAddress=address,GMaps.geocode({address:address,callback:function(_this){return function(results,status){var latlng;if("OK"===status)return null==_this.map&&(_this.map=new GMaps({div:_this.root,lat:21.3280681,lng:-157.798970564,zoom:12})),latlng=results[0].geometry.location,_this.map.removeMarkers(),_this.map.setCenter(latlng.lat(),latlng.lng()),_this.map.addMarker({lat:latlng.lat(),lng:latlng.lng()})}}(this)})):void 0},Gmap.prototype.js=function(opts){var ref;return Gmap.__super__.js.call(this),this.addressField=null!=(ref=opts.addressfield)?ref:this.addressField,$(this.root).addClass("map"),this.on("update",function(_this){return function(){return _this.refresh()}}(this)),needsRefresh.push(function(_this){return function(){if(!gmapsLoaded)return _this.refresh()}}(this))},Gmap}(View),Gmap.register(),module.exports=Gmap}),rqzt.define("gmaps/gmaps",function(module,exports,__dirname,__filename,process){"use strict";!function(root,factory){"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define(["jquery","googlemaps!"],factory):root.GMaps=factory()}(this,function(){var extend_object=function(obj,new_obj){var name;if(obj===new_obj)return obj;for(name in new_obj)void 0!==new_obj[name]&&(obj[name]=new_obj[name]);return obj},array_map=function(array,callback){var i,original_callback_params=Array.prototype.slice.call(arguments,2),array_return=[],array_length=array.length;if(Array.prototype.map&&array.map===Array.prototype.map)array_return=Array.prototype.map.call(array,function(item){var callback_params=original_callback_params.slice(0);return callback_params.splice(0,0,item),callback.apply(this,callback_params)});else for(i=0;i<array_length;i++)callback_params=original_callback_params,callback_params.splice(0,0,array[i]),array_return.push(callback.apply(this,callback_params));return array_return},array_flat=function(array){var i,new_array=[];for(i=0;i<array.length;i++)new_array=new_array.concat(array[i]);return new_array},coordsToLatLngs=function(coords,useGeoJSON){var first_coord=coords[0],second_coord=coords[1];return useGeoJSON&&(first_coord=coords[1],second_coord=coords[0]),new google.maps.LatLng(first_coord,second_coord)},arrayToLatLng=function(coords,useGeoJSON){var i;for(i=0;i<coords.length;i++)coords[i]instanceof google.maps.LatLng||(coords[i].length>0&&"object"==typeof coords[i][0]?coords[i]=arrayToLatLng(coords[i],useGeoJSON):coords[i]=coordsToLatLngs(coords[i],useGeoJSON));return coords},getElementsByClassName=function(class_name,context){var element,_class=class_name.replace(".","");return element="jQuery"in this&&context?$("."+_class,context)[0]:document.getElementsByClassName(_class)[0]},getElementById=function(id,context){var element,id=id.replace("#","");return element="jQuery"in window&&context?$("#"+id,context)[0]:document.getElementById(id)},findAbsolutePosition=function(obj){var curleft=0,curtop=0;if(obj.offsetParent)do curleft+=obj.offsetLeft,curtop+=obj.offsetTop;while(obj=obj.offsetParent);return[curleft,curtop]},GMaps=function(global){var doc=document,GMaps=function(options){if("object"!=typeof window.google||!window.google.maps)return"object"==typeof window.console&&window.console.error&&console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."),function(){};if(!this)return new GMaps(options);options.zoom=options.zoom||15,options.mapType=options.mapType||"roadmap";var i,valueOrDefault=function(value,defaultValue){return void 0===value?defaultValue:value},self=this,events_that_hide_context_menu=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],events_that_doesnt_hide_context_menu=["mousemove","mouseout","mouseover"],options_to_be_deleted=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],identifier=options.el||options.div,markerClustererFunction=options.markerClusterer,mapType=google.maps.MapTypeId[options.mapType.toUpperCase()],map_center=new google.maps.LatLng(options.lat,options.lng),zoomControl=valueOrDefault(options.zoomControl,!0),zoomControlOpt=options.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},zoomControlStyle=zoomControlOpt.style||"DEFAULT",zoomControlPosition=zoomControlOpt.position||"TOP_LEFT",panControl=valueOrDefault(options.panControl,!0),mapTypeControl=valueOrDefault(options.mapTypeControl,!0),scaleControl=valueOrDefault(options.scaleControl,!0),streetViewControl=valueOrDefault(options.streetViewControl,!0),overviewMapControl=valueOrDefault(overviewMapControl,!0),map_options={},map_base_options={zoom:this.zoom,center:map_center,mapTypeId:mapType},map_controls_options={panControl:panControl,zoomControl:zoomControl,zoomControlOptions:{style:google.maps.ZoomControlStyle[zoomControlStyle],position:google.maps.ControlPosition[zoomControlPosition]},mapTypeControl:mapTypeControl,scaleControl:scaleControl,streetViewControl:streetViewControl,overviewMapControl:overviewMapControl};if("string"==typeof options.el||"string"==typeof options.div?identifier.indexOf("#")>-1?this.el=getElementById(identifier,options.context):this.el=getElementsByClassName.apply(this,[identifier,options.context]):this.el=identifier,"undefined"==typeof this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[self.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=options.zoom,this.registered_events={},this.el.style.width=options.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=options.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=options.enableNewStyle,i=0;i<options_to_be_deleted.length;i++)delete options[options_to_be_deleted[i]];for(1!=options.disableDefaultUI&&(map_base_options=extend_object(map_base_options,map_controls_options)),map_options=extend_object(map_base_options,options),i=0;i<events_that_hide_context_menu.length;i++)delete map_options[events_that_hide_context_menu[i]];for(i=0;i<events_that_doesnt_hide_context_menu.length;i++)delete map_options[events_that_doesnt_hide_context_menu[i]];this.map=new google.maps.Map(this.el,map_options),markerClustererFunction&&(this.markerClusterer=markerClustererFunction.apply(this,[this.map]));var buildContextMenuHTML=function(control,e){var html="",options=window.context_menu[self.el.id][control];for(var i in options)if(options.hasOwnProperty(i)){var option=options[i];html+='<li><a id="'+control+"_"+i+'" href="#">'+option.title+"</a></li>"}if(getElementById("gmaps_context_menu")){var context_menu_element=getElementById("gmaps_context_menu");context_menu_element.innerHTML=html;var i,context_menu_items=context_menu_element.getElementsByTagName("a"),context_menu_items_count=context_menu_items.length;for(i=0;i<context_menu_items_count;i++){var context_menu_item=context_menu_items[i],assign_menu_item_action=function(ev){ev.preventDefault(),options[this.id.replace(control+"_","")].action.apply(self,[e]),self.hideContextMenu()};google.maps.event.clearListeners(context_menu_item,"click"),google.maps.event.addDomListenerOnce(context_menu_item,"click",assign_menu_item_action,!1)}var position=findAbsolutePosition.apply(this,[self.el]),left=position[0]+e.pixel.x-15,top=position[1]+e.pixel.y-15;context_menu_element.style.left=left+"px",context_menu_element.style.top=top+"px"}};this.buildContextMenu=function(control,e){if("marker"===control){e.pixel={};var overlay=new google.maps.OverlayView;overlay.setMap(self.map),overlay.draw=function(){var projection=overlay.getProjection(),position=e.marker.getPosition();e.pixel=projection.fromLatLngToContainerPixel(position),buildContextMenuHTML(control,e)}}else buildContextMenuHTML(control,e);var context_menu_element=getElementById("gmaps_context_menu");setTimeout(function(){context_menu_element.style.display="block"},0)},this.setContextMenu=function(options){window.context_menu[self.el.id][options.control]={};var i,ul=doc.createElement("ul");for(i in options.options)if(options.options.hasOwnProperty(i)){var option=options.options[i];window.context_menu[self.el.id][options.control][option.name]={title:option.title,action:option.action}}ul.id="gmaps_context_menu",ul.style.display="none",ul.style.position="absolute",ul.style.minWidth="100px",ul.style.background="white",ul.style.listStyle="none",ul.style.padding="8px",ul.style.boxShadow="2px 2px 6px #ccc",getElementById("gmaps_context_menu")||doc.body.appendChild(ul);var context_menu_element=getElementById("gmaps_context_menu");google.maps.event.addDomListener(context_menu_element,"mouseout",function(ev){ev.relatedTarget&&this.contains(ev.relatedTarget)||window.setTimeout(function(){context_menu_element.style.display="none"},400)},!1)},this.hideContextMenu=function(){var context_menu_element=getElementById("gmaps_context_menu");context_menu_element&&(context_menu_element.style.display="none")};var setupListener=function(object,name){google.maps.event.addListener(object,name,function(e){void 0==e&&(e=this),options[name].apply(this,[e]),self.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var ev=0;ev<events_that_hide_context_menu.length;ev++){var name=events_that_hide_context_menu[ev];name in options&&setupListener(this.map,name)}for(var ev=0;ev<events_that_doesnt_hide_context_menu.length;ev++){var name=events_that_doesnt_hide_context_menu[ev];name in options&&setupListener(this.map,name)}google.maps.event.addListener(this.map,"rightclick",function(e){options.rightclick&&options.rightclick.apply(this,[e]),void 0!=window.context_menu[self.el.id].map&&self.buildContextMenu("map",e)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var i,latLngs=[],markers_length=this.markers.length;for(i=0;i<markers_length;i++)"boolean"==typeof this.markers[i].visible&&this.markers[i].visible&&latLngs.push(this.markers[i].getPosition());this.fitLatLngBounds(latLngs)},this.fitLatLngBounds=function(latLngs){var i,total=latLngs.length,bounds=new google.maps.LatLngBounds;for(i=0;i<total;i++)bounds.extend(latLngs[i]);this.map.fitBounds(bounds)},this.setCenter=function(lat,lng,callback){this.map.panTo(new google.maps.LatLng(lat,lng)),callback&&callback()},this.getElement=function(){return this.el},this.zoomIn=function(value){value=value||1,this.zoom=this.map.getZoom()+value,this.map.setZoom(this.zoom)},this.zoomOut=function(value){value=value||1,this.zoom=this.map.getZoom()-value,this.map.setZoom(this.zoom)};var method,native_methods=[];for(method in this.map)"function"!=typeof this.map[method]||this[method]||native_methods.push(method);for(i=0;i<native_methods.length;i++)!function(gmaps,scope,method_name){gmaps[method_name]=function(){return scope[method_name].apply(scope,arguments)}}(this,this.map,native_methods[i])};return GMaps}(this);GMaps.prototype.createControl=function(options){var control=document.createElement("div");control.style.cursor="pointer",options.disableDefaultStyles!==!0&&(control.style.fontFamily="Roboto, Arial, sans-serif",control.style.fontSize="11px",control.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px");for(var option in options.style)control.style[option]=options.style[option];options.id&&(control.id=options.id),options.title&&(control.title=options.title),options.classes&&(control.className=options.classes),options.content&&("string"==typeof options.content?control.innerHTML=options.content:options.content instanceof HTMLElement&&control.appendChild(options.content)),options.position&&(control.position=google.maps.ControlPosition[options.position.toUpperCase()]);for(var ev in options.events)!function(object,name){google.maps.event.addDomListener(object,name,function(){options.events[name].apply(this,[this])})}(control,ev);return control.index=1,control},GMaps.prototype.addControl=function(options){var control=this.createControl(options);return this.controls.push(control),this.map.controls[control.position].push(control),control},GMaps.prototype.removeControl=function(control){var i,position=null;for(i=0;i<this.controls.length;i++)this.controls[i]==control&&(position=this.controls[i].position,this.controls.splice(i,1));if(position)for(i=0;i<this.map.controls.length;i++){var controlsForPosition=this.map.controls[control.position];if(controlsForPosition.getAt(i)==control){controlsForPosition.removeAt(i);break}}return control},GMaps.prototype.createMarker=function(options){if(void 0==options.lat&&void 0==options.lng&&void 0==options.position)throw"No latitude or longitude defined.";var self=this,details=options.details,fences=options.fences,outside=options.outside,base_options={position:new google.maps.LatLng(options.lat,options.lng),map:null},marker_options=extend_object(base_options,options);delete marker_options.lat,delete marker_options.lng,delete marker_options.fences,delete marker_options.outside;var marker=new google.maps.Marker(marker_options);if(marker.fences=fences,options.infoWindow){marker.infoWindow=new google.maps.InfoWindow(options.infoWindow);for(var info_window_events=["closeclick","content_changed","domready","position_changed","zindex_changed"],ev=0;ev<info_window_events.length;ev++)!function(object,name){options.infoWindow[name]&&google.maps.event.addListener(object,name,function(e){options.infoWindow[name].apply(this,[e])})}(marker.infoWindow,info_window_events[ev])}for(var marker_events=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],marker_events_with_mouse=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"],ev=0;ev<marker_events.length;ev++)!function(object,name){options[name]&&google.maps.event.addListener(object,name,function(){options[name].apply(this,[this])})}(marker,marker_events[ev]);for(var ev=0;ev<marker_events_with_mouse.length;ev++)!function(map,object,name){options[name]&&google.maps.event.addListener(object,name,function(me){me.pixel||(me.pixel=map.getProjection().fromLatLngToPoint(me.latLng)),options[name].apply(this,[me])})}(this.map,marker,marker_events_with_mouse[ev]);return google.maps.event.addListener(marker,"click",function(){this.details=details,options.click&&options.click.apply(this,[this]),marker.infoWindow&&(self.hideInfoWindows(),marker.infoWindow.open(self.map,marker))}),google.maps.event.addListener(marker,"rightclick",function(e){e.marker=this,options.rightclick&&options.rightclick.apply(this,[e]),void 0!=window.context_menu[self.el.id].marker&&self.buildContextMenu("marker",e)}),marker.fences&&google.maps.event.addListener(marker,"dragend",function(){self.checkMarkerGeofence(marker,function(m,f){outside(m,f)})}),marker},GMaps.prototype.addMarker=function(options){var marker;if(options.hasOwnProperty("gm_accessors_"))marker=options;else{if(!(options.hasOwnProperty("lat")&&options.hasOwnProperty("lng")||options.position))throw"No latitude or longitude defined.";marker=this.createMarker(options)}return marker.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(marker),this.markers.push(marker),GMaps.fire("marker_added",marker,this),marker},GMaps.prototype.addMarkers=function(array){for(var marker,i=0;marker=array[i];i++)this.addMarker(marker);return this.markers},GMaps.prototype.hideInfoWindows=function(){for(var marker,i=0;marker=this.markers[i];i++)marker.infoWindow&&marker.infoWindow.close()},GMaps.prototype.removeMarker=function(marker){for(var i=0;i<this.markers.length;i++)if(this.markers[i]===marker){this.markers[i].setMap(null),this.markers.splice(i,1),this.markerClusterer&&this.markerClusterer.removeMarker(marker),GMaps.fire("marker_removed",marker,this);break}return marker},GMaps.prototype.removeMarkers=function(collection){var new_markers=[];if("undefined"==typeof collection){for(var i=0;i<this.markers.length;i++){var marker=this.markers[i];marker.setMap(null),GMaps.fire("marker_removed",marker,this)}this.markerClusterer&&this.markerClusterer.clearMarkers&&this.markerClusterer.clearMarkers(),this.markers=new_markers}else{for(var i=0;i<collection.length;i++){var index=this.markers.indexOf(collection[i]);if(index>-1){var marker=this.markers[index];marker.setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(marker),GMaps.fire("marker_removed",marker,this)}}for(var i=0;i<this.markers.length;i++){var marker=this.markers[i];null!=marker.getMap()&&new_markers.push(marker)}this.markers=new_markers}},GMaps.prototype.drawOverlay=function(options){var overlay=new google.maps.OverlayView,auto_show=!0;return overlay.setMap(this.map),null!=options.auto_show&&(auto_show=options.auto_show),overlay.onAdd=function(){var el=document.createElement("div");el.style.borderStyle="none",el.style.borderWidth="0px",el.style.position="absolute",el.style.zIndex=100,el.innerHTML=options.content,overlay.el=el,options.layer||(options.layer="overlayLayer");var panes=this.getPanes(),overlayLayer=panes[options.layer],stop_overlay_events=["contextmenu","DOMMouseScroll","dblclick","mousedown"];overlayLayer.appendChild(el);for(var ev=0;ev<stop_overlay_events.length;ev++)!function(object,name){google.maps.event.addDomListener(object,name,function(e){navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all?(e.cancelBubble=!0,e.returnValue=!1):e.stopPropagation()})}(el,stop_overlay_events[ev]);options.click&&(panes.overlayMouseTarget.appendChild(overlay.el),google.maps.event.addDomListener(overlay.el,"click",function(){options.click.apply(overlay,[overlay])})),google.maps.event.trigger(this,"ready")},overlay.draw=function(){var projection=this.getProjection(),pixel=projection.fromLatLngToDivPixel(new google.maps.LatLng(options.lat,options.lng));
options.horizontalOffset=options.horizontalOffset||0,options.verticalOffset=options.verticalOffset||0;var el=overlay.el,content=el.children[0],content_height=content.clientHeight,content_width=content.clientWidth;switch(options.verticalAlign){case"top":el.style.top=pixel.y-content_height+options.verticalOffset+"px";break;default:case"middle":el.style.top=pixel.y-content_height/2+options.verticalOffset+"px";break;case"bottom":el.style.top=pixel.y+options.verticalOffset+"px"}switch(options.horizontalAlign){case"left":el.style.left=pixel.x-content_width+options.horizontalOffset+"px";break;default:case"center":el.style.left=pixel.x-content_width/2+options.horizontalOffset+"px";break;case"right":el.style.left=pixel.x+options.horizontalOffset+"px"}el.style.display=auto_show?"block":"none",auto_show||options.show.apply(this,[el])},overlay.onRemove=function(){var el=overlay.el;options.remove?options.remove.apply(this,[el]):(overlay.el.parentNode.removeChild(overlay.el),overlay.el=null)},this.overlays.push(overlay),overlay},GMaps.prototype.removeOverlay=function(overlay){for(var i=0;i<this.overlays.length;i++)if(this.overlays[i]===overlay){this.overlays[i].setMap(null),this.overlays.splice(i,1);break}},GMaps.prototype.removeOverlays=function(){for(var item,i=0;item=this.overlays[i];i++)item.setMap(null);this.overlays=[]},GMaps.prototype.drawPolyline=function(options){var path=[],points=options.path;if(points.length)if(void 0===points[0][0])path=points;else for(var latlng,i=0;latlng=points[i];i++)path.push(new google.maps.LatLng(latlng[0],latlng[1]));var polyline_options={map:this.map,path:path,strokeColor:options.strokeColor,strokeOpacity:options.strokeOpacity,strokeWeight:options.strokeWeight,geodesic:options.geodesic,clickable:!0,editable:!1,visible:!0};options.hasOwnProperty("clickable")&&(polyline_options.clickable=options.clickable),options.hasOwnProperty("editable")&&(polyline_options.editable=options.editable),options.hasOwnProperty("icons")&&(polyline_options.icons=options.icons),options.hasOwnProperty("zIndex")&&(polyline_options.zIndex=options.zIndex);for(var polyline=new google.maps.Polyline(polyline_options),polyline_events=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],ev=0;ev<polyline_events.length;ev++)!function(object,name){options[name]&&google.maps.event.addListener(object,name,function(e){options[name].apply(this,[e])})}(polyline,polyline_events[ev]);return this.polylines.push(polyline),GMaps.fire("polyline_added",polyline,this),polyline},GMaps.prototype.removePolyline=function(polyline){for(var i=0;i<this.polylines.length;i++)if(this.polylines[i]===polyline){this.polylines[i].setMap(null),this.polylines.splice(i,1),GMaps.fire("polyline_removed",polyline,this);break}},GMaps.prototype.removePolylines=function(){for(var item,i=0;item=this.polylines[i];i++)item.setMap(null);this.polylines=[]},GMaps.prototype.drawCircle=function(options){options=extend_object({map:this.map,center:new google.maps.LatLng(options.lat,options.lng)},options),delete options.lat,delete options.lng;for(var polygon=new google.maps.Circle(options),polygon_events=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],ev=0;ev<polygon_events.length;ev++)!function(object,name){options[name]&&google.maps.event.addListener(object,name,function(e){options[name].apply(this,[e])})}(polygon,polygon_events[ev]);return this.polygons.push(polygon),polygon},GMaps.prototype.drawRectangle=function(options){options=extend_object({map:this.map},options);var latLngBounds=new google.maps.LatLngBounds(new google.maps.LatLng(options.bounds[0][0],options.bounds[0][1]),new google.maps.LatLng(options.bounds[1][0],options.bounds[1][1]));options.bounds=latLngBounds;for(var polygon=new google.maps.Rectangle(options),polygon_events=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],ev=0;ev<polygon_events.length;ev++)!function(object,name){options[name]&&google.maps.event.addListener(object,name,function(e){options[name].apply(this,[e])})}(polygon,polygon_events[ev]);return this.polygons.push(polygon),polygon},GMaps.prototype.drawPolygon=function(options){var useGeoJSON=!1;options.hasOwnProperty("useGeoJSON")&&(useGeoJSON=options.useGeoJSON),delete options.useGeoJSON,options=extend_object({map:this.map},options),0==useGeoJSON&&(options.paths=[options.paths.slice(0)]),options.paths.length>0&&options.paths[0].length>0&&(options.paths=array_flat(array_map(options.paths,arrayToLatLng,useGeoJSON)));for(var polygon=new google.maps.Polygon(options),polygon_events=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],ev=0;ev<polygon_events.length;ev++)!function(object,name){options[name]&&google.maps.event.addListener(object,name,function(e){options[name].apply(this,[e])})}(polygon,polygon_events[ev]);return this.polygons.push(polygon),GMaps.fire("polygon_added",polygon,this),polygon},GMaps.prototype.removePolygon=function(polygon){for(var i=0;i<this.polygons.length;i++)if(this.polygons[i]===polygon){this.polygons[i].setMap(null),this.polygons.splice(i,1),GMaps.fire("polygon_removed",polygon,this);break}},GMaps.prototype.removePolygons=function(){for(var item,i=0;item=this.polygons[i];i++)item.setMap(null);this.polygons=[]},GMaps.prototype.getFromFusionTables=function(options){var events=options.events;delete options.events;var fusion_tables_options=options,layer=new google.maps.FusionTablesLayer(fusion_tables_options);for(var ev in events)!function(object,name){google.maps.event.addListener(object,name,function(e){events[name].apply(this,[e])})}(layer,ev);return this.layers.push(layer),layer},GMaps.prototype.loadFromFusionTables=function(options){var layer=this.getFromFusionTables(options);return layer.setMap(this.map),layer},GMaps.prototype.getFromKML=function(options){var url=options.url,events=options.events;delete options.url,delete options.events;var kml_options=options,layer=new google.maps.KmlLayer(url,kml_options);for(var ev in events)!function(object,name){google.maps.event.addListener(object,name,function(e){events[name].apply(this,[e])})}(layer,ev);return this.layers.push(layer),layer},GMaps.prototype.loadFromKML=function(options){var layer=this.getFromKML(options);return layer.setMap(this.map),layer},GMaps.prototype.addLayer=function(layerName,options){options=options||{};var layer;switch(layerName){case"weather":this.singleLayers.weather=layer=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=layer=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=layer=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=layer=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=layer=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=layer=new google.maps.panoramio.PanoramioLayer,layer.setTag(options.filter),delete options.filter,options.click&&google.maps.event.addListener(layer,"click",function(event){options.click(event),delete options.click});break;case"places":if(this.singleLayers.places=layer=new google.maps.places.PlacesService(this.map),options.search||options.nearbySearch||options.radarSearch){var placeSearchRequest={bounds:options.bounds||null,keyword:options.keyword||null,location:options.location||null,name:options.name||null,radius:options.radius||null,rankBy:options.rankBy||null,types:options.types||null};options.radarSearch&&layer.radarSearch(placeSearchRequest,options.radarSearch),options.search&&layer.search(placeSearchRequest,options.search),options.nearbySearch&&layer.nearbySearch(placeSearchRequest,options.nearbySearch)}if(options.textSearch){var textSearchRequest={bounds:options.bounds||null,location:options.location||null,query:options.query||null,radius:options.radius||null};layer.textSearch(textSearchRequest,options.textSearch)}}if(void 0!==layer)return"function"==typeof layer.setOptions&&layer.setOptions(options),"function"==typeof layer.setMap&&layer.setMap(this.map),layer},GMaps.prototype.removeLayer=function(layer){if("string"==typeof layer&&void 0!==this.singleLayers[layer])this.singleLayers[layer].setMap(null),delete this.singleLayers[layer];else for(var i=0;i<this.layers.length;i++)if(this.layers[i]===layer){this.layers[i].setMap(null),this.layers.splice(i,1);break}};var travelMode,unitSystem;return GMaps.prototype.getRoutes=function(options){switch(options.travelMode){case"bicycling":travelMode=google.maps.TravelMode.BICYCLING;break;case"transit":travelMode=google.maps.TravelMode.TRANSIT;break;case"driving":travelMode=google.maps.TravelMode.DRIVING;break;default:travelMode=google.maps.TravelMode.WALKING}unitSystem="imperial"===options.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var base_options={avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},request_options=extend_object(base_options,options);request_options.origin=/string/.test(typeof options.origin)?options.origin:new google.maps.LatLng(options.origin[0],options.origin[1]),request_options.destination=/string/.test(typeof options.destination)?options.destination:new google.maps.LatLng(options.destination[0],options.destination[1]),request_options.travelMode=travelMode,request_options.unitSystem=unitSystem,delete request_options.callback,delete request_options.error;var routes=[],service=new google.maps.DirectionsService;service.route(request_options,function(result,status){if(status===google.maps.DirectionsStatus.OK){for(var r in result.routes)result.routes.hasOwnProperty(r)&&routes.push(result.routes[r]);options.callback&&options.callback(routes,result,status)}else options.error&&options.error(result,status)})},GMaps.prototype.removeRoutes=function(){this.routes.length=0},GMaps.prototype.getElevations=function(options){options=extend_object({locations:[],path:!1,samples:256},options),options.locations.length>0&&options.locations[0].length>0&&(options.locations=array_flat(array_map([options.locations],arrayToLatLng,!1)));var callback=options.callback;delete options.callback;var service=new google.maps.ElevationService;if(options.path){var pathRequest={path:options.locations,samples:options.samples};service.getElevationAlongPath(pathRequest,function(result,status){callback&&"function"==typeof callback&&callback(result,status)})}else delete options.path,delete options.samples,service.getElevationForLocations(options,function(result,status){callback&&"function"==typeof callback&&callback(result,status)})},GMaps.prototype.cleanRoute=GMaps.prototype.removePolylines,GMaps.prototype.renderRoute=function(options,renderOptions){var display,panel="string"==typeof renderOptions.panel?document.getElementById(renderOptions.panel.replace("#","")):renderOptions.panel;renderOptions.panel=panel,renderOptions=extend_object({map:this.map},renderOptions),display=new google.maps.DirectionsRenderer(renderOptions),this.getRoutes({origin:options.origin,destination:options.destination,travelMode:options.travelMode,waypoints:options.waypoints,unitSystem:options.unitSystem,error:options.error,avoidHighways:options.avoidHighways,avoidTolls:options.avoidTolls,optimizeWaypoints:options.optimizeWaypoints,callback:function(routes,response,status){status===google.maps.DirectionsStatus.OK&&display.setDirections(response)}})},GMaps.prototype.drawRoute=function(options){var self=this;this.getRoutes({origin:options.origin,destination:options.destination,travelMode:options.travelMode,waypoints:options.waypoints,unitSystem:options.unitSystem,error:options.error,avoidHighways:options.avoidHighways,avoidTolls:options.avoidTolls,optimizeWaypoints:options.optimizeWaypoints,callback:function(routes){if(routes.length>0){var polyline_options={path:routes[routes.length-1].overview_path,strokeColor:options.strokeColor,strokeOpacity:options.strokeOpacity,strokeWeight:options.strokeWeight};options.hasOwnProperty("icons")&&(polyline_options.icons=options.icons),self.drawPolyline(polyline_options),options.callback&&options.callback(routes[routes.length-1])}}})},GMaps.prototype.travelRoute=function(options){if(options.origin&&options.destination)this.getRoutes({origin:options.origin,destination:options.destination,travelMode:options.travelMode,waypoints:options.waypoints,unitSystem:options.unitSystem,error:options.error,callback:function(e){if(e.length>0&&options.start&&options.start(e[e.length-1]),e.length>0&&options.step){var route=e[e.length-1];if(route.legs.length>0)for(var step,steps=route.legs[0].steps,i=0;step=steps[i];i++)step.step_number=i,options.step(step,route.legs[0].steps.length-1)}e.length>0&&options.end&&options.end(e[e.length-1])}});else if(options.route&&options.route.legs.length>0)for(var step,steps=options.route.legs[0].steps,i=0;step=steps[i];i++)step.step_number=i,options.step(step)},GMaps.prototype.drawSteppedRoute=function(options){var self=this;if(options.origin&&options.destination)this.getRoutes({origin:options.origin,destination:options.destination,travelMode:options.travelMode,waypoints:options.waypoints,error:options.error,callback:function(e){if(e.length>0&&options.start&&options.start(e[e.length-1]),e.length>0&&options.step){var route=e[e.length-1];if(route.legs.length>0)for(var step,steps=route.legs[0].steps,i=0;step=steps[i];i++){step.step_number=i;var polyline_options={path:step.path,strokeColor:options.strokeColor,strokeOpacity:options.strokeOpacity,strokeWeight:options.strokeWeight};options.hasOwnProperty("icons")&&(polyline_options.icons=options.icons),self.drawPolyline(polyline_options),options.step(step,route.legs[0].steps.length-1)}}e.length>0&&options.end&&options.end(e[e.length-1])}});else if(options.route&&options.route.legs.length>0)for(var step,steps=options.route.legs[0].steps,i=0;step=steps[i];i++){step.step_number=i;var polyline_options={path:step.path,strokeColor:options.strokeColor,strokeOpacity:options.strokeOpacity,strokeWeight:options.strokeWeight};options.hasOwnProperty("icons")&&(polyline_options.icons=options.icons),self.drawPolyline(polyline_options),options.step(step)}},GMaps.Route=function(options){this.origin=options.origin,this.destination=options.destination,this.waypoints=options.waypoints,this.map=options.map,this.route=options.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var polyline_options={path:new google.maps.MVCArray,strokeColor:options.strokeColor,strokeOpacity:options.strokeOpacity,strokeWeight:options.strokeWeight};options.hasOwnProperty("icons")&&(polyline_options.icons=options.icons),this.polyline=this.map.drawPolyline(polyline_options).getPath()},GMaps.Route.prototype.getRoute=function(options){var self=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:options.travelMode,waypoints:this.waypoints||[],error:options.error,callback:function(){self.route=e[0],options.callback&&options.callback.call(self)}})},GMaps.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var path=this.route.legs[0].steps[this.step_count].path;for(var p in path)path.hasOwnProperty(p)&&this.polyline.pop()}},GMaps.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var path=this.route.legs[0].steps[this.step_count].path;for(var p in path)path.hasOwnProperty(p)&&this.polyline.push(path[p]);this.step_count++}},GMaps.prototype.checkGeofence=function(lat,lng,fence){return fence.containsLatLng(new google.maps.LatLng(lat,lng))},GMaps.prototype.checkMarkerGeofence=function(marker,outside_callback){if(marker.fences)for(var fence,i=0;fence=marker.fences[i];i++){var pos=marker.getPosition();this.checkGeofence(pos.lat(),pos.lng(),fence)||outside_callback(marker,fence)}},GMaps.prototype.toImage=function(options){var options=options||{},static_map_options={};if(static_map_options.size=options.size||[this.el.clientWidth,this.el.clientHeight],static_map_options.lat=this.getCenter().lat(),static_map_options.lng=this.getCenter().lng(),this.markers.length>0){static_map_options.markers=[];for(var i=0;i<this.markers.length;i++)static_map_options.markers.push({lat:this.markers[i].getPosition().lat(),lng:this.markers[i].getPosition().lng()})}if(this.polylines.length>0){var polyline=this.polylines[0];static_map_options.polyline={},static_map_options.polyline.path=google.maps.geometry.encoding.encodePath(polyline.getPath()),static_map_options.polyline.strokeColor=polyline.strokeColor,static_map_options.polyline.strokeOpacity=polyline.strokeOpacity,static_map_options.polyline.strokeWeight=polyline.strokeWeight}return GMaps.staticMapURL(static_map_options)},GMaps.staticMapURL=function(options){function parseColor(color,opacity){if("#"===color[0]&&(color=color.replace("#","0x"),opacity)){if(opacity=parseFloat(opacity),opacity=Math.min(1,Math.max(opacity,0)),0===opacity)return"0x00000000";opacity=(255*opacity).toString(16),1===opacity.length&&(opacity+=opacity),color=color.slice(0,8)+opacity}return color}var data,parameters=[],static_root=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";options.url&&(static_root=options.url,delete options.url),static_root+="?";var markers=options.markers;delete options.markers,!markers&&options.marker&&(markers=[options.marker],delete options.marker);var styles=options.styles;delete options.styles;var polyline=options.polyline;if(delete options.polyline,options.center)parameters.push("center="+options.center),delete options.center;else if(options.address)parameters.push("center="+options.address),delete options.address;else if(options.lat)parameters.push(["center=",options.lat,",",options.lng].join("")),delete options.lat,delete options.lng;else if(options.visible){var visible=encodeURI(options.visible.join("|"));parameters.push("visible="+visible)}var size=options.size;size?(size.join&&(size=size.join("x")),delete options.size):size="630x300",parameters.push("size="+size),options.zoom||options.zoom===!1||(options.zoom=15);var sensor=!options.hasOwnProperty("sensor")||!!options.sensor;delete options.sensor,parameters.push("sensor="+sensor);for(var param in options)options.hasOwnProperty(param)&&parameters.push(param+"="+options[param]);if(markers)for(var marker,loc,i=0;data=markers[i];i++){marker=[],data.size&&"normal"!==data.size?(marker.push("size:"+data.size),delete data.size):data.icon&&(marker.push("icon:"+encodeURI(data.icon)),delete data.icon),data.color&&(marker.push("color:"+data.color.replace("#","0x")),delete data.color),data.label&&(marker.push("label:"+data.label[0].toUpperCase()),delete data.label),loc=data.address?data.address:data.lat+","+data.lng,delete data.address,delete data.lat,delete data.lng;for(var param in data)data.hasOwnProperty(param)&&marker.push(param+":"+data[param]);marker.length||0===i?(marker.push(loc),marker=marker.join("|"),parameters.push("markers="+encodeURI(marker))):(marker=parameters.pop()+encodeURI("|"+loc),parameters.push(marker))}if(styles)for(var i=0;i<styles.length;i++){var styleRule=[];styles[i].featureType&&styleRule.push("feature:"+styles[i].featureType.toLowerCase()),styles[i].elementType&&styleRule.push("element:"+styles[i].elementType.toLowerCase());for(var j=0;j<styles[i].stylers.length;j++)for(var p in styles[i].stylers[j]){var ruleArg=styles[i].stylers[j][p];"hue"!=p&&"color"!=p||(ruleArg="0x"+ruleArg.substring(1)),styleRule.push(p+":"+ruleArg)}var rule=styleRule.join("|");""!=rule&&parameters.push("style="+rule)}if(polyline){if(data=polyline,polyline=[],data.strokeWeight&&polyline.push("weight:"+parseInt(data.strokeWeight,10)),data.strokeColor){var color=parseColor(data.strokeColor,data.strokeOpacity);polyline.push("color:"+color)}if(data.fillColor){var fillcolor=parseColor(data.fillColor,data.fillOpacity);polyline.push("fillcolor:"+fillcolor)}var path=data.path;if(path.join)for(var pos,j=0;pos=path[j];j++)polyline.push(pos.join(","));else polyline.push("enc:"+path);polyline=polyline.join("|"),parameters.push("path="+encodeURI(polyline))}var dpi=window.devicePixelRatio||1;return parameters.push("scale="+dpi),parameters=parameters.join("&"),static_root+parameters},GMaps.prototype.addMapType=function(mapTypeId,options){if(!options.hasOwnProperty("getTileUrl")||"function"!=typeof options.getTileUrl)throw"'getTileUrl' function required.";options.tileSize=options.tileSize||new google.maps.Size(256,256);var mapType=new google.maps.ImageMapType(options);this.map.mapTypes.set(mapTypeId,mapType)},GMaps.prototype.addOverlayMapType=function(options){if(!options.hasOwnProperty("getTile")||"function"!=typeof options.getTile)throw"'getTile' function required.";var overlayMapTypeIndex=options.index;delete options.index,this.map.overlayMapTypes.insertAt(overlayMapTypeIndex,options)},GMaps.prototype.removeOverlayMapType=function(overlayMapTypeIndex){this.map.overlayMapTypes.removeAt(overlayMapTypeIndex)},GMaps.prototype.addStyle=function(options){var styledMapType=new google.maps.StyledMapType(options.styles,{name:options.styledMapName});this.map.mapTypes.set(options.mapTypeId,styledMapType)},GMaps.prototype.setStyle=function(mapTypeId){this.map.setMapTypeId(mapTypeId)},GMaps.prototype.createPanorama=function(streetview_options){return streetview_options.hasOwnProperty("lat")&&streetview_options.hasOwnProperty("lng")||(streetview_options.lat=this.getCenter().lat(),streetview_options.lng=this.getCenter().lng()),this.panorama=GMaps.createPanorama(streetview_options),this.map.setStreetView(this.panorama),this.panorama},GMaps.createPanorama=function(options){var el=getElementById(options.el,options.context);options.position=new google.maps.LatLng(options.lat,options.lng),delete options.el,delete options.context,delete options.lat,delete options.lng;for(var streetview_events=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],streetview_options=extend_object({visible:!0},options),i=0;i<streetview_events.length;i++)delete streetview_options[streetview_events[i]];for(var panorama=new google.maps.StreetViewPanorama(el,streetview_options),i=0;i<streetview_events.length;i++)!function(object,name){options[name]&&google.maps.event.addListener(object,name,function(){options[name].apply(this)})}(panorama,streetview_events[i]);return panorama},GMaps.prototype.on=function(event_name,handler){return GMaps.on(event_name,this,handler)},GMaps.prototype.off=function(event_name){GMaps.off(event_name,this)},GMaps.prototype.once=function(event_name,handler){return GMaps.once(event_name,this,handler)},GMaps.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],GMaps.on=function(event_name,object,handler){if(GMaps.custom_events.indexOf(event_name)==-1)return object instanceof GMaps&&(object=object.map),google.maps.event.addListener(object,event_name,handler);var registered_event={handler:handler,eventName:event_name};return object.registered_events[event_name]=object.registered_events[event_name]||[],object.registered_events[event_name].push(registered_event),registered_event},GMaps.off=function(event_name,object){GMaps.custom_events.indexOf(event_name)==-1?(object instanceof GMaps&&(object=object.map),google.maps.event.clearListeners(object,event_name)):object.registered_events[event_name]=[]},GMaps.once=function(event_name,object,handler){if(GMaps.custom_events.indexOf(event_name)==-1)return object instanceof GMaps&&(object=object.map),google.maps.event.addListenerOnce(object,event_name,handler)},GMaps.fire=function(event_name,object,scope){if(GMaps.custom_events.indexOf(event_name)==-1)google.maps.event.trigger(object,event_name,Array.prototype.slice.apply(arguments).slice(2));else if(event_name in scope.registered_events)for(var firing_events=scope.registered_events[event_name],i=0;i<firing_events.length;i++)!function(handler,scope,object){handler.apply(scope,[object])}(firing_events[i].handler,scope,object)},GMaps.geolocate=function(options){var complete_callback=options.always||options.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(position){options.success(position),complete_callback&&complete_callback()},function(error){options.error(error),complete_callback&&complete_callback()},options.options):(options.not_supported(),complete_callback&&complete_callback())},GMaps.geocode=function(options){this.geocoder=new google.maps.Geocoder;var callback=options.callback;options.hasOwnProperty("lat")&&options.hasOwnProperty("lng")&&(options.latLng=new google.maps.LatLng(options.lat,options.lng)),delete options.lat,delete options.lng,delete options.callback,this.geocoder.geocode(options,function(results,status){callback(results,status)})},"object"==typeof window.google&&window.google.maps&&(google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(latLng){for(var path,bounds=new google.maps.LatLngBounds,paths=this.getPaths(),p=0;p<paths.getLength();p++){path=paths.getAt(p);for(var i=0;i<path.getLength();i++)bounds.extend(path.getAt(i))}return bounds}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(latLng){var bounds=this.getBounds();if(null!==bounds&&!bounds.contains(latLng))return!1;for(var inPoly=!1,numPaths=this.getPaths().getLength(),p=0;p<numPaths;p++)for(var path=this.getPaths().getAt(p),numPoints=path.getLength(),j=numPoints-1,i=0;i<numPoints;i++){var vertex1=path.getAt(i),vertex2=path.getAt(j);(vertex1.lng()<latLng.lng()&&vertex2.lng()>=latLng.lng()||vertex2.lng()<latLng.lng()&&vertex1.lng()>=latLng.lng())&&vertex1.lat()+(latLng.lng()-vertex1.lng())/(vertex2.lng()-vertex1.lng())*(vertex2.lat()-vertex1.lat())<latLng.lat()&&(inPoly=!inPoly),j=i}return inPoly}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(latLng){return!google.maps.geometry||google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),latLng)<=this.getRadius()}),google.maps.Rectangle.prototype.containsLatLng=function(latLng){return this.getBounds().contains(latLng)},google.maps.LatLngBounds.prototype.containsLatLng=function(latLng){return this.contains(latLng)},google.maps.Marker.prototype.setFences=function(fences){this.fences=fences},google.maps.Marker.prototype.addFence=function(fence){this.fences.push(fence)},google.maps.Marker.prototype.getId=function(){return this.__gm_id}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){if(null==this)throw new TypeError;var t=Object(this),len=t.length>>>0;if(0===len)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1}),GMaps})}),rqzt.define("./widget/listing",function(module,exports,__dirname,__filename,process){var Api,BasicTableView,Events,ListingWidget,View,_,crowdcontrol,input,table,util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,util=rqzt("./util"),table=rqzt("./table"),input=rqzt("./form/input"),Api=crowdcontrol.data.Api,View=crowdcontrol.view.View,BasicTableView=table.BasicTableView,ListingWidget=function(superClass){function ListingWidget(){return ListingWidget.__super__.constructor.apply(this,arguments)}var obj;return extend(ListingWidget,superClass),ListingWidget.prototype.tag="listing-widget",ListingWidget.prototype.html=rqzt("./templates/backend/widget/listing/template"),ListingWidget.prototype.events=(obj={},obj[""+Events.Form.Prefill]=function(model){return this.model=model,null==this.model.listing&&(this.model.listing={}),this.reset()},obj),ListingWidget.prototype.js=function(opts){var api;return ListingWidget.__super__.js.apply(this,arguments),this.util=util,this.api=api=Api.get("crowdstart"),api.get("product").then(function(_this){return function(res){if(200!==res.status)throw new Error("Reference Products failed to load");return _this.products=res.responseText.models,_this.reset()}}(this)).catch(function(e){return console.log(e.stack)})},ListingWidget.prototype.reset=function(){var j,len,listing,matched,product,productId,ref,ref1,ref2,ref3,ref4,ref5;if(this.listings=[],null!=this.products){for(ref=this.products,j=0,len=ref.length;j<len;j++){if(product=ref[j],matched=!1,null!=(null!=(ref1=this.model)?ref1.listings:void 0)){ref2=this.model.listings;for(productId in ref2)if(listing=ref2[productId],productId===product.id){this.listings.unshift({productId:product.id,slug:product.slug,price:null!=(ref3=listing.price)?ref3:product.price,listPrice:null!=(ref4=listing.listPrice)?ref4:product.listPrice,available:null!=(ref5=listing.available)?ref5:product.available,show:!0}),matched=!0;break}}matched||this.listings.push({productId:product.id,slug:product.slug,price:product.price,listPrice:product.listPrice,available:!1,show:!1})}return this.updateModel()}},ListingWidget.prototype.updateModel=function(){var j,len,listing,listings,ref;for(this.model.listings=listings={},ref=this.listings,j=0,len=ref.length;j<len;j++)listing=ref[j],listing.show&&(listings[listing.productId]=listing);return riot.update()},ListingWidget.prototype.currency=function(){return this.model.currency},ListingWidget.prototype.changePrice=function(i){return function(_this){return function(event){var val;return val=$(event.target).val(),_this.listings[i].price=util.currency.renderJSONCurrencyFromUI(_this.currency(),val)}}(this)},ListingWidget.prototype.changeListPrice=function(i){return function(_this){return function(event){var val;return val=$(event.target).val(),_this.listings[i].listPrice=util.currency.renderJSONCurrencyFromUI(_this.currency(),val)}}(this)},ListingWidget.prototype.changeAvailable=function(i){return function(_this){return function(event){var val;if(val=event.target.checked,_this.listings[i].available=val,val)return _this.changeShow(i)(event)}}(this)},ListingWidget.prototype.changeShow=function(i){return function(_this){return function(event){var val;return val=event.target.checked,_this.listings[i].show=val,val||_this.changeAvailable(i)(event),_this.updateModel()}}(this)},ListingWidget}(View),ListingWidget.register()}),rqzt.define("./templates/backend/widget/listing/template",function(module,exports,__dirname,__filename,process){module.exports='<div class="table-viewport mb20">\n  <table class="table table-striped table-responsive table-hover">\n    <thead>\n      <tr>\n        <th>Product&nbsp;</th>\n        <th>Store List Price&nbsp;</th>\n        <th>Store Price&nbsp;</th>\n        <th>In Stock&nbsp;</th>\n        <th>Include in Store*&nbsp;</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class="animated fadeIn" each="{listing, i in listings}">\n        <td>{listing.slug}</td>\n        <td>\n          <input onchange="{this.parent.changeListPrice(i)}" onblur="{this.parent.changeListPrice(i)}" value="{this.parent.util.currency.renderUICurrencyFromJSON(this.parent.currency(), listing.listPrice)}"></input>\n        </td>\n        <td>\n          <input onchange="{this.parent.changePrice(i)}" onblur="{this.parent.changePrice(i)}" value="{this.parent.util.currency.renderUICurrencyFromJSON(this.parent.currency(), listing.price)}"></input>\n        </td>\n        <td class="text-center">\n          <div class="checkbox-custom checkbox-primary mb5">\n            <input id="available{ i }" name="available{ i }" type="checkbox" onchange="{this.parent.changeAvailable(i)}" onblur="{this.parent.changeShow(i)}" __checked ="{ listing.available }"></input>\n            <label for="available{ i }">&nbsp;</label>\n          </div>\n        </td>\n        <td class="text-center">\n          <div class="checkbox-custom checkbox-primary mb5">\n            <input id="show{ i }" name="show{ i }" type="checkbox" onchange="{this.parent.changeShow(i)}" onblur="{this.parent.changeShow(i)}" __checked ="{ listing.show }"></input>\n            <label for="show{ i }">&nbsp;</label>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<span>*Your changes will be lost if a product is not included in this store, use \'In Stock\' to toggle visibility of a product in this store.</span>\n';
});rqzt.define("./widget/dnd",function(module,exports,__dirname,__filename,process){var Drag,Drop,Events,View,crowdcontrol,riot,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;riot=rqzt("riot/riot"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,View=crowdcontrol.view.View,Drag=function(superClass){function Drag(){return Drag.__super__.constructor.apply(this,arguments)}return extend(Drag,superClass),Drag.prototype.tag="drag",Drag.prototype.html='<div draggable="true"\n  ondragstart="{dragstart}"\n  ondragend="{dragend}"\n  ondrag="{drag}">\n  <yield></yield>\n</div>',Drag.prototype.dragstart=function(e){return this.obs.trigger("dragstart",e,this.model),e.dataTransfer.setData("application/node type",e.target),!0},Drag.prototype.dragend=function(e){return this.obs.trigger("dragend",e,this.model),!0},Drag.prototype.drag=function(e){return this.obs.trigger("drag",e,this.model),!0},Drag}(View),Drag.register(),Drop=function(superClass){function Drop(){return Drop.__super__.constructor.apply(this,arguments)}return extend(Drop,superClass),Drop.prototype.tag="drop",Drop.prototype.html='<div\n  ondrop="{drop}"\n  ondragover="{dragover}"\n  ondragenter="{dragenter}"\n  ondragleave="{dragleave}">\n  <yield></yield>\n</div>',Drop.prototype.drop=function(e){return this.obs.trigger("drop",e),!0},Drop.prototype.dragover=function(e){return this.obs.trigger("dragover",e),e.preventDefault(),!1},Drop.prototype.dragenter=function(e){return this.obs.trigger("dragenter",e),!0},Drop.prototype.dragleave=function(e){return this.obs.trigger("dragleave",e),!0},Drop}(View),Drop.register(),module.export={Drag:Drag,Drop:Drop}});rqzt.define("./visual",function(module,exports,__dirname,__filename,process){rqzt("./visual/events"),module.exports={Panel:rqzt("./visual/panel"),Chart:rqzt("./visual/chart")}}),rqzt.define("./visual/events",function(module,exports,__dirname,__filename,process){var Events,crowdcontrol;crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,Events.Visual={NewData:"visual-new-data",NewDescription:"visual-new-description",NewLabel:"visual-new-label"}}),rqzt.define("./visual/panel",function(module,exports,__dirname,__filename,process){module.exports={NumberPanel:rqzt("./visual/panel/number"),MoneyPanel:rqzt("./visual/panel/money")}}),rqzt.define("./visual/panel/number",function(module,exports,__dirname,__filename,process){var BasicPanelView,NumberPanel,_,humanize,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),humanize=rqzt("humanize/humanize"),BasicPanelView=rqzt("./visual/panel/basic"),NumberPanel=function(superClass){function NumberPanel(){return NumberPanel.__super__.constructor.apply(this,arguments)}return extend(NumberPanel,superClass),NumberPanel.prototype.tag="number-panel",NumberPanel.prototype.decimals=0,NumberPanel.prototype.js=function(opts){return NumberPanel.__super__.js.apply(this,arguments),this.decimals=opts.decimals||this.decimals||0},NumberPanel.prototype.render=function(val){return _.isNumber(val)?humanize.numberFormat(val,this.decimals):0},NumberPanel}(BasicPanelView),NumberPanel.register(),module.exports=NumberPanel}),rqzt.define("./visual/panel/basic",function(module,exports,__dirname,__filename,process){var BasicPanelView,Events,View,crowdcontrol,humanize,spinFrames,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,View=crowdcontrol.view.View,humanize=rqzt("humanize/humanize"),spinFrames=10,BasicPanelView=function(superClass){function BasicPanelView(){return BasicPanelView.__super__.constructor.apply(this,arguments)}var obj;return extend(BasicPanelView,superClass),BasicPanelView.prototype.tag="basic-panel",BasicPanelView.prototype.label="",BasicPanelView.prototype.description="Description",BasicPanelView.prototype.html=rqzt("./templates/backend/visual/panel/template"),BasicPanelView.prototype.events=(obj={},obj[""+Events.Visual.NewData]=function(){return this.loadData.apply(this,arguments),this.update()},obj[""+Events.Visual.NewDescription]=function(description){return this.description=description,this.update()},obj[""+Events.Visual.NewLabel]=function(label){return this.label=label,this.update()},obj),BasicPanelView.prototype.js=function(opts){var ref,ref1;return this.model=0,this.label=null!=(ref=opts.label)?ref:this.label,this.description=null!=(ref1=opts.description)?ref1:this.description,this.loadData(this.model,opts.compareModel)},BasicPanelView.prototype.canCompare=function(){return 0!==this.compareModel&&!isNaN(this.compareModel)},BasicPanelView.prototype.loadData=function(model,compareModel){var deltaSpin,frames,spin,spinActualNumber;return this.model=null!=model?model:0,this.compareModel=null!=compareModel?compareModel:NaN,this.canCompare()&&(this.comparePercent=((this.model-this.compareModel)/this.compareModel*100).toFixed(1)),this.spinNumber=0,0===this.model?void this.update():(spinActualNumber=0,deltaSpin=this.model/spinFrames,frames=spinFrames,(spin=function(_this){return function(){return requestAnimationFrame(function(){if(spinActualNumber+=deltaSpin,_this.spinNumber=parseInt(spinActualNumber,10),_this.update(),frames>1)return frames--,spin()})}}(this))())},BasicPanelView.prototype.render=function(val){return humanize.numberFormat(val)},BasicPanelView}(View),module.exports=BasicPanelView}),rqzt.define("./templates/backend/visual/panel/template",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel panel-tile text-center br-a br-grey">\n  <div class="panel-body">\n    <h1 class="fs30 mt5 mbn">{ render(spinNumber) }</h1>\n    <h6 class="text-system">{ description }</h6>\n  </div>\n  <div class="panel-footer br-t p12">\n    <span class="fs11 text-info" if="{ canCompare() && comparePercent >= 0 }">\n      <i class="fa fa-arrow-up pr5"></i> { comparePercent }% INCREASE\n      <b>{ label }</b>\n    </span>\n    <span class="fs11 text-danger" if="{ canCompare() && comparePercent < 0 }">\n      <i class="fa fa-arrow-down pr5"></i> { -comparePercent }% DECREASE\n      <b>{ label }</b>\n    </span>\n    <span class="fs11" if="{ !canCompare() }">\n      <b>{ label }</b>\n    </span>\n  </div>\n</div>\n'}),rqzt.define("./visual/panel/money",function(module,exports,__dirname,__filename,process){var BasicPanelView,MoneyPanel,_,util,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),BasicPanelView=rqzt("./visual/panel/basic"),util=rqzt("./util"),MoneyPanel=function(superClass){function MoneyPanel(){return MoneyPanel.__super__.constructor.apply(this,arguments)}return extend(MoneyPanel,superClass),MoneyPanel.prototype.tag="money-panel",MoneyPanel.prototype.html=rqzt("./templates/backend/visual/panel/money"),MoneyPanel.prototype.decimals=0,MoneyPanel.prototype.loadData=function(model,compareModel,currency){return this.currency=currency,MoneyPanel.__super__.loadData.call(this,model,compareModel)},MoneyPanel.prototype.js=function(opts){return MoneyPanel.__super__.js.apply(this,arguments),this.decimals=opts.decimals||this.decimals||0},MoneyPanel.prototype.render=function(val){var v;return v=util.currency.renderUpdatedUICurrency(this.currency,val),v=v.substring(0,v.indexOf("."))},MoneyPanel}(BasicPanelView),MoneyPanel.register(),module.exports=MoneyPanel}),rqzt.define("./templates/backend/visual/panel/money",function(module,exports,__dirname,__filename,process){module.exports='<div class="panel panel-tile text-center br-a br-grey">\n  <div class="panel-body">\n    <h1 class="fs30 mt5 mbn">{ render(spinNumber) }</h1>\n    <h6 class="text-system">{ description } ({ currency.toUpperCase() })</h6>\n  </div>\n  <div class="panel-footer br-t p12">\n    <span class="fs11 text-info" if="{ canCompare() && comparePercent >= 0 }">\n      <i class="fa fa-arrow-up pr5"></i> { comparePercent }% INCREASE\n      <b>{ label }</b>\n    </span>\n    <span class="fs11 text-danger" if="{ canCompare() && comparePercent < 0 }">\n      <i class="fa fa-arrow-down pr5"></i> { -comparePercent }% DECREASE\n      <b>{ label }</b>\n    </span>\n    <span class="fs11" if="{ !canCompare() }">\n      <b>{ label }</b>\n    </span>\n  </div>\n</div>\n'}),rqzt.define("./visual/chart",function(module,exports,__dirname,__filename,process){module.exports={Chart:rqzt("./visual/chart/chart")}}),rqzt.define("./visual/chart/chart",function(module,exports,__dirname,__filename,process){var Chart,ChartJS,Events,View,_,crowdcontrol,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},hasProp={}.hasOwnProperty;_=rqzt("underscore/underscore"),ChartJS=rqzt("chart.js/src/chart"),crowdcontrol=rqzt("crowdcontrol/lib"),Events=crowdcontrol.Events,View=crowdcontrol.view.View,Chart=function(superClass){function Chart(){return Chart.__super__.constructor.apply(this,arguments)}var obj;return extend(Chart,superClass),Chart.prototype.tag="chart",Chart.prototype.title="",Chart.prototype.subtitle="",Chart.prototype.html='<canvas id="myChart" width="100%" height="400"></canvas>',Chart.prototype.model=null,Chart.prototype.events=(obj={},obj[""+Events.Visual.NewData]=function(model){return this.model=model,this.update()},obj),Chart.prototype.js=function(opts){return this.title=opts.title||this.title,this.subtitle=opts.subtitle||this.subtitle,this.on("update",function(_this){return function(){return _this.root.children[0].width=$("#content").width()-80,_this.root.children[0].height=400,_this.refresh()}}(this))},Chart.prototype.refresh=function(){return this.chart=new ChartJS(this.root.children[0],this.model)},Chart}(View),Chart.register(),module.exports=Chart}),rqzt.define("chart.js/src/chart",function(module,exports,__dirname,__filename,process){var Chart=rqzt("chart.js/src/core/core")();rqzt("chart.js/src/core/core.helpers")(Chart),rqzt("chart.js/src/core/core.canvasHelpers")(Chart),rqzt("chart.js/src/core/core.element")(Chart),rqzt("chart.js/src/core/core.animation")(Chart),rqzt("chart.js/src/core/core.controller")(Chart),rqzt("chart.js/src/core/core.datasetController")(Chart),rqzt("chart.js/src/core/core.layoutService")(Chart),rqzt("chart.js/src/core/core.scaleService")(Chart),rqzt("chart.js/src/core/core.plugin")(Chart),rqzt("chart.js/src/core/core.ticks")(Chart),rqzt("chart.js/src/core/core.scale")(Chart),rqzt("chart.js/src/core/core.title")(Chart),rqzt("chart.js/src/core/core.legend")(Chart),rqzt("chart.js/src/core/core.interaction")(Chart),rqzt("chart.js/src/core/core.tooltip")(Chart),rqzt("chart.js/src/elements/element.arc")(Chart),rqzt("chart.js/src/elements/element.line")(Chart),rqzt("chart.js/src/elements/element.point")(Chart),rqzt("chart.js/src/elements/element.rectangle")(Chart),rqzt("chart.js/src/scales/scale.linearbase")(Chart),rqzt("chart.js/src/scales/scale.category")(Chart),rqzt("chart.js/src/scales/scale.linear")(Chart),rqzt("chart.js/src/scales/scale.logarithmic")(Chart),rqzt("chart.js/src/scales/scale.radialLinear")(Chart),rqzt("chart.js/src/scales/scale.time")(Chart),rqzt("chart.js/src/controllers/controller.bar")(Chart),rqzt("chart.js/src/controllers/controller.bubble")(Chart),rqzt("chart.js/src/controllers/controller.doughnut")(Chart),rqzt("chart.js/src/controllers/controller.line")(Chart),rqzt("chart.js/src/controllers/controller.polarArea")(Chart),rqzt("chart.js/src/controllers/controller.radar")(Chart),rqzt("chart.js/src/charts/Chart.Bar")(Chart),rqzt("chart.js/src/charts/Chart.Bubble")(Chart),rqzt("chart.js/src/charts/Chart.Doughnut")(Chart),rqzt("chart.js/src/charts/Chart.Line")(Chart),rqzt("chart.js/src/charts/Chart.PolarArea")(Chart),rqzt("chart.js/src/charts/Chart.Radar")(Chart),rqzt("chart.js/src/charts/Chart.Scatter")(Chart),window.Chart=module.exports=Chart}),rqzt.define("chart.js/src/core/core",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(){var Chart=function(item,config){return this.controller=new Chart.Controller(item,config,this),this.controller};return Chart.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');for(var i=0;i<chart.data.datasets.length;i++)text.push('<li><span style="background-color:'+chart.data.datasets[i].backgroundColor+'"></span>'),chart.data.datasets[i].label&&text.push(chart.data.datasets[i].label),text.push("</li>");return text.push("</ul>"),text.join("")}}},Chart.Chart=Chart,Chart}}),rqzt.define("chart.js/src/core/core.helpers",function(module,exports,__dirname,__filename,process){"use strict";var color=rqzt("chartjs-color");module.exports=function(Chart){function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;return"string"==typeof styleValue?(valueInPixels=parseInt(styleValue,10),styleValue.indexOf("%")!==-1&&(valueInPixels=valueInPixels/100*node.parentNode[parentProperty])):valueInPixels=styleValue,valueInPixels}function isConstrainedValue(value){return void 0!==value&&null!==value&&"none"!==value}function getConstraintDimension(domNode,maxStyle,percentageProperty){var view=document.defaultView,parentNode=domNode.parentNode,constrainedNode=view.getComputedStyle(domNode)[maxStyle],constrainedContainer=view.getComputedStyle(parentNode)[maxStyle],hasCNode=isConstrainedValue(constrainedNode),hasCContainer=isConstrainedValue(constrainedContainer),infinity=Number.POSITIVE_INFINITY;return hasCNode||hasCContainer?Math.min(hasCNode?parseMaxStyle(constrainedNode,domNode,percentageProperty):infinity,hasCContainer?parseMaxStyle(constrainedContainer,parentNode,percentageProperty):infinity):"none"}var helpers=Chart.helpers={};helpers.each=function(loopable,callback,self,reverse){var i,len;if(helpers.isArray(loopable))if(len=loopable.length,reverse)for(i=len-1;i>=0;i--)callback.call(self,loopable[i],i);else for(i=0;i<len;i++)callback.call(self,loopable[i],i);else if("object"==typeof loopable){var keys=Object.keys(loopable);for(len=keys.length,i=0;i<len;i++)callback.call(self,loopable[keys[i]],keys[i])}},helpers.clone=function(obj){var objClone={};return helpers.each(obj,function(value,key){helpers.isArray(value)?objClone[key]=value.slice(0):"object"==typeof value&&null!==value?objClone[key]=helpers.clone(value):objClone[key]=value}),objClone},helpers.extend=function(base){for(var setFn=function(value,key){base[key]=value},i=1,ilen=arguments.length;i<ilen;i++)helpers.each(arguments[i],setFn);return base},helpers.configMerge=function(_base){var base=helpers.clone(_base);return helpers.each(Array.prototype.slice.call(arguments,1),function(extension){helpers.each(extension,function(value,key){var baseHasProperty=base.hasOwnProperty(key),baseVal=baseHasProperty?base[key]:{};"scales"===key?base[key]=helpers.scaleMerge(baseVal,value):"scale"===key?base[key]=helpers.configMerge(baseVal,Chart.scaleService.getScaleDefaults(value.type),value):!baseHasProperty||"object"!=typeof baseVal||helpers.isArray(baseVal)||null===baseVal||"object"!=typeof value||helpers.isArray(value)?base[key]=value:base[key]=helpers.configMerge(baseVal,value)})}),base},helpers.scaleMerge=function(_base,extension){var base=helpers.clone(_base);return helpers.each(extension,function(value,key){"xAxes"===key||"yAxes"===key?base.hasOwnProperty(key)?helpers.each(value,function(valueObj,index){var axisType=helpers.getValueOrDefault(valueObj.type,"xAxes"===key?"category":"linear"),axisDefaults=Chart.scaleService.getScaleDefaults(axisType);index>=base[key].length||!base[key][index].type?base[key].push(helpers.configMerge(axisDefaults,valueObj)):valueObj.type&&valueObj.type!==base[key][index].type?base[key][index]=helpers.configMerge(base[key][index],axisDefaults,valueObj):base[key][index]=helpers.configMerge(base[key][index],valueObj)}):(base[key]=[],helpers.each(value,function(valueObj){var axisType=helpers.getValueOrDefault(valueObj.type,"xAxes"===key?"category":"linear");base[key].push(helpers.configMerge(Chart.scaleService.getScaleDefaults(axisType),valueObj))})):base.hasOwnProperty(key)&&"object"==typeof base[key]&&null!==base[key]&&"object"==typeof value?base[key]=helpers.configMerge(base[key],value):base[key]=value}),base},helpers.getValueAtIndexOrDefault=function(value,index,defaultValue){return void 0===value||null===value?defaultValue:helpers.isArray(value)?index<value.length?value[index]:defaultValue:value},helpers.getValueOrDefault=function(value,defaultValue){return void 0===value?defaultValue:value},helpers.indexOf=Array.prototype.indexOf?function(array,item){return array.indexOf(item)}:function(array,item){for(var i=0,ilen=array.length;i<ilen;++i)if(array[i]===item)return i;return-1},helpers.where=function(collection,filterCallback){if(helpers.isArray(collection)&&Array.prototype.filter)return collection.filter(filterCallback);var filtered=[];return helpers.each(collection,function(item){filterCallback(item)&&filtered.push(item)}),filtered},helpers.findIndex=Array.prototype.findIndex?function(array,callback,scope){return array.findIndex(callback,scope)}:function(array,callback,scope){scope=void 0===scope?array:scope;for(var i=0,ilen=array.length;i<ilen;++i)if(callback.call(scope,array[i],i,array))return i;return-1},helpers.findNextWhere=function(arrayToSearch,filterCallback,startIndex){void 0!==startIndex&&null!==startIndex||(startIndex=-1);for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem))return currentItem}},helpers.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){void 0!==startIndex&&null!==startIndex||(startIndex=arrayToSearch.length);for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem))return currentItem}},helpers.inherits=function(extensions){var me=this,ChartElement=extensions&&extensions.hasOwnProperty("constructor")?extensions.constructor:function(){return me.apply(this,arguments)},Surrogate=function(){this.constructor=ChartElement};return Surrogate.prototype=me.prototype,ChartElement.prototype=new Surrogate,ChartElement.extend=helpers.inherits,extensions&&helpers.extend(ChartElement.prototype,extensions),ChartElement.__super__=me.prototype,ChartElement},helpers.noop=function(){},helpers.uid=function(){var id=0;return function(){return id++}}(),helpers.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},helpers.almostEquals=function(x,y,epsilon){return Math.abs(x-y)<epsilon},helpers.max=function(array){return array.reduce(function(max,value){return isNaN(value)?max:Math.max(max,value)},Number.NEGATIVE_INFINITY)},helpers.min=function(array){return array.reduce(function(min,value){return isNaN(value)?min:Math.min(min,value)},Number.POSITIVE_INFINITY)},helpers.sign=Math.sign?function(x){return Math.sign(x)}:function(x){return x=+x,0===x||isNaN(x)?x:x>0?1:-1},helpers.log10=Math.log10?function(x){return Math.log10(x)}:function(x){return Math.log(x)/Math.LN10},helpers.toRadians=function(degrees){return degrees*(Math.PI/180)},helpers.toDegrees=function(radians){return radians*(180/Math.PI)},helpers.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x,distanceFromYCenter=anglePoint.y-centrePoint.y,radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter),angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);return angle<-.5*Math.PI&&(angle+=2*Math.PI),{angle:angle,distance:radialDistanceFromCenter}},helpers.distanceBetweenPoints=function(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2))},helpers.aliasPixel=function(pixelWidth){return pixelWidth%2===0?0:.5},helpers.splineCurve=function(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint,current=middlePoint,next=afterPoint.skip?middlePoint:afterPoint,d01=Math.sqrt(Math.pow(current.x-previous.x,2)+Math.pow(current.y-previous.y,2)),d12=Math.sqrt(Math.pow(next.x-current.x,2)+Math.pow(next.y-current.y,2)),s01=d01/(d01+d12),s12=d12/(d01+d12);s01=isNaN(s01)?0:s01,s12=isNaN(s12)?0:s12;var fa=t*s01,fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}}},helpers.EPSILON=Number.EPSILON||1e-14,helpers.splineCurveMonotone=function(points){var i,pointBefore,pointCurrent,pointAfter,pointsWithTangents=(points||[]).map(function(point){return{model:point._model,deltaK:0,mK:0}}),pointsLen=pointsWithTangents.length;for(i=0;i<pointsLen;++i)pointCurrent=pointsWithTangents[i],pointCurrent.model.skip||(pointBefore=i>0?pointsWithTangents[i-1]:null,pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null,pointAfter&&!pointAfter.model.skip&&(pointCurrent.deltaK=(pointAfter.model.y-pointCurrent.model.y)/(pointAfter.model.x-pointCurrent.model.x)),!pointBefore||pointBefore.model.skip?pointCurrent.mK=pointCurrent.deltaK:!pointAfter||pointAfter.model.skip?pointCurrent.mK=pointBefore.deltaK:this.sign(pointBefore.deltaK)!==this.sign(pointCurrent.deltaK)?pointCurrent.mK=0:pointCurrent.mK=(pointBefore.deltaK+pointCurrent.deltaK)/2);var alphaK,betaK,tauK,squaredMagnitude;for(i=0;i<pointsLen-1;++i)pointCurrent=pointsWithTangents[i],pointAfter=pointsWithTangents[i+1],pointCurrent.model.skip||pointAfter.model.skip||(helpers.almostEquals(pointCurrent.deltaK,0,this.EPSILON)?pointCurrent.mK=pointAfter.mK=0:(alphaK=pointCurrent.mK/pointCurrent.deltaK,betaK=pointAfter.mK/pointCurrent.deltaK,squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2),squaredMagnitude<=9||(tauK=3/Math.sqrt(squaredMagnitude),pointCurrent.mK=alphaK*tauK*pointCurrent.deltaK,pointAfter.mK=betaK*tauK*pointCurrent.deltaK)));var deltaX;for(i=0;i<pointsLen;++i)pointCurrent=pointsWithTangents[i],pointCurrent.model.skip||(pointBefore=i>0?pointsWithTangents[i-1]:null,pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null,pointBefore&&!pointBefore.model.skip&&(deltaX=(pointCurrent.model.x-pointBefore.model.x)/3,pointCurrent.model.controlPointPreviousX=pointCurrent.model.x-deltaX,pointCurrent.model.controlPointPreviousY=pointCurrent.model.y-deltaX*pointCurrent.mK),pointAfter&&!pointAfter.model.skip&&(deltaX=(pointAfter.model.x-pointCurrent.model.x)/3,pointCurrent.model.controlPointNextX=pointCurrent.model.x+deltaX,pointCurrent.model.controlPointNextY=pointCurrent.model.y+deltaX*pointCurrent.mK))},helpers.nextItem=function(collection,index,loop){return loop?index>=collection.length-1?collection[0]:collection[index+1]:index>=collection.length-1?collection[collection.length-1]:collection[index+1]},helpers.previousItem=function(collection,index,loop){return loop?index<=0?collection[collection.length-1]:collection[index-1]:index<=0?collection[0]:collection[index-1]},helpers.niceNum=function(range,round){var niceFraction,exponent=Math.floor(helpers.log10(range)),fraction=range/Math.pow(10,exponent);return niceFraction=round?fraction<1.5?1:fraction<3?2:fraction<7?5:10:fraction<=1?1:fraction<=2?2:fraction<=5?5:10,niceFraction*Math.pow(10,exponent)};var easingEffects=helpers.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var s=1.70158,p=0,a=1;return 0===t?0:1===(t/=1)?1:(p||(p=.3),a<Math.abs(1)?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((1*t-s)*(2*Math.PI)/p)))},easeOutElastic:function(t){var s=1.70158,p=0,a=1;return 0===t?0:1===(t/=1)?1:(p||(p=.3),a<Math.abs(1)?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*t)*Math.sin((1*t-s)*(2*Math.PI)/p)+1)},easeInOutElastic:function(t){var s=1.70158,p=0,a=1;return 0===t?0:2===(t/=.5)?1:(p||(p=1*(.3*1.5)),a<Math.abs(1)?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((1*t-s)*(2*Math.PI)/p)):a*Math.pow(2,-10*(t-=1))*Math.sin((1*t-s)*(2*Math.PI)/p)*.5+1)},easeInBack:function(t){var s=1.70158;return 1*(t/=1)*t*((s+1)*t-s)},easeOutBack:function(t){var s=1.70158;return 1*((t=t/1-1)*t*((s+1)*t+s)+1)},easeInOutBack:function(t){var s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:function(t){return 1-easingEffects.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*easingEffects.easeInBounce(2*t):.5*easingEffects.easeOutBounce(2*t-1)+.5}};helpers.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),helpers.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(callback){return window.clearTimeout(callback,1e3/60)}}(),helpers.getRelativePosition=function(evt,chart){var mouseX,mouseY,e=evt.originalEvent||evt,canvas=evt.currentTarget||evt.srcElement,boundingRect=canvas.getBoundingClientRect(),touches=e.touches;touches&&touches.length>0?(mouseX=touches[0].clientX,mouseY=touches[0].clientY):(mouseX=e.clientX,mouseY=e.clientY);var paddingLeft=parseFloat(helpers.getStyle(canvas,"padding-left")),paddingTop=parseFloat(helpers.getStyle(canvas,"padding-top")),paddingRight=parseFloat(helpers.getStyle(canvas,"padding-right")),paddingBottom=parseFloat(helpers.getStyle(canvas,"padding-bottom")),width=boundingRect.right-boundingRect.left-paddingLeft-paddingRight,height=boundingRect.bottom-boundingRect.top-paddingTop-paddingBottom;return mouseX=Math.round((mouseX-boundingRect.left-paddingLeft)/width*canvas.width/chart.currentDevicePixelRatio),mouseY=Math.round((mouseY-boundingRect.top-paddingTop)/height*canvas.height/chart.currentDevicePixelRatio),{x:mouseX,y:mouseY}},helpers.addEvent=function(node,eventType,method){node.addEventListener?node.addEventListener(eventType,method):node.attachEvent?node.attachEvent("on"+eventType,method):node["on"+eventType]=method},helpers.removeEvent=function(node,eventType,handler){node.removeEventListener?node.removeEventListener(eventType,handler,!1):node.detachEvent?node.detachEvent("on"+eventType,handler):node["on"+eventType]=helpers.noop},helpers.bindEvents=function(chartInstance,arrayOfEvents,handler){var events=chartInstance.events=chartInstance.events||{};helpers.each(arrayOfEvents,function(eventName){events[eventName]=function(){handler.apply(chartInstance,arguments)},helpers.addEvent(chartInstance.chart.canvas,eventName,events[eventName])})},helpers.unbindEvents=function(chartInstance,arrayOfEvents){var canvas=chartInstance.chart.canvas;helpers.each(arrayOfEvents,function(handler,eventName){helpers.removeEvent(canvas,eventName,handler)})},helpers.getConstraintWidth=function(domNode){return getConstraintDimension(domNode,"max-width","clientWidth")},helpers.getConstraintHeight=function(domNode){return getConstraintDimension(domNode,"max-height","clientHeight")},helpers.getMaximumWidth=function(domNode){var container=domNode.parentNode,paddingLeft=parseInt(helpers.getStyle(container,"padding-left"),10),paddingRight=parseInt(helpers.getStyle(container,"padding-right"),10),w=container.clientWidth-paddingLeft-paddingRight,cw=helpers.getConstraintWidth(domNode);return isNaN(cw)?w:Math.min(w,cw)},helpers.getMaximumHeight=function(domNode){var container=domNode.parentNode,paddingTop=parseInt(helpers.getStyle(container,"padding-top"),10),paddingBottom=parseInt(helpers.getStyle(container,"padding-bottom"),10),h=container.clientHeight-paddingTop-paddingBottom,ch=helpers.getConstraintHeight(domNode);return isNaN(ch)?h:Math.min(h,ch)},helpers.getStyle=function(el,property){return el.currentStyle?el.currentStyle[property]:document.defaultView.getComputedStyle(el,null).getPropertyValue(property)},helpers.retinaScale=function(chart){var pixelRatio=chart.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==pixelRatio){var canvas=chart.canvas,height=chart.height,width=chart.width;canvas.height=height*pixelRatio,canvas.width=width*pixelRatio,chart.ctx.scale(pixelRatio,pixelRatio),canvas.style.height=height+"px",canvas.style.width=width+"px"}},helpers.clear=function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height)},helpers.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+" "+pixelSize+"px "+fontFamily},helpers.longestText=function(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{},gc=cache.garbageCollect=cache.garbageCollect||[];cache.font!==font&&(data=cache.data={},gc=cache.garbageCollect=[],cache.font=font),ctx.font=font;var longest=0;helpers.each(arrayOfThings,function(thing){void 0!==thing&&null!==thing&&helpers.isArray(thing)!==!0?longest=helpers.measureText(ctx,data,gc,longest,thing):helpers.isArray(thing)&&helpers.each(thing,function(nestedThing){void 0===nestedThing||null===nestedThing||helpers.isArray(nestedThing)||(longest=helpers.measureText(ctx,data,gc,longest,nestedThing))})});var gcLen=gc.length/2;if(gcLen>arrayOfThings.length){for(var i=0;i<gcLen;i++)delete data[gc[i]];gc.splice(0,gcLen)}return longest},helpers.measureText=function(ctx,data,gc,longest,string){var textWidth=data[string];return textWidth||(textWidth=data[string]=ctx.measureText(string).width,gc.push(string)),
textWidth>longest&&(longest=textWidth),longest},helpers.numberOfLabelLines=function(arrayOfThings){var numberOfLines=1;return helpers.each(arrayOfThings,function(thing){helpers.isArray(thing)&&thing.length>numberOfLines&&(numberOfLines=thing.length)}),numberOfLines},helpers.drawRoundedRectangle=function(ctx,x,y,width,height,radius){ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.lineTo(x+width-radius,y),ctx.quadraticCurveTo(x+width,y,x+width,y+radius),ctx.lineTo(x+width,y+height-radius),ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height),ctx.lineTo(x+radius,y+height),ctx.quadraticCurveTo(x,y+height,x,y+height-radius),ctx.lineTo(x,y+radius),ctx.quadraticCurveTo(x,y,x+radius,y),ctx.closePath()},helpers.color=function(c){return color?color(c instanceof CanvasGradient?Chart.defaults.global.defaultColor:c):(console.error("Color.js not found!"),c)},helpers.addResizeListener=function(node,callback){var iframe=document.createElement("iframe");iframe.className="chartjs-hidden-iframe",iframe.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",iframe.tabIndex=-1;var stub=node._chartjs={resizer:iframe,ticking:!1},notify=function(){stub.ticking||(stub.ticking=!0,helpers.requestAnimFrame.call(window,function(){if(stub.resizer)return stub.ticking=!1,callback()}))};helpers.addEvent(iframe,"load",function(){helpers.addEvent(iframe.contentWindow||iframe,"resize",notify),notify()}),node.insertBefore(iframe,node.firstChild)},helpers.removeResizeListener=function(node){if(node&&node._chartjs){var iframe=node._chartjs.resizer;iframe&&(iframe.parentNode.removeChild(iframe),node._chartjs.resizer=null),delete node._chartjs}},helpers.isArray=Array.isArray?function(obj){return Array.isArray(obj)}:function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},helpers.arrayEquals=function(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length)return!1;for(i=0,ilen=a0.length;i<ilen;++i)if(v0=a0[i],v1=a1[i],v0 instanceof Array&&v1 instanceof Array){if(!helpers.arrayEquals(v0,v1))return!1}else if(v0!==v1)return!1;return!0},helpers.callCallback=function(fn,args,_tArg){fn&&"function"==typeof fn.call&&fn.apply(_tArg,args)},helpers.getHoverColor=function(colorValue){return colorValue instanceof CanvasPattern?colorValue:helpers.color(colorValue).saturate(.5).darken(.1).rgbString()}}}),rqzt.define("chartjs-color",function(module,exports,__dirname,__filename,process){var convert=rqzt("color-convert"),string=rqzt("chartjs-color-string/color-string"),Color=function(obj){if(obj instanceof Color)return obj;if(!(this instanceof Color))return new Color(obj);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if("string"==typeof obj)if(vals=string.getRgba(obj))this.setValues("rgb",vals);else if(vals=string.getHsla(obj))this.setValues("hsl",vals);else{if(!(vals=string.getHwb(obj)))throw new Error('Unable to parse color from string "'+obj+'"');this.setValues("hwb",vals)}else if("object"==typeof obj)if(vals=obj,void 0!==vals.r||void 0!==vals.red)this.setValues("rgb",vals);else if(void 0!==vals.l||void 0!==vals.lightness)this.setValues("hsl",vals);else if(void 0!==vals.v||void 0!==vals.value)this.setValues("hsv",vals);else if(void 0!==vals.w||void 0!==vals.whiteness)this.setValues("hwb",vals);else{if(void 0===vals.c&&void 0===vals.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(obj));this.setValues("cmyk",vals)}};Color.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var values=this.values;return 1!==values.alpha?values.hwb.concat([values.alpha]):values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var values=this.values;return values.rgb.concat([values.alpha])},hslaArray:function(){var values=this.values;return values.hsl.concat([values.alpha])},alpha:function(val){return void 0===val?this.values.alpha:(this.setValues("alpha",val),this)},red:function(val){return this.setChannel("rgb",0,val)},green:function(val){return this.setChannel("rgb",1,val)},blue:function(val){return this.setChannel("rgb",2,val)},hue:function(val){return val&&(val%=360,val=val<0?360+val:val),this.setChannel("hsl",0,val)},saturation:function(val){return this.setChannel("hsl",1,val)},lightness:function(val){return this.setChannel("hsl",2,val)},saturationv:function(val){return this.setChannel("hsv",1,val)},whiteness:function(val){return this.setChannel("hwb",1,val)},blackness:function(val){return this.setChannel("hwb",2,val)},value:function(val){return this.setChannel("hsv",2,val)},cyan:function(val){return this.setChannel("cmyk",0,val)},magenta:function(val){return this.setChannel("cmyk",1,val)},yellow:function(val){return this.setChannel("cmyk",2,val)},black:function(val){return this.setChannel("cmyk",3,val)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var rgb=this.values.rgb;return rgb[0]<<16|rgb[1]<<8|rgb[2]},luminosity:function(){for(var rgb=this.values.rgb,lum=[],i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity(),lum2=color2.luminosity();return lum1>lum2?(lum1+.05)/(lum2+.05):(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);return contrastRatio>=7.1?"AAA":contrastRatio>=4.5?"AA":""},dark:function(){var rgb=this.values.rgb,yiq=(299*rgb[0]+587*rgb[1]+114*rgb[2])/1e3;return yiq<128},light:function(){return!this.dark()},negate:function(){for(var rgb=[],i=0;i<3;i++)rgb[i]=255-this.values.rgb[i];return this.setValues("rgb",rgb),this},lighten:function(ratio){var hsl=this.values.hsl;return hsl[2]+=hsl[2]*ratio,this.setValues("hsl",hsl),this},darken:function(ratio){var hsl=this.values.hsl;return hsl[2]-=hsl[2]*ratio,this.setValues("hsl",hsl),this},saturate:function(ratio){var hsl=this.values.hsl;return hsl[1]+=hsl[1]*ratio,this.setValues("hsl",hsl),this},desaturate:function(ratio){var hsl=this.values.hsl;return hsl[1]-=hsl[1]*ratio,this.setValues("hsl",hsl),this},whiten:function(ratio){var hwb=this.values.hwb;return hwb[1]+=hwb[1]*ratio,this.setValues("hwb",hwb),this},blacken:function(ratio){var hwb=this.values.hwb;return hwb[2]+=hwb[2]*ratio,this.setValues("hwb",hwb),this},greyscale:function(){var rgb=this.values.rgb,val=.3*rgb[0]+.59*rgb[1]+.11*rgb[2];return this.setValues("rgb",[val,val,val]),this},clearer:function(ratio){var alpha=this.values.alpha;return this.setValues("alpha",alpha-alpha*ratio),this},opaquer:function(ratio){var alpha=this.values.alpha;return this.setValues("alpha",alpha+alpha*ratio),this},rotate:function(degrees){var hsl=this.values.hsl,hue=(hsl[0]+degrees)%360;return hsl[0]=hue<0?360+hue:hue,this.setValues("hsl",hsl),this},mix:function(mixinColor,weight){var color1=this,color2=mixinColor,p=void 0===weight?.5:weight,w=2*p-1,a=color1.alpha()-color2.alpha(),w1=((w*a===-1?w:(w+a)/(1+w*a))+1)/2,w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p))},toJSON:function(){return this.rgb()},clone:function(){var value,type,result=new Color,source=this.values,target=result.values;for(var prop in source)source.hasOwnProperty(prop)&&(value=source[prop],type={}.toString.call(value),"[object Array]"===type?target[prop]=value.slice(0):"[object Number]"===type?target[prop]=value:console.error("unexpected color value:",value));return result}},Color.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Color.prototype.getValues=function(space){for(var values=this.values,vals={},i=0;i<space.length;i++)vals[space.charAt(i)]=values[space][i];return 1!==values.alpha&&(vals.a=values.alpha),vals},Color.prototype.setValues=function(space,vals){var i,values=this.values,spaces=this.spaces,maxes=this.maxes,alpha=1;if("alpha"===space)alpha=vals;else if(vals.length)values[space]=vals.slice(0,space.length),alpha=vals[space.length];else if(void 0!==vals[space.charAt(0)]){for(i=0;i<space.length;i++)values[space][i]=vals[space.charAt(i)];alpha=vals.a}else if(void 0!==vals[spaces[space][0]]){var chans=spaces[space];for(i=0;i<space.length;i++)values[space][i]=vals[chans[i]];alpha=vals.alpha}if(values.alpha=Math.max(0,Math.min(1,void 0===alpha?values.alpha:alpha)),"alpha"===space)return!1;var capped;for(i=0;i<space.length;i++)capped=Math.max(0,Math.min(maxes[space][i],values[space][i])),values[space][i]=Math.round(capped);for(var sname in spaces)sname!==space&&(values[sname]=convert[space][sname](values[space]));return!0},Color.prototype.setSpace=function(space,args){var vals=args[0];return void 0===vals?this.getValues(space):("number"==typeof vals&&(vals=Array.prototype.slice.call(args)),this.setValues(space,vals),this)},Color.prototype.setChannel=function(space,index,val){var svalues=this.values[space];return void 0===val?svalues[index]:val===svalues[index]?this:(svalues[index]=val,this.setValues(space,svalues),this)},"undefined"!=typeof window&&(window.Color=Color),module.exports=Color}),rqzt.define("color-convert",function(module,exports,__dirname,__filename,process){var conversions=rqzt("color-convert/conversions"),convert=function(){return new Converter};for(var func in conversions){convert[func+"Raw"]=function(func){return function(arg){return"number"==typeof arg&&(arg=Array.prototype.slice.call(arguments)),conversions[func](arg)}}(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{},convert[from][to]=convert[func]=function(func){return function(arg){"number"==typeof arg&&(arg=Array.prototype.slice.call(arguments));var val=conversions[func](arg);if("string"==typeof val||void 0===val)return val;for(var i=0;i<val.length;i++)val[i]=Math.round(val[i]);return val}}(func)}var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(space,args){var values=args[0];return void 0===values?this.getValues(space):("number"==typeof values&&(values=Array.prototype.slice.call(args)),this.setValues(space,values))},Converter.prototype.setValues=function(space,values){return this.space=space,this.convs={},this.convs[space]=values,this},Converter.prototype.getValues=function(space){var vals=this.convs[space];if(!vals){var fspace=this.space,from=this.convs[fspace];vals=convert[fspace][space](from),this.convs[space]=vals}return vals},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(space){Converter.prototype[space]=function(vals){return this.routeSpace(space,arguments)}}),module.exports=convert}),rqzt.define("color-convert/conversions",function(module,exports,__dirname,__filename,process){function rgb2hsl(rgb){var h,s,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max==min?h=0:r==max?h=(g-b)/delta:g==max?h=2+(b-r)/delta:b==max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),h<0&&(h+=360),l=(min+max)/2,s=max==min?0:l<=.5?delta/(max+min):delta/(2-max-min),[h,100*s,100*l]}function rgb2hsv(rgb){var h,s,v,r=rgb[0],g=rgb[1],b=rgb[2],min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return s=0==max?0:delta/max*1e3/10,max==min?h=0:r==max?h=(g-b)/delta:g==max?h=2+(b-r)/delta:b==max&&(h=4+(r-g)/delta),h=Math.min(60*h,360),h<0&&(h+=360),v=max/255*1e3/10,[h,s,v]}function rgb2hwb(rgb){var r=rgb[0],g=rgb[1],b=rgb[2],h=rgb2hsl(rgb)[0],w=1/255*Math.min(r,Math.min(g,b)),b=1-1/255*Math.max(r,Math.max(g,b));return[h,100*w,100*b]}function rgb2cmyk(rgb){var c,m,y,k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return k=Math.min(1-r,1-g,1-b),c=(1-r-k)/(1-k)||0,m=(1-g-k)/(1-k)||0,y=(1-b-k)/(1-k)||0,[100*c,100*m,100*y,100*k]}function rgb2keyword(rgb){return reverseKeywords[JSON.stringify(rgb)]}function rgb2xyz(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92,b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=.4124*r+.3576*g+.1805*b,y=.2126*r+.7152*g+.0722*b,z=.0193*r+.1192*g+.9505*b;return[100*x,100*y,100*z]}function rgb2lab(rgb){var l,a,b,xyz=rgb2xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]}function rgb2lch(args){return lab2lch(rgb2lab(args))}function hsl2rgb(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0==s)return val=255*l,[val,val,val];t2=l<.5?l*(1+s):l+s-l*s,t1=2*l-t2,rgb=[0,0,0];for(var i=0;i<3;i++)t3=h+1/3*-(i-1),t3<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb}function hsl2hsv(hsl){var sv,v,h=hsl[0],s=hsl[1]/100,l=hsl[2]/100;return 0===l?[0,0,0]:(l*=2,s*=l<=1?l:2-l,v=(l+s)/2,sv=2*s/(l+s),[h,100*sv,100*v])}function hsl2hwb(args){return rgb2hwb(hsl2rgb(args))}function hsl2cmyk(args){return rgb2cmyk(hsl2rgb(args))}function hsl2keyword(args){return rgb2keyword(hsl2rgb(args))}function hsv2rgb(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f)),v=255*v;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}}function hsv2hsl(hsv){var sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100;return l=(2-s)*v,sl=s*v,sl/=l<=1?l:2-l,sl=sl||0,l/=2,[h,100*sl,100*l]}function hsv2hwb(args){return rgb2hwb(hsv2rgb(args))}function hsv2cmyk(args){return rgb2cmyk(hsv2rgb(args))}function hsv2keyword(args){return rgb2keyword(hsv2rgb(args))}function hwb2rgb(hwb){var i,v,f,n,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;switch(ratio>1&&(wh/=ratio,bl/=ratio),i=Math.floor(6*h),v=1-bl,f=6*h-i,0!=(1&i)&&(f=1-f),n=wh+f*(v-wh),i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]}function hwb2hsl(args){return rgb2hsl(hwb2rgb(args))}function hwb2hsv(args){return rgb2hsv(hwb2rgb(args))}function hwb2cmyk(args){return rgb2cmyk(hwb2rgb(args))}function hwb2keyword(args){return rgb2keyword(hwb2rgb(args))}function cmyk2rgb(cmyk){var r,g,b,c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return r=1-Math.min(1,c*(1-k)+k),g=1-Math.min(1,m*(1-k)+k),b=1-Math.min(1,y*(1-k)+k),[255*r,255*g,255*b]}function cmyk2hsl(args){return rgb2hsl(cmyk2rgb(args))}function cmyk2hsv(args){return rgb2hsv(cmyk2rgb(args))}function cmyk2hwb(args){return rgb2hwb(cmyk2rgb(args))}function cmyk2keyword(args){return rgb2keyword(cmyk2rgb(args))}function xyz2rgb(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return r=3.2406*x+y*-1.5372+z*-.4986,g=x*-.9689+1.8758*y+.0415*z,b=.0557*x+y*-.204+1.057*z,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g=12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b=12.92*b,r=Math.min(Math.max(0,r),1),g=Math.min(Math.max(0,g),1),b=Math.min(Math.max(0,b),1),[255*r,255*g,255*b]}function xyz2lab(xyz){var l,a,b,x=xyz[0],y=xyz[1],z=xyz[2];return x/=95.047,y/=100,z/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,z=z>.008856?Math.pow(z,1/3):7.787*z+16/116,l=116*y-16,a=500*(x-y),b=200*(y-z),[l,a,b]}function xyz2lch(args){return lab2lch(xyz2lab(args))}function lab2xyz(lab){var x,y,z,y2,l=lab[0],a=lab[1],b=lab[2];return l<=8?(y=100*l/903.3,y2=7.787*(y/100)+16/116):(y=100*Math.pow((l+16)/116,3),y2=Math.pow(y/100,1/3)),x=x/95.047<=.008856?x=95.047*(a/500+y2-16/116)/7.787:95.047*Math.pow(a/500+y2,3),z=z/108.883<=.008859?z=108.883*(y2-b/200-16/116)/7.787:108.883*Math.pow(y2-b/200,3),[x,y,z]}function lab2lch(lab){var hr,h,c,l=lab[0],a=lab[1],b=lab[2];return hr=Math.atan2(b,a),h=360*hr/2/Math.PI,h<0&&(h+=360),c=Math.sqrt(a*a+b*b),[l,c,h]}function lab2rgb(args){return xyz2rgb(lab2xyz(args))}function lch2lab(lch){var a,b,hr,l=lch[0],c=lch[1],h=lch[2];return hr=h/360*2*Math.PI,a=c*Math.cos(hr),b=c*Math.sin(hr),[l,a,b]}function lch2xyz(args){return lab2xyz(lch2lab(args))}function lch2rgb(args){return lab2rgb(lch2lab(args))}function keyword2rgb(keyword){return cssKeywords[keyword]}function keyword2hsl(args){return rgb2hsl(keyword2rgb(args))}function keyword2hsv(args){return rgb2hsv(keyword2rgb(args))}function keyword2hwb(args){return rgb2hwb(keyword2rgb(args))}function keyword2cmyk(args){return rgb2cmyk(keyword2rgb(args))}function keyword2lab(args){return rgb2lab(keyword2rgb(args))}function keyword2xyz(args){return rgb2xyz(keyword2rgb(args))}module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb};var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},reverseKeywords={};for(var key in cssKeywords)reverseKeywords[JSON.stringify(cssKeywords[key])]=key}),rqzt.define("chartjs-color-string/color-string",function(module,exports,__dirname,__filename,process){function getRgba(string){if(string){var abbr=/^#([a-fA-F0-9]{3})$/,hex=/^#([a-fA-F0-9]{6})$/,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,keyword=/(\w+)/,rgb=[0,0,0],a=1,match=string.match(abbr);if(match){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i]+match[i],16)}else if(match=string.match(hex)){match=match[1];for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match.slice(2*i,2*i+2),16)}else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++)rgb[i]=parseInt(match[i+1]);a=parseFloat(match[4])}else if(match=string.match(per)){for(var i=0;i<rgb.length;i++)rgb[i]=Math.round(2.55*parseFloat(match[i+1]));a=parseFloat(match[4])}else if(match=string.match(keyword)){if("transparent"==match[1])return[0,0,0,0];if(rgb=colorNames[match[1]],!rgb)return}for(var i=0;i<rgb.length;i++)rgb[i]=scale(rgb[i],0,255);return a=a||0==a?scale(a,0,1):1,rgb[3]=a,rgb}}function getHsla(string){if(string){var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hsl);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}}}function getHwb(string){if(string){var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,match=string.match(hwb);if(match){var alpha=parseFloat(match[4]),h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}}}function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3)}function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3)}function getAlpha(string){var vals=getRgba(string);return vals?vals[3]:(vals=getHsla(string))?vals[3]:(vals=getHwb(string))?vals[3]:void 0}function hexString(rgb){return"#"+hexDouble(rgb[0])+hexDouble(rgb[1])+hexDouble(rgb[2])}function rgbString(rgba,alpha){return alpha<1||rgba[3]&&rgba[3]<1?rgbaString(rgba,alpha):"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")"}function rgbaString(rgba,alpha){return void 0===alpha&&(alpha=void 0!==rgba[3]?rgba[3]:1),"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]+", "+alpha+")"}function percentString(rgba,alpha){if(alpha<1||rgba[3]&&rgba[3]<1)return percentaString(rgba,alpha);var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)"}function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")"}function hslString(hsla,alpha){return alpha<1||hsla[3]&&hsla[3]<1?hslaString(hsla,alpha):"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)"}function hslaString(hsla,alpha){return void 0===alpha&&(alpha=void 0!==hsla[3]?hsla[3]:1),"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+alpha+")"}function hwbString(hwb,alpha){return void 0===alpha&&(alpha=void 0!==hwb[3]?hwb[3]:1),"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"+(void 0!==alpha&&1!==alpha?", "+alpha:"")+")"}function keyword(rgb){return reverseNames[rgb.slice(0,3)]}function scale(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}var colorNames=rqzt("color-name");module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name}),rqzt.define("color-name",function(module,exports,__dirname,__filename,process){module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),rqzt.define("chart.js/src/core/core.canvasHelpers",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.canvasHelpers={};helpers.drawPoint=function(ctx,pointStyle,radius,x,y){var type,edgeLength,xOffset,yOffset,height,size;if("object"==typeof pointStyle&&(type=pointStyle.toString(),"[object HTMLImageElement]"===type||"[object HTMLCanvasElement]"===type))return void ctx.drawImage(pointStyle,x-pointStyle.width/2,y-pointStyle.height/2);if(!(isNaN(radius)||radius<=0)){switch(pointStyle){default:ctx.beginPath(),ctx.arc(x,y,radius,0,2*Math.PI),ctx.closePath(),ctx.fill();break;case"triangle":ctx.beginPath(),edgeLength=3*radius/Math.sqrt(3),height=edgeLength*Math.sqrt(3)/2,ctx.moveTo(x-edgeLength/2,y+height/3),ctx.lineTo(x+edgeLength/2,y+height/3),ctx.lineTo(x,y-2*height/3),ctx.closePath(),ctx.fill();break;case"rect":size=1/Math.SQRT2*radius,ctx.beginPath(),ctx.fillRect(x-size,y-size,2*size,2*size),ctx.strokeRect(x-size,y-size,2*size,2*size);break;case"rectRot":size=1/Math.SQRT2*radius,ctx.beginPath(),ctx.moveTo(x-size,y),ctx.lineTo(x,y+size),ctx.lineTo(x+size,y),ctx.lineTo(x,y-size),ctx.closePath(),ctx.fill();break;case"cross":ctx.beginPath(),ctx.moveTo(x,y+radius),ctx.lineTo(x,y-radius),ctx.moveTo(x-radius,y),ctx.lineTo(x+radius,y),ctx.closePath();break;case"crossRot":ctx.beginPath(),xOffset=Math.cos(Math.PI/4)*radius,yOffset=Math.sin(Math.PI/4)*radius,ctx.moveTo(x-xOffset,y-yOffset),ctx.lineTo(x+xOffset,y+yOffset),ctx.moveTo(x-xOffset,y+yOffset),ctx.lineTo(x+xOffset,y-yOffset),ctx.closePath();break;case"star":ctx.beginPath(),ctx.moveTo(x,y+radius),ctx.lineTo(x,y-radius),ctx.moveTo(x-radius,y),ctx.lineTo(x+radius,y),xOffset=Math.cos(Math.PI/4)*radius,yOffset=Math.sin(Math.PI/4)*radius,ctx.moveTo(x-xOffset,y-yOffset),ctx.lineTo(x+xOffset,y+yOffset),ctx.moveTo(x-xOffset,y+yOffset),ctx.lineTo(x+xOffset,y-yOffset),ctx.closePath();break;case"line":ctx.beginPath(),ctx.moveTo(x-radius,y),ctx.lineTo(x+radius,y),ctx.closePath();break;case"dash":ctx.beginPath(),ctx.moveTo(x,y),ctx.lineTo(x+radius,y),ctx.closePath()}ctx.stroke()}}}}),rqzt.define("chart.js/src/core/core.element",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){
var helpers=Chart.helpers;Chart.elements={},Chart.Element=function(configuration){helpers.extend(this,configuration),this.initialize.apply(this,arguments)},helpers.extend(Chart.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var me=this;return me._view||(me._view=helpers.clone(me._model)),me._start=helpers.clone(me._view),me},transition:function(ease){var me=this;return me._view||(me._view=helpers.clone(me._model)),1===ease?(me._view=me._model,me._start=null,me):(me._start||me.pivot(),helpers.each(me._model,function(value,key){if("_"===key[0]);else if(me._view.hasOwnProperty(key))if(value===me._view[key]);else if("string"==typeof value)try{var color=helpers.color(me._model[key]).mix(helpers.color(me._start[key]),ease);me._view[key]=color.rgbString()}catch(err){me._view[key]=value}else if("number"==typeof value){var startVal=void 0!==me._start[key]&&isNaN(me._start[key])===!1?me._start[key]:0;me._view[key]=(me._model[key]-startVal)*ease+startVal}else me._view[key]=value;else"number"!=typeof value||isNaN(me._view[key])?me._view[key]=value:me._view[key]=value*ease},me),me)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return helpers.isNumber(this._model.x)&&helpers.isNumber(this._model.y)}}),Chart.Element.extend=helpers.inherits}}),rqzt.define("chart.js/src/core/core.animation",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:helpers.noop,onComplete:helpers.noop},Chart.Animation=Chart.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Chart.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(chartInstance,animationObject,duration,lazy){var me=this;lazy||(chartInstance.animating=!0);for(var index=0;index<me.animations.length;++index)if(me.animations[index].chartInstance===chartInstance)return void(me.animations[index].animationObject=animationObject);me.animations.push({chartInstance:chartInstance,animationObject:animationObject}),1===me.animations.length&&me.requestAnimationFrame()},cancelAnimation:function(chartInstance){var index=helpers.findIndex(this.animations,function(animationWrapper){return animationWrapper.chartInstance===chartInstance});index!==-1&&(this.animations.splice(index,1),chartInstance.animating=!1)},requestAnimationFrame:function(){var me=this;null===me.request&&(me.request=helpers.requestAnimFrame.call(window,function(){me.request=null,me.startDigest()}))},startDigest:function(){var me=this,startTime=Date.now(),framesToDrop=0;me.dropFrames>1&&(framesToDrop=Math.floor(me.dropFrames),me.dropFrames=me.dropFrames%1);for(var i=0;i<me.animations.length;)null===me.animations[i].animationObject.currentStep&&(me.animations[i].animationObject.currentStep=0),me.animations[i].animationObject.currentStep+=1+framesToDrop,me.animations[i].animationObject.currentStep>me.animations[i].animationObject.numSteps&&(me.animations[i].animationObject.currentStep=me.animations[i].animationObject.numSteps),me.animations[i].animationObject.render(me.animations[i].chartInstance,me.animations[i].animationObject),me.animations[i].animationObject.onAnimationProgress&&me.animations[i].animationObject.onAnimationProgress.call&&me.animations[i].animationObject.onAnimationProgress.call(me.animations[i].chartInstance,me.animations[i]),me.animations[i].animationObject.currentStep===me.animations[i].animationObject.numSteps?(me.animations[i].animationObject.onAnimationComplete&&me.animations[i].animationObject.onAnimationComplete.call&&me.animations[i].animationObject.onAnimationComplete.call(me.animations[i].chartInstance,me.animations[i]),me.animations[i].chartInstance.animating=!1,me.animations.splice(i,1)):++i;var endTime=Date.now(),dropFrames=(endTime-startTime)/me.frameDuration;me.dropFrames+=dropFrames,me.animations.length>0&&me.requestAnimationFrame()}}}}),rqzt.define("chart.js/src/core/core.controller",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function readUsedSize(element,property){var value=helpers.getStyle(element,property),matches=value&&value.match(/(\d+)px/);return matches?Number(matches[1]):void 0}function initCanvas(canvas,config){var style=canvas.style,renderHeight=canvas.getAttribute("height"),renderWidth=canvas.getAttribute("width");if(canvas._chartjs={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}},style.display=style.display||"block",null===renderWidth||""===renderWidth){var displayWidth=readUsedSize(canvas,"width");void 0!==displayWidth&&(canvas.width=displayWidth)}if(null===renderHeight||""===renderHeight)if(""===canvas.style.height)canvas.height=canvas.width/(config.options.aspectRatio||2);else{var displayHeight=readUsedSize(canvas,"height");void 0!==displayWidth&&(canvas.height=displayHeight)}return canvas}function releaseCanvas(canvas){if(canvas._chartjs){var initial=canvas._chartjs.initial;["height","width"].forEach(function(prop){var value=initial[prop];void 0===value||null===value?canvas.removeAttribute(prop):canvas.setAttribute(prop,value)}),helpers.each(initial.style||{},function(value,key){canvas.style[key]=value}),canvas.width=canvas.width,delete canvas._chartjs}}function acquireContext(item,config){if("string"==typeof item?item=document.getElementById(item):item.length&&(item=item[0]),item&&item.canvas&&(item=item.canvas),item instanceof HTMLCanvasElement){var context=item.getContext&&item.getContext("2d");if(context instanceof CanvasRenderingContext2D)return initCanvas(item,config),context}return null}function initConfig(config){config=config||{};var data=config.data=config.data||{};return data.datasets=data.datasets||[],data.labels=data.labels||[],config.options=helpers.configMerge(Chart.defaults.global,Chart.defaults[config.type],config.options||{}),config}var helpers=Chart.helpers;Chart.types={},Chart.instances={},Chart.controllers={},Chart.Controller=function(item,config,instance){var me=this;config=initConfig(config);var context=acquireContext(item,config),canvas=context&&context.canvas,height=canvas&&canvas.height,width=canvas&&canvas.width;return instance.ctx=context,instance.canvas=canvas,instance.config=config,instance.width=width,instance.height=height,instance.aspectRatio=height?width/height:null,me.id=helpers.uid(),me.chart=instance,me.config=config,me.options=config.options,me._bufferedRender=!1,Chart.instances[me.id]=me,Object.defineProperty(me,"data",{get:function(){return me.config.data}}),context&&canvas?(helpers.retinaScale(instance),me.options.responsive&&(helpers.addResizeListener(canvas.parentNode,function(){me.resize()}),me.resize(!0)),me.initialize(),me):(console.error("Failed to create chart: can't acquire context from the given item"),me)},helpers.extend(Chart.Controller.prototype,{initialize:function(){var me=this;return Chart.plugins.notify("beforeInit",[me]),me.bindEvents(),me.ensureScalesHaveIDs(),me.buildOrUpdateControllers(),me.buildScales(),me.updateLayout(),me.resetElements(),me.initToolTip(),me.update(),Chart.plugins.notify("afterInit",[me]),me},clear:function(){return helpers.clear(this.chart),this},stop:function(){return Chart.animationService.cancelAnimation(this),this},resize:function(silent){var me=this,chart=me.chart,options=me.options,canvas=chart.canvas,aspectRatio=options.maintainAspectRatio&&chart.aspectRatio||null,newWidth=Math.floor(helpers.getMaximumWidth(canvas)),newHeight=Math.floor(aspectRatio?newWidth/aspectRatio:helpers.getMaximumHeight(canvas));if(chart.width!==newWidth||chart.height!==newHeight){canvas.width=chart.width=newWidth,canvas.height=chart.height=newHeight,canvas.style.width=newWidth+"px",canvas.style.height=newHeight+"px",helpers.retinaScale(chart);var newSize={width:newWidth,height:newHeight};Chart.plugins.notify("resize",[me,newSize]),me.options.onResize&&me.options.onResize(me,newSize),silent||(me.stop(),me.update(me.options.responsiveAnimationDuration))}},ensureScalesHaveIDs:function(){var options=this.options,scalesOptions=options.scales||{},scaleOptions=options.scale;helpers.each(scalesOptions.xAxes,function(xAxisOptions,index){xAxisOptions.id=xAxisOptions.id||"x-axis-"+index}),helpers.each(scalesOptions.yAxes,function(yAxisOptions,index){yAxisOptions.id=yAxisOptions.id||"y-axis-"+index}),scaleOptions&&(scaleOptions.id=scaleOptions.id||"scale")},buildScales:function(){var me=this,options=me.options,scales=me.scales={},items=[];options.scales&&(items=items.concat((options.scales.xAxes||[]).map(function(xAxisOptions){return{options:xAxisOptions,dtype:"category"}}),(options.scales.yAxes||[]).map(function(yAxisOptions){return{options:yAxisOptions,dtype:"linear"}}))),options.scale&&items.push({options:options.scale,dtype:"radialLinear",isDefault:!0}),helpers.each(items,function(item){var scaleOptions=item.options,scaleType=helpers.getValueOrDefault(scaleOptions.type,item.dtype),scaleClass=Chart.scaleService.getScaleConstructor(scaleType);if(scaleClass){var scale=new scaleClass({id:scaleOptions.id,options:scaleOptions,ctx:me.chart.ctx,chart:me});scales[scale.id]=scale,item.isDefault&&(me.scale=scale)}}),Chart.scaleService.addScalesToLayout(this)},updateLayout:function(){Chart.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var me=this,types=[],newControllers=[];if(helpers.each(me.data.datasets,function(dataset,datasetIndex){var meta=me.getDatasetMeta(datasetIndex);meta.type||(meta.type=dataset.type||me.config.type),types.push(meta.type),meta.controller?meta.controller.updateIndex(datasetIndex):(meta.controller=new Chart.controllers[meta.type](me,datasetIndex),newControllers.push(meta.controller))},me),types.length>1)for(var i=1;i<types.length;i++)if(types[i]!==types[i-1]){me.isCombo=!0;break}return newControllers},resetElements:function(){var me=this;helpers.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.reset()},me)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(animationDuration,lazy){var me=this;Chart.plugins.notify("beforeUpdate",[me]),me.tooltip._data=me.data;var newControllers=me.buildOrUpdateControllers();helpers.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.buildOrUpdateElements()},me),Chart.layoutService.update(me,me.chart.width,me.chart.height),Chart.plugins.notify("afterScaleUpdate",[me]),helpers.each(newControllers,function(controller){controller.reset()}),me.updateDatasets(),Chart.plugins.notify("afterUpdate",[me]),me._bufferedRender?me._bufferedRequest={lazy:lazy,duration:animationDuration}:me.render(animationDuration,lazy)},updateDatasets:function(){var i,ilen,me=this;if(Chart.plugins.notify("beforeDatasetsUpdate",[me])){for(i=0,ilen=me.data.datasets.length;i<ilen;++i)me.getDatasetMeta(i).controller.update();Chart.plugins.notify("afterDatasetsUpdate",[me])}},render:function(duration,lazy){var me=this;Chart.plugins.notify("beforeRender",[me]);var animationOptions=me.options.animation;if(animationOptions&&("undefined"!=typeof duration&&0!==duration||"undefined"==typeof duration&&0!==animationOptions.duration)){var animation=new Chart.Animation;animation.numSteps=(duration||animationOptions.duration)/16.66,animation.easing=animationOptions.easing,animation.render=function(chartInstance,animationObject){var easingFunction=helpers.easingEffects[animationObject.easing],stepDecimal=animationObject.currentStep/animationObject.numSteps,easeDecimal=easingFunction(stepDecimal);chartInstance.draw(easeDecimal,stepDecimal,animationObject.currentStep)},animation.onAnimationProgress=animationOptions.onProgress,animation.onAnimationComplete=animationOptions.onComplete,Chart.animationService.addAnimation(me,animation,duration,lazy)}else me.draw(),animationOptions&&animationOptions.onComplete&&animationOptions.onComplete.call&&animationOptions.onComplete.call(me);return me},draw:function(ease){var me=this,easingDecimal=ease||1;me.clear(),Chart.plugins.notify("beforeDraw",[me,easingDecimal]),helpers.each(me.boxes,function(box){box.draw(me.chartArea)},me),me.scale&&me.scale.draw(),Chart.plugins.notify("beforeDatasetsDraw",[me,easingDecimal]),helpers.each(me.data.datasets,function(dataset,datasetIndex){me.isDatasetVisible(datasetIndex)&&me.getDatasetMeta(datasetIndex).controller.draw(ease)},me,!0),Chart.plugins.notify("afterDatasetsDraw",[me,easingDecimal]),me.tooltip.transition(easingDecimal).draw(),Chart.plugins.notify("afterDraw",[me,easingDecimal])},getElementAtEvent:function(e){return Chart.Interaction.modes.single(this,e)},getElementsAtEvent:function(e){return Chart.Interaction.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return Chart.Interaction.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,mode,options){var method=Chart.Interaction.modes[mode];return"function"==typeof method?method(this,e,options):[]},getDatasetAtEvent:function(e){return Chart.Interaction.modes.dataset(this,e)},getDatasetMeta:function(datasetIndex){var me=this,dataset=me.data.datasets[datasetIndex];dataset._meta||(dataset._meta={});var meta=dataset._meta[me.id];return meta||(meta=dataset._meta[me.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),meta},getVisibleDatasetCount:function(){for(var count=0,i=0,ilen=this.data.datasets.length;i<ilen;++i)this.isDatasetVisible(i)&&count++;return count},isDatasetVisible:function(datasetIndex){var meta=this.getDatasetMeta(datasetIndex);return"boolean"==typeof meta.hidden?!meta.hidden:!this.data.datasets[datasetIndex].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var meta,i,ilen,me=this,canvas=me.chart.canvas;for(me.stop(),i=0,ilen=me.data.datasets.length;i<ilen;++i)meta=me.getDatasetMeta(i),meta.controller&&(meta.controller.destroy(),meta.controller=null);canvas&&(helpers.unbindEvents(me,me.events),helpers.removeResizeListener(canvas.parentNode),helpers.clear(me.chart),releaseCanvas(canvas),me.chart.canvas=null,me.chart.ctx=null),Chart.plugins.notify("destroy",[me]),delete Chart.instances[me.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var me=this;me.tooltip=new Chart.Tooltip({_chart:me.chart,_chartInstance:me,_data:me.data,_options:me.options.tooltips},me),me.tooltip.initialize()},bindEvents:function(){var me=this;helpers.bindEvents(me,me.options.events,function(evt){me.eventHandler(evt)})},updateHoverStyle:function(elements,mode,enabled){var element,i,ilen,method=enabled?"setHoverStyle":"removeHoverStyle";for(i=0,ilen=elements.length;i<ilen;++i)element=elements[i],element&&this.getDatasetMeta(element._datasetIndex).controller[method](element)},eventHandler:function(e){var me=this,legend=me.legend,tooltip=me.tooltip,hoverOptions=me.options.hover;me._bufferedRender=!0,me._bufferedRequest=null;var changed=me.handleEvent(e);changed|=legend&&legend.handleEvent(e),changed|=tooltip&&tooltip.handleEvent(e);var bufferedRequest=me._bufferedRequest;return bufferedRequest?me.render(bufferedRequest.duration,bufferedRequest.lazy):changed&&!me.animating&&(me.stop(),me.render(hoverOptions.animationDuration,!0)),me._bufferedRender=!1,me._bufferedRequest=null,me},handleEvent:function(e){var me=this,options=me.options||{},hoverOptions=options.hover,changed=!1;return me.lastActive=me.lastActive||[],"mouseout"===e.type?me.active=[]:me.active=me.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions),hoverOptions.onHover&&hoverOptions.onHover.call(me,me.active),"mouseup"!==e.type&&"click"!==e.type||options.onClick&&options.onClick.call(me,e,me.active),me.lastActive.length&&me.updateHoverStyle(me.lastActive,hoverOptions.mode,!1),me.active.length&&hoverOptions.mode&&me.updateHoverStyle(me.active,hoverOptions.mode,!0),changed=!helpers.arrayEquals(me.active,me.lastActive),me.lastActive=me.active,changed}})}}),rqzt.define("chart.js/src/core/core.datasetController",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function listenArrayEvents(array,listener){return array._chartjs?void array._chartjs.listeners.push(listener):(Object.defineProperty(array,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[listener]}}),void arrayEvents.forEach(function(key){var method="onData"+key.charAt(0).toUpperCase()+key.slice(1),base=array[key];Object.defineProperty(array,key,{configurable:!0,enumerable:!1,value:function(){var args=Array.prototype.slice.call(arguments),res=base.apply(this,args);return helpers.each(array._chartjs.listeners,function(object){"function"==typeof object[method]&&object[method].apply(object,args)}),res}})}))}function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(stub){var listeners=stub.listeners,index=listeners.indexOf(listener);index!==-1&&listeners.splice(index,1),listeners.length>0||(arrayEvents.forEach(function(key){delete array[key]}),delete array._chartjs)}}var helpers=Chart.helpers,arrayEvents=["push","pop","shift","splice","unshift"];Chart.DatasetController=function(chart,datasetIndex){this.initialize(chart,datasetIndex)},helpers.extend(Chart.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(chart,datasetIndex){var me=this;me.chart=chart,me.index=datasetIndex,me.linkScales(),me.addElements()},updateIndex:function(datasetIndex){this.index=datasetIndex},linkScales:function(){var me=this,meta=me.getMeta(),dataset=me.getDataset();null===meta.xAxisID&&(meta.xAxisID=dataset.xAxisID||me.chart.options.scales.xAxes[0].id),null===meta.yAxisID&&(meta.yAxisID=dataset.yAxisID||me.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(scaleID){return this.chart.scales[scaleID]},reset:function(){this.update(!0)},destroy:function(){this._data&&unlistenArrayEvents(this._data,this)},createMetaDataset:function(){var me=this,type=me.datasetElementType;return type&&new type({_chart:me.chart.chart,_datasetIndex:me.index})},createMetaData:function(index){var me=this,type=me.dataElementType;return type&&new type({_chart:me.chart.chart,_datasetIndex:me.index,_index:index})},addElements:function(){var i,ilen,me=this,meta=me.getMeta(),data=me.getDataset().data||[],metaData=meta.data;for(i=0,ilen=data.length;i<ilen;++i)metaData[i]=metaData[i]||me.createMetaData(i);meta.dataset=meta.dataset||me.createMetaDataset()},addElementAndReset:function(index){var element=this.createMetaData(index);this.getMeta().data.splice(index,0,element),this.updateElement(element,index,!0)},buildOrUpdateElements:function(){var me=this,dataset=me.getDataset(),data=dataset.data||(dataset.data=[]);me._data!==data&&(me._data&&unlistenArrayEvents(me._data,me),listenArrayEvents(data,me),me._data=data),me.resyncElements()},update:helpers.noop,draw:function(ease){var i,len,easingDecimal=ease||1,metaData=this.getMeta().data;for(i=0,len=metaData.length;i<len;++i)metaData[i].transition(easingDecimal).draw()},removeHoverStyle:function(element,elementOpts){var dataset=this.chart.data.datasets[element._datasetIndex],index=element._index,custom=element.custom||{},valueOrDefault=helpers.getValueAtIndexOrDefault,model=element._model;model.backgroundColor=custom.backgroundColor?custom.backgroundColor:valueOrDefault(dataset.backgroundColor,index,elementOpts.backgroundColor),model.borderColor=custom.borderColor?custom.borderColor:valueOrDefault(dataset.borderColor,index,elementOpts.borderColor),model.borderWidth=custom.borderWidth?custom.borderWidth:valueOrDefault(dataset.borderWidth,index,elementOpts.borderWidth)},setHoverStyle:function(element){var dataset=this.chart.data.datasets[element._datasetIndex],index=element._index,custom=element.custom||{},valueOrDefault=helpers.getValueAtIndexOrDefault,getHoverColor=helpers.getHoverColor,model=element._model;model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:valueOrDefault(dataset.hoverBackgroundColor,index,getHoverColor(model.backgroundColor)),model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:valueOrDefault(dataset.hoverBorderColor,index,getHoverColor(model.borderColor)),model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:valueOrDefault(dataset.hoverBorderWidth,index,model.borderWidth)},resyncElements:function(){var me=this,meta=me.getMeta(),data=me.getDataset().data,numMeta=meta.data.length,numData=data.length;numData<numMeta?meta.data.splice(numData,numMeta-numData):numData>numMeta&&me.insertElements(numMeta,numData-numMeta)},insertElements:function(start,count){for(var i=0;i<count;++i)this.addElementAndReset(start+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(start,count){this.getMeta().data.splice(start,count),this.insertElements(start,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Chart.DatasetController.extend=helpers.inherits}}),rqzt.define("chart.js/src/core/core.layoutService",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.layoutService={defaults:{},addBox:function(chartInstance,box){chartInstance.boxes||(chartInstance.boxes=[]),chartInstance.boxes.push(box)},removeBox:function(chartInstance,box){chartInstance.boxes&&chartInstance.boxes.splice(chartInstance.boxes.indexOf(box),1)},update:function(chartInstance,width,height){function getMinimumBoxSize(box){var minSize,isHorizontal=box.isHorizontal();isHorizontal?(minSize=box.update(box.options.fullWidth?chartWidth:maxChartAreaWidth,horizontalBoxHeight),maxChartAreaHeight-=minSize.height):(minSize=box.update(verticalBoxWidth,chartAreaHeight),maxChartAreaWidth-=minSize.width),minBoxSizes.push({horizontal:isHorizontal,minSize:minSize,box:box})}function fitBox(box){var minBoxSize=helpers.findNextWhere(minBoxSizes,function(minBox){return minBox.box===box});if(minBoxSize)if(box.isHorizontal()){var scaleMargin={left:totalLeftBoxesWidth,right:totalRightBoxesWidth,top:0,bottom:0};box.update(box.options.fullWidth?chartWidth:maxChartAreaWidth,chartHeight/2,scaleMargin)}else box.update(minBoxSize.minSize.width,maxChartAreaHeight)}function finalFitVerticalBox(box){var minBoxSize=helpers.findNextWhere(minBoxSizes,function(minSize){return minSize.box===box}),scaleMargin={left:0,right:0,top:totalTopBoxesHeight,bottom:totalBottomBoxesHeight};minBoxSize&&box.update(minBoxSize.minSize.width,maxChartAreaHeight,scaleMargin)}function placeBox(box){box.isHorizontal()?(box.left=box.options.fullWidth?leftPadding:totalLeftBoxesWidth,box.right=box.options.fullWidth?width-rightPadding:totalLeftBoxesWidth+maxChartAreaWidth,box.top=top,box.bottom=top+box.height,top=box.bottom):(box.left=left,box.right=left+box.width,box.top=totalTopBoxesHeight,box.bottom=totalTopBoxesHeight+maxChartAreaHeight,left=box.right)}if(chartInstance){var layoutOptions=chartInstance.options.layout,padding=layoutOptions?layoutOptions.padding:null,leftPadding=0,rightPadding=0,topPadding=0,bottomPadding=0;isNaN(padding)?(leftPadding=padding.left||0,rightPadding=padding.right||0,topPadding=padding.top||0,bottomPadding=padding.bottom||0):(leftPadding=padding,rightPadding=padding,topPadding=padding,bottomPadding=padding);var leftBoxes=helpers.where(chartInstance.boxes,function(box){return"left"===box.options.position}),rightBoxes=helpers.where(chartInstance.boxes,function(box){return"right"===box.options.position}),topBoxes=helpers.where(chartInstance.boxes,function(box){return"top"===box.options.position}),bottomBoxes=helpers.where(chartInstance.boxes,function(box){return"bottom"===box.options.position}),chartAreaBoxes=helpers.where(chartInstance.boxes,function(box){return"chartArea"===box.options.position});topBoxes.sort(function(a,b){return(b.options.fullWidth?1:0)-(a.options.fullWidth?1:0)}),bottomBoxes.sort(function(a,b){return(a.options.fullWidth?1:0)-(b.options.fullWidth?1:0)});var chartWidth=width-leftPadding-rightPadding,chartHeight=height-topPadding-bottomPadding,chartAreaWidth=chartWidth/2,chartAreaHeight=chartHeight/2,verticalBoxWidth=(width-chartAreaWidth)/(leftBoxes.length+rightBoxes.length),horizontalBoxHeight=(height-chartAreaHeight)/(topBoxes.length+bottomBoxes.length),maxChartAreaWidth=chartWidth,maxChartAreaHeight=chartHeight,minBoxSizes=[];helpers.each(leftBoxes.concat(rightBoxes,topBoxes,bottomBoxes),getMinimumBoxSize);var totalLeftBoxesWidth=leftPadding,totalRightBoxesWidth=rightPadding,totalTopBoxesHeight=topPadding,totalBottomBoxesHeight=bottomPadding;helpers.each(leftBoxes.concat(rightBoxes),fitBox),helpers.each(leftBoxes,function(box){totalLeftBoxesWidth+=box.width}),helpers.each(rightBoxes,function(box){totalRightBoxesWidth+=box.width}),helpers.each(topBoxes.concat(bottomBoxes),fitBox),helpers.each(topBoxes,function(box){totalTopBoxesHeight+=box.height}),helpers.each(bottomBoxes,function(box){totalBottomBoxesHeight+=box.height}),helpers.each(leftBoxes.concat(rightBoxes),finalFitVerticalBox),totalLeftBoxesWidth=leftPadding,totalRightBoxesWidth=rightPadding,totalTopBoxesHeight=topPadding,totalBottomBoxesHeight=bottomPadding,helpers.each(leftBoxes,function(box){totalLeftBoxesWidth+=box.width}),helpers.each(rightBoxes,function(box){totalRightBoxesWidth+=box.width}),helpers.each(topBoxes,function(box){totalTopBoxesHeight+=box.height}),helpers.each(bottomBoxes,function(box){totalBottomBoxesHeight+=box.height});var newMaxChartAreaHeight=height-totalTopBoxesHeight-totalBottomBoxesHeight,newMaxChartAreaWidth=width-totalLeftBoxesWidth-totalRightBoxesWidth;newMaxChartAreaWidth===maxChartAreaWidth&&newMaxChartAreaHeight===maxChartAreaHeight||(helpers.each(leftBoxes,function(box){box.height=newMaxChartAreaHeight}),helpers.each(rightBoxes,function(box){box.height=newMaxChartAreaHeight}),helpers.each(topBoxes,function(box){box.options.fullWidth||(box.width=newMaxChartAreaWidth)}),helpers.each(bottomBoxes,function(box){box.options.fullWidth||(box.width=newMaxChartAreaWidth)}),maxChartAreaHeight=newMaxChartAreaHeight,maxChartAreaWidth=newMaxChartAreaWidth);var left=leftPadding,top=topPadding;helpers.each(leftBoxes.concat(topBoxes),placeBox),left+=maxChartAreaWidth,top+=maxChartAreaHeight,helpers.each(rightBoxes,placeBox),helpers.each(bottomBoxes,placeBox),chartInstance.chartArea={left:totalLeftBoxesWidth,top:totalTopBoxesHeight,right:totalLeftBoxesWidth+maxChartAreaWidth,bottom:totalTopBoxesHeight+maxChartAreaHeight},helpers.each(chartAreaBoxes,function(box){box.left=chartInstance.chartArea.left,box.top=chartInstance.chartArea.top,box.right=chartInstance.chartArea.right,box.bottom=chartInstance.chartArea.bottom,box.update(maxChartAreaWidth,maxChartAreaHeight)})}}}}}),rqzt.define("chart.js/src/core/core.scaleService",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.scaleService={constructors:{},defaults:{},registerScaleType:function(type,scaleConstructor,defaults){this.constructors[type]=scaleConstructor,this.defaults[type]=helpers.clone(defaults)},getScaleConstructor:function(type){return this.constructors.hasOwnProperty(type)?this.constructors[type]:void 0},getScaleDefaults:function(type){return this.defaults.hasOwnProperty(type)?helpers.scaleMerge(Chart.defaults.scale,this.defaults[type]):{}},updateScaleDefaults:function(type,additions){var defaults=this.defaults;defaults.hasOwnProperty(type)&&(defaults[type]=helpers.extend(defaults[type],additions))},addScalesToLayout:function(chartInstance){helpers.each(chartInstance.scales,function(scale){Chart.layoutService.addBox(chartInstance,scale)})}}}}),rqzt.define("chart.js/src/core/core.plugin",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var noop=Chart.helpers.noop;Chart.plugins={_plugins:[],register:function(plugins){var p=this._plugins;[].concat(plugins).forEach(function(plugin){p.indexOf(plugin)===-1&&p.push(plugin)})},unregister:function(plugins){var p=this._plugins;[].concat(plugins).forEach(function(plugin){var idx=p.indexOf(plugin);idx!==-1&&p.splice(idx,1)})},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(extension,args){var i,plugin,plugins=this._plugins,ilen=plugins.length;for(i=0;i<ilen;++i)if(plugin=plugins[i],"function"==typeof plugin[extension]&&plugin[extension].apply(plugin,args||[])===!1)return!1;return!0}},Chart.PluginBase=Chart.Element.extend({beforeInit:noop,afterInit:noop,beforeUpdate:noop,afterUpdate:noop,beforeDraw:noop,afterDraw:noop,destroy:noop}),Chart.pluginService=Chart.plugins}}),rqzt.define("chart.js/src/core/core.ticks",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.Ticks={generators:{linear:function(generationOptions,dataRange){var spacing,ticks=[];if(generationOptions.stepSize&&generationOptions.stepSize>0)spacing=generationOptions.stepSize;else{var niceRange=helpers.niceNum(dataRange.max-dataRange.min,!1);spacing=helpers.niceNum(niceRange/(generationOptions.maxTicks-1),!0)}var niceMin=Math.floor(dataRange.min/spacing)*spacing,niceMax=Math.ceil(dataRange.max/spacing)*spacing;if(generationOptions.min&&generationOptions.max&&generationOptions.stepSize){var minMaxDeltaDivisibleByStepSize=(generationOptions.max-generationOptions.min)%generationOptions.stepSize===0;minMaxDeltaDivisibleByStepSize&&(niceMin=generationOptions.min,niceMax=generationOptions.max)}var numSpaces=(niceMax-niceMin)/spacing;numSpaces=helpers.almostEquals(numSpaces,Math.round(numSpaces),spacing/1e3)?Math.round(numSpaces):Math.ceil(numSpaces),ticks.push(void 0!==generationOptions.min?generationOptions.min:niceMin);for(var j=1;j<numSpaces;++j)ticks.push(niceMin+j*spacing);return ticks.push(void 0!==generationOptions.max?generationOptions.max:niceMax),ticks},logarithmic:function(generationOptions,dataRange){for(var ticks=[],getValueOrDefault=helpers.getValueOrDefault,tickVal=getValueOrDefault(generationOptions.min,Math.pow(10,Math.floor(helpers.log10(dataRange.min))));tickVal<dataRange.max;){ticks.push(tickVal);var exp,significand;0===tickVal?(exp=Math.floor(helpers.log10(dataRange.minNotZero)),significand=Math.round(dataRange.minNotZero/Math.pow(10,exp))):(exp=Math.floor(helpers.log10(tickVal)),significand=Math.floor(tickVal/Math.pow(10,exp))+1),10===significand&&(significand=1,++exp),tickVal=significand*Math.pow(10,exp)}var lastTick=getValueOrDefault(generationOptions.max,tickVal);return ticks.push(lastTick),ticks}},formatters:{values:function(value){return helpers.isArray(value)?value:""+value},linear:function(tickValue,index,ticks){var delta=ticks.length>3?ticks[2]-ticks[1]:ticks[1]-ticks[0];Math.abs(delta)>1&&tickValue!==Math.floor(tickValue)&&(delta=tickValue-Math.floor(tickValue));var logDelta=helpers.log10(Math.abs(delta)),tickString="";if(0!==tickValue){var numDecimal=-1*Math.floor(logDelta);numDecimal=Math.max(Math.min(numDecimal,20),0),tickString=tickValue.toFixed(numDecimal)}else tickString="0";return tickString},logarithmic:function(tickValue,index,ticks){var remain=tickValue/Math.pow(10,Math.floor(helpers.log10(tickValue)));return 0===tickValue?"0":1===remain||2===remain||5===remain||0===index||index===ticks.length-1?tickValue.toExponential():""}}}}}),rqzt.define("chart.js/src/core/core.scale",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",
lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Chart.Ticks.formatters.values}},Chart.Scale=Chart.Element.extend({beforeUpdate:function(){helpers.callCallback(this.options.beforeUpdate,[this])},update:function(maxWidth,maxHeight,margins){var me=this;return me.beforeUpdate(),me.maxWidth=maxWidth,me.maxHeight=maxHeight,me.margins=helpers.extend({left:0,right:0,top:0,bottom:0},margins),me.beforeSetDimensions(),me.setDimensions(),me.afterSetDimensions(),me.beforeDataLimits(),me.determineDataLimits(),me.afterDataLimits(),me.beforeBuildTicks(),me.buildTicks(),me.afterBuildTicks(),me.beforeTickToLabelConversion(),me.convertTicksToLabels(),me.afterTickToLabelConversion(),me.beforeCalculateTickRotation(),me.calculateTickRotation(),me.afterCalculateTickRotation(),me.beforeFit(),me.fit(),me.afterFit(),me.afterUpdate(),me.minSize},afterUpdate:function(){helpers.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){helpers.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var me=this;me.isHorizontal()?(me.width=me.maxWidth,me.left=0,me.right=me.width):(me.height=me.maxHeight,me.top=0,me.bottom=me.height),me.paddingLeft=0,me.paddingTop=0,me.paddingRight=0,me.paddingBottom=0},afterSetDimensions:function(){helpers.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){helpers.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:helpers.noop,afterDataLimits:function(){helpers.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){helpers.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:helpers.noop,afterBuildTicks:function(){helpers.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){helpers.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var me=this,tickOpts=me.options.ticks;me.ticks=me.ticks.map(tickOpts.userCallback||tickOpts.callback)},afterTickToLabelConversion:function(){helpers.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){helpers.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var me=this,context=me.ctx,globalDefaults=Chart.defaults.global,optionTicks=me.options.ticks,tickFontSize=helpers.getValueOrDefault(optionTicks.fontSize,globalDefaults.defaultFontSize),tickFontStyle=helpers.getValueOrDefault(optionTicks.fontStyle,globalDefaults.defaultFontStyle),tickFontFamily=helpers.getValueOrDefault(optionTicks.fontFamily,globalDefaults.defaultFontFamily),tickLabelFont=helpers.fontString(tickFontSize,tickFontStyle,tickFontFamily);context.font=tickLabelFont;var firstRotated,firstWidth=context.measureText(me.ticks[0]).width,lastWidth=context.measureText(me.ticks[me.ticks.length-1]).width;if(me.labelRotation=optionTicks.minRotation||0,me.paddingRight=0,me.paddingLeft=0,me.options.display&&me.isHorizontal()){me.paddingRight=lastWidth/2+3,me.paddingLeft=firstWidth/2+3,me.longestTextCache||(me.longestTextCache={});for(var cosRotation,sinRotation,originalLabelWidth=helpers.longestText(context,tickLabelFont,me.ticks,me.longestTextCache),labelWidth=originalLabelWidth,tickWidth=me.getPixelForTick(1)-me.getPixelForTick(0)-6;labelWidth>tickWidth&&me.labelRotation<optionTicks.maxRotation;){if(cosRotation=Math.cos(helpers.toRadians(me.labelRotation)),sinRotation=Math.sin(helpers.toRadians(me.labelRotation)),firstRotated=cosRotation*firstWidth,firstRotated+tickFontSize/2>me.yLabelWidth&&(me.paddingLeft=firstRotated+tickFontSize/2),me.paddingRight=tickFontSize/2,sinRotation*originalLabelWidth>me.maxHeight){me.labelRotation--;break}me.labelRotation++,labelWidth=cosRotation*originalLabelWidth}}me.margins&&(me.paddingLeft=Math.max(me.paddingLeft-me.margins.left,0),me.paddingRight=Math.max(me.paddingRight-me.margins.right,0))},afterCalculateTickRotation:function(){helpers.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){helpers.callCallback(this.options.beforeFit,[this])},fit:function(){var me=this,minSize=me.minSize={width:0,height:0},opts=me.options,globalDefaults=Chart.defaults.global,tickOpts=opts.ticks,scaleLabelOpts=opts.scaleLabel,gridLineOpts=opts.gridLines,display=opts.display,isHorizontal=me.isHorizontal(),tickFontSize=helpers.getValueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize),tickFontStyle=helpers.getValueOrDefault(tickOpts.fontStyle,globalDefaults.defaultFontStyle),tickFontFamily=helpers.getValueOrDefault(tickOpts.fontFamily,globalDefaults.defaultFontFamily),tickLabelFont=helpers.fontString(tickFontSize,tickFontStyle,tickFontFamily),scaleLabelFontSize=helpers.getValueOrDefault(scaleLabelOpts.fontSize,globalDefaults.defaultFontSize),tickMarkLength=opts.gridLines.tickMarkLength;if(isHorizontal?minSize.width=me.isFullWidth()?me.maxWidth-me.margins.left-me.margins.right:me.maxWidth:minSize.width=display&&gridLineOpts.drawTicks?tickMarkLength:0,isHorizontal?minSize.height=display&&gridLineOpts.drawTicks?tickMarkLength:0:minSize.height=me.maxHeight,scaleLabelOpts.display&&display&&(isHorizontal?minSize.height+=1.5*scaleLabelFontSize:minSize.width+=1.5*scaleLabelFontSize),tickOpts.display&&display){me.longestTextCache||(me.longestTextCache={});var largestTextWidth=helpers.longestText(me.ctx,tickLabelFont,me.ticks,me.longestTextCache),tallestLabelHeightInLines=helpers.numberOfLabelLines(me.ticks),lineSpace=.5*tickFontSize;if(isHorizontal){me.longestLabelWidth=largestTextWidth;var labelHeight=Math.sin(helpers.toRadians(me.labelRotation))*me.longestLabelWidth+tickFontSize*tallestLabelHeightInLines+lineSpace*tallestLabelHeightInLines;minSize.height=Math.min(me.maxHeight,minSize.height+labelHeight),me.ctx.font=tickLabelFont;var firstLabelWidth=me.ctx.measureText(me.ticks[0]).width,lastLabelWidth=me.ctx.measureText(me.ticks[me.ticks.length-1]).width,cosRotation=Math.cos(helpers.toRadians(me.labelRotation)),sinRotation=Math.sin(helpers.toRadians(me.labelRotation));me.paddingLeft=0!==me.labelRotation?cosRotation*firstLabelWidth+3:firstLabelWidth/2+3,me.paddingRight=0!==me.labelRotation?sinRotation*(tickFontSize/2)+3:lastLabelWidth/2+3}else{var maxLabelWidth=me.maxWidth-minSize.width,mirror=tickOpts.mirror;mirror?largestTextWidth=0:largestTextWidth+=me.options.ticks.padding,largestTextWidth<maxLabelWidth?minSize.width+=largestTextWidth:minSize.width=me.maxWidth,me.paddingTop=tickFontSize/2,me.paddingBottom=tickFontSize/2}}me.margins&&(me.paddingLeft=Math.max(me.paddingLeft-me.margins.left,0),me.paddingTop=Math.max(me.paddingTop-me.margins.top,0),me.paddingRight=Math.max(me.paddingRight-me.margins.right,0),me.paddingBottom=Math.max(me.paddingBottom-me.margins.bottom,0)),me.width=minSize.width,me.height=minSize.height},afterFit:function(){helpers.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(rawValue){return null===rawValue||"undefined"==typeof rawValue?NaN:"number"!=typeof rawValue||isFinite(rawValue)?"object"==typeof rawValue?rawValue instanceof Date||rawValue.isValid?rawValue:this.getRightValue(this.isHorizontal()?rawValue.x:rawValue.y):rawValue:NaN},getLabelForIndex:helpers.noop,getPixelForValue:helpers.noop,getValueForPixel:helpers.noop,getPixelForTick:function(index,includeOffset){var me=this;if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight),tickWidth=innerWidth/Math.max(me.ticks.length-(me.options.gridLines.offsetGridLines?0:1),1),pixel=tickWidth*index+me.paddingLeft;includeOffset&&(pixel+=tickWidth/2);var finalVal=me.left+Math.round(pixel);return finalVal+=me.isFullWidth()?me.margins.left:0}var innerHeight=me.height-(me.paddingTop+me.paddingBottom);return me.top+index*(innerHeight/(me.ticks.length-1))},getPixelForDecimal:function(decimal){var me=this;if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight),valueOffset=innerWidth*decimal+me.paddingLeft,finalVal=me.left+Math.round(valueOffset);return finalVal+=me.isFullWidth()?me.margins.left:0}return me.top+decimal*me.height},getBasePixel:function(){var me=this,min=me.min,max=me.max;return me.getPixelForValue(me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0)},draw:function(chartArea){var me=this,options=me.options;if(options.display){var skipRatio,maxTicks,context=me.ctx,globalDefaults=Chart.defaults.global,optionTicks=options.ticks,gridLines=options.gridLines,scaleLabel=options.scaleLabel,isRotated=0!==me.labelRotation,useAutoskipper=optionTicks.autoSkip,isHorizontal=me.isHorizontal();optionTicks.maxTicksLimit&&(maxTicks=optionTicks.maxTicksLimit);var tickFontColor=helpers.getValueOrDefault(optionTicks.fontColor,globalDefaults.defaultFontColor),tickFontSize=helpers.getValueOrDefault(optionTicks.fontSize,globalDefaults.defaultFontSize),tickFontStyle=helpers.getValueOrDefault(optionTicks.fontStyle,globalDefaults.defaultFontStyle),tickFontFamily=helpers.getValueOrDefault(optionTicks.fontFamily,globalDefaults.defaultFontFamily),tickLabelFont=helpers.fontString(tickFontSize,tickFontStyle,tickFontFamily),tl=gridLines.tickMarkLength,borderDash=helpers.getValueOrDefault(gridLines.borderDash,globalDefaults.borderDash),borderDashOffset=helpers.getValueOrDefault(gridLines.borderDashOffset,globalDefaults.borderDashOffset),scaleLabelFontColor=helpers.getValueOrDefault(scaleLabel.fontColor,globalDefaults.defaultFontColor),scaleLabelFontSize=helpers.getValueOrDefault(scaleLabel.fontSize,globalDefaults.defaultFontSize),scaleLabelFontStyle=helpers.getValueOrDefault(scaleLabel.fontStyle,globalDefaults.defaultFontStyle),scaleLabelFontFamily=helpers.getValueOrDefault(scaleLabel.fontFamily,globalDefaults.defaultFontFamily),scaleLabelFont=helpers.fontString(scaleLabelFontSize,scaleLabelFontStyle,scaleLabelFontFamily),labelRotationRadians=helpers.toRadians(me.labelRotation),cosRotation=Math.cos(labelRotationRadians),longestRotatedLabel=me.longestLabelWidth*cosRotation;context.fillStyle=tickFontColor;var itemsToDraw=[];if(isHorizontal){if(skipRatio=!1,isRotated&&(longestRotatedLabel/=2),(longestRotatedLabel+optionTicks.autoSkipPadding)*me.ticks.length>me.width-(me.paddingLeft+me.paddingRight)&&(skipRatio=1+Math.floor((longestRotatedLabel+optionTicks.autoSkipPadding)*me.ticks.length/(me.width-(me.paddingLeft+me.paddingRight)))),maxTicks&&me.ticks.length>maxTicks)for(;!skipRatio||me.ticks.length/(skipRatio||1)>maxTicks;)skipRatio||(skipRatio=1),skipRatio+=1;useAutoskipper||(skipRatio=!1)}var xTickStart="right"===options.position?me.left:me.right-tl,xTickEnd="right"===options.position?me.left+tl:me.right,yTickStart="bottom"===options.position?me.top:me.bottom-tl,yTickEnd="bottom"===options.position?me.top+tl:me.bottom;if(helpers.each(me.ticks,function(label,index){if(void 0!==label&&null!==label){var isLastTick=me.ticks.length===index+1,shouldSkip=skipRatio>1&&index%skipRatio>0||index%skipRatio===0&&index+skipRatio>=me.ticks.length;if((!shouldSkip||isLastTick)&&void 0!==label&&null!==label){var lineWidth,lineColor;index===("undefined"!=typeof me.zeroLineIndex?me.zeroLineIndex:0)?(lineWidth=gridLines.zeroLineWidth,lineColor=gridLines.zeroLineColor):(lineWidth=helpers.getValueAtIndexOrDefault(gridLines.lineWidth,index),lineColor=helpers.getValueAtIndexOrDefault(gridLines.color,index));var tx1,ty1,tx2,ty2,x1,y1,x2,y2,labelX,labelY,textAlign="middle",textBaseline="middle";if(isHorizontal){isRotated||(textBaseline="top"===options.position?"bottom":"top"),textAlign=isRotated?"right":"center";var xLineValue=me.getPixelForTick(index)+helpers.aliasPixel(lineWidth);labelX=me.getPixelForTick(index,gridLines.offsetGridLines)+optionTicks.labelOffset,labelY=isRotated?me.top+12:"top"===options.position?me.bottom-tl:me.top+tl,tx1=tx2=x1=x2=xLineValue,ty1=yTickStart,ty2=yTickEnd,y1=chartArea.top,y2=chartArea.bottom}else{"left"===options.position?optionTicks.mirror?(labelX=me.right+optionTicks.padding,textAlign="left"):(labelX=me.right-optionTicks.padding,textAlign="right"):optionTicks.mirror?(labelX=me.left-optionTicks.padding,textAlign="right"):(labelX=me.left+optionTicks.padding,textAlign="left");var yLineValue=me.getPixelForTick(index);yLineValue+=helpers.aliasPixel(lineWidth),labelY=me.getPixelForTick(index,gridLines.offsetGridLines),tx1=xTickStart,tx2=xTickEnd,x1=chartArea.left,x2=chartArea.right,ty1=ty2=y1=y2=yLineValue}itemsToDraw.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,labelX:labelX,labelY:labelY,glWidth:lineWidth,glColor:lineColor,glBorderDash:borderDash,glBorderDashOffset:borderDashOffset,rotation:-1*labelRotationRadians,label:label,textBaseline:textBaseline,textAlign:textAlign})}}}),helpers.each(itemsToDraw,function(itemToDraw){if(gridLines.display&&(context.save(),context.lineWidth=itemToDraw.glWidth,context.strokeStyle=itemToDraw.glColor,context.setLineDash&&(context.setLineDash(itemToDraw.glBorderDash),context.lineDashOffset=itemToDraw.glBorderDashOffset),context.beginPath(),gridLines.drawTicks&&(context.moveTo(itemToDraw.tx1,itemToDraw.ty1),context.lineTo(itemToDraw.tx2,itemToDraw.ty2)),gridLines.drawOnChartArea&&(context.moveTo(itemToDraw.x1,itemToDraw.y1),context.lineTo(itemToDraw.x2,itemToDraw.y2)),context.stroke(),context.restore()),optionTicks.display){context.save(),context.translate(itemToDraw.labelX,itemToDraw.labelY),context.rotate(itemToDraw.rotation),context.font=tickLabelFont,context.textBaseline=itemToDraw.textBaseline,context.textAlign=itemToDraw.textAlign;var label=itemToDraw.label;if(helpers.isArray(label))for(var i=0,y=-(label.length-1)*tickFontSize*.75;i<label.length;++i)context.fillText(""+label[i],0,y),y+=1.5*tickFontSize;else context.fillText(label,0,0);context.restore()}}),scaleLabel.display){var scaleLabelX,scaleLabelY,rotation=0;if(isHorizontal)scaleLabelX=me.left+(me.right-me.left)/2,scaleLabelY="bottom"===options.position?me.bottom-scaleLabelFontSize/2:me.top+scaleLabelFontSize/2;else{var isLeft="left"===options.position;scaleLabelX=isLeft?me.left+scaleLabelFontSize/2:me.right-scaleLabelFontSize/2,scaleLabelY=me.top+(me.bottom-me.top)/2,rotation=isLeft?-.5*Math.PI:.5*Math.PI}context.save(),context.translate(scaleLabelX,scaleLabelY),context.rotate(rotation),context.textAlign="center",context.textBaseline="middle",context.fillStyle=scaleLabelFontColor,context.font=scaleLabelFont,context.fillText(scaleLabel.labelString,0,0),context.restore()}if(gridLines.drawBorder){context.lineWidth=helpers.getValueAtIndexOrDefault(gridLines.lineWidth,0),context.strokeStyle=helpers.getValueAtIndexOrDefault(gridLines.color,0);var x1=me.left,x2=me.right,y1=me.top,y2=me.bottom,aliasPixel=helpers.aliasPixel(context.lineWidth);isHorizontal?(y1=y2="top"===options.position?me.bottom:me.top,y1+=aliasPixel,y2+=aliasPixel):(x1=x2="left"===options.position?me.right:me.left,x1+=aliasPixel,x2+=aliasPixel),context.beginPath(),context.moveTo(x1,y1),context.lineTo(x2,y2),context.stroke()}}}})}}),rqzt.define("chart.js/src/core/core.title",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var noop=helpers.noop;Chart.Title=Chart.Element.extend({initialize:function(config){var me=this;helpers.extend(me,config),me.options=helpers.configMerge(Chart.defaults.global.title,config.options),me.legendHitBoxes=[]},beforeUpdate:function(){var chartOpts=this.chart.options;chartOpts&&chartOpts.title&&(this.options=helpers.configMerge(Chart.defaults.global.title,chartOpts.title))},update:function(maxWidth,maxHeight,margins){var me=this;return me.beforeUpdate(),me.maxWidth=maxWidth,me.maxHeight=maxHeight,me.margins=margins,me.beforeSetDimensions(),me.setDimensions(),me.afterSetDimensions(),me.beforeBuildLabels(),me.buildLabels(),me.afterBuildLabels(),me.beforeFit(),me.fit(),me.afterFit(),me.afterUpdate(),me.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var me=this;me.isHorizontal()?(me.width=me.maxWidth,me.left=0,me.right=me.width):(me.height=me.maxHeight,me.top=0,me.bottom=me.height),me.paddingLeft=0,me.paddingTop=0,me.paddingRight=0,me.paddingBottom=0,me.minSize={width:0,height:0}},afterSetDimensions:noop,beforeBuildLabels:noop,buildLabels:noop,afterBuildLabels:noop,beforeFit:noop,fit:function(){var me=this,valueOrDefault=helpers.getValueOrDefault,opts=me.options,globalDefaults=Chart.defaults.global,display=opts.display,fontSize=valueOrDefault(opts.fontSize,globalDefaults.defaultFontSize),minSize=me.minSize;me.isHorizontal()?(minSize.width=me.maxWidth,minSize.height=display?fontSize+2*opts.padding:0):(minSize.width=display?fontSize+2*opts.padding:0,minSize.height=me.maxHeight),me.width=minSize.width,me.height=minSize.height},afterFit:noop,isHorizontal:function(){var pos=this.options.position;return"top"===pos||"bottom"===pos},draw:function(){var me=this,ctx=me.ctx,valueOrDefault=helpers.getValueOrDefault,opts=me.options,globalDefaults=Chart.defaults.global;if(opts.display){var titleX,titleY,maxWidth,fontSize=valueOrDefault(opts.fontSize,globalDefaults.defaultFontSize),fontStyle=valueOrDefault(opts.fontStyle,globalDefaults.defaultFontStyle),fontFamily=valueOrDefault(opts.fontFamily,globalDefaults.defaultFontFamily),titleFont=helpers.fontString(fontSize,fontStyle,fontFamily),rotation=0,top=me.top,left=me.left,bottom=me.bottom,right=me.right;ctx.fillStyle=valueOrDefault(opts.fontColor,globalDefaults.defaultFontColor),ctx.font=titleFont,me.isHorizontal()?(titleX=left+(right-left)/2,titleY=top+(bottom-top)/2,maxWidth=right-left):(titleX="left"===opts.position?left+fontSize/2:right-fontSize/2,titleY=top+(bottom-top)/2,maxWidth=bottom-top,rotation=Math.PI*("left"===opts.position?-.5:.5)),ctx.save(),ctx.translate(titleX,titleY),ctx.rotate(rotation),ctx.textAlign="center",ctx.textBaseline="middle",ctx.fillText(opts.text,0,0,maxWidth),ctx.restore()}}}),Chart.plugins.register({beforeInit:function(chartInstance){var opts=chartInstance.options,titleOpts=opts.title;titleOpts&&(chartInstance.titleBlock=new Chart.Title({ctx:chartInstance.chart.ctx,options:titleOpts,chart:chartInstance}),Chart.layoutService.addBox(chartInstance,chartInstance.titleBlock))}})}}),rqzt.define("chart.js/src/core/core.legend",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function getBoxWidth(labelOpts,fontSize){return labelOpts.usePointStyle?fontSize*Math.SQRT2:labelOpts.boxWidth}var helpers=Chart.helpers,noop=helpers.noop;Chart.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,legendItem){var index=legendItem.datasetIndex,ci=this.chart,meta=ci.getDatasetMeta(index);meta.hidden=null===meta.hidden?!ci.data.datasets[index].hidden:null,ci.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(chart){var data=chart.data;return helpers.isArray(data.datasets)?data.datasets.map(function(dataset,i){return{text:dataset.label,fillStyle:helpers.isArray(dataset.backgroundColor)?dataset.backgroundColor[0]:dataset.backgroundColor,hidden:!chart.isDatasetVisible(i),lineCap:dataset.borderCapStyle,lineDash:dataset.borderDash,lineDashOffset:dataset.borderDashOffset,lineJoin:dataset.borderJoinStyle,lineWidth:dataset.borderWidth,strokeStyle:dataset.borderColor,pointStyle:dataset.pointStyle,datasetIndex:i}},this):[]}}},Chart.Legend=Chart.Element.extend({initialize:function(config){helpers.extend(this,config),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:noop,update:function(maxWidth,maxHeight,margins){var me=this;return me.beforeUpdate(),me.maxWidth=maxWidth,me.maxHeight=maxHeight,me.margins=margins,me.beforeSetDimensions(),me.setDimensions(),me.afterSetDimensions(),me.beforeBuildLabels(),me.buildLabels(),me.afterBuildLabels(),me.beforeFit(),me.fit(),me.afterFit(),me.afterUpdate(),me.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var me=this;me.isHorizontal()?(me.width=me.maxWidth,me.left=0,me.right=me.width):(me.height=me.maxHeight,me.top=0,me.bottom=me.height),me.paddingLeft=0,me.paddingTop=0,me.paddingRight=0,me.paddingBottom=0,me.minSize={width:0,height:0}},afterSetDimensions:noop,beforeBuildLabels:noop,buildLabels:function(){var me=this;me.legendItems=me.options.labels.generateLabels.call(me,me.chart),me.options.reverse&&me.legendItems.reverse()},afterBuildLabels:noop,beforeFit:noop,fit:function(){var me=this,opts=me.options,labelOpts=opts.labels,display=opts.display,ctx=me.ctx,globalDefault=Chart.defaults.global,itemOrDefault=helpers.getValueOrDefault,fontSize=itemOrDefault(labelOpts.fontSize,globalDefault.defaultFontSize),fontStyle=itemOrDefault(labelOpts.fontStyle,globalDefault.defaultFontStyle),fontFamily=itemOrDefault(labelOpts.fontFamily,globalDefault.defaultFontFamily),labelFont=helpers.fontString(fontSize,fontStyle,fontFamily),hitboxes=me.legendHitBoxes=[],minSize=me.minSize,isHorizontal=me.isHorizontal();if(isHorizontal?(minSize.width=me.maxWidth,minSize.height=display?10:0):(minSize.width=display?10:0,minSize.height=me.maxHeight),display)if(ctx.font=labelFont,isHorizontal){var lineWidths=me.lineWidths=[0],totalHeight=me.legendItems.length?fontSize+labelOpts.padding:0;ctx.textAlign="left",ctx.textBaseline="top",helpers.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize),width=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;lineWidths[lineWidths.length-1]+width+labelOpts.padding>=me.width&&(totalHeight+=fontSize+labelOpts.padding,lineWidths[lineWidths.length]=me.left),hitboxes[i]={left:0,top:0,width:width,height:fontSize},lineWidths[lineWidths.length-1]+=width+labelOpts.padding}),minSize.height+=totalHeight}else{var vPadding=labelOpts.padding,columnWidths=me.columnWidths=[],totalWidth=labelOpts.padding,currentColWidth=0,currentColHeight=0,itemHeight=fontSize+vPadding;helpers.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize),itemWidth=boxWidth+fontSize/2+ctx.measureText(legendItem.text).width;currentColHeight+itemHeight>minSize.height&&(totalWidth+=currentColWidth+labelOpts.padding,columnWidths.push(currentColWidth),currentColWidth=0,currentColHeight=0),currentColWidth=Math.max(currentColWidth,itemWidth),currentColHeight+=itemHeight,hitboxes[i]={left:0,top:0,width:itemWidth,height:fontSize}}),totalWidth+=currentColWidth,columnWidths.push(currentColWidth),minSize.width+=totalWidth}me.width=minSize.width,me.height=minSize.height},afterFit:noop,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var me=this,opts=me.options,labelOpts=opts.labels,globalDefault=Chart.defaults.global,lineDefault=globalDefault.elements.line,legendWidth=me.width,lineWidths=me.lineWidths;if(opts.display){var cursor,ctx=me.ctx,itemOrDefault=helpers.getValueOrDefault,fontColor=itemOrDefault(labelOpts.fontColor,globalDefault.defaultFontColor),fontSize=itemOrDefault(labelOpts.fontSize,globalDefault.defaultFontSize),fontStyle=itemOrDefault(labelOpts.fontStyle,globalDefault.defaultFontStyle),fontFamily=itemOrDefault(labelOpts.fontFamily,globalDefault.defaultFontFamily),labelFont=helpers.fontString(fontSize,fontStyle,fontFamily);ctx.textAlign="left",ctx.textBaseline="top",ctx.lineWidth=.5,ctx.strokeStyle=fontColor,ctx.fillStyle=fontColor,ctx.font=labelFont;var boxWidth=getBoxWidth(labelOpts,fontSize),hitboxes=me.legendHitBoxes,drawLegendBox=function(x,y,legendItem){if(!(isNaN(boxWidth)||boxWidth<=0)){ctx.save(),ctx.fillStyle=itemOrDefault(legendItem.fillStyle,globalDefault.defaultColor),ctx.lineCap=itemOrDefault(legendItem.lineCap,lineDefault.borderCapStyle),ctx.lineDashOffset=itemOrDefault(legendItem.lineDashOffset,lineDefault.borderDashOffset),ctx.lineJoin=itemOrDefault(legendItem.lineJoin,lineDefault.borderJoinStyle),ctx.lineWidth=itemOrDefault(legendItem.lineWidth,lineDefault.borderWidth),ctx.strokeStyle=itemOrDefault(legendItem.strokeStyle,globalDefault.defaultColor);var isLineWidthZero=0===itemOrDefault(legendItem.lineWidth,lineDefault.borderWidth);if(ctx.setLineDash&&ctx.setLineDash(itemOrDefault(legendItem.lineDash,lineDefault.borderDash)),opts.labels&&opts.labels.usePointStyle){var radius=fontSize*Math.SQRT2/2,offSet=radius/Math.SQRT2,centerX=x+offSet,centerY=y+offSet;Chart.canvasHelpers.drawPoint(ctx,legendItem.pointStyle,radius,centerX,centerY)}else isLineWidthZero||ctx.strokeRect(x,y,boxWidth,fontSize),ctx.fillRect(x,y,boxWidth,fontSize);ctx.restore()}},fillText=function(x,y,legendItem,textWidth){ctx.fillText(legendItem.text,boxWidth+fontSize/2+x,y),legendItem.hidden&&(ctx.beginPath(),ctx.lineWidth=2,ctx.moveTo(boxWidth+fontSize/2+x,y+fontSize/2),ctx.lineTo(boxWidth+fontSize/2+x+textWidth,y+fontSize/2),ctx.stroke())},isHorizontal=me.isHorizontal();cursor=isHorizontal?{x:me.left+(legendWidth-lineWidths[0])/2,y:me.top+labelOpts.padding,line:0}:{x:me.left+labelOpts.padding,y:me.top+labelOpts.padding,line:0};var itemHeight=fontSize+labelOpts.padding;helpers.each(me.legendItems,function(legendItem,i){var textWidth=ctx.measureText(legendItem.text).width,width=boxWidth+fontSize/2+textWidth,x=cursor.x,y=cursor.y;isHorizontal?x+width>=legendWidth&&(y=cursor.y+=itemHeight,cursor.line++,x=cursor.x=me.left+(legendWidth-lineWidths[cursor.line])/2):y+itemHeight>me.bottom&&(x=cursor.x=x+me.columnWidths[cursor.line]+labelOpts.padding,y=cursor.y=me.top,cursor.line++),drawLegendBox(x,y,legendItem),hitboxes[i].left=x,hitboxes[i].top=y,fillText(x,y,legendItem,textWidth),isHorizontal?cursor.x+=width+labelOpts.padding:cursor.y+=itemHeight})}},handleEvent:function(e){var me=this,opts=me.options,type="mouseup"===e.type?"click":e.type,changed=!1;if("mousemove"===type){if(!opts.onHover)return}else{if("click"!==type)return;if(!opts.onClick)return}var position=helpers.getRelativePosition(e,me.chart.chart),x=position.x,y=position.y;if(x>=me.left&&x<=me.right&&y>=me.top&&y<=me.bottom)for(var lh=me.legendHitBoxes,i=0;i<lh.length;++i){var hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){if("click"===type){opts.onClick.call(me,e,me.legendItems[i]),changed=!0;break}if("mousemove"===type){opts.onHover.call(me,e,me.legendItems[i]),changed=!0;break}}}return changed}}),Chart.plugins.register({beforeInit:function(chartInstance){var opts=chartInstance.options,legendOpts=opts.legend;legendOpts&&(chartInstance.legend=new Chart.Legend({ctx:chartInstance.chart.ctx,options:legendOpts,chart:chartInstance}),Chart.layoutService.addBox(chartInstance,chartInstance.legend))}})}}),rqzt.define("chart.js/src/core/core.interaction",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function parseVisibleItems(chart,handler){var meta,i,j,ilen,jlen,datasets=chart.data.datasets;for(i=0,ilen=datasets.length;i<ilen;++i)if(chart.isDatasetVisible(i))for(meta=chart.getDatasetMeta(i),j=0,jlen=meta.data.length;j<jlen;++j){var element=meta.data[j];element._view.skip||handler(element)}}function getIntersectItems(chart,position){var elements=[];return parseVisibleItems(chart,function(element){element.inRange(position.x,position.y)&&elements.push(element)}),elements}function getNearestItems(chart,position,intersect,distanceMetric){var minDistance=Number.POSITIVE_INFINITY,nearestItems=[];return distanceMetric||(distanceMetric=helpers.distanceBetweenPoints),parseVisibleItems(chart,function(element){if(!intersect||element.inRange(position.x,position.y)){var center=element.getCenterPoint(),distance=distanceMetric(position,center);distance<minDistance?(nearestItems=[element],minDistance=distance):distance===minDistance&&nearestItems.push(element)}}),nearestItems}function indexMode(chart,e,options){var position=helpers.getRelativePosition(e,chart.chart),distanceMetric=function(pt1,pt2){return Math.abs(pt1.x-pt2.x)},items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,!1,distanceMetric),elements=[];return items.length?(chart.data.datasets.forEach(function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex),element=meta.data[items[0]._index];element&&!element._view.skip&&elements.push(element)}}),elements):[]}var helpers=Chart.helpers;Chart.Interaction={modes:{single:function(chart,e){var position=helpers.getRelativePosition(e,chart.chart),elements=[];return parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y))return elements.push(element),elements}),elements.slice(0,1)},label:indexMode,index:indexMode,dataset:function(chart,e,options){var position=helpers.getRelativePosition(e,chart.chart),items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,!1);return items.length>0&&(items=chart.getDatasetMeta(items[0]._datasetIndex).data),items},"x-axis":function(chart,e){return indexMode(chart,e,!0)},point:function(chart,e){var position=helpers.getRelativePosition(e,chart.chart);return getIntersectItems(chart,position)},nearest:function(chart,e,options){var position=helpers.getRelativePosition(e,chart.chart),nearestItems=getNearestItems(chart,position,options.intersect);return nearestItems.length>1&&nearestItems.sort(function(a,b){var sizeA=a.getArea(),sizeB=b.getArea(),ret=sizeA-sizeB;return 0===ret&&(ret=a._datasetIndex-b._datasetIndex),ret}),nearestItems.slice(0,1)},x:function(chart,e,options){var position=helpers.getRelativePosition(e,chart.chart),items=[],intersectsItem=!1;return parseVisibleItems(chart,function(element){element.inXRange(position.x)&&items.push(element),element.inRange(position.x,position.y)&&(intersectsItem=!0)}),options.intersect&&!intersectsItem&&(items=[]),items},y:function(chart,e,options){var position=helpers.getRelativePosition(e,chart.chart),items=[],intersectsItem=!1;return parseVisibleItems(chart,function(element){element.inYRange(position.y)&&items.push(element),element.inRange(position.x,position.y)&&(intersectsItem=!0)}),options.intersect&&!intersectsItem&&(items=[]),items}}}}}),rqzt.define("chart.js/src/core/core.tooltip",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function mergeOpacity(colorString,opacity){var color=helpers.color(colorString);return color.alpha(opacity*color.alpha()).rgbaString()}function pushOrConcat(base,toPush){return toPush&&(helpers.isArray(toPush)?Array.prototype.push.apply(base,toPush):base.push(toPush)),base}function createTooltipItem(element){var xScale=element._xScale,yScale=element._yScale||element._scale,index=element._index,datasetIndex=element._datasetIndex;return{xLabel:xScale?xScale.getLabelForIndex(index,datasetIndex):"",yLabel:yScale?yScale.getLabelForIndex(index,datasetIndex):"",index:index,datasetIndex:datasetIndex,x:element._model.x,y:element._model.y}}function getBaseModel(tooltipOpts){var globalDefaults=Chart.defaults.global,getValueOrDefault=helpers.getValueOrDefault;return{xPadding:tooltipOpts.xPadding,yPadding:tooltipOpts.yPadding,xAlign:tooltipOpts.xAlign,yAlign:tooltipOpts.yAlign,bodyFontColor:tooltipOpts.bodyFontColor,_bodyFontFamily:getValueOrDefault(tooltipOpts.bodyFontFamily,globalDefaults.defaultFontFamily),_bodyFontStyle:getValueOrDefault(tooltipOpts.bodyFontStyle,globalDefaults.defaultFontStyle),_bodyAlign:tooltipOpts.bodyAlign,bodyFontSize:getValueOrDefault(tooltipOpts.bodyFontSize,globalDefaults.defaultFontSize),bodySpacing:tooltipOpts.bodySpacing,titleFontColor:tooltipOpts.titleFontColor,_titleFontFamily:getValueOrDefault(tooltipOpts.titleFontFamily,globalDefaults.defaultFontFamily),_titleFontStyle:getValueOrDefault(tooltipOpts.titleFontStyle,globalDefaults.defaultFontStyle),
titleFontSize:getValueOrDefault(tooltipOpts.titleFontSize,globalDefaults.defaultFontSize),_titleAlign:tooltipOpts.titleAlign,titleSpacing:tooltipOpts.titleSpacing,titleMarginBottom:tooltipOpts.titleMarginBottom,footerFontColor:tooltipOpts.footerFontColor,_footerFontFamily:getValueOrDefault(tooltipOpts.footerFontFamily,globalDefaults.defaultFontFamily),_footerFontStyle:getValueOrDefault(tooltipOpts.footerFontStyle,globalDefaults.defaultFontStyle),footerFontSize:getValueOrDefault(tooltipOpts.footerFontSize,globalDefaults.defaultFontSize),_footerAlign:tooltipOpts.footerAlign,footerSpacing:tooltipOpts.footerSpacing,footerMarginTop:tooltipOpts.footerMarginTop,caretSize:tooltipOpts.caretSize,cornerRadius:tooltipOpts.cornerRadius,backgroundColor:tooltipOpts.backgroundColor,opacity:0,legendColorBackground:tooltipOpts.multiKeyBackground,displayColors:tooltipOpts.displayColors}}function getTooltipSize(tooltip,model){var ctx=tooltip._chart.ctx,height=2*model.yPadding,width=0,body=model.body,combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length},0);combinedBodyLength+=model.beforeBody.length+model.afterBody.length;var titleLineCount=model.title.length,footerLineCount=model.footer.length,titleFontSize=model.titleFontSize,bodyFontSize=model.bodyFontSize,footerFontSize=model.footerFontSize;height+=titleLineCount*titleFontSize,height+=titleLineCount?(titleLineCount-1)*model.titleSpacing:0,height+=titleLineCount?model.titleMarginBottom:0,height+=combinedBodyLength*bodyFontSize,height+=combinedBodyLength?(combinedBodyLength-1)*model.bodySpacing:0,height+=footerLineCount?model.footerMarginTop:0,height+=footerLineCount*footerFontSize,height+=footerLineCount?(footerLineCount-1)*model.footerSpacing:0;var widthPadding=0,maxLineWidth=function(line){width=Math.max(width,ctx.measureText(line).width+widthPadding)};return ctx.font=helpers.fontString(titleFontSize,model._titleFontStyle,model._titleFontFamily),helpers.each(model.title,maxLineWidth),ctx.font=helpers.fontString(bodyFontSize,model._bodyFontStyle,model._bodyFontFamily),helpers.each(model.beforeBody.concat(model.afterBody),maxLineWidth),widthPadding=model.displayColors?bodyFontSize+2:0,helpers.each(body,function(bodyItem){helpers.each(bodyItem.before,maxLineWidth),helpers.each(bodyItem.lines,maxLineWidth),helpers.each(bodyItem.after,maxLineWidth)}),widthPadding=0,ctx.font=helpers.fontString(footerFontSize,model._footerFontStyle,model._footerFontFamily),helpers.each(model.footer,maxLineWidth),width+=2*model.xPadding,{width:width,height:height}}function determineAlignment(tooltip,size){var model=tooltip._model,chart=tooltip._chart,chartArea=tooltip._chartInstance.chartArea,xAlign="center",yAlign="center";model.y<size.height?yAlign="top":model.y>chart.height-size.height&&(yAlign="bottom");var lf,rf,olf,orf,yf,midX=(chartArea.left+chartArea.right)/2,midY=(chartArea.top+chartArea.bottom)/2;"center"===yAlign?(lf=function(x){return x<=midX},rf=function(x){return x>midX}):(lf=function(x){return x<=size.width/2},rf=function(x){return x>=chart.width-size.width/2}),olf=function(x){return x+size.width>chart.width},orf=function(x){return x-size.width<0},yf=function(y){return y<=midY?"top":"bottom"},lf(model.x)?(xAlign="left",olf(model.x)&&(xAlign="center",yAlign=yf(model.y))):rf(model.x)&&(xAlign="right",orf(model.x)&&(xAlign="center",yAlign=yf(model.y)));var opts=tooltip._options;return{xAlign:opts.xAlign?opts.xAlign:xAlign,yAlign:opts.yAlign?opts.yAlign:yAlign}}function getBackgroundPoint(vm,size,alignment){var x=vm.x,y=vm.y,caretSize=vm.caretSize,caretPadding=vm.caretPadding,cornerRadius=vm.cornerRadius,xAlign=alignment.xAlign,yAlign=alignment.yAlign,paddingAndSize=caretSize+caretPadding,radiusAndPadding=cornerRadius+caretPadding;return"right"===xAlign?x-=size.width:"center"===xAlign&&(x-=size.width/2),"top"===yAlign?y+=paddingAndSize:y-="bottom"===yAlign?size.height+paddingAndSize:size.height/2,"center"===yAlign?"left"===xAlign?x+=paddingAndSize:"right"===xAlign&&(x-=paddingAndSize):"left"===xAlign?x-=radiusAndPadding:"right"===xAlign&&(x+=radiusAndPadding),{x:x,y:y}}var helpers=Chart.helpers;Chart.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,callbacks:{beforeTitle:helpers.noop,title:function(tooltipItems,data){var title="",labels=data.labels,labelCount=labels?labels.length:0;if(tooltipItems.length>0){var item=tooltipItems[0];item.xLabel?title=item.xLabel:labelCount>0&&item.index<labelCount&&(title=labels[item.index])}return title},afterTitle:helpers.noop,beforeBody:helpers.noop,beforeLabel:helpers.noop,label:function(tooltipItem,data){var datasetLabel=data.datasets[tooltipItem.datasetIndex].label||"";return datasetLabel+": "+tooltipItem.yLabel},labelColor:function(tooltipItem,chartInstance){var meta=chartInstance.getDatasetMeta(tooltipItem.datasetIndex),activeElement=meta.data[tooltipItem.index],view=activeElement._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor}},afterLabel:helpers.noop,afterBody:helpers.noop,beforeFooter:helpers.noop,footer:helpers.noop,afterFooter:helpers.noop}},Chart.Tooltip=Chart.Element.extend({initialize:function(){this._model=getBaseModel(this._options)},getTitle:function(){var me=this,opts=me._options,callbacks=opts.callbacks,beforeTitle=callbacks.beforeTitle.apply(me,arguments),title=callbacks.title.apply(me,arguments),afterTitle=callbacks.afterTitle.apply(me,arguments),lines=[];return lines=pushOrConcat(lines,beforeTitle),lines=pushOrConcat(lines,title),lines=pushOrConcat(lines,afterTitle)},getBeforeBody:function(){var lines=this._options.callbacks.beforeBody.apply(this,arguments);return helpers.isArray(lines)?lines:void 0!==lines?[lines]:[]},getBody:function(tooltipItems,data){var me=this,callbacks=me._options.callbacks,bodyItems=[];return helpers.each(tooltipItems,function(tooltipItem){var bodyItem={before:[],lines:[],after:[]};pushOrConcat(bodyItem.before,callbacks.beforeLabel.call(me,tooltipItem,data)),pushOrConcat(bodyItem.lines,callbacks.label.call(me,tooltipItem,data)),pushOrConcat(bodyItem.after,callbacks.afterLabel.call(me,tooltipItem,data)),bodyItems.push(bodyItem)}),bodyItems},getAfterBody:function(){var lines=this._options.callbacks.afterBody.apply(this,arguments);return helpers.isArray(lines)?lines:void 0!==lines?[lines]:[]},getFooter:function(){var me=this,callbacks=me._options.callbacks,beforeFooter=callbacks.beforeFooter.apply(me,arguments),footer=callbacks.footer.apply(me,arguments),afterFooter=callbacks.afterFooter.apply(me,arguments),lines=[];return lines=pushOrConcat(lines,beforeFooter),lines=pushOrConcat(lines,footer),lines=pushOrConcat(lines,afterFooter)},update:function(changed){var i,len,me=this,opts=me._options,existingModel=me._model,model=me._model=getBaseModel(opts),active=me._active,data=me._data,chartInstance=me._chartInstance,alignment={xAlign:existingModel.xAlign,yAlign:existingModel.yAlign},backgroundPoint={x:existingModel.x,y:existingModel.y},tooltipSize={width:existingModel.width,height:existingModel.height},tooltipPosition={x:existingModel.caretX,y:existingModel.caretY};if(active.length){model.opacity=1;var labelColors=[];tooltipPosition=Chart.Tooltip.positioners[opts.position](active,me._eventPosition);var tooltipItems=[];for(i=0,len=active.length;i<len;++i)tooltipItems.push(createTooltipItem(active[i]));opts.filter&&(tooltipItems=tooltipItems.filter(function(a){return opts.filter(a,data)})),opts.itemSort&&(tooltipItems=tooltipItems.sort(function(a,b){return opts.itemSort(a,b,data)})),helpers.each(tooltipItems,function(tooltipItem){labelColors.push(opts.callbacks.labelColor.call(me,tooltipItem,chartInstance))}),model.title=me.getTitle(tooltipItems,data),model.beforeBody=me.getBeforeBody(tooltipItems,data),model.body=me.getBody(tooltipItems,data),model.afterBody=me.getAfterBody(tooltipItems,data),model.footer=me.getFooter(tooltipItems,data),model.x=Math.round(tooltipPosition.x),model.y=Math.round(tooltipPosition.y),model.caretPadding=helpers.getValueOrDefault(tooltipPosition.padding,2),model.labelColors=labelColors,model.dataPoints=tooltipItems,tooltipSize=getTooltipSize(this,model),alignment=determineAlignment(this,tooltipSize),backgroundPoint=getBackgroundPoint(model,tooltipSize,alignment)}else model.opacity=0;return model.xAlign=alignment.xAlign,model.yAlign=alignment.yAlign,model.x=backgroundPoint.x,model.y=backgroundPoint.y,model.width=tooltipSize.width,model.height=tooltipSize.height,model.caretX=tooltipPosition.x,model.caretY=tooltipPosition.y,me._model=model,changed&&opts.custom&&opts.custom.call(me,model),me},drawCaret:function(tooltipPoint,size,opacity){var x1,x2,x3,y1,y2,y3,vm=this._view,ctx=this._chart.ctx,caretSize=vm.caretSize,cornerRadius=vm.cornerRadius,xAlign=vm.xAlign,yAlign=vm.yAlign,ptX=tooltipPoint.x,ptY=tooltipPoint.y,width=size.width,height=size.height;"center"===yAlign?("left"===xAlign?(x1=ptX,x2=x1-caretSize,x3=x1):(x1=ptX+width,x2=x1+caretSize,x3=x1),y2=ptY+height/2,y1=y2-caretSize,y3=y2+caretSize):("left"===xAlign?(x1=ptX+cornerRadius,x2=x1+caretSize,x3=x2+caretSize):"right"===xAlign?(x1=ptX+width-cornerRadius,x2=x1-caretSize,x3=x2-caretSize):(x2=ptX+width/2,x1=x2-caretSize,x3=x2+caretSize),"top"===yAlign?(y1=ptY,y2=y1-caretSize,y3=y1):(y1=ptY+height,y2=y1+caretSize,y3=y1)),ctx.fillStyle=mergeOpacity(vm.backgroundColor,opacity),ctx.beginPath(),ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.lineTo(x3,y3),ctx.closePath(),ctx.fill()},drawTitle:function(pt,vm,ctx,opacity){var title=vm.title;if(title.length){ctx.textAlign=vm._titleAlign,ctx.textBaseline="top";var titleFontSize=vm.titleFontSize,titleSpacing=vm.titleSpacing;ctx.fillStyle=mergeOpacity(vm.titleFontColor,opacity),ctx.font=helpers.fontString(titleFontSize,vm._titleFontStyle,vm._titleFontFamily);var i,len;for(i=0,len=title.length;i<len;++i)ctx.fillText(title[i],pt.x,pt.y),pt.y+=titleFontSize+titleSpacing,i+1===title.length&&(pt.y+=vm.titleMarginBottom-titleSpacing)}},drawBody:function(pt,vm,ctx,opacity){var bodyFontSize=vm.bodyFontSize,bodySpacing=vm.bodySpacing,body=vm.body;ctx.textAlign=vm._bodyAlign,ctx.textBaseline="top";var textColor=mergeOpacity(vm.bodyFontColor,opacity);ctx.fillStyle=textColor,ctx.font=helpers.fontString(bodyFontSize,vm._bodyFontStyle,vm._bodyFontFamily);var xLinePadding=0,fillLineOfText=function(line){ctx.fillText(line,pt.x+xLinePadding,pt.y),pt.y+=bodyFontSize+bodySpacing};helpers.each(vm.beforeBody,fillLineOfText);var drawColorBoxes=vm.displayColors;xLinePadding=drawColorBoxes?bodyFontSize+2:0,helpers.each(body,function(bodyItem,i){helpers.each(bodyItem.before,fillLineOfText),helpers.each(bodyItem.lines,function(line){drawColorBoxes&&(ctx.fillStyle=mergeOpacity(vm.legendColorBackground,opacity),ctx.fillRect(pt.x,pt.y,bodyFontSize,bodyFontSize),ctx.strokeStyle=mergeOpacity(vm.labelColors[i].borderColor,opacity),ctx.strokeRect(pt.x,pt.y,bodyFontSize,bodyFontSize),ctx.fillStyle=mergeOpacity(vm.labelColors[i].backgroundColor,opacity),ctx.fillRect(pt.x+1,pt.y+1,bodyFontSize-2,bodyFontSize-2),ctx.fillStyle=textColor),fillLineOfText(line)}),helpers.each(bodyItem.after,fillLineOfText)}),xLinePadding=0,helpers.each(vm.afterBody,fillLineOfText),pt.y-=bodySpacing},drawFooter:function(pt,vm,ctx,opacity){var footer=vm.footer;footer.length&&(pt.y+=vm.footerMarginTop,ctx.textAlign=vm._footerAlign,ctx.textBaseline="top",ctx.fillStyle=mergeOpacity(vm.footerFontColor,opacity),ctx.font=helpers.fontString(vm.footerFontSize,vm._footerFontStyle,vm._footerFontFamily),helpers.each(footer,function(line){ctx.fillText(line,pt.x,pt.y),pt.y+=vm.footerFontSize+vm.footerSpacing}))},drawBackground:function(pt,vm,ctx,tooltipSize,opacity){ctx.fillStyle=mergeOpacity(vm.backgroundColor,opacity),helpers.drawRoundedRectangle(ctx,pt.x,pt.y,tooltipSize.width,tooltipSize.height,vm.cornerRadius),ctx.fill()},draw:function(){var ctx=this._chart.ctx,vm=this._view;if(0!==vm.opacity){var tooltipSize={width:vm.width,height:vm.height},pt={x:vm.x,y:vm.y},opacity=Math.abs(vm.opacity<.001)?0:vm.opacity;this._options.enabled&&(this.drawBackground(pt,vm,ctx,tooltipSize,opacity),this.drawCaret(pt,tooltipSize,opacity),pt.x+=vm.xPadding,pt.y+=vm.yPadding,this.drawTitle(pt,vm,ctx,opacity),this.drawBody(pt,vm,ctx,opacity),this.drawFooter(pt,vm,ctx,opacity))}},handleEvent:function(e){var me=this,options=me._options,changed=!1;if(me._lastActive=me._lastActive||[],"mouseout"===e.type?me._active=[]:me._active=me._chartInstance.getElementsAtEventForMode(e,options.mode,options),changed=!helpers.arrayEquals(me._active,me._lastActive),me._lastActive=me._active,options.enabled||options.custom){me._eventPosition=helpers.getRelativePosition(e,me._chart);var model=me._model;me.update(!0),me.pivot(),changed|=model.x!==me._model.x||model.y!==me._model.y}return changed}}),Chart.Tooltip.positioners={average:function(elements){if(!elements.length)return!1;var i,len,x=0,y=0,count=0;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x,y+=pos.y,++count}}return{x:Math.round(x/count),y:Math.round(y/count)}},nearest:function(elements,eventPosition){var nearestElement,i,len,x=eventPosition.x,y=eventPosition.y,minDistance=Number.POSITIVE_INFINITY;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var center=el.getCenterPoint(),d=helpers.distanceBetweenPoints(eventPosition,center);d<minDistance&&(minDistance=d,nearestElement=el)}}if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x,y=tp.y}return{x:x,y:y}}}}}),rqzt.define("chart.js/src/elements/element.arc",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,globalOpts=Chart.defaults.global;globalOpts.elements.arc={backgroundColor:globalOpts.defaultColor,borderColor:"#fff",borderWidth:2},Chart.elements.Arc=Chart.Element.extend({inLabelRange:function(mouseX){var vm=this._view;return!!vm&&Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hoverRadius,2)},inRange:function(chartX,chartY){var vm=this._view;if(vm){for(var pointRelativePosition=helpers.getAngleFromPoint(vm,{x:chartX,y:chartY}),angle=pointRelativePosition.angle,distance=pointRelativePosition.distance,startAngle=vm.startAngle,endAngle=vm.endAngle;endAngle<startAngle;)endAngle+=2*Math.PI;for(;angle>endAngle;)angle-=2*Math.PI;for(;angle<startAngle;)angle+=2*Math.PI;var betweenAngles=angle>=startAngle&&angle<=endAngle,withinRadius=distance>=vm.innerRadius&&distance<=vm.outerRadius;return betweenAngles&&withinRadius}return!1},getCenterPoint:function(){var vm=this._view,halfAngle=(vm.startAngle+vm.endAngle)/2,halfRadius=(vm.innerRadius+vm.outerRadius)/2;return{x:vm.x+Math.cos(halfAngle)*halfRadius,y:vm.y+Math.sin(halfAngle)*halfRadius}},getArea:function(){var vm=this._view;return Math.PI*((vm.endAngle-vm.startAngle)/(2*Math.PI))*(Math.pow(vm.outerRadius,2)-Math.pow(vm.innerRadius,2))},tooltipPosition:function(){var vm=this._view,centreAngle=vm.startAngle+(vm.endAngle-vm.startAngle)/2,rangeFromCentre=(vm.outerRadius-vm.innerRadius)/2+vm.innerRadius;return{x:vm.x+Math.cos(centreAngle)*rangeFromCentre,y:vm.y+Math.sin(centreAngle)*rangeFromCentre}},draw:function(){var ctx=this._chart.ctx,vm=this._view,sA=vm.startAngle,eA=vm.endAngle;ctx.beginPath(),ctx.arc(vm.x,vm.y,vm.outerRadius,sA,eA),ctx.arc(vm.x,vm.y,vm.innerRadius,eA,sA,!0),ctx.closePath(),ctx.strokeStyle=vm.borderColor,ctx.lineWidth=vm.borderWidth,ctx.fillStyle=vm.backgroundColor,ctx.fill(),ctx.lineJoin="bevel",vm.borderWidth&&ctx.stroke()}})}}),rqzt.define("chart.js/src/elements/element.line",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,globalDefaults=Chart.defaults.global;Chart.defaults.global.elements.line={tension:.4,backgroundColor:globalDefaults.defaultColor,borderWidth:3,borderColor:globalDefaults.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},Chart.elements.Line=Chart.Element.extend({draw:function(){function lineToPoint(previousPoint,point){var pointVM=point._view;point._view.steppedLine===!0?(ctx.lineTo(pointVM.x,previousPoint._view.y),ctx.lineTo(pointVM.x,pointVM.y)):0===point._view.tension?ctx.lineTo(pointVM.x,pointVM.y):ctx.bezierCurveTo(previousPoint._view.controlPointNextX,previousPoint._view.controlPointNextY,pointVM.controlPointPreviousX,pointVM.controlPointPreviousY,pointVM.x,pointVM.y)}var me=this,vm=me._view,spanGaps=vm.spanGaps,fillPoint=vm.scaleZero,loop=me._loop;loop||("top"===vm.fill?fillPoint=vm.scaleTop:"bottom"===vm.fill&&(fillPoint=vm.scaleBottom));var ctx=me._chart.ctx;ctx.save();var points=me._children.slice(),lastDrawnIndex=-1;loop&&points.length&&points.push(points[0]);var index,current,previous,currentVM;if(points.length&&vm.fill){for(ctx.beginPath(),index=0;index<points.length;++index)current=points[index],previous=helpers.previousItem(points,index),currentVM=current._view,0===index?(loop?ctx.moveTo(fillPoint.x,fillPoint.y):ctx.moveTo(currentVM.x,fillPoint),currentVM.skip||(lastDrawnIndex=index,ctx.lineTo(currentVM.x,currentVM.y))):(previous=lastDrawnIndex===-1?previous:points[lastDrawnIndex],currentVM.skip?spanGaps||lastDrawnIndex!==index-1||(loop?ctx.lineTo(fillPoint.x,fillPoint.y):ctx.lineTo(previous._view.x,fillPoint)):(lastDrawnIndex!==index-1?spanGaps&&lastDrawnIndex!==-1?lineToPoint(previous,current):loop?ctx.lineTo(currentVM.x,currentVM.y):(ctx.lineTo(currentVM.x,fillPoint),ctx.lineTo(currentVM.x,currentVM.y)):lineToPoint(previous,current),lastDrawnIndex=index));loop||lastDrawnIndex===-1||ctx.lineTo(points[lastDrawnIndex]._view.x,fillPoint),ctx.fillStyle=vm.backgroundColor||globalDefaults.defaultColor,ctx.closePath(),ctx.fill()}var globalOptionLineElements=globalDefaults.elements.line;for(ctx.lineCap=vm.borderCapStyle||globalOptionLineElements.borderCapStyle,ctx.setLineDash&&ctx.setLineDash(vm.borderDash||globalOptionLineElements.borderDash),ctx.lineDashOffset=vm.borderDashOffset||globalOptionLineElements.borderDashOffset,ctx.lineJoin=vm.borderJoinStyle||globalOptionLineElements.borderJoinStyle,ctx.lineWidth=vm.borderWidth||globalOptionLineElements.borderWidth,ctx.strokeStyle=vm.borderColor||globalDefaults.defaultColor,ctx.beginPath(),lastDrawnIndex=-1,index=0;index<points.length;++index)current=points[index],previous=helpers.previousItem(points,index),currentVM=current._view,0===index?currentVM.skip||(ctx.moveTo(currentVM.x,currentVM.y),lastDrawnIndex=index):(previous=lastDrawnIndex===-1?previous:points[lastDrawnIndex],currentVM.skip||(lastDrawnIndex!==index-1&&!spanGaps||lastDrawnIndex===-1?ctx.moveTo(currentVM.x,currentVM.y):lineToPoint(previous,current),lastDrawnIndex=index));ctx.stroke(),ctx.restore()}})}}),rqzt.define("chart.js/src/elements/element.point",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function xRange(mouseX){var vm=this._view;return!!vm&&Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hitRadius,2)}function yRange(mouseY){var vm=this._view;return!!vm&&Math.pow(mouseY-vm.y,2)<Math.pow(vm.radius+vm.hitRadius,2)}var helpers=Chart.helpers,globalOpts=Chart.defaults.global,defaultColor=globalOpts.defaultColor;globalOpts.elements.point={radius:3,pointStyle:"circle",backgroundColor:defaultColor,borderWidth:1,borderColor:defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},Chart.elements.Point=Chart.Element.extend({inRange:function(mouseX,mouseY){var vm=this._view;return!!vm&&Math.pow(mouseX-vm.x,2)+Math.pow(mouseY-vm.y,2)<Math.pow(vm.hitRadius+vm.radius,2)},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y,padding:vm.radius+vm.borderWidth}},draw:function(){var vm=this._view,ctx=this._chart.ctx,pointStyle=vm.pointStyle,radius=vm.radius,x=vm.x,y=vm.y;vm.skip||(ctx.strokeStyle=vm.borderColor||defaultColor,ctx.lineWidth=helpers.getValueOrDefault(vm.borderWidth,globalOpts.elements.point.borderWidth),ctx.fillStyle=vm.backgroundColor||defaultColor,Chart.canvasHelpers.drawPoint(ctx,pointStyle,radius,x,y))}})}}),rqzt.define("chart.js/src/elements/element.rectangle",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function isVertical(bar){return void 0!==bar._view.width}function getBarBounds(bar){var x1,x2,y1,y2,vm=bar._view;if(isVertical(bar)){var halfWidth=vm.width/2;x1=vm.x-halfWidth,x2=vm.x+halfWidth,y1=Math.min(vm.y,vm.base),y2=Math.max(vm.y,vm.base)}else{var halfHeight=vm.height/2;x1=Math.min(vm.x,vm.base),x2=Math.max(vm.x,vm.base),y1=vm.y-halfHeight,y2=vm.y+halfHeight}return{left:x1,top:y1,right:x2,bottom:y2}}var globalOpts=Chart.defaults.global;globalOpts.elements.rectangle={backgroundColor:globalOpts.defaultColor,borderWidth:0,borderColor:globalOpts.defaultColor,borderSkipped:"bottom"},Chart.elements.Rectangle=Chart.Element.extend({draw:function(){function cornerAt(index){return corners[(startCorner+index)%4]}var ctx=this._chart.ctx,vm=this._view,halfWidth=vm.width/2,leftX=vm.x-halfWidth,rightX=vm.x+halfWidth,top=vm.base-(vm.base-vm.y),halfStroke=vm.borderWidth/2;vm.borderWidth&&(leftX+=halfStroke,rightX-=halfStroke,top+=halfStroke),ctx.beginPath(),ctx.fillStyle=vm.backgroundColor,ctx.strokeStyle=vm.borderColor,ctx.lineWidth=vm.borderWidth;var corners=[[leftX,vm.base],[leftX,top],[rightX,top],[rightX,vm.base]],borders=["bottom","left","top","right"],startCorner=borders.indexOf(vm.borderSkipped,0);startCorner===-1&&(startCorner=0);var corner=cornerAt(0);ctx.moveTo(corner[0],corner[1]);for(var i=1;i<4;i++)corner=cornerAt(i),ctx.lineTo(corner[0],corner[1]);ctx.fill(),vm.borderWidth&&ctx.stroke()},height:function(){var vm=this._view;return vm.base-vm.y},inRange:function(mouseX,mouseY){var inRange=!1;if(this._view){var bounds=getBarBounds(this);inRange=mouseX>=bounds.left&&mouseX<=bounds.right&&mouseY>=bounds.top&&mouseY<=bounds.bottom}return inRange},inLabelRange:function(mouseX,mouseY){var me=this;if(!me._view)return!1;var inRange=!1,bounds=getBarBounds(me);return inRange=isVertical(me)?mouseX>=bounds.left&&mouseX<=bounds.right:mouseY>=bounds.top&&mouseY<=bounds.bottom},inXRange:function(mouseX){var bounds=getBarBounds(this);return mouseX>=bounds.left&&mouseX<=bounds.right},inYRange:function(mouseY){var bounds=getBarBounds(this);return mouseY>=bounds.top&&mouseY<=bounds.bottom},getCenterPoint:function(){var x,y,vm=this._view;return isVertical(this)?(x=vm.x,y=(vm.y+vm.base)/2):(x=(vm.x+vm.base)/2,y=vm.y),{x:x,y:y}},getArea:function(){var vm=this._view;return vm.width*Math.abs(vm.y-vm.base)},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y}}})}}),rqzt.define("chart.js/src/scales/scale.linearbase",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,noop=helpers.noop;Chart.LinearScaleBase=Chart.Scale.extend({handleTickRangeOptions:function(){var me=this,opts=me.options,tickOpts=opts.ticks;if(tickOpts.beginAtZero){var minSign=helpers.sign(me.min),maxSign=helpers.sign(me.max);minSign<0&&maxSign<0?me.max=0:minSign>0&&maxSign>0&&(me.min=0)}void 0!==tickOpts.min?me.min=tickOpts.min:void 0!==tickOpts.suggestedMin&&(me.min=Math.min(me.min,tickOpts.suggestedMin)),void 0!==tickOpts.max?me.max=tickOpts.max:void 0!==tickOpts.suggestedMax&&(me.max=Math.max(me.max,tickOpts.suggestedMax)),me.min===me.max&&(me.max++,tickOpts.beginAtZero||me.min--)},getTickLimit:noop,handleDirectionalChanges:noop,buildTicks:function(){var me=this,opts=me.options,tickOpts=opts.ticks,maxTicks=me.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,min:tickOpts.min,max:tickOpts.max,stepSize:helpers.getValueOrDefault(tickOpts.fixedStepSize,tickOpts.stepSize)},ticks=me.ticks=Chart.Ticks.generators.linear(numericGeneratorOptions,me);me.handleDirectionalChanges(),me.max=helpers.max(ticks),me.min=helpers.min(ticks),tickOpts.reverse?(ticks.reverse(),me.start=me.max,me.end=me.min):(me.start=me.min,me.end=me.max)},convertTicksToLabels:function(){var me=this;me.ticksAsNumbers=me.ticks.slice(),me.zeroLineIndex=me.ticks.indexOf(0),Chart.Scale.prototype.convertTicksToLabels.call(me)}})}}),rqzt.define("chart.js/src/scales/scale.category",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,defaultConfig={position:"bottom"},DatasetScale=Chart.Scale.extend({getLabels:function(){var data=this.chart.data;return(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels},determineDataLimits:function(){var me=this,labels=me.getLabels();me.minIndex=0,me.maxIndex=labels.length-1;var findIndex;void 0!==me.options.ticks.min&&(findIndex=helpers.indexOf(labels,me.options.ticks.min),me.minIndex=findIndex!==-1?findIndex:me.minIndex),void 0!==me.options.ticks.max&&(findIndex=helpers.indexOf(labels,me.options.ticks.max),me.maxIndex=findIndex!==-1?findIndex:me.maxIndex),me.min=labels[me.minIndex],me.max=labels[me.maxIndex]},buildTicks:function(){var me=this,labels=me.getLabels();me.ticks=0===me.minIndex&&me.maxIndex===labels.length-1?labels:labels.slice(me.minIndex,me.maxIndex+1)},getLabelForIndex:function(index,datasetIndex){var me=this,data=me.chart.data,isHorizontal=me.isHorizontal();return data.xLabels&&isHorizontal||data.yLabels&&!isHorizontal?me.getRightValue(data.datasets[datasetIndex].data[index]):me.ticks[index]},getPixelForValue:function(value,index,datasetIndex,includeOffset){var me=this,offsetAmt=Math.max(me.maxIndex+1-me.minIndex-(me.options.gridLines.offsetGridLines?0:1),1);if(void 0!==value&&isNaN(index)){var labels=me.getLabels(),idx=labels.indexOf(value);index=idx!==-1?idx:index}if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight),valueWidth=innerWidth/offsetAmt,widthOffset=valueWidth*(index-me.minIndex)+me.paddingLeft;return(me.options.gridLines.offsetGridLines&&includeOffset||me.maxIndex===me.minIndex&&includeOffset)&&(widthOffset+=valueWidth/2),me.left+Math.round(widthOffset)}var innerHeight=me.height-(me.paddingTop+me.paddingBottom),valueHeight=innerHeight/offsetAmt,heightOffset=valueHeight*(index-me.minIndex)+me.paddingTop;return me.options.gridLines.offsetGridLines&&includeOffset&&(heightOffset+=valueHeight/2),me.top+Math.round(heightOffset)},getPixelForTick:function(index,includeOffset){return this.getPixelForValue(this.ticks[index],index+this.minIndex,null,includeOffset)},getValueForPixel:function(pixel){var value,me=this,offsetAmt=Math.max(me.ticks.length-(me.options.gridLines.offsetGridLines?0:1),1),horz=me.isHorizontal(),innerDimension=horz?me.width-(me.paddingLeft+me.paddingRight):me.height-(me.paddingTop+me.paddingBottom),valueDimension=innerDimension/offsetAmt;return pixel-=horz?me.left:me.top,me.options.gridLines.offsetGridLines&&(pixel-=valueDimension/2),pixel-=horz?me.paddingLeft:me.paddingTop,value=pixel<=0?0:Math.round(pixel/valueDimension)},getBasePixel:function(){return this.bottom}});Chart.scaleService.registerScaleType("category",DatasetScale,defaultConfig)}}),rqzt.define("chart.js/src/scales/scale.linear",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,defaultConfig={position:"left",ticks:{callback:Chart.Ticks.formatters.linear}},LinearScale=Chart.LinearScaleBase.extend({determineDataLimits:function(){function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id}var me=this,opts=me.options,chart=me.chart,data=chart.data,datasets=data.datasets,isHorizontal=me.isHorizontal();if(me.min=null,me.max=null,opts.stacked){var valuesPerType={};helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);void 0===valuesPerType[meta.type]&&(valuesPerType[meta.type]={positiveValues:[],negativeValues:[]});var positiveValues=valuesPerType[meta.type].positiveValues,negativeValues=valuesPerType[meta.type].negativeValues;chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);isNaN(value)||meta.data[index].hidden||(positiveValues[index]=positiveValues[index]||0,negativeValues[index]=negativeValues[index]||0,opts.relativePoints?positiveValues[index]=100:value<0?negativeValues[index]+=value:positiveValues[index]+=value)})}),helpers.each(valuesPerType,function(valuesForType){var values=valuesForType.positiveValues.concat(valuesForType.negativeValues),minVal=helpers.min(values),maxVal=helpers.max(values);me.min=null===me.min?minVal:Math.min(me.min,minVal),me.max=null===me.max?maxVal:Math.max(me.max,maxVal)})}else helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);isNaN(value)||meta.data[index].hidden||(null===me.min?me.min=value:value<me.min&&(me.min=value),null===me.max?me.max=value:value>me.max&&(me.max=value))})});this.handleTickRangeOptions()},getTickLimit:function(){var maxTicks,me=this,tickOpts=me.options.ticks;if(me.isHorizontal())maxTicks=Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(me.width/50));else{var tickFontSize=helpers.getValueOrDefault(tickOpts.fontSize,Chart.defaults.global.defaultFontSize);maxTicks=Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(me.height/(2*tickFontSize)))}return maxTicks},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},getPixelForValue:function(value){var pixel,innerDimension,me=this,paddingLeft=me.paddingLeft,paddingBottom=me.paddingBottom,start=me.start,rightValue=+me.getRightValue(value),range=me.end-start;return me.isHorizontal()?(innerDimension=me.width-(paddingLeft+me.paddingRight),pixel=me.left+innerDimension/range*(rightValue-start),Math.round(pixel+paddingLeft)):(innerDimension=me.height-(me.paddingTop+paddingBottom),pixel=me.bottom-paddingBottom-innerDimension/range*(rightValue-start),Math.round(pixel))},getValueForPixel:function(pixel){var me=this,isHorizontal=me.isHorizontal(),paddingLeft=me.paddingLeft,paddingBottom=me.paddingBottom,innerDimension=isHorizontal?me.width-(paddingLeft+me.paddingRight):me.height-(me.paddingTop+paddingBottom),offset=(isHorizontal?pixel-me.left-paddingLeft:me.bottom-paddingBottom-pixel)/innerDimension;return me.start+(me.end-me.start)*offset},getPixelForTick:function(index){return this.getPixelForValue(this.ticksAsNumbers[index])}});Chart.scaleService.registerScaleType("linear",LinearScale,defaultConfig)}}),rqzt.define("chart.js/src/scales/scale.logarithmic",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,defaultConfig={position:"left",ticks:{callback:Chart.Ticks.formatters.logarithmic}},LogarithmicScale=Chart.Scale.extend({determineDataLimits:function(){function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id}var me=this,opts=me.options,tickOpts=opts.ticks,chart=me.chart,data=chart.data,datasets=data.datasets,getValueOrDefault=helpers.getValueOrDefault,isHorizontal=me.isHorizontal();if(me.min=null,me.max=null,me.minNotZero=null,opts.stacked){var valuesPerType={};helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&(void 0===valuesPerType[meta.type]&&(valuesPerType[meta.type]=[]),
helpers.each(dataset.data,function(rawValue,index){var values=valuesPerType[meta.type],value=+me.getRightValue(rawValue);isNaN(value)||meta.data[index].hidden||(values[index]=values[index]||0,opts.relativePoints?values[index]=100:values[index]+=value)}))}),helpers.each(valuesPerType,function(valuesForType){var minVal=helpers.min(valuesForType),maxVal=helpers.max(valuesForType);me.min=null===me.min?minVal:Math.min(me.min,minVal),me.max=null===me.max?maxVal:Math.max(me.max,maxVal)})}else helpers.each(datasets,function(dataset,datasetIndex){var meta=chart.getDatasetMeta(datasetIndex);chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);isNaN(value)||meta.data[index].hidden||(null===me.min?me.min=value:value<me.min&&(me.min=value),null===me.max?me.max=value:value>me.max&&(me.max=value),0!==value&&(null===me.minNotZero||value<me.minNotZero)&&(me.minNotZero=value))})});me.min=getValueOrDefault(tickOpts.min,me.min),me.max=getValueOrDefault(tickOpts.max,me.max),me.min===me.max&&(0!==me.min&&null!==me.min?(me.min=Math.pow(10,Math.floor(helpers.log10(me.min))-1),me.max=Math.pow(10,Math.floor(helpers.log10(me.max))+1)):(me.min=1,me.max=10))},buildTicks:function(){var me=this,opts=me.options,tickOpts=opts.ticks,generationOptions={min:tickOpts.min,max:tickOpts.max},ticks=me.ticks=Chart.Ticks.generators.logarithmic(generationOptions,me);me.isHorizontal()||ticks.reverse(),me.max=helpers.max(ticks),me.min=helpers.min(ticks),tickOpts.reverse?(ticks.reverse(),me.start=me.max,me.end=me.min):(me.start=me.min,me.end=me.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Chart.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},getPixelForTick:function(index){return this.getPixelForValue(this.tickValues[index])},getPixelForValue:function(value){var innerDimension,pixel,range,me=this,start=me.start,newVal=+me.getRightValue(value),paddingTop=me.paddingTop,paddingBottom=me.paddingBottom,paddingLeft=me.paddingLeft,opts=me.options,tickOpts=opts.ticks;return me.isHorizontal()?(range=helpers.log10(me.end)-helpers.log10(start),0===newVal?pixel=me.left+paddingLeft:(innerDimension=me.width-(paddingLeft+me.paddingRight),pixel=me.left+innerDimension/range*(helpers.log10(newVal)-helpers.log10(start)),pixel+=paddingLeft)):(innerDimension=me.height-(paddingTop+paddingBottom),0!==start||tickOpts.reverse?0===me.end&&tickOpts.reverse?(range=helpers.log10(me.start)-helpers.log10(me.minNotZero),pixel=newVal===me.end?me.top+paddingTop:newVal===me.minNotZero?me.top+paddingTop+.02*innerDimension:me.top+paddingTop+.02*innerDimension+.98*innerDimension/range*(helpers.log10(newVal)-helpers.log10(me.minNotZero))):(range=helpers.log10(me.end)-helpers.log10(start),innerDimension=me.height-(paddingTop+paddingBottom),pixel=me.bottom-paddingBottom-innerDimension/range*(helpers.log10(newVal)-helpers.log10(start))):(range=helpers.log10(me.end)-helpers.log10(me.minNotZero),pixel=newVal===start?me.bottom-paddingBottom:newVal===me.minNotZero?me.bottom-paddingBottom-.02*innerDimension:me.bottom-paddingBottom-.02*innerDimension-.98*innerDimension/range*(helpers.log10(newVal)-helpers.log10(me.minNotZero)))),pixel},getValueForPixel:function(pixel){var value,innerDimension,me=this,range=helpers.log10(me.end)-helpers.log10(me.start);return me.isHorizontal()?(innerDimension=me.width-(me.paddingLeft+me.paddingRight),value=me.start*Math.pow(10,(pixel-me.left-me.paddingLeft)*range/innerDimension)):(innerDimension=me.height-(me.paddingTop+me.paddingBottom),value=Math.pow(10,(me.bottom-me.paddingBottom-pixel)*range/innerDimension)/me.start),value}});Chart.scaleService.registerScaleType("logarithmic",LogarithmicScale,defaultConfig)}}),rqzt.define("chart.js/src/scales/scale.radialLinear",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,globalDefaults=Chart.defaults.global,defaultConfig={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Chart.Ticks.formatters.linear},pointLabels:{fontSize:10,callback:function(label){return label}}},LinearRadialScale=Chart.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var me=this,opts=me.options,tickOpts=opts.ticks;me.width=me.maxWidth,me.height=me.maxHeight,me.xCenter=Math.round(me.width/2),me.yCenter=Math.round(me.height/2);var minSize=helpers.min([me.height,me.width]),tickFontSize=helpers.getValueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize);me.drawingArea=opts.display?minSize/2-(tickFontSize/2+tickOpts.backdropPaddingY):minSize/2},determineDataLimits:function(){var me=this,chart=me.chart;me.min=null,me.max=null,helpers.each(chart.data.datasets,function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);helpers.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);isNaN(value)||meta.data[index].hidden||(null===me.min?me.min=value:value<me.min&&(me.min=value),null===me.max?me.max=value:value>me.max&&(me.max=value))})}}),me.handleTickRangeOptions()},getTickLimit:function(){var tickOpts=this.options.ticks,tickFontSize=helpers.getValueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize);return Math.min(tickOpts.maxTicksLimit?tickOpts.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*tickFontSize)))},convertTicksToLabels:function(){var me=this;Chart.LinearScaleBase.prototype.convertTicksToLabels.call(me),me.pointLabels=me.chart.data.labels.map(me.options.pointLabels.callback,me)},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index])},fit:function(){var pointPosition,i,textWidth,halfTextWidth,furthestRightIndex,furthestRightAngle,furthestLeftIndex,furthestLeftAngle,xProtrusionLeft,xProtrusionRight,radiusReductionRight,radiusReductionLeft,pointLabels=this.options.pointLabels,pointLabelFontSize=helpers.getValueOrDefault(pointLabels.fontSize,globalDefaults.defaultFontSize),pointLabeFontStyle=helpers.getValueOrDefault(pointLabels.fontStyle,globalDefaults.defaultFontStyle),pointLabeFontFamily=helpers.getValueOrDefault(pointLabels.fontFamily,globalDefaults.defaultFontFamily),pointLabeFont=helpers.fontString(pointLabelFontSize,pointLabeFontStyle,pointLabeFontFamily),largestPossibleRadius=helpers.min([this.height/2-pointLabelFontSize-5,this.width/2]),furthestRight=this.width,furthestLeft=0;for(this.ctx.font=pointLabeFont,i=0;i<this.getValueCount();i++){pointPosition=this.getPointPosition(i,largestPossibleRadius),textWidth=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5;var angleRadians=this.getIndexAngle(i)+Math.PI/2,angle=360*angleRadians/(2*Math.PI)%360;0===angle||180===angle?(halfTextWidth=textWidth/2,pointPosition.x+halfTextWidth>furthestRight&&(furthestRight=pointPosition.x+halfTextWidth,furthestRightIndex=i),pointPosition.x-halfTextWidth<furthestLeft&&(furthestLeft=pointPosition.x-halfTextWidth,furthestLeftIndex=i)):angle<180?pointPosition.x+textWidth>furthestRight&&(furthestRight=pointPosition.x+textWidth,furthestRightIndex=i):pointPosition.x-textWidth<furthestLeft&&(furthestLeft=pointPosition.x-textWidth,furthestLeftIndex=i)}xProtrusionLeft=furthestLeft,xProtrusionRight=Math.ceil(furthestRight-this.width),furthestRightAngle=this.getIndexAngle(furthestRightIndex),furthestLeftAngle=this.getIndexAngle(furthestLeftIndex),radiusReductionRight=xProtrusionRight/Math.sin(furthestRightAngle+Math.PI/2),radiusReductionLeft=xProtrusionLeft/Math.sin(furthestLeftAngle+Math.PI/2),radiusReductionRight=helpers.isNumber(radiusReductionRight)?radiusReductionRight:0,radiusReductionLeft=helpers.isNumber(radiusReductionLeft)?radiusReductionLeft:0,this.drawingArea=Math.round(largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/2),this.setCenterPoint(radiusReductionLeft,radiusReductionRight)},setCenterPoint:function(leftMovement,rightMovement){var me=this,maxRight=me.width-rightMovement-me.drawingArea,maxLeft=leftMovement+me.drawingArea;me.xCenter=Math.round((maxLeft+maxRight)/2+me.left),me.yCenter=Math.round(me.height/2+me.top)},getIndexAngle:function(index){var angleMultiplier=2*Math.PI/this.getValueCount(),startAngle=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,startAngleRadians=startAngle*Math.PI*2/360;return index*angleMultiplier-Math.PI/2+startAngleRadians},getDistanceFromCenterForValue:function(value){var me=this;if(null===value)return 0;var scalingFactor=me.drawingArea/(me.max-me.min);return me.options.reverse?(me.max-value)*scalingFactor:(value-me.min)*scalingFactor},getPointPosition:function(index,distanceFromCenter){var me=this,thisAngle=me.getIndexAngle(index);return{x:Math.round(Math.cos(thisAngle)*distanceFromCenter)+me.xCenter,y:Math.round(Math.sin(thisAngle)*distanceFromCenter)+me.yCenter}},getPointPositionForValue:function(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value))},getBasePosition:function(){var me=this,min=me.min,max=me.max;return me.getPointPositionForValue(0,me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0)},draw:function(){var me=this,opts=me.options,gridLineOpts=opts.gridLines,tickOpts=opts.ticks,angleLineOpts=opts.angleLines,pointLabelOpts=opts.pointLabels,getValueOrDefault=helpers.getValueOrDefault;if(opts.display){var ctx=me.ctx,tickFontSize=getValueOrDefault(tickOpts.fontSize,globalDefaults.defaultFontSize),tickFontStyle=getValueOrDefault(tickOpts.fontStyle,globalDefaults.defaultFontStyle),tickFontFamily=getValueOrDefault(tickOpts.fontFamily,globalDefaults.defaultFontFamily),tickLabelFont=helpers.fontString(tickFontSize,tickFontStyle,tickFontFamily);if(helpers.each(me.ticks,function(label,index){if(index>0||opts.reverse){var yCenterOffset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]),yHeight=me.yCenter-yCenterOffset;if(gridLineOpts.display&&0!==index)if(ctx.strokeStyle=helpers.getValueAtIndexOrDefault(gridLineOpts.color,index-1),ctx.lineWidth=helpers.getValueAtIndexOrDefault(gridLineOpts.lineWidth,index-1),opts.lineArc)ctx.beginPath(),ctx.arc(me.xCenter,me.yCenter,yCenterOffset,0,2*Math.PI),ctx.closePath(),ctx.stroke();else{ctx.beginPath();for(var i=0;i<me.getValueCount();i++){var pointPosition=me.getPointPosition(i,yCenterOffset);0===i?ctx.moveTo(pointPosition.x,pointPosition.y):ctx.lineTo(pointPosition.x,pointPosition.y)}ctx.closePath(),ctx.stroke()}if(tickOpts.display){var tickFontColor=getValueOrDefault(tickOpts.fontColor,globalDefaults.defaultFontColor);if(ctx.font=tickLabelFont,tickOpts.showLabelBackdrop){var labelWidth=ctx.measureText(label).width;ctx.fillStyle=tickOpts.backdropColor,ctx.fillRect(me.xCenter-labelWidth/2-tickOpts.backdropPaddingX,yHeight-tickFontSize/2-tickOpts.backdropPaddingY,labelWidth+2*tickOpts.backdropPaddingX,tickFontSize+2*tickOpts.backdropPaddingY)}ctx.textAlign="center",ctx.textBaseline="middle",ctx.fillStyle=tickFontColor,ctx.fillText(label,me.xCenter,yHeight)}}}),!opts.lineArc){ctx.lineWidth=angleLineOpts.lineWidth,ctx.strokeStyle=angleLineOpts.color;for(var outerDistance=me.getDistanceFromCenterForValue(opts.reverse?me.min:me.max),pointLabelFontSize=getValueOrDefault(pointLabelOpts.fontSize,globalDefaults.defaultFontSize),pointLabeFontStyle=getValueOrDefault(pointLabelOpts.fontStyle,globalDefaults.defaultFontStyle),pointLabeFontFamily=getValueOrDefault(pointLabelOpts.fontFamily,globalDefaults.defaultFontFamily),pointLabeFont=helpers.fontString(pointLabelFontSize,pointLabeFontStyle,pointLabeFontFamily),i=me.getValueCount()-1;i>=0;i--){if(angleLineOpts.display){var outerPosition=me.getPointPosition(i,outerDistance);ctx.beginPath(),ctx.moveTo(me.xCenter,me.yCenter),ctx.lineTo(outerPosition.x,outerPosition.y),ctx.stroke(),ctx.closePath()}var pointLabelPosition=me.getPointPosition(i,outerDistance+5),pointLabelFontColor=getValueOrDefault(pointLabelOpts.fontColor,globalDefaults.defaultFontColor);ctx.font=pointLabeFont,ctx.fillStyle=pointLabelFontColor;var pointLabels=me.pointLabels,angleRadians=this.getIndexAngle(i)+Math.PI/2,angle=360*angleRadians/(2*Math.PI)%360;0===angle||180===angle?ctx.textAlign="center":angle<180?ctx.textAlign="left":ctx.textAlign="right",90===angle||270===angle?ctx.textBaseline="middle":angle>270||angle<90?ctx.textBaseline="bottom":ctx.textBaseline="top",ctx.fillText(pointLabels[i]?pointLabels[i]:"",pointLabelPosition.x,pointLabelPosition.y)}}}}});Chart.scaleService.registerScaleType("radialLinear",LinearRadialScale,defaultConfig)}}),rqzt.define("chart.js/src/scales/scale.time",function(module,exports,__dirname,__filename,process){"use strict";var moment=rqzt("moment/moment");moment="function"==typeof moment?moment:window.moment,module.exports=function(Chart){var helpers=Chart.helpers,time={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},defaultConfig={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},TimeScale=Chart.Scale.extend({initialize:function(){if(!moment)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");Chart.Scale.prototype.initialize.call(this)},getLabelMoment:function(datasetIndex,index){return null===datasetIndex||null===index?null:"undefined"!=typeof this.labelMoments[datasetIndex]?this.labelMoments[datasetIndex][index]:null},getLabelDiff:function(datasetIndex,index){var me=this;return null===datasetIndex||null===index?null:(void 0===me.labelDiffs&&me.buildLabelDiffs(),"undefined"!=typeof me.labelDiffs[datasetIndex]?me.labelDiffs[datasetIndex][index]:null)},getMomentStartOf:function(tick){var me=this;return"week"===me.options.time.unit&&me.options.time.isoWeekday!==!1?tick.clone().startOf("isoWeek").isoWeekday(me.options.time.isoWeekday):tick.clone().startOf(me.tickUnit)},determineDataLimits:function(){var me=this;me.labelMoments=[];var scaleLabelMoments=[];me.chart.data.labels&&me.chart.data.labels.length>0?(helpers.each(me.chart.data.labels,function(label){var labelMoment=me.parseTime(label);labelMoment.isValid()&&(me.options.time.round&&labelMoment.startOf(me.options.time.round),scaleLabelMoments.push(labelMoment))},me),me.firstTick=moment.min.call(me,scaleLabelMoments),me.lastTick=moment.max.call(me,scaleLabelMoments)):(me.firstTick=null,me.lastTick=null),helpers.each(me.chart.data.datasets,function(dataset,datasetIndex){var momentsForDataset=[],datasetVisible=me.chart.isDatasetVisible(datasetIndex);"object"==typeof dataset.data[0]&&null!==dataset.data[0]?helpers.each(dataset.data,function(value){var labelMoment=me.parseTime(me.getRightValue(value));labelMoment.isValid()&&(me.options.time.round&&labelMoment.startOf(me.options.time.round),momentsForDataset.push(labelMoment),datasetVisible&&(me.firstTick=null!==me.firstTick?moment.min(me.firstTick,labelMoment):labelMoment,me.lastTick=null!==me.lastTick?moment.max(me.lastTick,labelMoment):labelMoment))},me):momentsForDataset=scaleLabelMoments,me.labelMoments.push(momentsForDataset)},me),me.options.time.min&&(me.firstTick=me.parseTime(me.options.time.min)),me.options.time.max&&(me.lastTick=me.parseTime(me.options.time.max)),me.firstTick=(me.firstTick||moment()).clone(),me.lastTick=(me.lastTick||moment()).clone()},buildLabelDiffs:function(){var me=this;me.labelDiffs=[];var scaleLabelDiffs=[];me.chart.data.labels&&me.chart.data.labels.length>0&&helpers.each(me.chart.data.labels,function(label){var labelMoment=me.parseTime(label);labelMoment.isValid()&&(me.options.time.round&&labelMoment.startOf(me.options.time.round),scaleLabelDiffs.push(labelMoment.diff(me.firstTick,me.tickUnit,!0)))},me),helpers.each(me.chart.data.datasets,function(dataset){var diffsForDataset=[];"object"==typeof dataset.data[0]&&null!==dataset.data[0]?helpers.each(dataset.data,function(value){var labelMoment=me.parseTime(me.getRightValue(value));labelMoment.isValid()&&(me.options.time.round&&labelMoment.startOf(me.options.time.round),diffsForDataset.push(labelMoment.diff(me.firstTick,me.tickUnit,!0)))},me):diffsForDataset=scaleLabelDiffs,me.labelDiffs.push(diffsForDataset)},me)},buildTicks:function(){var me=this;me.ctx.save();var tickFontSize=helpers.getValueOrDefault(me.options.ticks.fontSize,Chart.defaults.global.defaultFontSize),tickFontStyle=helpers.getValueOrDefault(me.options.ticks.fontStyle,Chart.defaults.global.defaultFontStyle),tickFontFamily=helpers.getValueOrDefault(me.options.ticks.fontFamily,Chart.defaults.global.defaultFontFamily),tickLabelFont=helpers.fontString(tickFontSize,tickFontStyle,tickFontFamily);if(me.ctx.font=tickLabelFont,me.ticks=[],me.unitScale=1,me.scaleSizeInUnits=0,me.options.time.unit)me.tickUnit=me.options.time.unit||"day",me.displayFormat=me.options.time.displayFormats[me.tickUnit],me.scaleSizeInUnits=me.lastTick.diff(me.firstTick,me.tickUnit,!0),me.unitScale=helpers.getValueOrDefault(me.options.time.unitStepSize,1);else{var innerWidth=me.isHorizontal()?me.width-(me.paddingLeft+me.paddingRight):me.height-(me.paddingTop+me.paddingBottom),tempFirstLabel=me.tickFormatFunction(me.firstTick,0,[]),tickLabelWidth=me.ctx.measureText(tempFirstLabel).width,cosRotation=Math.cos(helpers.toRadians(me.options.ticks.maxRotation)),sinRotation=Math.sin(helpers.toRadians(me.options.ticks.maxRotation));tickLabelWidth=tickLabelWidth*cosRotation+tickFontSize*sinRotation;var labelCapacity=innerWidth/tickLabelWidth;me.tickUnit=me.options.time.minUnit,me.scaleSizeInUnits=me.lastTick.diff(me.firstTick,me.tickUnit,!0),me.displayFormat=me.options.time.displayFormats[me.tickUnit];for(var unitDefinitionIndex=0,unitDefinition=time.units[unitDefinitionIndex];unitDefinitionIndex<time.units.length;){if(me.unitScale=1,helpers.isArray(unitDefinition.steps)&&Math.ceil(me.scaleSizeInUnits/labelCapacity)<helpers.max(unitDefinition.steps)){for(var idx=0;idx<unitDefinition.steps.length;++idx)if(unitDefinition.steps[idx]>=Math.ceil(me.scaleSizeInUnits/labelCapacity)){me.unitScale=helpers.getValueOrDefault(me.options.time.unitStepSize,unitDefinition.steps[idx]);break}break}if(unitDefinition.maxStep===!1||Math.ceil(me.scaleSizeInUnits/labelCapacity)<unitDefinition.maxStep){me.unitScale=helpers.getValueOrDefault(me.options.time.unitStepSize,Math.ceil(me.scaleSizeInUnits/labelCapacity));break}++unitDefinitionIndex,unitDefinition=time.units[unitDefinitionIndex],me.tickUnit=unitDefinition.name;var leadingUnitBuffer=me.firstTick.diff(me.getMomentStartOf(me.firstTick),me.tickUnit,!0),trailingUnitBuffer=me.getMomentStartOf(me.lastTick.clone().add(1,me.tickUnit)).diff(me.lastTick,me.tickUnit,!0);me.scaleSizeInUnits=me.lastTick.diff(me.firstTick,me.tickUnit,!0)+leadingUnitBuffer+trailingUnitBuffer,me.displayFormat=me.options.time.displayFormats[unitDefinition.name]}}var roundedStart;if(me.options.time.min?roundedStart=me.getMomentStartOf(me.firstTick):(me.firstTick=me.getMomentStartOf(me.firstTick),roundedStart=me.firstTick),!me.options.time.max){var roundedEnd=me.getMomentStartOf(me.lastTick),delta=roundedEnd.diff(me.lastTick,me.tickUnit,!0);delta<0?me.lastTick=me.getMomentStartOf(me.lastTick.add(1,me.tickUnit)):delta>=0&&(me.lastTick=roundedEnd),me.scaleSizeInUnits=me.lastTick.diff(me.firstTick,me.tickUnit,!0)}me.options.time.displayFormat&&(me.displayFormat=me.options.time.displayFormat),me.ticks.push(me.firstTick.clone());for(var i=1;i<=me.scaleSizeInUnits;++i){var newTick=roundedStart.clone().add(i,me.tickUnit);if(me.options.time.max&&newTick.diff(me.lastTick,me.tickUnit,!0)>=0)break;i%me.unitScale===0&&me.ticks.push(newTick)}var diff=me.ticks[me.ticks.length-1].diff(me.lastTick,me.tickUnit);0===diff&&0!==me.scaleSizeInUnits||(me.options.time.max?(me.ticks.push(me.lastTick.clone()),me.scaleSizeInUnits=me.lastTick.diff(me.ticks[0],me.tickUnit,!0)):(me.ticks.push(me.lastTick.clone()),me.scaleSizeInUnits=me.lastTick.diff(me.firstTick,me.tickUnit,!0))),me.ctx.restore(),me.labelDiffs=void 0},getLabelForIndex:function(index,datasetIndex){var me=this,label=me.chart.data.labels&&index<me.chart.data.labels.length?me.chart.data.labels[index]:"";return"object"==typeof me.chart.data.datasets[datasetIndex].data[0]&&(label=me.getRightValue(me.chart.data.datasets[datasetIndex].data[index])),me.options.time.tooltipFormat&&(label=me.parseTime(label).format(me.options.time.tooltipFormat)),label},tickFormatFunction:function(tick,index,ticks){var formattedTick=tick.format(this.displayFormat),tickOpts=this.options.ticks,callback=helpers.getValueOrDefault(tickOpts.callback,tickOpts.userCallback);return callback?callback(formattedTick,index,ticks):formattedTick},convertTicksToLabels:function(){var me=this;me.tickMoments=me.ticks,me.ticks=me.ticks.map(me.tickFormatFunction,me)},getPixelForValue:function(value,index,datasetIndex){var me=this,offset=null;if(void 0!==index&&void 0!==datasetIndex&&(offset=me.getLabelDiff(datasetIndex,index)),null===offset&&(value&&value.isValid||(value=me.parseTime(me.getRightValue(value))),value&&value.isValid&&value.isValid()&&(offset=value.diff(me.firstTick,me.tickUnit,!0))),null!==offset){var decimal=0!==offset?offset/me.scaleSizeInUnits:offset;if(me.isHorizontal()){var innerWidth=me.width-(me.paddingLeft+me.paddingRight),valueOffset=innerWidth*decimal+me.paddingLeft;return me.left+Math.round(valueOffset)}var innerHeight=me.height-(me.paddingTop+me.paddingBottom),heightOffset=innerHeight*decimal+me.paddingTop;return me.top+Math.round(heightOffset)}},getPixelForTick:function(index){return this.getPixelForValue(this.tickMoments[index],null,null)},getValueForPixel:function(pixel){var me=this,innerDimension=me.isHorizontal()?me.width-(me.paddingLeft+me.paddingRight):me.height-(me.paddingTop+me.paddingBottom),offset=(pixel-(me.isHorizontal()?me.left+me.paddingLeft:me.top+me.paddingTop))/innerDimension;return offset*=me.scaleSizeInUnits,me.firstTick.clone().add(moment.duration(offset,me.tickUnit).asSeconds(),"seconds")},parseTime:function(label){var me=this;return"string"==typeof me.options.time.parser?moment(label,me.options.time.parser):"function"==typeof me.options.time.parser?me.options.time.parser(label):"function"==typeof label.getMonth||"number"==typeof label?moment(label):label.isValid&&label.isValid()?label:"string"!=typeof me.options.time.format&&me.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),me.options.time.format(label)):moment(label,me.options.time.format)}});Chart.scaleService.registerScaleType("time",TimeScale,defaultConfig)}}),rqzt.define("chart.js/src/controllers/controller.bar",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},Chart.controllers.bar=Chart.DatasetController.extend({dataElementType:Chart.elements.Rectangle,initialize:function(chart,datasetIndex){Chart.DatasetController.prototype.initialize.call(this,chart,datasetIndex),this.getMeta().bar=!0},getBarCount:function(){var me=this,barCount=0;return helpers.each(me.chart.data.datasets,function(dataset,datasetIndex){var meta=me.chart.getDatasetMeta(datasetIndex);meta.bar&&me.chart.isDatasetVisible(datasetIndex)&&++barCount},me),barCount},update:function(reset){var me=this;helpers.each(me.getMeta().data,function(rectangle,index){me.updateElement(rectangle,index,reset)},me)},updateElement:function(rectangle,index,reset){var me=this,meta=me.getMeta(),xScale=me.getScaleForId(meta.xAxisID),yScale=me.getScaleForId(meta.yAxisID),scaleBase=yScale.getBasePixel(),rectangleElementOptions=me.chart.options.elements.rectangle,custom=rectangle.custom||{},dataset=me.getDataset();rectangle._xScale=xScale,rectangle._yScale=yScale,rectangle._datasetIndex=me.index,rectangle._index=index;var ruler=me.getRuler(index);rectangle._model={x:me.calculateBarX(index,me.index,ruler),y:reset?scaleBase:me.calculateBarY(index,me.index),label:me.chart.data.labels[index],datasetLabel:dataset.label,base:reset?scaleBase:me.calculateBarBase(me.index,index),width:me.calculateBarWidth(ruler),backgroundColor:custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.backgroundColor,index,rectangleElementOptions.backgroundColor),borderSkipped:custom.borderSkipped?custom.borderSkipped:rectangleElementOptions.borderSkipped,borderColor:custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.borderColor,index,rectangleElementOptions.borderColor),borderWidth:custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.borderWidth,index,rectangleElementOptions.borderWidth)},rectangle.pivot()},calculateBarBase:function(datasetIndex,index){var me=this,meta=me.getMeta(),yScale=me.getScaleForId(meta.yAxisID),base=0;if(yScale.options.stacked){for(var chart=me.chart,datasets=chart.data.datasets,value=Number(datasets[datasetIndex].data[index]),i=0;i<datasetIndex;i++){var currentDs=datasets[i],currentDsMeta=chart.getDatasetMeta(i);if(currentDsMeta.bar&&currentDsMeta.yAxisID===yScale.id&&chart.isDatasetVisible(i)){var currentVal=Number(currentDs.data[index]);base+=value<0?Math.min(currentVal,0):Math.max(currentVal,0)}}return yScale.getPixelForValue(base)}return yScale.getBasePixel()},getRuler:function(index){var tickWidth,me=this,meta=me.getMeta(),xScale=me.getScaleForId(meta.xAxisID),datasetCount=me.getBarCount();tickWidth="category"===xScale.options.type?xScale.getPixelForTick(index+1)-xScale.getPixelForTick(index):xScale.width/xScale.ticks.length;var categoryWidth=tickWidth*xScale.options.categoryPercentage,categorySpacing=(tickWidth-tickWidth*xScale.options.categoryPercentage)/2,fullBarWidth=categoryWidth/datasetCount;if(xScale.ticks.length!==me.chart.data.labels.length){var perc=xScale.ticks.length/me.chart.data.labels.length;fullBarWidth*=perc}var barWidth=fullBarWidth*xScale.options.barPercentage,barSpacing=fullBarWidth-fullBarWidth*xScale.options.barPercentage;return{datasetCount:datasetCount,tickWidth:tickWidth,categoryWidth:categoryWidth,categorySpacing:categorySpacing,fullBarWidth:fullBarWidth,barWidth:barWidth,barSpacing:barSpacing}},calculateBarWidth:function(ruler){var xScale=this.getScaleForId(this.getMeta().xAxisID);return xScale.options.barThickness?xScale.options.barThickness:xScale.options.stacked?ruler.categoryWidth:ruler.barWidth},getBarIndex:function(datasetIndex){var meta,j,barIndex=0;for(j=0;j<datasetIndex;++j)meta=this.chart.getDatasetMeta(j),meta.bar&&this.chart.isDatasetVisible(j)&&++barIndex;return barIndex},calculateBarX:function(index,datasetIndex,ruler){var me=this,meta=me.getMeta(),xScale=me.getScaleForId(meta.xAxisID),barIndex=me.getBarIndex(datasetIndex),leftTick=xScale.getPixelForValue(null,index,datasetIndex,me.chart.isCombo);return leftTick-=me.chart.isCombo?ruler.tickWidth/2:0,xScale.options.stacked?leftTick+ruler.categoryWidth/2+ruler.categorySpacing:leftTick+ruler.barWidth/2+ruler.categorySpacing+ruler.barWidth*barIndex+ruler.barSpacing/2+ruler.barSpacing*barIndex},calculateBarY:function(index,datasetIndex){var me=this,meta=me.getMeta(),yScale=me.getScaleForId(meta.yAxisID),value=Number(me.getDataset().data[index]);if(yScale.options.stacked){for(var sumPos=0,sumNeg=0,i=0;i<datasetIndex;i++){var ds=me.chart.data.datasets[i],dsMeta=me.chart.getDatasetMeta(i);if(dsMeta.bar&&dsMeta.yAxisID===yScale.id&&me.chart.isDatasetVisible(i)){var stackedVal=Number(ds.data[index]);stackedVal<0?sumNeg+=stackedVal||0:sumPos+=stackedVal||0}}return value<0?yScale.getPixelForValue(sumNeg+value):yScale.getPixelForValue(sumPos+value)}return yScale.getPixelForValue(value)},draw:function(ease){var i,len,me=this,easingDecimal=ease||1,metaData=me.getMeta().data,dataset=me.getDataset();for(i=0,len=metaData.length;i<len;++i){var d=dataset.data[i];null===d||void 0===d||isNaN(d)||metaData[i].transition(easingDecimal).draw()}},setHoverStyle:function(rectangle){var dataset=this.chart.data.datasets[rectangle._datasetIndex],index=rectangle._index,custom=rectangle.custom||{},model=rectangle._model;model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:helpers.getValueAtIndexOrDefault(dataset.hoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor)),model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:helpers.getValueAtIndexOrDefault(dataset.hoverBorderColor,index,helpers.getHoverColor(model.borderColor)),model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:helpers.getValueAtIndexOrDefault(dataset.hoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(rectangle){var dataset=this.chart.data.datasets[rectangle._datasetIndex],index=rectangle._index,custom=rectangle.custom||{},model=rectangle._model,rectangleElementOptions=this.chart.options.elements.rectangle;model.backgroundColor=custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.backgroundColor,index,rectangleElementOptions.backgroundColor),model.borderColor=custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.borderColor,index,rectangleElementOptions.borderColor),model.borderWidth=custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.borderWidth,index,rectangleElementOptions.borderWidth)}}),Chart.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(tooltipItems,data){var title="";return tooltipItems.length>0&&(tooltipItems[0].yLabel?title=tooltipItems[0].yLabel:data.labels.length>0&&tooltipItems[0].index<data.labels.length&&(title=data.labels[tooltipItems[0].index])),title},label:function(tooltipItem,data){var datasetLabel=data.datasets[tooltipItem.datasetIndex].label||"";return datasetLabel+": "+tooltipItem.xLabel}}}},Chart.controllers.horizontalBar=Chart.controllers.bar.extend({updateElement:function(rectangle,index,reset){var me=this,meta=me.getMeta(),xScale=me.getScaleForId(meta.xAxisID),yScale=me.getScaleForId(meta.yAxisID),scaleBase=xScale.getBasePixel(),custom=rectangle.custom||{},dataset=me.getDataset(),rectangleElementOptions=me.chart.options.elements.rectangle;rectangle._xScale=xScale,rectangle._yScale=yScale,rectangle._datasetIndex=me.index,rectangle._index=index;var ruler=me.getRuler(index);rectangle._model={x:reset?scaleBase:me.calculateBarX(index,me.index),y:me.calculateBarY(index,me.index,ruler),label:me.chart.data.labels[index],datasetLabel:dataset.label,base:reset?scaleBase:me.calculateBarBase(me.index,index),height:me.calculateBarHeight(ruler),backgroundColor:custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.backgroundColor,index,rectangleElementOptions.backgroundColor),borderSkipped:custom.borderSkipped?custom.borderSkipped:rectangleElementOptions.borderSkipped,borderColor:custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.borderColor,index,rectangleElementOptions.borderColor),borderWidth:custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.borderWidth,index,rectangleElementOptions.borderWidth)
},rectangle.draw=function(){function cornerAt(cornerIndex){return corners[(startCorner+cornerIndex)%4]}var ctx=this._chart.ctx,vm=this._view,halfHeight=vm.height/2,topY=vm.y-halfHeight,bottomY=vm.y+halfHeight,right=vm.base-(vm.base-vm.x),halfStroke=vm.borderWidth/2;vm.borderWidth&&(topY+=halfStroke,bottomY-=halfStroke,right+=halfStroke),ctx.beginPath(),ctx.fillStyle=vm.backgroundColor,ctx.strokeStyle=vm.borderColor,ctx.lineWidth=vm.borderWidth;var corners=[[vm.base,bottomY],[vm.base,topY],[right,topY],[right,bottomY]],borders=["bottom","left","top","right"],startCorner=borders.indexOf(vm.borderSkipped,0);startCorner===-1&&(startCorner=0),ctx.moveTo.apply(ctx,cornerAt(0));for(var i=1;i<4;i++)ctx.lineTo.apply(ctx,cornerAt(i));ctx.fill(),vm.borderWidth&&ctx.stroke()},rectangle.pivot()},calculateBarBase:function(datasetIndex,index){var me=this,meta=me.getMeta(),xScale=me.getScaleForId(meta.xAxisID),base=0;if(xScale.options.stacked){for(var chart=me.chart,datasets=chart.data.datasets,value=Number(datasets[datasetIndex].data[index]),i=0;i<datasetIndex;i++){var currentDs=datasets[i],currentDsMeta=chart.getDatasetMeta(i);if(currentDsMeta.bar&&currentDsMeta.xAxisID===xScale.id&&chart.isDatasetVisible(i)){var currentVal=Number(currentDs.data[index]);base+=value<0?Math.min(currentVal,0):Math.max(currentVal,0)}}return xScale.getPixelForValue(base)}return xScale.getBasePixel()},getRuler:function(index){var tickHeight,me=this,meta=me.getMeta(),yScale=me.getScaleForId(meta.yAxisID),datasetCount=me.getBarCount();tickHeight="category"===yScale.options.type?yScale.getPixelForTick(index+1)-yScale.getPixelForTick(index):yScale.width/yScale.ticks.length;var categoryHeight=tickHeight*yScale.options.categoryPercentage,categorySpacing=(tickHeight-tickHeight*yScale.options.categoryPercentage)/2,fullBarHeight=categoryHeight/datasetCount;if(yScale.ticks.length!==me.chart.data.labels.length){var perc=yScale.ticks.length/me.chart.data.labels.length;fullBarHeight*=perc}var barHeight=fullBarHeight*yScale.options.barPercentage,barSpacing=fullBarHeight-fullBarHeight*yScale.options.barPercentage;return{datasetCount:datasetCount,tickHeight:tickHeight,categoryHeight:categoryHeight,categorySpacing:categorySpacing,fullBarHeight:fullBarHeight,barHeight:barHeight,barSpacing:barSpacing}},calculateBarHeight:function(ruler){var me=this,yScale=me.getScaleForId(me.getMeta().yAxisID);return yScale.options.barThickness?yScale.options.barThickness:yScale.options.stacked?ruler.categoryHeight:ruler.barHeight},calculateBarX:function(index,datasetIndex){var me=this,meta=me.getMeta(),xScale=me.getScaleForId(meta.xAxisID),value=Number(me.getDataset().data[index]);if(xScale.options.stacked){for(var sumPos=0,sumNeg=0,i=0;i<datasetIndex;i++){var ds=me.chart.data.datasets[i],dsMeta=me.chart.getDatasetMeta(i);if(dsMeta.bar&&dsMeta.xAxisID===xScale.id&&me.chart.isDatasetVisible(i)){var stackedVal=Number(ds.data[index]);stackedVal<0?sumNeg+=stackedVal||0:sumPos+=stackedVal||0}}return value<0?xScale.getPixelForValue(sumNeg+value):xScale.getPixelForValue(sumPos+value)}return xScale.getPixelForValue(value)},calculateBarY:function(index,datasetIndex,ruler){var me=this,meta=me.getMeta(),yScale=me.getScaleForId(meta.yAxisID),barIndex=me.getBarIndex(datasetIndex),topTick=yScale.getPixelForValue(null,index,datasetIndex,me.chart.isCombo);return topTick-=me.chart.isCombo?ruler.tickHeight/2:0,yScale.options.stacked?topTick+ruler.categoryHeight/2+ruler.categorySpacing:topTick+ruler.barHeight/2+ruler.categorySpacing+ruler.barHeight*barIndex+ruler.barSpacing/2+ruler.barSpacing*barIndex}})}}),rqzt.define("chart.js/src/controllers/controller.bubble",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem,data){var datasetLabel=data.datasets[tooltipItem.datasetIndex].label||"",dataPoint=data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];return datasetLabel+": ("+tooltipItem.xLabel+", "+tooltipItem.yLabel+", "+dataPoint.r+")"}}}},Chart.controllers.bubble=Chart.DatasetController.extend({dataElementType:Chart.elements.Point,update:function(reset){var me=this,meta=me.getMeta(),points=meta.data;helpers.each(points,function(point,index){me.updateElement(point,index,reset)})},updateElement:function(point,index,reset){var me=this,meta=me.getMeta(),xScale=me.getScaleForId(meta.xAxisID),yScale=me.getScaleForId(meta.yAxisID),custom=point.custom||{},dataset=me.getDataset(),data=dataset.data[index],pointElementOptions=me.chart.options.elements.point,dsIndex=me.index;helpers.extend(point,{_xScale:xScale,_yScale:yScale,_datasetIndex:dsIndex,_index:index,_model:{x:reset?xScale.getPixelForDecimal(.5):xScale.getPixelForValue("object"==typeof data?data:NaN,index,dsIndex,me.chart.isCombo),y:reset?yScale.getBasePixel():yScale.getPixelForValue(data,index,dsIndex),radius:reset?0:custom.radius?custom.radius:me.getRadius(data),hitRadius:custom.hitRadius?custom.hitRadius:helpers.getValueAtIndexOrDefault(dataset.hitRadius,index,pointElementOptions.hitRadius)}}),Chart.DatasetController.prototype.removeHoverStyle.call(me,point,pointElementOptions);var model=point._model;model.skip=custom.skip?custom.skip:isNaN(model.x)||isNaN(model.y),point.pivot()},getRadius:function(value){return value.r||this.chart.options.elements.point.radius},setHoverStyle:function(point){var me=this;Chart.DatasetController.prototype.setHoverStyle.call(me,point);var dataset=me.chart.data.datasets[point._datasetIndex],index=point._index,custom=point.custom||{},model=point._model;model.radius=custom.hoverRadius?custom.hoverRadius:helpers.getValueAtIndexOrDefault(dataset.hoverRadius,index,me.chart.options.elements.point.hoverRadius)+me.getRadius(dataset.data[index])},removeHoverStyle:function(point){var me=this;Chart.DatasetController.prototype.removeHoverStyle.call(me,point,me.chart.options.elements.point);var dataVal=me.chart.data.datasets[point._datasetIndex].data[point._index],custom=point.custom||{},model=point._model;model.radius=custom.radius?custom.radius:me.getRadius(dataVal)}})}}),rqzt.define("chart.js/src/controllers/controller.doughnut",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers,defaults=Chart.defaults;defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');var data=chart.data,datasets=data.datasets,labels=data.labels;if(datasets.length)for(var i=0;i<datasets[0].data.length;++i)text.push('<li><span style="background-color:'+datasets[0].backgroundColor[i]+'"></span>'),labels[i]&&text.push(labels[i]),text.push("</li>");return text.push("</ul>"),text.join("")},legend:{labels:{generateLabels:function(chart){var data=chart.data;return data.labels.length&&data.datasets.length?data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0),ds=data.datasets[0],arc=meta.data[i],custom=arc&&arc.custom||{},getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault,arcOpts=chart.options.elements.arc,fill=custom.backgroundColor?custom.backgroundColor:getValueAtIndexOrDefault(ds.backgroundColor,i,arcOpts.backgroundColor),stroke=custom.borderColor?custom.borderColor:getValueAtIndexOrDefault(ds.borderColor,i,arcOpts.borderColor),bw=custom.borderWidth?custom.borderWidth:getValueAtIndexOrDefault(ds.borderWidth,i,arcOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i}}):[]}},onClick:function(e,legendItem){var i,ilen,meta,index=legendItem.index,chart=this.chart;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i)meta=chart.getDatasetMeta(i),meta.data[index]&&(meta.data[index].hidden=!meta.data[index].hidden);chart.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem,data){var dataLabel=data.labels[tooltipItem.index],value=": "+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];return helpers.isArray(dataLabel)?(dataLabel=dataLabel.slice(),dataLabel[0]+=value):dataLabel+=value,dataLabel}}}},defaults.pie=helpers.clone(defaults.doughnut),helpers.extend(defaults.pie,{cutoutPercentage:0}),Chart.controllers.doughnut=Chart.controllers.pie=Chart.DatasetController.extend({dataElementType:Chart.elements.Arc,linkScales:helpers.noop,getRingIndex:function(datasetIndex){for(var ringIndex=0,j=0;j<datasetIndex;++j)this.chart.isDatasetVisible(j)&&++ringIndex;return ringIndex},update:function(reset){var me=this,chart=me.chart,chartArea=chart.chartArea,opts=chart.options,arcOpts=opts.elements.arc,availableWidth=chartArea.right-chartArea.left-arcOpts.borderWidth,availableHeight=chartArea.bottom-chartArea.top-arcOpts.borderWidth,minSize=Math.min(availableWidth,availableHeight),offset={x:0,y:0},meta=me.getMeta(),cutoutPercentage=opts.cutoutPercentage,circumference=opts.circumference;if(circumference<2*Math.PI){var startAngle=opts.rotation%(2*Math.PI);startAngle+=2*Math.PI*(startAngle>=Math.PI?-1:startAngle<-Math.PI?1:0);var endAngle=startAngle+circumference,start={x:Math.cos(startAngle),y:Math.sin(startAngle)},end={x:Math.cos(endAngle),y:Math.sin(endAngle)},contains0=startAngle<=0&&0<=endAngle||startAngle<=2*Math.PI&&2*Math.PI<=endAngle,contains90=startAngle<=.5*Math.PI&&.5*Math.PI<=endAngle||startAngle<=2.5*Math.PI&&2.5*Math.PI<=endAngle,contains180=startAngle<=-Math.PI&&-Math.PI<=endAngle||startAngle<=Math.PI&&Math.PI<=endAngle,contains270=startAngle<=.5*-Math.PI&&.5*-Math.PI<=endAngle||startAngle<=1.5*Math.PI&&1.5*Math.PI<=endAngle,cutout=cutoutPercentage/100,min={x:contains180?-1:Math.min(start.x*(start.x<0?1:cutout),end.x*(end.x<0?1:cutout)),y:contains270?-1:Math.min(start.y*(start.y<0?1:cutout),end.y*(end.y<0?1:cutout))},max={x:contains0?1:Math.max(start.x*(start.x>0?1:cutout),end.x*(end.x>0?1:cutout)),y:contains90?1:Math.max(start.y*(start.y>0?1:cutout),end.y*(end.y>0?1:cutout))},size={width:.5*(max.x-min.x),height:.5*(max.y-min.y)};minSize=Math.min(availableWidth/size.width,availableHeight/size.height),offset={x:(max.x+min.x)*-.5,y:(max.y+min.y)*-.5}}chart.borderWidth=me.getMaxBorderWidth(meta.data),chart.outerRadius=Math.max((minSize-chart.borderWidth)/2,0),chart.innerRadius=Math.max(cutoutPercentage?chart.outerRadius/100*cutoutPercentage:1,0),chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount(),chart.offsetX=offset.x*chart.outerRadius,chart.offsetY=offset.y*chart.outerRadius,meta.total=me.calculateTotal(),me.outerRadius=chart.outerRadius-chart.radiusLength*me.getRingIndex(me.index),me.innerRadius=me.outerRadius-chart.radiusLength,helpers.each(meta.data,function(arc,index){me.updateElement(arc,index,reset)})},updateElement:function(arc,index,reset){var me=this,chart=me.chart,chartArea=chart.chartArea,opts=chart.options,animationOpts=opts.animation,centerX=(chartArea.left+chartArea.right)/2,centerY=(chartArea.top+chartArea.bottom)/2,startAngle=opts.rotation,endAngle=opts.rotation,dataset=me.getDataset(),circumference=reset&&animationOpts.animateRotate?0:arc.hidden?0:me.calculateCircumference(dataset.data[index])*(opts.circumference/(2*Math.PI)),innerRadius=reset&&animationOpts.animateScale?0:me.innerRadius,outerRadius=reset&&animationOpts.animateScale?0:me.outerRadius,valueAtIndexOrDefault=helpers.getValueAtIndexOrDefault;helpers.extend(arc,{_datasetIndex:me.index,_index:index,_model:{x:centerX+chart.offsetX,y:centerY+chart.offsetY,startAngle:startAngle,endAngle:endAngle,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius,label:valueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])}});var model=arc._model;this.removeHoverStyle(arc),reset&&animationOpts.animateRotate||(0===index?model.startAngle=opts.rotation:model.startAngle=me.getMeta().data[index-1]._model.endAngle,model.endAngle=model.startAngle+model.circumference),arc.pivot()},removeHoverStyle:function(arc){Chart.DatasetController.prototype.removeHoverStyle.call(this,arc,this.chart.options.elements.arc)},calculateTotal:function(){var value,dataset=this.getDataset(),meta=this.getMeta(),total=0;return helpers.each(meta.data,function(element,index){value=dataset.data[index],isNaN(value)||element.hidden||(total+=Math.abs(value))}),total},calculateCircumference:function(value){var total=this.getMeta().total;return total>0&&!isNaN(value)?2*Math.PI*(value/total):0},getMaxBorderWidth:function(elements){for(var borderWidth,hoverWidth,max=0,index=this.index,length=elements.length,i=0;i<length;i++)borderWidth=elements[i]._model?elements[i]._model.borderWidth:0,hoverWidth=elements[i]._chart?elements[i]._chart.config.data.datasets[index].hoverBorderWidth:0,max=borderWidth>max?borderWidth:max,max=hoverWidth>max?hoverWidth:max;return max}})}}),rqzt.define("chart.js/src/controllers/controller.line",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){function lineEnabled(dataset,options){return helpers.getValueOrDefault(dataset.showLine,options.showLines)}var helpers=Chart.helpers;Chart.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},Chart.controllers.line=Chart.DatasetController.extend({datasetElementType:Chart.elements.Line,dataElementType:Chart.elements.Point,update:function(reset){var i,ilen,custom,me=this,meta=me.getMeta(),line=meta.dataset,points=meta.data||[],options=me.chart.options,lineElementOptions=options.elements.line,scale=me.getScaleForId(meta.yAxisID),dataset=me.getDataset(),showLine=lineEnabled(dataset,options);for(showLine&&(custom=line.custom||{},void 0!==dataset.tension&&void 0===dataset.lineTension&&(dataset.lineTension=dataset.tension),line._scale=scale,line._datasetIndex=me.index,line._children=points,line._model={spanGaps:dataset.spanGaps?dataset.spanGaps:options.spanGaps,tension:custom.tension?custom.tension:helpers.getValueOrDefault(dataset.lineTension,lineElementOptions.tension),backgroundColor:custom.backgroundColor?custom.backgroundColor:dataset.backgroundColor||lineElementOptions.backgroundColor,borderWidth:custom.borderWidth?custom.borderWidth:dataset.borderWidth||lineElementOptions.borderWidth,borderColor:custom.borderColor?custom.borderColor:dataset.borderColor||lineElementOptions.borderColor,borderCapStyle:custom.borderCapStyle?custom.borderCapStyle:dataset.borderCapStyle||lineElementOptions.borderCapStyle,borderDash:custom.borderDash?custom.borderDash:dataset.borderDash||lineElementOptions.borderDash,borderDashOffset:custom.borderDashOffset?custom.borderDashOffset:dataset.borderDashOffset||lineElementOptions.borderDashOffset,borderJoinStyle:custom.borderJoinStyle?custom.borderJoinStyle:dataset.borderJoinStyle||lineElementOptions.borderJoinStyle,fill:custom.fill?custom.fill:void 0!==dataset.fill?dataset.fill:lineElementOptions.fill,steppedLine:custom.steppedLine?custom.steppedLine:helpers.getValueOrDefault(dataset.steppedLine,lineElementOptions.stepped),cubicInterpolationMode:custom.cubicInterpolationMode?custom.cubicInterpolationMode:helpers.getValueOrDefault(dataset.cubicInterpolationMode,lineElementOptions.cubicInterpolationMode),scaleTop:scale.top,scaleBottom:scale.bottom,scaleZero:scale.getBasePixel()},line.pivot()),i=0,ilen=points.length;i<ilen;++i)me.updateElement(points[i],i,reset);for(showLine&&0!==line._model.tension&&me.updateBezierControlPoints(),i=0,ilen=points.length;i<ilen;++i)points[i].pivot()},getPointBackgroundColor:function(point,index){var backgroundColor=this.chart.options.elements.point.backgroundColor,dataset=this.getDataset(),custom=point.custom||{};return custom.backgroundColor?backgroundColor=custom.backgroundColor:dataset.pointBackgroundColor?backgroundColor=helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor,index,backgroundColor):dataset.backgroundColor&&(backgroundColor=dataset.backgroundColor),backgroundColor},getPointBorderColor:function(point,index){var borderColor=this.chart.options.elements.point.borderColor,dataset=this.getDataset(),custom=point.custom||{};return custom.borderColor?borderColor=custom.borderColor:dataset.pointBorderColor?borderColor=helpers.getValueAtIndexOrDefault(dataset.pointBorderColor,index,borderColor):dataset.borderColor&&(borderColor=dataset.borderColor),borderColor},getPointBorderWidth:function(point,index){var borderWidth=this.chart.options.elements.point.borderWidth,dataset=this.getDataset(),custom=point.custom||{};return custom.borderWidth?borderWidth=custom.borderWidth:dataset.pointBorderWidth?borderWidth=helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth,index,borderWidth):dataset.borderWidth&&(borderWidth=dataset.borderWidth),borderWidth},updateElement:function(point,index,reset){var x,y,me=this,meta=me.getMeta(),custom=point.custom||{},dataset=me.getDataset(),datasetIndex=me.index,value=dataset.data[index],yScale=me.getScaleForId(meta.yAxisID),xScale=me.getScaleForId(meta.xAxisID),pointOptions=me.chart.options.elements.point,labels=me.chart.data.labels||[],includeOffset=1===labels.length||1===dataset.data.length||me.chart.isCombo;void 0!==dataset.radius&&void 0===dataset.pointRadius&&(dataset.pointRadius=dataset.radius),void 0!==dataset.hitRadius&&void 0===dataset.pointHitRadius&&(dataset.pointHitRadius=dataset.hitRadius),x=xScale.getPixelForValue("object"==typeof value?value:NaN,index,datasetIndex,includeOffset),y=reset?yScale.getBasePixel():me.calculatePointY(value,index,datasetIndex),point._xScale=xScale,point._yScale=yScale,point._datasetIndex=datasetIndex,point._index=index,point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:custom.radius||helpers.getValueAtIndexOrDefault(dataset.pointRadius,index,pointOptions.radius),pointStyle:custom.pointStyle||helpers.getValueAtIndexOrDefault(dataset.pointStyle,index,pointOptions.pointStyle),backgroundColor:me.getPointBackgroundColor(point,index),borderColor:me.getPointBorderColor(point,index),borderWidth:me.getPointBorderWidth(point,index),tension:meta.dataset._model?meta.dataset._model.tension:0,steppedLine:!!meta.dataset._model&&meta.dataset._model.steppedLine,hitRadius:custom.hitRadius||helpers.getValueAtIndexOrDefault(dataset.pointHitRadius,index,pointOptions.hitRadius)}},calculatePointY:function(value,index,datasetIndex){var i,ds,dsMeta,me=this,chart=me.chart,meta=me.getMeta(),yScale=me.getScaleForId(meta.yAxisID),sumPos=0,sumNeg=0;if(yScale.options.stacked){for(i=0;i<datasetIndex;i++)if(ds=chart.data.datasets[i],dsMeta=chart.getDatasetMeta(i),"line"===dsMeta.type&&dsMeta.yAxisID===yScale.id&&chart.isDatasetVisible(i)){var stackedRightValue=Number(yScale.getRightValue(ds.data[index]));stackedRightValue<0?sumNeg+=stackedRightValue||0:sumPos+=stackedRightValue||0}var rightValue=Number(yScale.getRightValue(value));return rightValue<0?yScale.getPixelForValue(sumNeg+rightValue):yScale.getPixelForValue(sumPos+rightValue)}return yScale.getPixelForValue(value)},updateBezierControlPoints:function(){function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min)}var i,ilen,point,model,controlPoints,me=this,meta=me.getMeta(),area=me.chart.chartArea,points=meta.data||[];if(meta.dataset._model.spanGaps&&(points=points.filter(function(pt){return!pt._model.skip})),"monotone"===meta.dataset._model.cubicInterpolationMode)helpers.splineCurveMonotone(points);else for(i=0,ilen=points.length;i<ilen;++i)point=points[i],model=point._model,controlPoints=helpers.splineCurve(helpers.previousItem(points,i)._model,model,helpers.nextItem(points,i)._model,meta.dataset._model.tension),model.controlPointPreviousX=controlPoints.previous.x,model.controlPointPreviousY=controlPoints.previous.y,model.controlPointNextX=controlPoints.next.x,model.controlPointNextY=controlPoints.next.y;if(me.chart.options.elements.line.capBezierPoints)for(i=0,ilen=points.length;i<ilen;++i)model=points[i]._model,model.controlPointPreviousX=capControlPoint(model.controlPointPreviousX,area.left,area.right),model.controlPointPreviousY=capControlPoint(model.controlPointPreviousY,area.top,area.bottom),model.controlPointNextX=capControlPoint(model.controlPointNextX,area.left,area.right),model.controlPointNextY=capControlPoint(model.controlPointNextY,area.top,area.bottom)},draw:function(ease){var i,ilen,me=this,meta=me.getMeta(),points=meta.data||[],easingDecimal=ease||1;for(i=0,ilen=points.length;i<ilen;++i)points[i].transition(easingDecimal);for(lineEnabled(me.getDataset(),me.chart.options)&&meta.dataset.transition(easingDecimal).draw(),i=0,ilen=points.length;i<ilen;++i)points[i].draw()},setHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex],index=point._index,custom=point.custom||{},model=point._model;model.radius=custom.hoverRadius||helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius,index,this.chart.options.elements.point.hoverRadius),model.backgroundColor=custom.hoverBackgroundColor||helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor)),model.borderColor=custom.hoverBorderColor||helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor,index,helpers.getHoverColor(model.borderColor)),model.borderWidth=custom.hoverBorderWidth||helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(point){var me=this,dataset=me.chart.data.datasets[point._datasetIndex],index=point._index,custom=point.custom||{},model=point._model;void 0!==dataset.radius&&void 0===dataset.pointRadius&&(dataset.pointRadius=dataset.radius),model.radius=custom.radius||helpers.getValueAtIndexOrDefault(dataset.pointRadius,index,me.chart.options.elements.point.radius),model.backgroundColor=me.getPointBackgroundColor(point,index),model.borderColor=me.getPointBorderColor(point,index),model.borderWidth=me.getPointBorderWidth(point,index)}})}}),rqzt.define("chart.js/src/controllers/controller.polarArea",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');var data=chart.data,datasets=data.datasets,labels=data.labels;if(datasets.length)for(var i=0;i<datasets[0].data.length;++i)text.push('<li><span style="background-color:'+datasets[0].backgroundColor[i]+'"></span>'),labels[i]&&text.push(labels[i]),text.push("</li>");return text.push("</ul>"),text.join("")},legend:{labels:{generateLabels:function(chart){var data=chart.data;return data.labels.length&&data.datasets.length?data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0),ds=data.datasets[0],arc=meta.data[i],custom=arc.custom||{},getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault,arcOpts=chart.options.elements.arc,fill=custom.backgroundColor?custom.backgroundColor:getValueAtIndexOrDefault(ds.backgroundColor,i,arcOpts.backgroundColor),stroke=custom.borderColor?custom.borderColor:getValueAtIndexOrDefault(ds.borderColor,i,arcOpts.borderColor),bw=custom.borderWidth?custom.borderWidth:getValueAtIndexOrDefault(ds.borderWidth,i,arcOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i}}):[]}},onClick:function(e,legendItem){var i,ilen,meta,index=legendItem.index,chart=this.chart;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i)meta=chart.getDatasetMeta(i),meta.data[index].hidden=!meta.data[index].hidden;chart.update()}},tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem,data){return data.labels[tooltipItem.index]+": "+tooltipItem.yLabel}}}},Chart.controllers.polarArea=Chart.DatasetController.extend({dataElementType:Chart.elements.Arc,linkScales:helpers.noop,update:function(reset){var me=this,chart=me.chart,chartArea=chart.chartArea,meta=me.getMeta(),opts=chart.options,arcOpts=opts.elements.arc,minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);chart.outerRadius=Math.max((minSize-arcOpts.borderWidth/2)/2,0),chart.innerRadius=Math.max(opts.cutoutPercentage?chart.outerRadius/100*opts.cutoutPercentage:1,0),chart.radiusLength=(chart.outerRadius-chart.innerRadius)/chart.getVisibleDatasetCount(),me.outerRadius=chart.outerRadius-chart.radiusLength*me.index,me.innerRadius=me.outerRadius-chart.radiusLength,meta.count=me.countVisibleElements(),helpers.each(meta.data,function(arc,index){me.updateElement(arc,index,reset)})},updateElement:function(arc,index,reset){for(var me=this,chart=me.chart,dataset=me.getDataset(),opts=chart.options,animationOpts=opts.animation,scale=chart.scale,getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault,labels=chart.data.labels,circumference=me.calculateCircumference(dataset.data[index]),centerX=scale.xCenter,centerY=scale.yCenter,visibleCount=0,meta=me.getMeta(),i=0;i<index;++i)isNaN(dataset.data[i])||meta.data[i].hidden||++visibleCount;var datasetStartAngle=opts.startAngle,distance=arc.hidden?0:scale.getDistanceFromCenterForValue(dataset.data[index]),startAngle=datasetStartAngle+circumference*visibleCount,endAngle=startAngle+(arc.hidden?0:circumference),resetRadius=animationOpts.animateScale?0:scale.getDistanceFromCenterForValue(dataset.data[index]);helpers.extend(arc,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{x:centerX,y:centerY,innerRadius:0,outerRadius:reset?resetRadius:distance,startAngle:reset&&animationOpts.animateRotate?datasetStartAngle:startAngle,endAngle:reset&&animationOpts.animateRotate?datasetStartAngle:endAngle,label:getValueAtIndexOrDefault(labels,index,labels[index])}}),me.removeHoverStyle(arc),arc.pivot()},removeHoverStyle:function(arc){Chart.DatasetController.prototype.removeHoverStyle.call(this,arc,this.chart.options.elements.arc)},countVisibleElements:function(){var dataset=this.getDataset(),meta=this.getMeta(),count=0;return helpers.each(meta.data,function(element,index){isNaN(dataset.data[index])||element.hidden||count++}),count},calculateCircumference:function(value){var count=this.getMeta().count;return count>0&&!isNaN(value)?2*Math.PI/count:0}})}}),rqzt.define("chart.js/src/controllers/controller.radar",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var helpers=Chart.helpers;Chart.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},Chart.controllers.radar=Chart.DatasetController.extend({datasetElementType:Chart.elements.Line,dataElementType:Chart.elements.Point,linkScales:helpers.noop,update:function(reset){var me=this,meta=me.getMeta(),line=meta.dataset,points=meta.data,custom=line.custom||{},dataset=me.getDataset(),lineElementOptions=me.chart.options.elements.line,scale=me.chart.scale;void 0!==dataset.tension&&void 0===dataset.lineTension&&(dataset.lineTension=dataset.tension),helpers.extend(meta.dataset,{_datasetIndex:me.index,_children:points,_loop:!0,_model:{tension:custom.tension?custom.tension:helpers.getValueOrDefault(dataset.lineTension,lineElementOptions.tension),backgroundColor:custom.backgroundColor?custom.backgroundColor:dataset.backgroundColor||lineElementOptions.backgroundColor,borderWidth:custom.borderWidth?custom.borderWidth:dataset.borderWidth||lineElementOptions.borderWidth,borderColor:custom.borderColor?custom.borderColor:dataset.borderColor||lineElementOptions.borderColor,fill:custom.fill?custom.fill:void 0!==dataset.fill?dataset.fill:lineElementOptions.fill,borderCapStyle:custom.borderCapStyle?custom.borderCapStyle:dataset.borderCapStyle||lineElementOptions.borderCapStyle,borderDash:custom.borderDash?custom.borderDash:dataset.borderDash||lineElementOptions.borderDash,borderDashOffset:custom.borderDashOffset?custom.borderDashOffset:dataset.borderDashOffset||lineElementOptions.borderDashOffset,borderJoinStyle:custom.borderJoinStyle?custom.borderJoinStyle:dataset.borderJoinStyle||lineElementOptions.borderJoinStyle,scaleTop:scale.top,scaleBottom:scale.bottom,scaleZero:scale.getBasePosition()}}),meta.dataset.pivot(),helpers.each(points,function(point,index){me.updateElement(point,index,reset)},me),me.updateBezierControlPoints()},updateElement:function(point,index,reset){var me=this,custom=point.custom||{},dataset=me.getDataset(),scale=me.chart.scale,pointElementOptions=me.chart.options.elements.point,pointPosition=scale.getPointPositionForValue(index,dataset.data[index]);helpers.extend(point,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{x:reset?scale.xCenter:pointPosition.x,y:reset?scale.yCenter:pointPosition.y,tension:custom.tension?custom.tension:helpers.getValueOrDefault(dataset.tension,me.chart.options.elements.line.tension),radius:custom.radius?custom.radius:helpers.getValueAtIndexOrDefault(dataset.pointRadius,index,pointElementOptions.radius),backgroundColor:custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor,index,pointElementOptions.backgroundColor),borderColor:custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.pointBorderColor,index,pointElementOptions.borderColor),borderWidth:custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth,index,pointElementOptions.borderWidth),pointStyle:custom.pointStyle?custom.pointStyle:helpers.getValueAtIndexOrDefault(dataset.pointStyle,index,pointElementOptions.pointStyle),hitRadius:custom.hitRadius?custom.hitRadius:helpers.getValueAtIndexOrDefault(dataset.hitRadius,index,pointElementOptions.hitRadius)}}),point._model.skip=custom.skip?custom.skip:isNaN(point._model.x)||isNaN(point._model.y)},updateBezierControlPoints:function(){var chartArea=this.chart.chartArea,meta=this.getMeta();helpers.each(meta.data,function(point,index){var model=point._model,controlPoints=helpers.splineCurve(helpers.previousItem(meta.data,index,!0)._model,model,helpers.nextItem(meta.data,index,!0)._model,model.tension);model.controlPointPreviousX=Math.max(Math.min(controlPoints.previous.x,chartArea.right),chartArea.left),model.controlPointPreviousY=Math.max(Math.min(controlPoints.previous.y,chartArea.bottom),chartArea.top),model.controlPointNextX=Math.max(Math.min(controlPoints.next.x,chartArea.right),chartArea.left),model.controlPointNextY=Math.max(Math.min(controlPoints.next.y,chartArea.bottom),chartArea.top),point.pivot()})},draw:function(ease){var meta=this.getMeta(),easingDecimal=ease||1;helpers.each(meta.data,function(point){point.transition(easingDecimal)}),meta.dataset.transition(easingDecimal).draw(),helpers.each(meta.data,function(point){point.draw()})},setHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex],custom=point.custom||{},index=point._index,model=point._model;model.radius=custom.hoverRadius?custom.hoverRadius:helpers.getValueAtIndexOrDefault(dataset.pointHoverRadius,index,this.chart.options.elements.point.hoverRadius),model.backgroundColor=custom.hoverBackgroundColor?custom.hoverBackgroundColor:helpers.getValueAtIndexOrDefault(dataset.pointHoverBackgroundColor,index,helpers.getHoverColor(model.backgroundColor)),model.borderColor=custom.hoverBorderColor?custom.hoverBorderColor:helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderColor,index,helpers.getHoverColor(model.borderColor)),model.borderWidth=custom.hoverBorderWidth?custom.hoverBorderWidth:helpers.getValueAtIndexOrDefault(dataset.pointHoverBorderWidth,index,model.borderWidth)},removeHoverStyle:function(point){var dataset=this.chart.data.datasets[point._datasetIndex],custom=point.custom||{},index=point._index,model=point._model,pointElementOptions=this.chart.options.elements.point;
model.radius=custom.radius?custom.radius:helpers.getValueAtIndexOrDefault(dataset.radius,index,pointElementOptions.radius),model.backgroundColor=custom.backgroundColor?custom.backgroundColor:helpers.getValueAtIndexOrDefault(dataset.pointBackgroundColor,index,pointElementOptions.backgroundColor),model.borderColor=custom.borderColor?custom.borderColor:helpers.getValueAtIndexOrDefault(dataset.pointBorderColor,index,pointElementOptions.borderColor),model.borderWidth=custom.borderWidth?custom.borderWidth:helpers.getValueAtIndexOrDefault(dataset.pointBorderWidth,index,pointElementOptions.borderWidth)}})}}),rqzt.define("chart.js/src/charts/Chart.Bar",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){Chart.Bar=function(context,config){return config.type="bar",new Chart(context,config)}}}),rqzt.define("chart.js/src/charts/Chart.Bubble",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){Chart.Bubble=function(context,config){return config.type="bubble",new Chart(context,config)}}}),rqzt.define("chart.js/src/charts/Chart.Doughnut",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){Chart.Doughnut=function(context,config){return config.type="doughnut",new Chart(context,config)}}}),rqzt.define("chart.js/src/charts/Chart.Line",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){Chart.Line=function(context,config){return config.type="line",new Chart(context,config)}}}),rqzt.define("chart.js/src/charts/Chart.PolarArea",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){Chart.PolarArea=function(context,config){return config.type="polarArea",new Chart(context,config)}}}),rqzt.define("chart.js/src/charts/Chart.Radar",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){Chart.Radar=function(context,config){return config.type="radar",new Chart(context,config)}}}),rqzt.define("chart.js/src/charts/Chart.Scatter",function(module,exports,__dirname,__filename,process){"use strict";module.exports=function(Chart){var defaultConfig={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(tooltipItem){return"("+tooltipItem.xLabel+", "+tooltipItem.yLabel+")"}}}};Chart.defaults.scatter=defaultConfig,Chart.controllers.scatter=Chart.controllers.line,Chart.Scatter=function(context,config){return config.type="scatter",new Chart(context,config)}}}),rqzt.define("./platform",function(module,exports,__dirname,__filename,process){var _,crowdcontrol,riot;riot=rqzt("riot/riot"),_=rqzt("underscore/underscore"),window.riot=riot,crowdcontrol=rqzt("crowdcontrol/lib"),window.moment=rqzt("moment/moment"),window.crowdstart={site:rqzt("./site"),table:rqzt("./table"),form:rqzt("./form"),widget:rqzt("./widget"),util:rqzt("./util"),visual:rqzt("./visual")}}),rqzt("./platform")}).call(this,this);