YUI_CONFIG = {
  base: "/universal/yui3/3.17.2/",
  allowRollup: !1,
  combine: !1,
  fetchCSS: !1,
  bootstrap: !1
};
SQUARESPACE_ROLLUPS = window.SQUARESPACE_ROLLUPS || [];
"undefined" != typeof YUI && (YUI._YUI = YUI);
var YUI = function() {
  var a = 0,
    f = this,
    b = arguments,
    c = b.length,
    e = function(a, b) {
      return a && a.hasOwnProperty && a instanceof b
    }, h = "undefined" !== typeof YUI_config && YUI_config;
  e(f, YUI) ? (f._init(), YUI.GlobalConfig && f.applyConfig(YUI.GlobalConfig), h && f.applyConfig(h), c || f._setup()) : f = new YUI;
  if (c) {
    for (; a < c; a++) f.applyConfig(b[a]);
    f._setup()
  }
  f.instanceOf = e;
  return f
};
(function() {
  var a, f, b = "3.17.2",
    c = function() {}, e = Array.prototype.slice,
    h = {
      "io.xdrReady": 1,
      "io.xdrResponse": 1,
      "SWF.eventHandler": 1
    }, g = "undefined" != typeof window,
    l = g ? window : null,
    k = g ? l.document : null,
    m = k && k.documentElement;
  a = m && m.className;
  var n = {}, p = (new Date).getTime(),
    q = function(a, b, e, g) {
      a && a.addEventListener ? a.addEventListener(b, e, g) : a && a.attachEvent && a.attachEvent("on" + b, e)
    }, r = function(a, b, e, g) {
      if (a && a.removeEventListener) try {
        a.removeEventListener(b, e, g)
      } catch (h) {} else a && a.detachEvent && a.detachEvent("on" + b, e)
    }, u = function() {
      YUI.Env.DOMReady = !0;
      g && r(k, "DOMContentLoaded", u)
    }, v = function() {
      YUI.Env.windowLoaded = !0;
      YUI.Env.DOMReady = !0;
      g && r(window, "load", v)
    }, w = function(a, b) {
      var e = a.Env._loader,
        g = ["loader-base"],
        h = YUI.Env.mods;
      e ? (e.ignoreRegistered = !1, e.onEnd = null, e.data = null, e.required = [], e.loadType = null) : (e = new a.Loader(a.config), a.Env._loader = e);
      h && h.loader && (g = [].concat(g, YUI.Env.loaderExtras));
      YUI.Env.core = a.Array.dedupe([].concat(YUI.Env.core, g));
      return e
    }, y = function(a, b) {
      for (var e in b) b.hasOwnProperty(e) && (a[e] = b[e])
    }, s = {
      success: !0
    };
  m && -1 == a.indexOf("yui3-js-enabled") && (a && (a += " "), m.className = a + "yui3-js-enabled"); - 1 < b.indexOf("@") && (b = "3.5.0");
  a = {
    applyConfig: function(a) {
      a = a || c;
      var b, e, g = this.config,
        h = g.modules,
        l = g.groups,
        f = g.aliases,
        k = this.Env._loader;
      for (e in a) a.hasOwnProperty(e) && (b = a[e], h && "modules" == e ? y(h, b) : f && "aliases" == e ? y(f, b) : l && "groups" == e ? y(l, b) : "win" == e ? (g[e] = b && b.contentWindow || b, g.doc = g[e] ? g[e].document : null) : "_yuid" != e && (g[e] = b));
      k && k._config(a)
    },
    _config: function(a) {
      this.applyConfig(a)
    },
    _init: function() {
      var a, e, g = this;
      e = YUI.Env;
      var h = g.Env,
        c;
      g.version = b;
      if (!h) {
        g.Env = {
          core: ["get", "features", "intl-base", "yui-log", "yui-later"],
          loaderExtras: ["loader-rollup", "loader-yui3"],
          mods: {},
          versions: {},
          base: "http://yui.yahooapis.com/",
          cdn: "http://yui.yahooapis.com/" + b + "/build/",
          _idx: 0,
          _used: {},
          _attached: {},
          _exported: {},
          _missed: [],
          _yidx: 0,
          _uidx: 0,
          _guidp: "y",
          _loaded: {},
          _BASE_RE: /(?:\?(?:[^&]*&)*([^&]*))?\b(yui(?:-\w+)?)\/\2(?:-(min|debug))?\.js/,
          parseBasePath: function(a, b) {
            var e = a.match(b),
              g, h;
            e && (g = RegExp.leftContext || a.slice(0, a.indexOf(e[0])), h = e[3], e[1] && (g += "?" + e[1]), g = {
              filter: h,
              path: g
            });
            return g
          },
          getBase: e && e.getBase || function(b) {
            var e = k && k.getElementsByTagName("script") || [],
              c = h.cdn,
              l, f, m;
            f = 0;
            for (m = e.length; f < m; ++f) if (l = e[f].src) if (l = g.Env.parseBasePath(l, b)) {
              a = l.filter;
              c = l.path;
              break
            }
            return c
          }
        };
        h = g.Env;
        h._loaded[b] = {};
        if (e && g !== YUI) h._yidx = ++e._yidx, h._guidp = ("yui_" + b + "_" + h._yidx + "_" + p).replace(/[^a-z0-9_]+/g, "_");
        else if (YUI._YUI) {
          e = YUI._YUI.Env;
          h._yidx += e._yidx;
          h._uidx += e._uidx;
          for (c in e) c in h || (h[c] = e[c]);
          delete YUI._YUI
        }
        g.id = g.stamp(g);
        n[g.id] = g
      }
      g.constructor = YUI;
      g.config = g.config || {
        bootstrap: !0,
        cacheUse: !0,
        debug: !0,
        doc: k,
        fetchCSS: !0,
        throwFail: !0,
        useBrowserConsole: !0,
        useNativeES5: !0,
        win: l,
        global: Function("return this")()
      };
      k && !k.getElementById("yui3-css-stamp") ? (e = k.createElement("div"), e.innerHTML = '<div id="yui3-css-stamp" style="position: absolute !important; visibility: hidden !important"></div>', YUI.Env.cssStampEl = e.firstChild, k.body ? k.body.appendChild(YUI.Env.cssStampEl) : m.insertBefore(YUI.Env.cssStampEl,
      m.firstChild)) : k && (k.getElementById("yui3-css-stamp") && !YUI.Env.cssStampEl) && (YUI.Env.cssStampEl = k.getElementById("yui3-css-stamp"));
      g.config.lang = g.config.lang || "en-US";
      g.config.base = YUI.config.base || g.Env.getBase(g.Env._BASE_RE);
      if (!a || !"mindebug".indexOf(a)) a = "min";
      a = a ? "-" + a : a;
      g.config.loaderPath = YUI.config.loaderPath || "loader/loader" + a + ".js"
    },
    _setup: function() {
      var a, b = [],
        e = YUI.Env.mods,
        g = this.config.core || [].concat(YUI.Env.core);
      for (a = 0; a < g.length; a++) e[g[a]] && b.push(g[a]);
      this._attach(["yui-base"]);
      this._attach(b);
      this.Loader && w(this)
    },
    applyTo: function(a, b, e) {
      if (!(b in h)) return this.log(b + ": applyTo not allowed", "warn", "yui"), null;
      a = n[a];
      var g, c, l;
      if (a) {
        g = b.split(".");
        c = a;
        for (l = 0; l < g.length; l += 1)(c = c[g[l]]) || this.log("applyTo not found: " + b, "warn", "yui");
        return c && c.apply(a, e)
      }
      return null
    },
    add: function(a, b, e, g) {
      g = g || {};
      var h = YUI.Env,
        c = {
          name: a,
          fn: b,
          version: e,
          details: g
        };
      b = {};
      var l, f = h.versions;
      h.mods[a] = c;
      f[e] = f[e] || {};
      f[e][a] = c;
      for (l in n) if (n.hasOwnProperty(l) && (e = n[l], !b[e.id] && (b[e.id] = !0,
      e = e.Env._loader))) h = e.getModuleInfo(a), (!h || h.temp) && e.addModule(g, a);
      return this
    },
    _attach: function(a, b) {
      var e, g, h, c, l, f, k, m = YUI.Env.mods,
        u = YUI.Env.aliases,
        q = YUI.Env._renderedMods,
        p = this.Env._loader,
        r = this.Env._attached,
        n = this.Env._exported,
        v = a.length;
      f = [];
      var y, w, s, R;
      for (e = 0; e < v; e++) if (g = a[e], f.push(g), p && p.conditions[g]) for (c in p.conditions[g]) p.conditions[g].hasOwnProperty(c) && (l = (h = p.conditions[g][c]) && (h.ua && this.UA[h.ua] || h.test && h.test(this))) && f.push(h.name);
      a = f;
      v = a.length;
      for (e = 0; e < v; e++) if (!r[a[e]]) if (g = a[e], h = m[g], u && u[g] && !h) this._attach(u[g]);
      else if (h) {
        r[g] = !0;
        for (c = 0; c < this.Env._missed.length; c++) this.Env._missed[c] === g && (this.message("Found: " + g + " (was reported as missing earlier)", "warn", "yui"), this.Env._missed.splice(c, 1));
        if (p && !p._canBeAttached(g)) break;
        if (p && q && q[g] && q[g].temp) {
          p.getRequires(q[g]);
          l = [];
          f = p.getModuleInfo(g);
          for (c in f.expanded_map) f.expanded_map.hasOwnProperty(c) && l.push(c);
          this._attach(l)
        }
        c = h.details;
        l = c.requires;
        y = c.es;
        f = c.use;
        k = c.after;
        c.lang && (l = l || [], l.unshift("intl"));
        if (l) {
          w = l.length;
          for (c = 0; c < w; c++) if (!r[l[c]]) {
            if (!this._attach(l)) return !1;
            break
          }
        }
        if (k) for (c = 0; c < k.length; c++) if (!r[k[c]]) {
          if (!this._attach(k, !0)) return !1;
          break
        }
        if (h.fn) {
          k = [this, g];
          if (y && (R = {}, s = {}, k.push(R, s), l)) {
            w = l.length;
            for (c = 0; c < w; c++) R[l[c]] = n.hasOwnProperty(l[c]) ? n[l[c]] : this
          }
          if (this.config.throwFail) s = h.fn.apply(y ? void 0 : h, k);
          else try {
            s = h.fn.apply(y ? void 0 : h, k)
          } catch (V) {
            return this.error("Attach error: " + g, V, g), !1
          }
          y && (n[g] = s, (g = h.details.condition) && "instead" === g.when && (n[g.trigger] = s))
        }
        if (f) for (c = 0; c < f.length; c++) if (!r[f[c]]) {
          if (!this._attach(f)) return !1;
          break
        }
      } else(f = p && p.getModuleInfo(g)) && (b = !0), !b && g && (-1 === g.indexOf("skin-") && -1 === g.indexOf("css")) && (this.Env._missed.push(g), this.Env._missed = this.Array.dedupe(this.Env._missed), this.message("NOT loaded: " + g, "warn", "yui"));
      return !0
    },
    _delayCallback: function(a, b) {
      var e = this,
        g = ["event-base"];
      b = e.Lang.isObject(b) ? b : {
        event: b
      };
      "load" === b.event && g.push("event-synthetic");
      return function() {
        var h = arguments;
        e._use(g, function() {
          e.on(b.event, function() {
            h[1].delayUntil = b.event;
            a.apply(e, h)
          }, b.args)
        })
      }
    },
    use: function() {
      var a = e.call(arguments, 0),
        b = a[a.length - 1],
        g = 0,
        h, c = this.Env,
        l = !0;
      this.Lang.isFunction(b) ? (a.pop(), this.config.delayUntil && (b = this._delayCallback(b, this.config.delayUntil))) : b = null;
      this.Lang.isArray(a[0]) && (a = a[0]);
      if (this.config.cacheUse) {
        for (; h = a[g++];) if (!c._attached[h]) {
          l = !1;
          break
        }
        if (l) return this._notify(b, s, a), this
      }
      this._loading ? (this._useQueue = this._useQueue || new this.Queue, this._useQueue.add([a, b])) : this._use(a, function(e, g) {
        e._notify(b, g, a)
      });
      return this
    },
    require: function() {
      var a = e.call(arguments),
        b;
      "function" === typeof a[a.length - 1] && (b = a.pop(), a.push(function(e) {
        var g, h = a.length,
          c = e.Env._exported,
          l = {};
        for (g = 0; g < h; g++) c.hasOwnProperty(a[g]) && (l[a[g]] = c[a[g]]);
        b.call(void 0, e, l)
      }));
      this.use.apply(this, a)
    },
    _notify: function(a, b, e) {
      if (!b.success && this.config.loadErrorFn) this.config.loadErrorFn.call(this, this, a, b, e);
      else if (a) if (this.Env._missed && this.Env._missed.length && (b.msg = "Missing modules: " + this.Env._missed.join(), b.success = !1), this.config.throwFail) a(this,
      b);
      else try {
        a(this, b)
      } catch (g) {
        this.error("use callback error", g, e)
      }
    },
    _use: function(a, e) {
      this.Array || this._attach(["yui-base"]);
      var g, h, c = this,
        l = YUI.Env,
        f = l.mods,
        k = c.Env,
        m = k._used,
        u = l.aliases,
        p = l._loaderQueue;
      h = c.Array;
      var q = c.config,
        r = q.bootstrap,
        n = [],
        v = [],
        y = !0,
        y = q.fetchCSS,
        s = function(a, e) {
          var g = 0,
            h = [],
            c, k, p, q;
          if (a.length) {
            if (u) {
              c = a.length;
              for (g = 0; g < c; g++) u[a[g]] && !f[a[g]] ? h = [].concat(h, u[a[g]]) : h.push(a[g]);
              a = h
            }
            c = a.length;
            for (g = 0; g < c; g++) h = a[g], e || v.push(h), m[h] || (k = f[h], q = p = null, k ? (m[h] = !0, p = k.details.requires,
            q = k.details.use) : l._loaded[b][h] ? m[h] = !0 : n.push(h), p && p.length && s(p), q && q.length && s(q, 1))
          }
        }, M = function(b) {
          var g = b || {
            success: !0,
            msg: "not dynamic"
          }, h, l = !0,
            f = g.data;
          c._loading = !1;
          f && (b = n, n = [], v = [], s(f), (h = n.length) && [].concat(n).sort().join() == b.sort().join() && (h = !1));
          h && f ? (c._loading = !0, c._use(n, function() {
            c._attach(f) && c._notify(e, g, f)
          })) : (f && (l = c._attach(f)), l && c._notify(e, g, a));
          c._useQueue && (c._useQueue.size() && !c._loading) && c._use.apply(c, c._useQueue.next())
        };
      if ("*" === a[0]) {
        a = [];
        for (g in f) f.hasOwnProperty(g) && a.push(g);
        (y = c._attach(a)) && M();
        return c
      }
      if ((f.loader || f["loader-base"]) && !c.Loader) c._attach(["loader" + (!f.loader ? "-base" : "")]);
      r && (c.Loader && a.length) && (g = w(c), g.require(a), g.ignoreRegistered = !0, g._boot = !0, g.calculate(null, y ? null : "js"), a = g.sorted, g._boot = !1);
      s(a);
      if (g = n.length) n = h.dedupe(n), g = n.length;
      r && g && c.Loader ? (c._loading = !0, g = w(c), g.onEnd = M, g.context = c, g.data = a, g.ignoreRegistered = !1, g.require(n), g.insert(null, y ? null : "js")) : r && g && c.Get && !k.bootstrapped ? (c._loading = !0, h = function() {
        c._loading = !1;
        p.running = !1;
        k.bootstrapped = !0;
        l._bootstrapping = !1;
        c._attach(["loader"]) && c._use(a, e)
      }, l._bootstrapping ? p.add(h) : (l._bootstrapping = !0, c.Get.script(q.base + q.loaderPath, {
        onEnd: h
      }))) : (y = c._attach(a)) && M();
      return c
    },
    namespace: function() {
      for (var a = arguments, b, e = 0, g, h; e < a.length; e++) if (b = this, g = a[e], - 1 < g.indexOf(".")) {
        h = g.split(".");
        for (g = "YAHOO" == h[0] ? 1 : 0; g < h.length; g++) b[h[g]] = b[h[g]] || {}, b = b[h[g]]
      } else b[g] = b[g] || {}, b = b[g];
      return b
    },
    log: c,
    message: c,
    dump: function(a) {
      return "" + a
    },
    error: function(a, b,
    g) {
      var e;
      this.config.errorFn && (e = this.config.errorFn.apply(this, arguments));
      if (e) this.message(a, "error", "" + g);
      else throw b || Error(a);
      return this
    },
    guid: function(a) {
      var b = this.Env._guidp + "_" + ++this.Env._uidx;
      return a ? a + b : b
    },
    stamp: function(a, b) {
      var g;
      if (!a) return a;
      g = a.uniqueID && a.nodeType && 9 !== a.nodeType ? a.uniqueID : "string" === typeof a ? a : a._yuid;
      if (!g && (g = this.guid(), !b)) try {
        a._yuid = g
      } catch (e) {
        g = null
      }
      return g
    },
    destroy: function() {
      this.Event && this.Event._unload();
      delete n[this.id];
      delete this.Env;
      delete this.config
    }
  };
  YUI.prototype = a;
  for (f in a) a.hasOwnProperty(f) && (YUI[f] = a[f]);
  YUI.applyConfig = function(a) {
    a && (YUI.GlobalConfig && this.prototype.applyConfig.call(this, YUI.GlobalConfig), this.prototype.applyConfig.call(this, a), YUI.GlobalConfig = this.config)
  };
  YUI._init();
  g ? (q(k, "DOMContentLoaded", u), q(window, "load", v)) : (u(), v());
  YUI.Env.add = q;
  YUI.Env.remove = r;
  "object" == typeof exports && (exports.YUI = YUI, YUI.setLoadHook = function(a) {
    YUI._getLoadHook = a
  }, YUI._getLoadHook = null);
  YUI.Env[b] = {}
})();
YUI.add("yui-base", function(a, f) {
  function b(a, g, e) {
    var h;
    g || (g = 0);
    if (e || b.test(a)) try {
      return u.slice.call(a, g)
    } catch (c) {
      h = [];
      for (e = a.length; g < e; ++g) h.push(a[g]);
      return h
    }
    return [a]
  }
  function c() {
    this._init();
    this.add.apply(this, arguments)
  }
  var e = a.Lang || (a.Lang = {}),
    h = String.prototype,
    g = Object.prototype.toString,
    l = {
      undefined: "undefined",
      number: "number",
      "boolean": "boolean",
      string: "string",
      "[object Function]": "function",
      "[object RegExp]": "regexp",
      "[object Array]": "array",
      "[object Date]": "date",
      "[object Error]": "error"
    },
    k = /\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,
    m = RegExp("^[\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+"),
    n = RegExp("[\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+$"),
    p = RegExp(m.source + "|" + n.source, "g"),
    q = /\{\s*\[(?:native code|function)\]\s*\}/i;
  e._isNative = function(b) {
    return !(!a.config.useNativeES5 || !b || !q.test(b))
  };
  e.isArray = e._isNative(Array.isArray) ? Array.isArray : function(a) {
    return "array" === e.type(a)
  };
  e.isBoolean = function(a) {
    return "boolean" === typeof a
  };
  e.isDate = function(a) {
    return "date" === e.type(a) && "Invalid Date" !== a.toString() && !isNaN(a)
  };
  e.isFunction = function(a) {
    return "function" === e.type(a)
  };
  e.isNull = function(a) {
    return null === a
  };
  e.isNumber = function(a) {
    return "number" === typeof a && isFinite(a)
  };
  e.isObject = function(a, b) {
    var g = typeof a;
    return a && ("object" === g || !b && ("function" === g || e.isFunction(a))) || !1
  };
  e.isRegExp = function(a) {
    return "regexp" === e.type(a)
  };
  e.isString = function(a) {
    return "string" === typeof a
  };
  e.isUndefined = function(a) {
    return "undefined" === typeof a
  };
  e.isValue = function(a) {
    var b = e.type(a);
    switch (b) {
    case "number":
      return isFinite(a);
    case "null":
    case "undefined":
      return !1;
    default:
      return !!b
    }
  };
  e.now = Date.now || function() {
    return (new Date).getTime()
  };
  e.sub = function(a, b) {
    return a.replace ? a.replace(k, function(a, g) {
      return e.isUndefined(b[g]) ? a : b[g]
    }) : a
  };
  e.trim = e._isNative(h.trim) && !"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".trim() ? function(a) {
    return a && a.trim ? a.trim() : a
  } : function(a) {
    try {
      return a.replace(p, "")
    } catch (b) {
      return a
    }
  };
  e.trimLeft = e._isNative(h.trimLeft) && !"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".trimLeft() ? function(a) {
    return a.trimLeft()
  } : function(a) {
    return a.replace(m, "")
  };
  e.trimRight = e._isNative(h.trimRight) && !"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\ufeff".trimRight() ? function(a) {
    return a.trimRight()
  } : function(a) {
    return a.replace(n, "")
  };
  e.type = function(a) {
    return l[typeof a] || l[g.call(a)] || (a ? "object" : "null")
  };
  var r = a.Lang,
    u = Array.prototype,
    v = Object.prototype.hasOwnProperty;
  a.Array = b;
  b.dedupe = r._isNative(Object.create) ? function(a) {
    var b = Object.create(null),
      g = [],
      e, h, c;
    e = 0;
    for (c = a.length; e < c; ++e) h = a[e], b[h] || (b[h] = 1, g.push(h));
    return g
  } : function(a) {
    var b = {}, g = [],
      e, h, c;
    e = 0;
    for (c = a.length; e < c; ++e) h = a[e], v.call(b, h) || (b[h] = 1, g.push(h));
    return g
  };
  b.each = b.forEach = r._isNative(u.forEach) ? function(b, g, e) {
    u.forEach.call(b || [], g, e || a);
    return a
  } : function(b, g, e) {
    for (var h = 0, c = b && b.length || 0; h < c; ++h) h in b && g.call(e || a, b[h], h, b);
    return a
  };
  b.hash = function(a, b) {
    var g = {}, e = b && b.length || 0,
      h, c;
    h = 0;
    for (c = a.length; h < c; ++h) h in a && (g[a[h]] = e > h && h in b ? b[h] : !0);
    return g
  };
  b.indexOf = r._isNative(u.indexOf) ? function(a, b, g) {
    return u.indexOf.call(a, b, g)
  } : function(a, b, g) {
    var e = a.length;
    g = +g || 0;
    g = (0 < g || -1) * Math.floor(Math.abs(g));
    0 > g && (g += e, 0 > g && (g = 0));
    for (; g < e; ++g) if (g in a && a[g] === b) return g;
    return -1
  };
  b.numericSort = function(a, b) {
    return a - b
  };
  b.some = r._isNative(u.some) ? function(a, b, g) {
    return u.some.call(a, b, g)
  } : function(a, b, g) {
    for (var e = 0, h = a.length; e < h; ++e) if (e in a && b.call(g, a[e], e, a)) return !0;
    return !1
  };
  b.test = function(a) {
    var b = 0;
    if (r.isArray(a)) b = 1;
    else if (r.isObject(a)) try {
      if ("length" in a && !a.tagName && (!a.scrollTo || !a.document) && !a.apply) b = 2
    } catch (g) {}
    return b
  };
  c.prototype = {
    _init: function() {
      this._q = []
    },
    next: function() {
      return this._q.shift()
    },
    last: function() {
      return this._q.pop()
    },
    add: function() {
      this._q.push.apply(this._q,
      arguments);
      return this
    },
    size: function() {
      return this._q.length
    }
  };
  a.Queue = c;
  YUI.Env._loaderQueue = YUI.Env._loaderQueue || new c;
  var v = Object.prototype.hasOwnProperty,
    w = a.Lang.isObject;
  a.cached = function(a, b, g) {
    b || (b = {});
    return function(e) {
      var h = 1 < arguments.length ? Array.prototype.join.call(arguments, "__") : String(e);
      if (!(h in b) || g && b[h] == g) b[h] = a.apply(a, arguments);
      return b[h]
    }
  };
  a.getLocation = function() {
    var b = a.config.win;
    return b && b.location
  };
  a.merge = function() {
    for (var a = 0, b = arguments.length, g = {}, e, h; a < b; ++a) for (e in h = arguments[a], h) v.call(h, e) && (g[e] = h[e]);
    return g
  };
  a.mix = function(b, g, e, h, c, l) {
    var f, k, m, u, p;
    if (!b || !g) return b || a;
    if (c) {
      if (2 === c && a.mix(b.prototype, g.prototype, e, h, 0, l), k = 1 === c || 3 === c ? g.prototype : g, p = 1 === c || 4 === c ? b.prototype : b, !k || !p) return b
    } else k = g, p = b;
    g = e && !l;
    if (h) {
      c = 0;
      for (u = h.length; c < u; ++c) if (m = h[c], v.call(k, m)) if (f = g ? !1 : m in p, l && f && w(p[m], !0) && w(k[m], !0)) a.mix(p[m], k[m], e, null, 0, l);
      else if (e || !f) p[m] = k[m]
    } else {
      for (m in k) if (v.call(k, m)) if (f = g ? !1 : m in p, l && f && w(p[m], !0) && w(k[m], !0)) a.mix(p[m], k[m], e, null, 0, l);
      else if (e || !f) p[m] = k[m];
      a.Object._hasEnumBug && a.mix(p, k, e, a.Object._forceEnum, c, l)
    }
    return b
  };
  var r = a.Lang,
    v = Object.prototype.hasOwnProperty,
    y = a.Object = r._isNative(Object.create) ? function(a) {
      return Object.create(a)
    } : function() {
      function a() {}
      return function(b) {
        a.prototype = b;
        return new a
      }
    }(),
    s = y._forceEnum = "hasOwnProperty isPrototypeOf propertyIsEnumerable toString toLocaleString valueOf".split(" "),
    x = y._hasEnumBug = !{
      valueOf: 0
    }.propertyIsEnumerable("valueOf"),
    C = y._hasProtoEnumBug = function() {}.propertyIsEnumerable("prototype"),
    z = y.owns = function(a, b) {
      return !!a && v.call(a, b)
    };
  y.hasKey = z;
  y.keys = r._isNative(Object.keys) && !C ? Object.keys : function(a) {
    if (!r.isObject(a)) throw new TypeError("Object.keys called on a non-object");
    var b = [],
      g, e, h;
    if (C && "function" === typeof a) for (e in a) z(a, e) && "prototype" !== e && b.push(e);
    else for (e in a) z(a, e) && b.push(e);
    if (x) {
      g = 0;
      for (h = s.length; g < h; ++g) e = s[g], z(a, e) && b.push(e)
    }
    return b
  };
  y.values = function(a) {
    for (var b = y.keys(a), g = 0, e = b.length, h = []; g < e; ++g) h.push(a[b[g]]);
    return h
  };
  y.size = function(a) {
    try {
      return y.keys(a).length
    } catch (b) {
      return 0
    }
  };
  y.hasValue = function(b, g) {
    return -1 < a.Array.indexOf(y.values(b), g)
  };
  y.each = function(b, g, e, h) {
    for (var c in b) if (h || z(b, c)) g.call(e || a, b[c], c, b);
    return a
  };
  y.some = function(b, g, e, h) {
    for (var c in b) if (h || z(b, c)) if (g.call(e || a, b[c], c, b)) return !0;
    return !1
  };
  y.getValue = function(b, g) {
    if (r.isObject(b)) {
      var e, h = a.Array(g),
        c = h.length;
      for (e = 0; void 0 !== b && e < c; e++) b = b[h[e]];
      return b
    }
  };
  y.setValue = function(b, g, e) {
    var h = a.Array(g),
      c = h.length - 1,
      l = b;
    if (0 <= c) {
      for (g = 0; void 0 !== l && g < c; g++) l = l[h[g]];
      if (void 0 !== l) l[h[g]] = e;
      else return
    }
    return b
  };
  y.isEmpty = function(a) {
    return !y.keys(Object(a)).length
  };
  YUI.Env.parseUA = function(b) {
    var g = function(a) {
      var b = 0;
      return parseFloat(a.replace(/\./g, function() {
        return 1 === b++ ? "" : "."
      }))
    }, e = a.config.win,
      h = e && e.navigator,
      c = {
        ie: 0,
        opera: 0,
        gecko: 0,
        webkit: 0,
        safari: 0,
        chrome: 0,
        mobile: null,
        air: 0,
        phantomjs: 0,
        ipad: 0,
        iphone: 0,
        ipod: 0,
        ios: null,
        android: 0,
        silk: 0,
        ubuntu: 0,
        accel: !1,
        webos: 0,
        caja: h && h.cajaVersion,
        secure: !1,
        os: null,
        nodejs: 0,
        winjs: !! ("undefined" !== typeof Windows && Windows.System),
        touchEnabled: !1
      }, l = b || h && h.userAgent,
      f = e && e.location,
      f = f && f.href;
    c.userAgent = l;
    c.secure = f && 0 === f.toLowerCase().indexOf("https");
    if (l) {
      /windows|win32/i.test(l) ? c.os = "windows" : /macintosh|mac_powerpc/i.test(l) ? c.os = "macintosh" : /android/i.test(l) ? c.os = "android" : /symbos/i.test(l) ? c.os = "symbos" : /linux/i.test(l) ? c.os = "linux" : /rhino/i.test(l) && (c.os = "rhino");
      /KHTML/.test(l) && (c.webkit = 1);
      /IEMobile|XBLWP7/.test(l) && (c.mobile = "windows");
      /Fennec/.test(l) && (c.mobile = "gecko");
      if ((f = l.match(/AppleWebKit\/([^\s]*)/)) && f[1]) {
        c.webkit = g(f[1]);
        c.safari = c.webkit;
        if (/PhantomJS/.test(l) && (f = l.match(/PhantomJS\/([^\s]*)/)) && f[1]) c.phantomjs = g(f[1]);
        if (/ Mobile\//.test(l) || /iPad|iPod|iPhone/.test(l)) {
          if (c.mobile = "Apple", (f = l.match(/OS ([^\s]*)/)) && f[1] && (f = g(f[1].replace("_", "."))), c.ios = f, c.os = "ios", c.ipad = c.ipod = c.iphone = 0, (f = l.match(/iPad|iPod|iPhone/)) && f[0]) c[f[0].toLowerCase()] = c.ios
        } else {
          if (f = l.match(/NokiaN[^\/]*|webOS\/\d\.\d/)) c.mobile = f[0];
          if (/webOS/.test(l) && (c.mobile = "WebOS", (f = l.match(/webOS\/([^\s]*);/)) && f[1])) c.webos = g(f[1]);
          if (/ Android/.test(l) && (/Mobile/.test(l) && (c.mobile = "Android"), (f = l.match(/Android ([^\s]*);/)) && f[1])) c.android = g(f[1]);
          if (/Silk/.test(l)) {
            if ((f = l.match(/Silk\/([^\s]*)/)) && f[1]) c.silk = g(f[1]);
            c.android || (c.android = 2.34, c.os = "Android");
            /Accelerated=true/.test(l) && (c.accel = !0)
          }
        }
        if ((f = l.match(/OPR\/(\d+\.\d+)/)) && f[1]) c.opera = g(f[1]);
        else if ((f = l.match(/(Chrome|CrMo|CriOS)\/([^\s]*)/)) && f[1] && f[2]) c.chrome = g(f[2]), c.safari = 0, "CrMo" === f[1] && (c.mobile = "chrome");
        else if (f = l.match(/AdobeAIR\/([^\s]*)/)) c.air = f[0]
      }
      if ((f = l.match(/Ubuntu\ (\d+\.\d+)/)) && f[1]) {
        c.os = "linux";
        c.ubuntu = g(f[1]);
        if ((f = l.match(/\ WebKit\/([^\s]*)/)) && f[1]) c.webkit = g(f[1]);
        if ((f = l.match(/\ Chromium\/([^\s]*)/)) && f[1]) c.chrome = g(f[1]);
        / Mobile$/.test(l) && (c.mobile = "Ubuntu")
      }
      if (!c.webkit) if (/Opera/.test(l)) {
        if ((f = l.match(/Opera[\s\/]([^\s]*)/)) && f[1]) c.opera = g(f[1]);
        if ((f = l.match(/Version\/([^\s]*)/)) && f[1]) c.opera = g(f[1]);
        if (/Opera Mobi/.test(l) && (c.mobile = "opera", (f = l.replace("Opera Mobi", "").match(/Opera ([^\s]*)/)) && f[1])) c.opera = g(f[1]);
        if (f = l.match(/Opera Mini[^;]*/)) c.mobile = f[0]
      } else if ((f = l.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/)) && (f[1] || f[2])) c.ie = g(f[1] || f[2]);
      else if (f = l.match(/Gecko\/([^\s]*)/)) if (c.gecko = 1, (f = l.match(/rv:([^\s\)]*)/)) && f[1]) c.gecko = g(f[1]), /Mobile|Tablet/.test(l) && (c.mobile = "ffos")
    }
    e && (h && !(c.chrome && 6 > c.chrome)) && (c.touchEnabled = "ontouchstart" in e || "msMaxTouchPoints" in h && 0 < h.msMaxTouchPoints);
    b || ("object" === typeof process && (process.versions && process.versions.node) && (c.os = process.platform, c.nodejs = g(process.versions.node)), YUI.Env.UA = c);
    return c
  };
  a.UA = YUI.Env.UA || YUI.Env.parseUA();
  a.UA.compareVersions = function(a, b) {
    var g, e, h, c, l, f;
    if (a === b) return 0;
    e = (a + "").split(".");
    c = (b + "").split(".");
    l = 0;
    for (f = Math.max(e.length, c.length); l < f; ++l) {
      g = parseInt(e[l], 10);
      h = parseInt(c[l], 10);
      isNaN(g) && (g = 0);
      isNaN(h) && (h = 0);
      if (g < h) return -1;
      if (g > h) return 1
    }
    return 0
  };
  YUI.Env.aliases = {
    anim: "anim-base anim-color anim-curve anim-easing anim-node-plugin anim-scroll anim-xy".split(" "),
    "anim-shape-transform": ["anim-shape"],
    app: "app-base app-content app-transitions lazy-model-list model model-list model-sync-rest model-sync-local router view view-node-map".split(" "),
    attribute: ["attribute-base", "attribute-complex"],
    "attribute-events": ["attribute-observable"],
    autocomplete: ["autocomplete-base", "autocomplete-sources", "autocomplete-list", "autocomplete-plugin"],
    axes: ["axis-numeric", "axis-category", "axis-time", "axis-stacked"],
    "axes-base": ["axis-numeric-base", "axis-category-base", "axis-time-base",
      "axis-stacked-base"],
    base: ["base-base", "base-pluginhost", "base-build"],
    cache: ["cache-base", "cache-offline", "cache-plugin"],
    charts: ["charts-base"],
    collection: ["array-extras", "arraylist", "arraylist-add", "arraylist-filter", "array-invoke"],
    color: ["color-base", "color-hsl", "color-harmony"],
    controller: ["router"],
    dataschema: ["dataschema-base", "dataschema-json", "dataschema-xml", "dataschema-array", "dataschema-text"],
    datasource: "datasource-local datasource-io datasource-get datasource-function datasource-cache datasource-jsonschema datasource-xmlschema datasource-arrayschema datasource-textschema datasource-polling".split(" "),
    datatable: "datatable-core datatable-table datatable-head datatable-body datatable-base datatable-column-widths datatable-message datatable-mutable datatable-sort datatable-datasource".split(" "),
    datatype: ["datatype-date", "datatype-number", "datatype-xml"],
    "datatype-date": ["datatype-date-parse", "datatype-date-format", "datatype-date-math"],
    "datatype-number": ["datatype-number-parse", "datatype-number-format"],
    "datatype-xml": ["datatype-xml-parse", "datatype-xml-format"],
    dd: "dd-ddm-base dd-ddm dd-ddm-drop dd-drag dd-proxy dd-constrain dd-drop dd-scroll dd-delegate".split(" "),
    dom: ["dom-base", "dom-screen", "dom-style", "selector-native", "selector"],
    editor: "frame editor-selection exec-command editor-base editor-para editor-br editor-bidi editor-tab createlink-base".split(" "),
    event: "event-base event-delegate event-synthetic event-mousewheel event-mouseenter event-key event-focus event-resize event-hover event-outside event-touch event-move event-flick event-valuechange event-tap".split(" "),
    "event-custom": ["event-custom-base", "event-custom-complex"],
    "event-gestures": ["event-flick",
      "event-move"],
    handlebars: ["handlebars-compiler"],
    highlight: ["highlight-base", "highlight-accentfold"],
    history: ["history-base", "history-hash", "history-html5"],
    io: ["io-base", "io-xdr", "io-form", "io-upload-iframe", "io-queue"],
    json: ["json-parse", "json-stringify"],
    loader: ["loader-base", "loader-rollup", "loader-yui3"],
    node: ["node-base", "node-event-delegate", "node-pluginhost", "node-screen", "node-style"],
    pluginhost: ["pluginhost-base", "pluginhost-config"],
    querystring: ["querystring-parse", "querystring-stringify"],
    recordset: ["recordset-base", "recordset-sort", "recordset-filter", "recordset-indexer"],
    resize: ["resize-base", "resize-proxy", "resize-constrain"],
    slider: ["slider-base", "slider-value-range", "clickable-rail", "range-slider"],
    template: ["template-base", "template-micro"],
    text: ["text-accentfold", "text-wordbreak"],
    widget: ["widget-base", "widget-htmlparser", "widget-skin", "widget-uievents"]
  }
}, "3.17.2", {
  use: ["get", "features", "intl-base", "yui-log", "yui-later"]
});
YUI.add("get", function(a, f) {
  var b = a.Lang,
    c, e, h;
  a.Get = e = {
    cssOptions: {
      attributes: {
        rel: "stylesheet"
      },
      doc: a.config.linkDoc || a.config.doc,
      pollInterval: 50
    },
    jsOptions: {
      autopurge: !0,
      doc: a.config.scriptDoc || a.config.doc
    },
    options: {
      attributes: {
        charset: "utf-8"
      },
      purgethreshold: 20
    },
    REGEX_CSS: /\.css(?:[?;].*)?$/i,
    REGEX_JS: /\.js(?:[?;].*)?$/i,
    _insertCache: {},
    _pending: null,
    _purgeNodes: [],
    _queue: [],
    abort: function(a) {
      var b, e, h, c;
      if (!a.abort) if (e = a, b = this._pending, a = null, b && b.transaction.id === e) a = b.transaction, this._pending = null;
      else {
        b = 0;
        for (c = this._queue.length; b < c; ++b) if (h = this._queue[b].transaction, h.id === e) {
          a = h;
          this._queue.splice(b, 1);
          break
        }
      }
      a && a.abort()
    },
    css: function(a, b, e) {
      return this._load("css", a, b, e)
    },
    js: function(a, b, e) {
      return this._load("js", a, b, e)
    },
    load: function(a, b, e) {
      return this._load(null, a, b, e)
    },
    _autoPurge: function(a) {
      a && this._purgeNodes.length >= a && this._purge(this._purgeNodes)
    },
    _getEnv: function() {
      var b = a.config.doc,
        e = a.UA;
      return this._env = {
        async: b && !0 === b.createElement("script").async || 10 <= e.ie,
        cssFail: 9 <= e.gecko || 0 <= e.compareVersions(e.webkit, 535.24),
        cssLoad: (!e.gecko && !e.webkit || 9 <= e.gecko || 0 <= e.compareVersions(e.webkit, 535.24)) && !(e.chrome && 18 >= e.chrome),
        preservesScriptOrder: !(!e.gecko && !(e.opera || e.ie && 10 <= e.ie))
      }
    },
    _getTransaction: function(e, c) {
      var f = [],
        m, n, p, q;
      b.isArray(e) || (e = [e]);
      c = a.merge(this.options, c);
      c.attributes = a.merge(this.options.attributes, c.attributes);
      m = 0;
      for (n = e.length; m < n; ++m) {
        q = e[m];
        p = {
          attributes: {}
        };
        if ("string" === typeof q) p.url = q;
        else if (q.url) a.mix(p, q, !1, null, 0, !0), q = q.url;
        else continue;
        a.mix(p, c, !1, null, 0, !0);
        p.type || (this.REGEX_CSS.test(q) ? p.type = "css" : (this.REGEX_JS.test(q), p.type = "js"));
        a.mix(p, "js" === p.type ? this.jsOptions : this.cssOptions, !1, null, 0, !0);
        p.attributes.id || (p.attributes.id = a.guid());
        p.win ? p.doc = p.win.document : p.win = p.doc.defaultView || p.doc.parentWindow;
        p.charset && (p.attributes.charset = p.charset);
        f.push(p)
      }
      return new h(f, c)
    },
    _load: function(a, b, h, c) {
      "function" === typeof h && (c = h, h = {});
      h || (h = {});
      h.type = a;
      h._onFinish = e._onTransactionFinish;
      this._env || this._getEnv();
      a = this._getTransaction(b, h);
      this._queue.push({
        callback: c,
        transaction: a
      });
      this._next();
      return a
    },
    _onTransactionFinish: function() {
      e._pending = null;
      e._next()
    },
    _next: function() {
      var a;
      if (!this._pending && (a = this._queue.shift())) this._pending = a, a.transaction.execute(a.callback)
    },
    _purge: function(b) {
      for (var e = this._purgeNodes, h = b !== e, c; c = b.pop();) c._yuiget_finished && (c.parentNode && c.parentNode.removeChild(c), h && (c = a.Array.indexOf(e, c), - 1 < c && e.splice(c, 1)))
    }
  };
  e.script = e.js;
  e.Transaction = h = function(b, e) {
    this.id = h._lastId += 1;
    this.data = e.data;
    this.errors = [];
    this.nodes = [];
    this.options = e;
    this.requests = b;
    this._callbacks = [];
    this._queue = [];
    this._reqsWaiting = 0;
    this.tId = this.id;
    this.win = e.win || a.config.win
  };
  h._lastId = 0;
  h.prototype = {
    _state: "new",
    abort: function(a) {
      this._pendingCSS = this._pending = null;
      this._pollTimer = clearTimeout(this._pollTimer);
      this._queue = [];
      this._reqsWaiting = 0;
      this.errors.push({
        error: a || "Aborted"
      });
      this._finish()
    },
    execute: function(a) {
      var b = this,
        e = b.requests,
        h = b._state,
        c, f;
      if ("done" === h) a && a(b.errors.length ? b.errors : null, b);
      else if (a && b._callbacks.push(a), "executing" !== h) {
        b._state = "executing";
        b._queue = c = [];
        b.options.timeout && (b._timeout = setTimeout(function() {
          b.abort("Timeout")
        }, b.options.timeout));
        b._reqsWaiting = e.length;
        a = 0;
        for (h = e.length; a < h; ++a) f = e[a], f.async || "css" === f.type ? b._insert(f) : c.push(f);
        b._next()
      }
    },
    purge: function() {
      e._purge(this.nodes)
    },
    _createNode: function(a, b, e) {
      a = e.createElement(a);
      var h;
      c || (e = e.createElement("div"), e.setAttribute("class", "a"), c = "a" === e.className ? {} : {
        "for": "htmlFor",
        "class": "className"
      });
      for (h in b) b.hasOwnProperty(h) && a.setAttribute(c[h] || h, b[h]);
      return a
    },
    _finish: function() {
      var a = this.errors.length ? this.errors : null,
        b = this.options,
        e = b.context || this,
        h, c;
      if ("done" !== this._state) {
        this._state = "done";
        h = 0;
        for (c = this._callbacks.length; h < c; ++h) this._callbacks[h].call(e, a, this);
        h = this._getEventData();
        a ? (b.onTimeout && "Timeout" === a[a.length - 1].error && b.onTimeout.call(e, h), b.onFailure && b.onFailure.call(e, h)) : b.onSuccess && b.onSuccess.call(e, h);
        b.onEnd && b.onEnd.call(e, h);
        b._onFinish && b._onFinish()
      }
    },
    _getEventData: function(b) {
      return b ? a.merge(this, {
        abort: this.abort,
        purge: this.purge,
        request: b,
        url: b.url,
        win: b.win
      }) : this
    },
    _getInsertBefore: function(b) {
      var h = b.doc;
      b = b.insertBefore;
      var c, f;
      if (b) return "string" === typeof b ? h.getElementById(b) : b;
      c = e._insertCache;
      f = a.stamp(h);
      return (b = c[f]) ? b : (b = h.getElementsByTagName("base")[0]) ? c[f] = b : (b = h.head || h.getElementsByTagName("head")[0]) ? (b.appendChild(h.createTextNode("")), c[f] = b.lastChild) : c[f] = h.getElementsByTagName("script")[0]
    },
    _insert: function(b) {
      function h() {
        r._progress("Failed to load " + b.url, b)
      }
      function c() {
        v && clearTimeout(v);
        r._progress(null, b)
      }
      var f = e._env,
        n = this._getInsertBefore(b),
        p = "js" === b.type,
        q = b.node,
        r = this,
        u = a.UA,
        v, w;
      q || (w = p ? "script" : !f.cssLoad && u.gecko ? "style" : "link", q = b.node = this._createNode(w, b.attributes, b.doc));
      p ? (q.setAttribute("src", b.url), b.async ? q.async = !0 : (f.async && (q.async = !1), f.preservesScriptOrder || (this._pending = b))) : !f.cssLoad && u.gecko ? q.innerHTML = (b.attributes.charset ? '@charset "' + b.attributes.charset + '";' : "") + '@import "' + b.url + '";' : q.setAttribute("href", b.url);
      p && u.ie && (9 > u.ie || document.documentMode && 9 > document.documentMode) ? q.onreadystatechange = function() {
        /loaded|complete/.test(q.readyState) && (q.onreadystatechange = null, c())
      } : !p && !f.cssLoad ? this._poll(b) : (10 <= u.ie ? (q.onerror = function() {
        setTimeout(h, 0)
      }, q.onload = function() {
        setTimeout(c, 0)
      }) : (q.onerror = h, q.onload = c), !f.cssFail && !p && (v = setTimeout(h, b.timeout || 3E3)));
      this.nodes.push(q);
      n.parentNode.insertBefore(q, n)
    },
    _next: function() {
      this._pending || (this._queue.length ? this._insert(this._queue.shift()) : this._reqsWaiting || this._finish())
    },
    _poll: function(b) {
      var e = this,
        h = e._pendingCSS,
        c = a.UA.webkit,
        f, p, q, r;
      if (b && (h || (h = e._pendingCSS = []), h.push(b), e._pollTimer)) return;
      e._pollTimer = null;
      for (b = 0; b < h.length; ++b) if (q = h[b], c) {
        r = q.doc.styleSheets;
        f = r.length;
        for (p = q.node.href; 0 <= --f;) if (r[f].href === p) {
          h.splice(b, 1);
          b -= 1;
          e._progress(null, q);
          break
        }
      } else try {
        h.splice(b, 1), b -= 1, e._progress(null, q)
      } catch (u) {}
      h.length && (e._pollTimer = setTimeout(function() {
        e._poll.call(e)
      },
      e.options.pollInterval))
    },
    _progress: function(a, b) {
      var h = this.options;
      a && (b.error = a, this.errors.push({
        error: a,
        request: b
      }));
      b.node._yuiget_finished = b.finished = !0;
      h.onProgress && h.onProgress.call(h.context || this, this._getEventData(b));
      b.autopurge && (e._autoPurge(this.options.purgethreshold), e._purgeNodes.push(b.node));
      this._pending === b && (this._pending = null);
      this._reqsWaiting -= 1;
      this._next()
    }
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("features", function(a, f) {
  var b = {};
  a.mix(a.namespace("Features"), {
    tests: b,
    add: function(a, h, g) {
      b[a] = b[a] || {};
      b[a][h] = g
    },
    all: function(e, h) {
      var g = b[e],
        c = [];
      g && a.Object.each(g, function(b, g) {
        c.push(g + ":" + (a.Features.test(e, g, h) ? 1 : 0))
      });
      return c.length ? c.join(";") : ""
    },
    test: function(e, h, g) {
      g = g || [];
      var c, f = (e = b[e]) && e[h];
      if (f && (c = f.result, a.Lang.isUndefined(c))) {
        (h = f.ua) && (c = a.UA[h]);
        if ((e = f.test) && (!h || c)) c = e.apply(a, g);
        f.result = c
      }
      return c
    }
  });
  var c = a.Features.add;
  c("load", "0", {
    name: "app-transitions-native",
    test: function(a) {
      return (a = (a = a.config.doc) ? a.documentElement : null) && a.style ? "MozTransition" in a.style || "WebkitTransition" in a.style || "transition" in a.style : !1
    },
    trigger: "app-transitions"
  });
  c("load", "1", {
    name: "autocomplete-list-keys",
    test: function(a) {
      return !(a.UA.ios || a.UA.android)
    },
    trigger: "autocomplete-list"
  });
  c("load", "2", {
    name: "dd-gestures",
    trigger: "dd-drag",
    ua: "touchEnabled"
  });
  c("load", "3", {
    name: "dom-style-ie",
    test: function(a) {
      var b = a.Features.test,
        g = a.Features.add,
        c = a.config.win,
        f = a.config.doc;
      a = !1;
      g("style", "computedStyle", {
        test: function() {
          return c && "getComputedStyle" in c
        }
      });
      g("style", "opacity", {
        test: function() {
          return f && "opacity" in f.documentElement.style
        }
      });
      return a = !b("style", "opacity") && !b("style", "computedStyle")
    },
    trigger: "dom-style"
  });
  c("load", "4", {
    name: "editor-para-ie",
    trigger: "editor-para",
    ua: "ie",
    when: "instead"
  });
  c("load", "5", {
    name: "event-base-ie",
    test: function(a) {
      return (a = a.config.doc && a.config.doc.implementation) && !a.hasFeature("Events", "2.0")
    },
    trigger: "node-base"
  });
  c("load", "6", {
    name: "graphics-canvas",
    test: function(a) {
      var b = a.config.doc;
      a = a.config.defaultGraphicEngine && "canvas" == a.config.defaultGraphicEngine;
      var g = b && b.createElement("canvas");
      return (!(b && b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")) || a) && g && g.getContext && g.getContext("2d")
    },
    trigger: "graphics"
  });
  c("load", "7", {
    name: "graphics-canvas-default",
    test: function(a) {
      var b = a.config.doc;
      a = a.config.defaultGraphicEngine && "canvas" == a.config.defaultGraphicEngine;
      var g = b && b.createElement("canvas");
      return (!(b && b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")) || a) && g && g.getContext && g.getContext("2d")
    },
    trigger: "graphics"
  });
  c("load", "8", {
    name: "graphics-svg",
    test: function(a) {
      var b = a.config.doc;
      a = !a.config.defaultGraphicEngine || "canvas" != a.config.defaultGraphicEngine;
      var g = b && b.createElement("canvas");
      return b && b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") && (a || !g)
    },
    trigger: "graphics"
  });
  c("load", "9", {
    name: "graphics-svg-default",
    test: function(a) {
      var b = a.config.doc;
      a = !a.config.defaultGraphicEngine || "canvas" != a.config.defaultGraphicEngine;
      var g = b && b.createElement("canvas");
      return b && b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") && (a || !g)
    },
    trigger: "graphics"
  });
  c("load", "10", {
    name: "graphics-vml",
    test: function(a) {
      var b = (a = a.config.doc) && a.createElement("canvas");
      return a && !a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") && (!b || !b.getContext || !b.getContext("2d"))
    },
    trigger: "graphics"
  });
  c("load", "11", {
    name: "graphics-vml-default",
    test: function(a) {
      var b = (a = a.config.doc) && a.createElement("canvas");
      return a && !a.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") && (!b || !b.getContext || !b.getContext("2d"))
    },
    trigger: "graphics"
  });
  c("load", "12", {
    name: "history-hash-ie",
    test: function(a) {
      var b = a.config.doc && a.config.doc.documentMode;
      return a.UA.ie && (!("onhashchange" in a.config.win) || !b || 8 > b)
    },
    trigger: "history-hash"
  });
  c("load", "13", {
    name: "io-nodejs",
    trigger: "io-base",
    ua: "nodejs"
  });
  c("load", "14", {
    name: "json-parse-shim",
    test: function(a) {
      function b(a, e) {
        return "ok" === a ? !0 : e
      }
      var g = a.config.global.JSON,
        g = "[object JSON]" === Object.prototype.toString.call(g) && g;
      if (a = !1 !== a.config.useNativeJSONParse && !! g) try {
        a = g.parse('{"ok":false}', b).ok
      } catch (c) {
        a = !1
      }
      return !a
    },
    trigger: "json-parse"
  });
  c("load", "15", {
    name: "json-stringify-shim",
    test: function(a) {
      var b = a.config.global.JSON,
        b = "[object JSON]" === Object.prototype.toString.call(b) && b;
      if (a = !1 !== a.config.useNativeJSONStringify && !! b) try {
        a = "0" === b.stringify(0)
      } catch (g) {
        a = !1
      }
      return !a
    },
    trigger: "json-stringify"
  });
  c("load", "16", {
    name: "scrollview-base-ie",
    trigger: "scrollview-base",
    ua: "ie"
  });
  c("load", "17", {
    name: "selector-css2",
    test: function(a) {
      return (a = a.config.doc) && !("querySelectorAll" in a)
    },
    trigger: "selector"
  });
  c("load", "18", {
    name: "transition-timer",
    test: function(a) {
      a = (a = a.config.doc) ? a.documentElement : null;
      var b = !0;
      a && a.style && (b = !("MozTransition" in a.style || "WebkitTransition" in a.style || "transition" in a.style));
      return b
    },
    trigger: "transition"
  });
  c("load", "19", {
    name: "widget-base-ie",
    trigger: "widget-base",
    ua: "ie"
  });
  c("load", "20", {
    name: "yql-jsonp",
    test: function(a) {
      return !a.UA.nodejs && !a.UA.winjs
    },
    trigger: "yql"
  });
  c("load", "21", {
    name: "yql-nodejs",
    trigger: "yql",
    ua: "nodejs"
  });
  c("load", "22", {
    name: "yql-winjs",
    trigger: "yql",
    ua: "winjs"
  })
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("intl-base", function(a, f) {
  var b = /[, ]/;
  a.mix(a.namespace("Intl"), {
    lookupBestLang: function(c, e) {
      var h, g, l;
      a.Lang.isString(c) && (c = c.split(b));
      for (h = 0; h < c.length; h += 1) if ((g = c[h]) && "*" !== g) for (; 0 < g.length;) {
        a: {
          l = g;
          for (var f = void 0, f = 0; f < e.length; f += 1) if (l.toLowerCase() === e[f].toLowerCase()) {
            l = e[f];
            break a
          }
          l = void 0
        }
        if (l) return l;
        l = g.lastIndexOf("-");
        if (0 <= l) g = g.substring(0, l), 2 <= l && "-" === g.charAt(l - 2) && (g = g.substring(0, l - 2));
        else break
      }
      return ""
    }
  })
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("yui-log", function(a, f) {
  var b = {
    debug: 1,
    info: 2,
    warn: 4,
    error: 8
  };
  a.log = function(c, e, h, g) {
    var l, f, m, n;
    n = a.config;
    var p = a.fire ? a : YUI.Env.globalEvents;
    n.debug && (h = h || "", "undefined" !== typeof h && (f = n.logExclude, (m = n.logInclude) && !(h in m) ? l = 1 : m && h in m ? l = !m[h] : f && h in f && (l = f[h]), "undefined" === typeof e && (e = "info"), a.config.logLevel = a.config.logLevel || "debug", f = b[a.config.logLevel.toLowerCase()], e in b && b[e] < f && (l = 1)), l || (n.useBrowserConsole && (l = h ? h + ": " + c : c, a.Lang.isFunction(n.logFn) ? n.logFn.call(a,
    c, e, h) : "undefined" !== typeof console && console.log ? (n = e && console[e] && e in b ? e : "log", console[n](l)) : "undefined" !== typeof opera && opera.postError(l)), p && !g && (p === a && !p.getEvent("yui:log") && p.publish("yui:log", {
      broadcast: 2
    }), p.fire("yui:log", {
      msg: c,
      cat: e,
      src: h
    }))));
    return a
  };
  a.message = function() {
    return a.log.apply(a, arguments)
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("yui-later", function(a, f) {
  var b = [];
  a.later = function(c, e, h, g, l) {
    c = c || 0;
    g = !a.Lang.isUndefined(g) ? a.Array(g) : b;
    e = e || a.config.win || a;
    var f = !1,
      m = e && a.Lang.isString(h) ? e[h] : h;
    h = function() {
      f || (m.apply ? m.apply(e, g || b) : m(g[0], g[1], g[2], g[3]))
    };
    var n = l ? setInterval(h, c) : setTimeout(h, c);
    return {
      id: n,
      interval: l,
      cancel: function() {
        f = !0;
        this.interval ? clearInterval(n) : clearTimeout(n)
      }
    }
  };
  a.Lang.later = a.later
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("yui", function(a, f) {}, "3.17.2", {
  use: ["get", "features", "intl-base", "yui-log", "yui-later"]
});
YUI.add("squarespace-widgets-lightbox2", function(a) {
  a.namespace("Squarespace.Widgets");
  a.Squarespace.Widgets.Lightbox2 = a.Squarespace.Lightbox2 = a.Base.create("Lightbox2", a.Squarespace.Widgets.Gismo, [], {
    initializer: function() {
      window.ACTIVE_LIGHTBOX = this;
      this._overlay = new a.Squarespace.Lightbox2Overlay;
      this._overlay.on("hide", this.hideAndDestroy, this);
      this.bMobile = a.Squarespace.GalleryManager.isMobile();
      this.resizeEmitter = new a.Squarespace.ResizeEmitter({
        timeout: 100
      })
    },
    destructor: function() {
      this._flushEvents();
      a.Lang.isValue(this._slideshow) && (this._slideshow.destroy(), this._slideshow = null);
      this._overlay.destroy();
      this._overlay = null
    },
    renderUI: function() {
      a.Squarespace.Lightbox2.superclass.renderUI.call(this);
      a.one("body").addClass("sqs-lightbox-open");
      var f = this.get("contentBox");
      this._overlay.render(f);
      1 < this.get("set").length ? (!this.bMobile && this.get("controls.previous") && (this._previousEl = a.Node.create('<a class="sqs-lightbox-previous"></a>'), f.appendChild(this._previousEl)), !this.bMobile && this.get("controls.next") && (this._nextEl = a.Node.create('<a class="sqs-lightbox-next"></a>'), f.appendChild(this._nextEl))) : this.get("set").length || this.set("set", [{
        content: this.get("content"),
        meta: this.get("meta")
      }]);
      this._slideshow = this.createSlideshow(f);
      this._lightboxContentEl = this._slideshow.get("container");
      this._closeEl = a.Node.create('<a class="sqs-lightbox-close"></a>').appendTo(f).hide();
      this.bMobile && (this._metaTriggerEl = a.Node.create('<a class="sqs-lightbox-meta-trigger">&bull;</a>').appendTo(f));
      this._lightboxContentEl.plug(a.Squarespace.Animations.Scalable);
      this._lightboxContentEl.once("shown", function() {
        this._lightboxContentEl.setStyles({
          transform: null
        })
      }, this);
      this._overlay.once("shown", function() {
        this.ignoreBodyClicks = !0;
        a.Squarespace.EscManager.addTarget(this);
        this._lightboxContentEl.show();
        this._closeEl && this._closeEl.show();
        if (this._slideshow) {
          var b = this._slideshow.get("slides").item(this._slideshow.get("currentIndex")).one(".sqs-video-wrapper");
          b && b.videoloader.showVideo()
        }
      }, this);
      f.plug(a.Squarespace.Plugin.ScrollLock)
    },
    bindUI: function() {
      a.Squarespace.Lightbox2.superclass.bindUI.call(this);
      this._slideshow.after("refresh", this.syncUI, this);
      this._slideshow.after("currentIndexChange", a.bind(function(a) {
        this.set("currentSetIndex", a.newVal);
        this.syncUI()
      }, this));
      this._closeEl && this._event(this._closeEl.on("click", function(a) {
        a.halt();
        this.hideAndDestroy(!0)
      }, this));
      this._metaTriggerEl && this._event(this._metaTriggerEl.on("click", function() {
        this.toggleMeta()
      }, this), "meta-trigger");
      if (this._previousEl) {
        this._event(this._previousEl.on("click", function(a) {
          a.halt();
          this.previous()
        }, this), "previous-click");
        var f = a.throttle(a.bind(this.previous, this), 200);
        this._event(a.on("key", function(a) {
          a.halt();
          f()
        }, window, "down:37", this), "keyboard")
      }
      if (this._nextEl) {
        this._event(this._nextEl.on("click", function(a) {
          a.halt();
          this.next()
        }, this), "next-click");
        var b = a.throttle(a.bind(this.next, this), 200);
        this._event(a.on("key", function(a) {
          a.halt();
          b()
        }, window, "down:39", this), "keyboard");
        this.bMobile || this.setupNavigationFade()
      }!this.isMobile && this._event(this.get("contentBox").on("click", this.onContentBoxClick, this));
      this._event(a.on("transition:scroll:tapped", function(a) {
        this.onContentBoxClick(a.touchEvent)
      }, this))
    },
    syncUI: function() {
      var f = a.UA.ie || !! navigator.userAgent.match(/Trident.*rv.11\./),
        f = a.one(a.UA.gecko || f ? "html" : "body").get("scrollTop");
      this.get("contentBox").setStyles({
        top: f,
        height: window.innerHeight
      });
      var b = this._slideshow._currentSlide();
      (f = b.one(".sqs-lightbox-meta") || this.createMetaEl(b)) ? (a.Lang.isValue(this._metaTriggerEl) && this._metaTriggerEl.show(), this.bMobile ? (f.appendTo(b), f.setStyles({
        bottom: this.bMetaEnabled ? 0 : "-5000px",
        left: 0,
        right: 0
      }), f.addClass("overlay-description-visible")) : (b = b.one(".sqs-lightbox-padder").get("children").item(0), f.setStyles({
        bottom: parseInt(b.getStyle("top"), 10) - 1 + "px",
        left: b.getStyle("left"),
        right: parseInt(b.getStyle("left"), 10) - 1 + "px"
      }))) : a.Lang.isValue(this._metaTriggerEl) && this._metaTriggerEl.hide()
    },
    onContentBoxClick: function(f) {
      if (!f.target.ancestor("a", !0)) if (f.halt(), f.target.ancestor(".sqs-video-wrapper")) f.target.ancestor(".sqs-video-wrapper").videoloader.showVideo();
      else {
        if (!this.bMobile) {
          var b = a.one("body").get("winWidth"),
            c = a.one("body").get("winHeight");
          if (f.clientX > 0.02 * b && f.clientX < 0.98 * b && f.clientY > 0.02 * c && f.clientY < 0.98 * c) {
            if (f.clientX >= b / 2 && this._nextEl) {
              this.next();
              return
            }
            if (f.clientX < a.one("body").get("winWidth") / 2 && this._previousEl) {
              this.previous();
              return
            }
          }
        }
        this.hideAndDestroy(!0)
      }
    },
    previous: function() {
      this._slideshow.previousSlide()
    },
    next: function() {
      this._slideshow.nextSlide()
    },
    close: function() {
      this.hideAndDestroy()
    },
    toggleMeta: function() {
      this.get("contentBox").all(".sqs-lightbox-meta").each(a.bind(function(a) {
        this.bMetaEnabled = 0 === parseInt(a.getStyle("bottom"), 10) ? !0 : !1;
        this._anim(a, {
          bottom: this.bMetaEnabled ? "-5000px" : "0"
        }, {
          duration: this.get("speed")
        }).run();
        this.bMetaEnabled = !this.bMetaEnabled
      }, this))
    },
    hideAndDestroy: function(f) {
      a.Lang.isBoolean(f) && f ? this._overlay.overlayHideAndDestroy() : (this.once("hidden", this.destroy), this.hide());
      a.one("body").removeClass("sqs-lightbox-open")
    },
    hide: function() {
      var f = this._anim(this.get("contentBox"), {
        opacity: 0
      }, {
        duration: this.get("speed")
      });
      f.once("end", function() {
        a.Squarespace.EscManager.removeTarget(this);
        this.fire("hidden")
      }, this);
      this.get("destroyed") ? f.fire("end") : f.run()
    },
    setupNavigationFade: function() {
      var f, b = function(b) {
        f && f.cancel();
        b && b.inViewportRegion() && (b.addClass("mouseover").siblings().removeClass("mouseover"), f = a.later(500, this, function() {
          b && b.inViewportRegion() && b.removeClass("mouseover")
        }))
      };
      this._event(this._nextEl.on("mouseenter", function() {
        f && f.cancel()
      }), "nav-next-onmouse");
      this._event(this._previousEl.on("mouseenter", function() {
        f && f.cancel()
      }), "nav-prev-onmouse");
      this._event(this._lightboxContentEl.on("mousemove",
      a.bind(function(c) {
        c.clientX < a.one("body").get("winWidth") / 2 ? b(this._previousEl) : b(this._nextEl)
      }, this)), "container-hovering")
    },
    createSlideshow: function(f) {
      f = a.Node.create('<div class="sqs-lightbox-slideshow"></div>').appendTo(f);
      for (var b = this.get("set"), c = 0; c < b.length; c++) {
        var e = a.Node.create('<div class="sqs-lightbox-slide"></div>').appendTo(f),
          e = a.Node.create('<div class="sqs-lightbox-padder"></div>').appendTo(e);
        a.one(b[c].content.cloneNode(!0)).appendTo(e).setAttribute("data-image-stretch", "false").setStyle("opacity", null).removeClass("video-fill").all("iframe").remove()
      }
      return new a.Squarespace.Gallery2({
        container: f,
        currentIndex: this.get("currentSetIndex"),
        loop: !this.bMobile,
        autoplay: !1,
        refreshOnResize: !0,
        refreshOnOrientationChange: !0,
        design: "stacked",
        keyboard: !1,
        designOptions: {
          clickBehavior: !1,
          easing: a.Easing.easeInOutExpo,
          speed: 0.6,
          autoHeight: !1,
          transition: this.bMobile ? "scroll" : "fade",
          transitionOptions: {
            direction: "horizontal"
          }
        },
        loaderOptions: {
          mode: "fit"
        },
        lazyLoad: !0,
        videoLoaderOptions: this.get("videoLoaderOptions")
      })
    },
    createMetaEl: function(f) {
      f = f.one(".sqs-lightbox-padder");
      var b = this.getCurrentElMeta();
      if (b) {
        var c = a.Node.create('<div class="sqs-lightbox-meta"></div>');
        c.appendChild(b);
        f.appendChild(c);
        this.bMobile || (this._event(f.one(":first-child").on("mouseenter", function() {
          c.addClass("overlay-description-visible")
        }, this), "meta-hovering"), this._event(f.one(":first-child").on("mouseleave", function() {
          c.removeClass("overlay-description-visible")
        }, this), "meta-hovering"), this._event(c.on("mouseenter", function() {
          c.addClass("overlay-description-visible")
        },
        this), "meta-hovering"), this._event(c.on("mouseleave", function() {
          c.removeClass("overlay-description-visible")
        }, this), "meta-hovering"));
        return c
      }
    },
    getCurrentElContent: function() {
      return 0 < this.get("set").length ? this.get("set")[this.get("currentSetIndex")].content : this.get("content")
    },
    getCurrentElMeta: function() {
      return 0 < this.get("set").length ? this.get("set")[this.get("currentSetIndex")].meta : this.get("meta")
    }
  }, {
    NS: "lightbox2",
    ATTRS: {
      content: {},
      controls: {
        value: {
          previous: !1,
          next: !1
        }
      },
      currentSetIndex: {
        value: 0
      },
      meta: {},
      padding: {
        value: 100
      },
      set: {
        value: []
      },
      speed: {
        value: 0.6
      },
      videoLoaderOptions: {
        value: {}
      }
    }
  })
}, "1.0", {
  requires: "async-queue base dom-style-ie event-key event-mouseenter node plugin squarespace-animations squarespace-common squarespace-debugger squarespace-gallery-stacked squarespace-image-loader squarespace-gallery-ng squarespace-plugin-scroll-lock squarespace-touch-event-listener squarespace-util squarespace-video-loader squarespace-widgets-gismo squarespace-widgets-lightbox2-overlay widget yui-throttle".split(" ")
});
YUI.add("escape", function(a, f) {
  var b = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#x27;",
    "/": "&#x2F;",
    "`": "&#x60;"
  }, c = {
    html: function(a) {
      return (a + "").replace(/[&<>"'\/`]/g, c._htmlReplacer)
    },
    regex: function(a) {
      return (a + "").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g, "\\$&")
    },
    _htmlReplacer: function(a) {
      return b[a]
    }
  };
  c.regexp = c.regex;
  a.Escape = c
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("querystring-parse", function(a, f) {
  var b = a.namespace("QueryString"),
    c = function(e) {
      return function l(c, f) {
        var n, p, q;
        if (2 !== arguments.length) return c = c.split(e), l(b.unescape(c.shift()), b.unescape(c.join(e)));
        c = c.replace(/^\s+|\s+$/g, "");
        a.Lang.isString(f) && (f = f.replace(/^\s+|\s+$/g, ""), isNaN(f) || (p = +f, f === p.toString(10) && (f = p)));
        n = /(.*)\[([^\]]*)\]$/.exec(c);
        if (!n) return q = {}, c && (q[c] = f), q;
        p = n[2];
        n = n[1];
        if (!p) return l(n, [f]);
        q = {};
        q[p] = f;
        return l(n, q)
      }
    }, e = function(b, g) {
      var c;
      if (b) if (a.Lang.isArray(b)) c = b.concat(g);
      else if (!a.Lang.isObject(b) || !a.Lang.isObject(g)) c = [b].concat(g);
      else {
        for (c in g) c && g.hasOwnProperty(c) && (b[c] = e(b[c], g[c]));
        c = b
      } else c = g;
      return c
    };
  b.parse = function(b, g, f) {
    return a.Array.reduce(a.Array.map(b.split(g || "&"), c(f || "=")), {}, e)
  };
  b.unescape = function(a) {
    return decodeURIComponent(a.replace(/\+/g, " "))
  }
}, "3.17.2", {
  requires: ["yui-base", "array-extras"]
});
YUI.add("anim-node-plugin", function(a, f) {
  var b = function(c) {
    c = c ? a.merge(c) : {};
    c.node = c.host;
    b.superclass.constructor.apply(this, arguments)
  };
  b.NAME = "nodefx";
  b.NS = "fx";
  a.extend(b, a.Anim);
  a.namespace("Plugin");
  a.Plugin.NodeFX = b
}, "3.17.2", {
  requires: ["node-pluginhost", "anim-base"]
});
YUI.add("dataschema-json", function(a, f) {
  var b = a.Lang,
    c = b.isFunction,
    e = b.isObject,
    h = b.isArray,
    g = a.DataSchema.Base,
    l;
  l = {
    getPath: function(a) {
      var b = null,
        e = [],
        g = 0;
      if (a) {
        a = a.replace(/\[\s*(['"])(.*?)\1\s*\]/g, function(a, b, c) {
          e[g] = c;
          return ".@" + g++
        }).replace(/\[(\d+)\]/g, function(a, b) {
          e[g] = parseInt(b, 10) | 0;
          return ".@" + g++
        }).replace(/^\./, "");
        b = a.split(".");
        for (g = b.length - 1; 0 <= g; --g) "@" === b[g].charAt(0) && (b[g] = e[parseInt(b[g].substr(1), 10)])
      }
      return b
    },
    getLocationValue: function(a, b) {
      for (var g = 0, c = a.length; g < c; g++) if (e(b) && a[g] in b) b = b[a[g]];
      else {
        b = void 0;
        break
      }
      return b
    },
    apply: function(b, g) {
      var c = g,
        h = {
          results: [],
          meta: {}
        };
      if (!e(g)) try {
        c = a.JSON.parse(g)
      } catch (f) {
        return h.error = f, h
      }
      e(c) && b ? (h = l._parseResults.call(this, b, c, h), void 0 !== b.metaFields && (h = l._parseMeta(b.metaFields, c, h))) : h.error = Error("JSON schema parse failure");
      return h
    },
    _parseResults: function(a, b, e) {
      var g = l.getPath,
        c = l.getLocationValue;
      b = (g = g(a.resultListLocator)) ? c(g, b) || b[a.resultListLocator] : b;
      h(b) ? h(a.resultFields) ? e = l._getFieldValues.call(this,
      a.resultFields, b, e) : e.results = b : a.resultListLocator && (e.results = [], e.error = Error("JSON results retrieval failure"));
      return e
    },
    _getFieldValues: function(b, e, h) {
      var f = [],
        q = b.length,
        r, u, v, w, y, s = [],
        x = [],
        C = [];
      for (r = 0; r < q; r++) u = b[r], v = u.key || u, w = u.locator || v, (y = l.getPath(w)) && (1 === y.length ? s.push({
        key: v,
        path: y[0]
      }) : x.push({
        key: v,
        path: y,
        locator: w
      })), (y = c(u.parser) ? u.parser : a.Parsers[u.parser + ""]) && C.push({
        key: v,
        parser: y
      });
      for (r = e.length - 1; 0 <= r; --r) if (q = {}, u = e[r]) {
        for (b = x.length - 1; 0 <= b; --b) {
          y = x[b];
          v = l.getLocationValue(y.path,
          u);
          if (void 0 === v && (v = l.getLocationValue([y.locator], u), void 0 !== v)) {
            s.push({
              key: y.key,
              path: y.locator
            });
            x.splice(r, 1);
            continue
          }
          q[y.key] = g.parse.call(this, l.getLocationValue(y.path, u), y)
        }
        for (b = s.length - 1; 0 <= b; --b) y = s[b], q[y.key] = g.parse.call(this, void 0 === u[y.path] ? u[b] : u[y.path], y);
        for (b = C.length - 1; 0 <= b; --b) v = C[b].key, q[v] = C[b].parser.call(this, q[v]), void 0 === q[v] && (q[v] = null);
        f[r] = q
      }
      h.results = f;
      return h
    },
    _parseMeta: function(a, b, g) {
      if (e(a)) {
        var c, h;
        for (c in a) a.hasOwnProperty(c) && (h = l.getPath(a[c])) && b && (g.meta[c] = l.getLocationValue(h, b))
      } else g.error = Error("JSON meta data retrieval failure");
      return g
    }
  };
  a.DataSchema.JSON = a.mix(l, g)
}, "3.17.2", {
  requires: ["dataschema-base", "json"]
});
YUI.add("node-load", function(a, f) {
  a.Node.prototype._ioComplete = function(b, c, e) {
    var h = e[0];
    e = e[1];
    var g;
    c && c.responseText && (g = c.responseText, h && (g = a.DOM.create(g), g = a.Selector.query(h, g)), this.setContent(g));
    e && e.call(this, b, c)
  };
  a.Node.prototype.load = function(b, c, e) {
    "function" == typeof c && (e = c, c = null);
    a.io(b, {
      context: this,
      on: {
        complete: this._ioComplete
      },
      arguments: [c, e]
    });
    return this
  }
}, "3.17.2", {
  requires: ["node-base", "io-base"]
});
YUI.add("dataschema-base", function(a, f) {
  var b = a.Lang;
  a.namespace("DataSchema").Base = {
    apply: function(a, b) {
      return b
    },
    parse: function(c, e) {
      if (e.parser) {
        var h = b.isFunction(e.parser) ? e.parser : a.Parsers[e.parser + ""];
        h && (c = h.call(this, c))
      }
      return c
    }
  };
  a.namespace("Parsers")
}, "3.17.2", {
  requires: ["base"]
});
YUI.add("squarespace-models-tweet", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.Tweet = a.Base.create("Tweet", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "Tweet",
        validator: function(a) {
          return "Tweet" === a
        },
        readOnly: !0
      },
      tweetId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      timeZone: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      accountId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      displayName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      accountName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      tweet: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      profileImageUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      profileImageUrlHttps: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      userLocation: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators",
    "squarespace-models-structured-content"]
});
YUI.add("squarespace-damask-context-globals", function(a) {
  a.namespace("Squarespace.Damask");
  a.Squarespace.Damask.ContextGlobals = {
    isDamask: function() {
      return a.Squarespace.Utils.isDamaskEnabled() && a.Lang.isValue(CONFIG_PANEL)
    },
    frameWindow: function() {
      return !a.Lang.isValue(a.config.win.frames["sqs-site-frame"]) ? (console.warn("[ContextGlobals] frameWindow method called from a non-damask frame."), a.config.win) : CONFIG_PANEL.getFrameContentWindow()
    },
    topWindow: function() {
      var f = a.config.win;
      try {
        a.Lang.isValue(f.frameElement) && "sqs-site-frame" === f.frameElement.id && (f = f.parent)
      } catch (b) {}
      return a.one(f)
    },
    fromFrame: function(f) {
      var b = this.frameWindow();
      return a.Lang.isValue(f) ? a.Lang.isArray(f) ? a.Object.getValue(b.get(f[0]), f.slice(1)) : b.get(f) : b
    },
    fromTop: function(f) {
      var b = this.topWindow();
      return a.Lang.isValue(f) ? a.Lang.isArray(f) ? a.Object.getValue(b.get(f[0]), f.slice(1)) : b.get(f) : b
    },
    get: function(a) {
      return this.isDamask() ? this.fromFrame(a) : this.fromTop(a)
    },
    getWindow: function() {
      return this.isDamask() ? this.frameWindow() : this.topWindow()
    },
    relative: function(a, b) {
      if (this.isDamask()) {
        var c = this.fromFrame("Y");
        if (a.inDoc(c.config.doc)) return this.fromFrame(b)
      }
      c = this.fromTop("Y");
      if (a.inDoc(c.config.doc)) return this.fromTop(b);
      console.warn("Node is not placed in any document yet");
      return null
    }
  }
}, "1.0", {
  requires: ["squarespace-util"]
});
YUI.add("widget-position-align", function(a, f) {
  function b(a) {}
  var c = a.Lang;
  b.ATTRS = {
    align: {
      value: null
    },
    centered: {
      setter: "_setAlignCenter",
      lazyAdd: !1,
      value: !1
    },
    alignOn: {
      value: [],
      validator: a.Lang.isArray
    }
  };
  b.TL = "tl";
  b.TR = "tr";
  b.BL = "bl";
  b.BR = "br";
  b.TC = "tc";
  b.RC = "rc";
  b.BC = "bc";
  b.LC = "lc";
  b.CC = "cc";
  b.prototype = {
    initializer: function() {
      this._posNode || a.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added");
      a.after(this._bindUIPosAlign, this, "bindUI");
      a.after(this._syncUIPosAlign,
      this, "syncUI")
    },
    _posAlignUIHandles: null,
    destructor: function() {
      this._detachPosAlignUIHandles()
    },
    _bindUIPosAlign: function() {
      this.after("alignChange", this._afterAlignChange);
      this.after("alignOnChange", this._afterAlignOnChange);
      this.after("visibleChange", this._syncUIPosAlign)
    },
    _syncUIPosAlign: function() {
      var a = this.get("align");
      this._uiSetVisiblePosAlign(this.get("visible"));
      a && this._uiSetAlign(a.node, a.points)
    },
    align: function(a, b) {
      arguments.length ? this.set("align", {
        node: a,
        points: b
      }) : this._syncUIPosAlign();
      return this
    },
    centered: function(a) {
      return this.align(a, [b.CC, b.CC])
    },
    _setAlignCenter: function(a) {
      a && this.set("align", {
        node: !0 === a ? null : a,
        points: [b.CC, b.CC]
      });
      return a
    },
    _uiSetAlign: function(e, h) {
      if (!c.isArray(h) || 2 !== h.length) a.error("align: Invalid Points Arguments");
      else {
        var g = this._getRegion(e),
          f, k, m;
        if (g) {
          f = h[0];
          k = h[1];
          switch (k) {
          case b.TL:
            m = [g.left, g.top];
            break;
          case b.TR:
            m = [g.right, g.top];
            break;
          case b.BL:
            m = [g.left, g.bottom];
            break;
          case b.BR:
            m = [g.right, g.bottom];
            break;
          case b.TC:
            m = [g.left + Math.floor(g.width / 2), g.top];
            break;
          case b.BC:
            m = [g.left + Math.floor(g.width / 2), g.bottom];
            break;
          case b.LC:
            m = [g.left, g.top + Math.floor(g.height / 2)];
            break;
          case b.RC:
            m = [g.right, g.top + Math.floor(g.height / 2)];
            break;
          case b.CC:
            m = [g.left + Math.floor(g.width / 2), g.top + Math.floor(g.height / 2)]
          }
          m && this._doAlign(f, m[0], m[1])
        }
      }
    },
    _uiSetVisiblePosAlign: function(a) {
      a ? this._attachPosAlignUIHandles() : this._detachPosAlignUIHandles()
    },
    _attachPosAlignUIHandles: function() {
      if (!this._posAlignUIHandles) {
        var b = this.get("boundingBox"),
          c = a.bind(this._syncUIPosAlign,
          this),
          g = [];
        a.Array.each(this.get("alignOn"), function(f) {
          var k = f.eventName;
          f = a.one(f.node) || b;
          k && g.push(f.on(k, c))
        });
        this._posAlignUIHandles = g
      }
    },
    _detachPosAlignUIHandles: function() {
      var b = this._posAlignUIHandles;
      b && ((new a.EventHandle(b)).detach(), this._posAlignUIHandles = null)
    },
    _doAlign: function(a, c, g) {
      var f = this._posNode,
        k;
      switch (a) {
      case b.TL:
        k = [c, g];
        break;
      case b.TR:
        k = [c - f.get("offsetWidth"), g];
        break;
      case b.BL:
        k = [c, g - f.get("offsetHeight")];
        break;
      case b.BR:
        k = [c - f.get("offsetWidth"), g - f.get("offsetHeight")];
        break;
      case b.TC:
        k = [c - f.get("offsetWidth") / 2, g];
        break;
      case b.BC:
        k = [c - f.get("offsetWidth") / 2, g - f.get("offsetHeight")];
        break;
      case b.LC:
        k = [c, g - f.get("offsetHeight") / 2];
        break;
      case b.RC:
        k = [c - f.get("offsetWidth"), g - f.get("offsetHeight") / 2];
        break;
      case b.CC:
        k = [c - f.get("offsetWidth") / 2, g - f.get("offsetHeight") / 2]
      }
      k && this.move(k)
    },
    _getRegion: function(b) {
      var c;
      b ? (b = a.Node.one(b)) && (c = b.get("region")) : c = this._posNode.get("viewportRegion");
      return c
    },
    _afterAlignChange: function(a) {
      (a = a.newVal) && this._uiSetAlign(a.node,
      a.points)
    },
    _afterAlignOnChange: function(a) {
      this._detachPosAlignUIHandles();
      this.get("visible") && this._attachPosAlignUIHandles()
    }
  };
  a.WidgetPositionAlign = b
}, "3.17.2", {
  requires: ["widget-position"]
});
YUI.add("arraylist", function(a, f) {
  function b(b) {
    this._items = void 0 !== b ? a.Lang.isArray(b) ? b : c(b) : this._items || []
  }
  var c = a.Array,
    e = c.each,
    h;
  h = {
    item: function(a) {
      return this._items[a]
    },
    each: function(a, b) {
      e(this._items, function(e, c) {
        e = this.item(c);
        a.call(b || e, e, c, this)
      }, this);
      return this
    },
    some: function(a, b) {
      return c.some(this._items, function(e, c) {
        e = this.item(c);
        return a.call(b || e, e, c, this)
      }, this)
    },
    indexOf: function(a) {
      return c.indexOf(this._items, a)
    },
    size: function() {
      return this._items.length
    },
    isEmpty: function() {
      return !this.size()
    },
    toJSON: function() {
      return this._items
    }
  };
  h._item = h.item;
  a.mix(b.prototype, h);
  a.mix(b, {
    addMethod: function(a, b) {
      b = c(b);
      e(b, function(b) {
        a[b] = function() {
          var a = c(arguments, 0, !0),
            g = [];
          e(this._items, function(e, c) {
            e = this._item(c);
            var h = e[b].apply(e, a);
            void 0 !== h && h !== e && (g[c] = h)
          }, this);
          return g.length ? g : this
        }
      })
    }
  });
  a.ArrayList = b
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("jsonp", function(a, f) {
  function b() {
    this._init.apply(this, arguments)
  }
  var c = a.Lang.isFunction;
  b.prototype = {
    _init: function(b, h) {
      this.url = b;
      this._requests = {};
      this._timeouts = {};
      h = c(h) ? {
        on: {
          success: h
        }
      } : h || {};
      var g = h.on || {};
      g.success || (g.success = this._defaultCallback(b, h));
      this._config = a.merge({
        context: this,
        args: [],
        format: this._format,
        allowCache: !1
      }, h, {
        on: g
      })
    },
    _defaultCallback: function() {},
    send: function() {
      function b(a, e) {
        return c(a) ? function(b) {
          var g = !0,
            c = "_requests";
          e ? (++h._timeouts[k], --h._requests[k]) : (h._requests[k] || (g = !1, c = "_timeouts"), --h[c][k]);
          !h._requests[k] && !h._timeouts[k] && delete YUI.Env.JSONP[k];
          g && a.apply(f.context, [b].concat(f.args))
        } : null
      }
      var h = this,
        g = a.Array(arguments, 0, !0),
        f = h._config,
        k = h._proxy || a.guid();
      f.allowCache && (h._proxy = k);
      void 0 === h._requests[k] && (h._requests[k] = 0);
      void 0 === h._timeouts[k] && (h._timeouts[k] = 0);
      h._requests[k]++;
      g.unshift(h.url, "YUI.Env.JSONP." + k);
      g = f.format.apply(h, g);
      if (!f.on.success) return h;
      YUI.Env.JSONP[k] = b(f.on.success);
      a.Get.js(g, {
        onFailure: b(f.on.failure),
        onTimeout: b(f.on.timeout, !0),
        timeout: f.timeout,
        charset: f.charset,
        attributes: f.attributes,
        async: f.async
      }).execute();
      return h
    },
    _format: function(a, b) {
      return a.replace(/\{callback\}/, b)
    }
  };
  a.JSONPRequest = b;
  a.jsonp = function(b, c) {
    var g = new a.JSONPRequest(b, c);
    return g.send.apply(g, a.Array(arguments, 2, !0))
  };
  YUI.Env.JSONP || (YUI.Env.JSONP = {})
}, "3.17.2", {
  requires: ["get", "oop"]
});
YUI.add("squarespace-ui-templates", function(a) {
  var f = a.Base.create("UITemplates", a.Base, [], {
    render: function(a, b) {
      var e = this.getCompiledTemplate(a);
      if (!e) throw Error(this.name + ": Could not find UITemplate by the name of: " + a + ". Recompile templates?");
      return e(b || {})
    },
    renderAsNodeOrDocFrag: function(b, e) {
      return a.Node.create(this.render(b, e))
    },
    getCompiledTemplate: function(a) {
      var b = this.get("compiledTemplates")[a];
      if (!b) throw Error(this.name + ": A template by the name " + a + " does not exist.");
      return b
    }
  }, {
    ATTRS: {
      compiledTemplates: {
        readOnly: !0,
        getter: function() {
          var b = a.Handlebars.templates;
          if (!a.Lang.isObject(b)) throw this.name + ": No templates are available. Have you loaded your template module?";
          return b
        }
      }
    }
  });
  a.namespace("Squarespace").UITemplates = new f;
  a.Squarespace.TEMPLATE_FORMATTERS.date = function(b, e, c) {
    return !a.Lang.isNumber(e) ? "Invalid date." : a.DataType.Date.format(new Date(e), {
      format: c
    })
  };
  for (var b in a.Squarespace.TEMPLATE_FORMATTERS)(function(b) {
    a.Handlebars.registerHelper(b, function(e) {
      return a.Squarespace.TEMPLATE_FORMATTERS[b].apply(this, [this].concat(Array.prototype.slice.call(arguments)))
    })
  })(b);
  for (var c in a.Squarespace.TEMPLATE_PREDICATES)(function(b) {
    a.Handlebars.registerHelper("if-" + b.replace("?", ""), function(e) {
      return a.Handlebars.helpers["if"].call(this, function() {
        return a.Squarespace.TEMPLATE_PREDICATES[b](this)
      }, e)
    })
  })(c);
  for (var e in a.Squarespace.HANDLEBARS_HELPERS) a.Handlebars.registerHelper(e, a.Squarespace.HANDLEBARS_HELPERS[e])
}, "1.0", {
  requires: ["base-build", "handlebars-base", "squarespace-template-helpers"]
});
YUI.add("squarespace-spinner", function(a) {
  a.namespace("Squarespace").Spinner = a.Base.create("Spinner", a.Widget, [], {
    renderUI: function() {
      this.get("boundingBox").addClass(this.get("color"));
      0 < a.UA.ie && 10 > a.UA.ie && (this.get("contentBox").append(a.Node.create('<img class="sqs-ie-spinner" src="/universal/images-v6/configuration/crappy-ie-spinner.gif"/>')), this.get("boundingBox").addClass("degraded"));
      var f = this.get("size");
      a.Lang.isNumber(f) || this.get("boundingBox").addClass(f)
    },
    spin: function() {
      this.get("boundingBox").show()
    },
    stop: function() {
      this.get("boundingBox").hide()
    },
    addClass: function(a) {
      this.get("boundingBox").addClass(a)
    }
  }, {
    CSS_PREFIX: "sqs-spin",
    NS: "spinner",
    ATTRS: {
      size: {
        value: "default",
        setter: function(f) {
          a.Lang.isNumber(f) && (this.set("width", f), this.set("height", f));
          return f
        }
      },
      color: {
        value: "light"
      }
    }
  })
}, "1.0", {
  requires: ["base-build", "widget"]
});
YUI.add("squarespace-logger", function(a) {
  var f = [],
    b = null,
    c = a.Base.create("Logger", a.Base, [], {
      initializer: function() {
        a.one(a.config.win).on("beforeunload", this.flush, this);
        this._syncDebugActiveElement();
        this.after("debugActiveElementChange", this._syncDebugActiveElement, this)
      },
      _syncDebugActiveElement: function() {
        this._debugActiveElementTimer && this._debugActiveElementTimer.cancel();
        this.get("debugActiveElement") && (this._debugActiveElementTimer = a.later(500, this, function() {
          this.debug({
            focusElement: this._getDOMNodeDescriptor(a.config.doc.activeElement)
          })
        },
        null, !0))
      },
      _getDOMNodeDescriptor: function(b) {
        b = a.one(b);
        var c = b.get("tagName").toLowerCase(),
          g = b.getAttribute("id");
        b = b.get("className").split(" ");
        var f = "";
        0 < b.length && (f = "." + b.join("."), 20 < f.length && (f = f.substr(0, 20) + "..."));
        return c + (g ? "#" + g : "") + f
      },
      enqueue: function(a) {
        f.push(a);
        this.wait()
      },
      flush: function(e) {
        try {
          clearTimeout(b)
        } catch (c) {}
        b = null;
        0 < f.length && a.Data.post({
          url: "/api/events/Trace",
          data: {
            data: JSON.stringify(f)
          },
          failure: function() {}
        });
        f = []
      },
      wait: function() {
        null === b && (b = setTimeout(a.bind(this.flush,
        this), this.get("timerLength")))
      },
      log: function(b, c) {
        a.Lang.isValue(b) && this.enqueue({
          pageUrl: document.location.href,
          type: b,
          data: JSON.stringify(a.Lang.isValue(c) ? c : {})
        })
      },
      debug: function(b) {
        var c = a.one("#logger-debug") || a.one(a.config.doc.body).appendChild(a.Node.create('<div id="logger-debug"></div>'));
        c.setStyles({
          position: "fixed",
          right: 50,
          top: 50,
          background: "rgba(150,100,100,0.9)",
          border: "solid 1px white",
          color: "white",
          borderRadius: "3px",
          padding: 20,
          zIndex: 1E7,
          fontSize: "10px"
        });
        c.setContent('<xmp style="margin:0">' + JSON.stringify(b, null, 2) + "</xmp>")
      }
    }, {
      ATTRS: {
        timerLength: {
          value: 3E4
        },
        debugActiveElement: {
          value: !1
        }
      }
    });
  a.namespace("Squarespace").Logger = new c
}, "1.0", {
  requires: ["node", "io-base", "cookie", "event", "base"]
});
YUI.add("squarespace-modal-lightbox", function(a) {
  a.namespace("Squarespace.Widgets");
  var f = a.Squarespace.Widgets.ModalLightbox = a.Base.create("modalLightbox", a.Squarespace.Widgets.SSWidget, [], {
    initializer: function() {
      this._resizeEmitter = new a.Squarespace.ResizeEmitter({
        timeout: 100
      })
    },
    destructor: function() {
      this._resizeEmitter.destroy()
    },
    renderUI: function() {
      f.superclass.renderUI.call(this);
      this.get("boundingBox").hide();
      var b = this._innerEl = a.Node.create('<div class="lightbox-inner"></div>');
      b.append('<div class="lightbox-content"></div>');
      this.get("contentBox").append('<div class="lightbox-background"></div>').append(b);
      this._renderContent();
      this.get("openOnRender") && this.open()
    },
    bindUI: function() {
      f.superclass.bindUI.call(this);
      this.after("contentChange", function() {
        this._renderContent();
        this.syncUI()
      }, this);
      this._resizeEmitter.on("resize", this.syncUI, this);
      this.get("contentBox").delegate("click", function() {
        this.close();
        a.Squarespace.EscManager.removeTarget(this)
      }, ".lightbox-close", this);
      this._innerEl.plug(a.Squarespace.Plugin.ScrollLock)
    },
    syncUI: function() {
      f.superclass.syncUI.call(this);
      this._setContentMarginTop()
    },
    open: function() {
      a.one("html").addClass("sqs-modal-lightbox-open");
      this.get("boundingBox").show();
      this._setContentBoxTop();
      this.syncUI();
      a.Squarespace.EscManager.addTarget(this);
      this.fire("open")
    },
    close: function() {
      a.one("html").removeClass("sqs-modal-lightbox-open");
      this.get("boundingBox").hide();
      this.fire("close")
    },
    _renderContent: function() {
      var b = this._innerEl.one(".lightbox-content"),
        c = this.get("content");
      b.empty();
      a.instanceOf(c,
      a.Widget) ? c.render(b) : b.setContent(c);
      b.append('<div class="lightbox-close">&times;</div>')
    },
    _setContentBoxTop: function() {
      this.get("contentBox").setStyle("top", a.one(a.config.doc).get("scrollTop"))
    },
    _setContentMarginTop: function() {
      var b = this._innerEl.one(".lightbox-content"),
        c = a.one(a.config.win).get("winHeight"),
        e = b.get("offsetHeight"),
        c = e > c ? 50 : c / 2 - e / 2;
      b.setStyles({
        marginTop: c,
        marginBottom: c
      })
    }
  }, {
    CSS_PREFIX: "sqs-modal-lightbox",
    ATTRS: {
      content: {
        value: null
      },
      animDuration: {
        value: 0.3
      },
      openOnRender: {
        value: !1
      }
    }
  })
}, "1.0", {
  requires: ["base", "node", "squarespace-util", "squarespace-ss-widget", "squarespace-plugin-scroll-lock"]
});
YUI.add("model", function(a, f) {
  function b() {
    b.superclass.constructor.apply(this, arguments)
  }
  var c = YUI.namespace("Env.Model"),
    e = a.Lang,
    h = a.Array,
    g = a.Object,
    l = "error";
  a.Model = a.extend(b, a.Base, {
    idAttribute: "id",
    _allowAdHocAttrs: !0,
    _isYUIModel: !0,
    initializer: function(a) {
      this.changed = {};
      this.lastChange = {};
      this.lists = []
    },
    destroy: function(a, e) {
      var g = this;
      "function" === typeof a && (e = a, a = null);
      g.onceAfter("destroy", function() {
        function b(c) {
          c || h.each(g.lists.concat(), function(b) {
            b.remove(g, a)
          });
          e && e.apply(null,
          arguments)
        }
        a && (a.remove || a["delete"]) ? g.sync("delete", a, b) : b()
      });
      return b.superclass.destroy.call(g)
    },
    generateClientId: function() {
      c.lastId || (c.lastId = 0);
      return this.constructor.NAME + "_" + (c.lastId += 1)
    },
    getAsHTML: function(b) {
      b = this.get(b);
      return a.Escape.html(e.isValue(b) ? String(b) : "")
    },
    getAsURL: function(a) {
      a = this.get(a);
      return encodeURIComponent(e.isValue(a) ? String(a) : "")
    },
    isModified: function() {
      return this.isNew() || !g.isEmpty(this.changed)
    },
    isNew: function() {
      return !e.isValue(this.get("id"))
    },
    load: function(a,
    b) {
      var e = this;
      "function" === typeof a && (b = a, a = {});
      a || (a = {});
      e.sync("read", a, function(g, c) {
        var h = {
          options: a,
          response: c
        }, f;
        g ? (h.error = g, h.src = "load", e.fire(l, h)) : (e._loadEvent || (e._loadEvent = e.publish("load", {
          preventable: !1
        })), f = h.parsed = e._parse(c), e.setAttrs(f, a), e.changed = {}, e.fire("load", h));
        b && b.apply(null, arguments)
      });
      return e
    },
    parse: function(b) {
      if ("string" === typeof b) try {
        return a.JSON.parse(b)
      } catch (e) {
        return this.fire(l, {
          error: e,
          response: b,
          src: "parse"
        }), null
      }
      return b
    },
    save: function(a, b) {
      var e = this;
      "function" === typeof a && (b = a, a = {});
      a || (a = {});
      e._validate(e.toJSON(), function(g) {
        g ? b && b.call(null, g) : e.sync(e.isNew() ? "create" : "update", a, function(g, c) {
          var h = {
            options: a,
            response: c
          }, f;
          g ? (h.error = g, h.src = "save", e.fire(l, h)) : (e._saveEvent || (e._saveEvent = e.publish("save", {
            preventable: !1
          })), c && (f = h.parsed = e._parse(c), e.setAttrs(f, a)), e.changed = {}, e.fire("save", h));
          b && b.apply(null, arguments)
        })
      });
      return e
    },
    set: function(a, b, e) {
      var g = {};
      g[a] = b;
      return this.setAttrs(g, e)
    },
    setAttrs: function(b, e) {
      var c = this.idAttribute,
        h, f, l, u;
      e = a.merge(e);
      u = e._transaction = {};
      "id" !== c && (b = a.merge(b), g.owns(b, c) ? b.id = b[c] : g.owns(b, "id") && (b[c] = b.id));
      for (f in b) g.owns(b, f) && this._setAttr(f, b[f], e);
      if (!g.isEmpty(u)) {
        c = this.changed;
        l = this.lastChange = {};
        for (f in u) g.owns(u, f) && (h = u[f], c[f] = h.newVal, l[f] = {
          newVal: h.newVal,
          prevVal: h.prevVal,
          src: h.src || null
        });
        e.silent || (this._changeEvent || (this._changeEvent = this.publish("change", {
          preventable: !1
        })), e.changed = l, this.fire("change", e))
      }
      return this
    },
    sync: function() {
      var a = h(arguments, 0, !0).pop();
      "function" === typeof a && a()
    },
    toJSON: function() {
      var a = this.getAttrs();
      delete a.clientId;
      delete a.destroyed;
      delete a.initialized;
      "id" !== this.idAttribute && delete a.id;
      return a
    },
    undo: function(a, b) {
      var e = this.lastChange,
        c = this.idAttribute,
        f = {}, l;
      a || (a = g.keys(e));
      h.each(a, function(a) {
        g.owns(e, a) && (a = a === c ? "id" : a, l = !0, f[a] = e[a].prevVal)
      });
      return l ? this.setAttrs(f, b) : this
    },
    validate: function(a, b) {
      b && b()
    },
    addAttr: function(a, g, c) {
      var h = this.idAttribute,
        f;
      h && a === h && (h = this._isLazyAttr("id") || this._getAttrCfg("id"),
      f = g.value === g.defaultValue ? null : g.value, e.isValue(f) || (f = h.value === h.defaultValue ? null : h.value, e.isValue(f) || (f = e.isValue(g.defaultValue) ? g.defaultValue : h.defaultValue)), g.value = f, h.value !== f && (h.value = f, this._isLazyAttr("id") ? this._state.add("id", "lazy", h) : this._state.add("id", "value", f)));
      return b.superclass.addAttr.apply(this, arguments)
    },
    _parse: function(a) {
      return this.parse(a)
    },
    _validate: function(a, b) {
      function g(h) {
        e.isValue(h) ? (c.fire(l, {
          attributes: a,
          error: h,
          src: "validate"
        }), b(h)) : b()
      }
      var c = this;
      1 === c.validate.length ? g(c.validate(a, g)) : c.validate(a, g)
    },
    _setAttrVal: function(a, e, g, c, h, f) {
      var l = b.superclass._setAttrVal.apply(this, arguments),
        v = h && h._transaction,
        w = f && f.initializing;
      l && (v && !w) && (v[a] = {
        newVal: this.get(a),
        prevVal: g,
        src: h.src || null
      });
      return l
    }
  }, {
    NAME: "model",
    ATTRS: {
      clientId: {
        valueFn: "generateClientId",
        readOnly: !0
      },
      id: {
        value: null
      }
    }
  })
}, "3.17.2", {
  requires: ["base-build", "escape", "json-parse"]
});
YUI.add("squarespace-models-link", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.Link = a.Base.create("Link", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "Link",
        validator: function(a) {
          return "Link" === a
        },
        readOnly: !0
      },
      url: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("squarespace-search-preview", function(a) {
  a.namespace("Squarespace");
  var f = function(b) {
    b = a.QueryString.stringify(b);
    document.location.href = "" !== b ? "/search?" + b : "/search"
  }, b = a.Base.create("searchPreviewDropdown", a.Squarespace.Widgets.SSWidget, [a.WidgetPosition], {
    renderUI: function() {
      b.superclass.renderUI.apply(this, arguments);
      var e = this.get("contentBox"),
        c = this.get("searchInput").get("offsetWidth");
      e.addClass("sqs-search-preview-ui");
      e.setStyle("width", c);
      e.setContent(b.TEMPLATE);
      this._startScrollCheckTimer();
      this._close();
      (this._showImages = 200 <= c) || e.addClass("no-image");
      this._resizeEmitter = new a.Squarespace.ResizeEmitter({
        timeout: 100
      });
      this.get("contentBox").one(".sqs-search-ui-list").plug(a.Plugin.ScrollInfo)
    },
    bindUI: function() {
      b.superclass.bindUI.apply(this, arguments);
      this.after("searchInputChange", this._bindInputEvents, this);
      this._bindInputEvents()
    },
    _bindInputEvents: function() {
      var b = this.get("searchInput"),
        c = this.get("contentBox");
      a.Lang.isValue(b) && (b.after("typing", this._onTyping, this), b.after("click",
      this._onSearchClick, this), b.after("searchQueryChange", this._onSearchQueryChange, this), b.after("searchQueryChange", this._trackOnQueryChange, this), b.after("focus", this._show, this), b.after("blur", this._onBlur, this));
      this.after(this.get("id") + "|resultItemsChange", this._onSearchResultChange, this);
      this.after(this.get("id") + "|loadingChange", this.syncUI, this);
      c.on(this.get("id") + "|hover", this._onHover, this._onMouseLeave, this);
      c.delegate(this.get("id") + "|click", this._onResultClick, ".sqs-search-ui-list .search-result",
      this);
      c.delegate(this.get("id") + "|hover", this._onResultHover, ".sqs-search-ui-list .search-result", this);
      this._resizeEmitter.on("resize", this._onResize, this)
    },
    syncUI: function() {
      b.superclass.syncUI.apply(this, arguments);
      var e = this.get("searchInput"),
        c = this.get("contentBox"),
        g = this.get("page"),
        f = e.getY() + e.get("offsetHeight");
      this.move(e.getX(), f);
      f = a.Node.create(a.Squarespace.UITemplates.render(b.TEMPLATE_RESULTS_NAME, this._getSearchDataModel()));
      this._showImages && this._loadImages(f);
      this._toggleNotice(f);
      this._toggleLoader();
      if (a.Lang.isValue(f)) {
        var e = c.one(".sqs-search-ui-result .search-results"),
          k = f.all(".search-result");
        0 === g ? e.setContent(f) : a.Lang.isValue(k) && (g = e.get("children").size(), f = f.get("children"), f = f.splice(g), e.append(f));
        c = c.one(".sqs-search-ui-list");
        a.Lang.isValue(c) && c.plug(a.Squarespace.Plugin.ScrollLock)
      }
    },
    destructor: function() {
      a.Lang.isValue(this.scrollTimer) && this.scrollTimer.cancel();
      this._resizeEmitter && this._resizeEmitter.destroy()
    },
    _getSearchDataModel: function(a) {
      a = this.get("resultItems");
      return {
        loading: this.get("loading"),
        items: a,
        itemsCount: this.get("totalCount")
      }
    },
    _loadImages: function(b) {
      a.Lang.isValue(b) && b.all("img[data-src]").each(function(a) {
        ImageLoader.load(a)
      })
    },
    _toggleNotice: function(b) {
      var c = this.get("contentBox").one(".search-result-notice");
      b = !a.Lang.isValue(b);
      c.toggleClass("hide", !b);
      b && (this.get("contentBox").one(".sqs-search-ui-result .search-results").empty(), this._itemSelected = null, c.setContent(this.get("strings.notice")))
    },
    _toggleLoader: function() {
      var b = this.get("searchInput");
      this.get("contentBox");
      var c = b.previous(".spinner-wrapper"),
        g = a.Lang.isValue(this.get("loading")) && this.get("loading");
      g && !a.Lang.isValue(this._spinner) && (this._spinner = new a.Squarespace.Spinner({
        color: this.get("theme"),
        size: "default",
        render: c
      }));
      b.toggleClass("loading", g);
      c.toggleView(g)
    },
    isOpened: function() {
      return this._opened
    },
    hasItemSelected: function() {
      var b = this.get("contentBox");
      return a.Lang.isValue(b.one(".sqs-search-ui-list .search-result.selected"))
    },
    _close: function() {
      var b = this.get("contentBox");
      a.Lang.isValue(this.scrollTimer) && this.scrollTimer.cancel();
      a.Lang.isValue(this._itemSelected) && this._itemSelected.removeClass("selected");
      this._itemSelected = null;
      b.hide();
      this._opened = !1
    },
    _show: function() {
      a.Lang.isValue(this.get("resultItems")) && "" !== this.get("searchInput").get("value") && (this.get("contentBox").show(), this._startScrollCheckTimer(), this._opened = !0)
    },
    _search: function() {
      var b = this.get("searchInput").get("value"),
        c = this.get("page");
      !(a.Lang.isValue(b) && 0 === b.length) && a.Lang.isValue(b) && (b = {
        q: b,
        p: c,
        size: this.get("perPage")
      }, c = this.get("collectionFilter"), a.Lang.isValue(c) && "" !== c && (b.f_collectionId = c), a.Data.get({
        url: "/api/search/GeneralSearch",
        data: b,
        success: this._searchResultCallback,
        error: this._searchResultCallbackError
      }, this))
    },
    _searchResultCallback: function(b) {
      this.set("loading", !1);
      this.set("facets", b.facets);
      this.set("totalCount", b.totalCount);
      var c = this.get("resultItems"),
        g = this.get("page");
      a.Lang.isValue(b.serviceError) ? console.error("Search error: " + b.serviceError) : 0 < g && a.Lang.isValue(c) ? (c = c.concat(b.items), this.set("resultItems", c)) : this.set("resultItems", b.items)
    },
    _searchResultCallbackError: function() {
      this.set("loading", !1);
      console.error("error data", data)
    },
    _onSearchResultChange: function(a) {
      this.syncUI();
      this._show()
    },
    _onSearchQueryChange: function(a) {
      "" === this.get("searchInput").get("value") && (this.set("loading", !1), this.isOpened() && this._close());
      this._clearResult();
      this._search()
    },
    _trackOnQueryChange: function() {
      var b = this.get("searchInput").get("value");
      if ("" !== b) {
        var c = [],
          g = this.get("collectionFilter");
        a.Lang.isValue(g) && c.push(g);
        a.Squarespace.Census.track(a.Squarespace.Events.VIEW, {
          recordType: a.Squarespace.RecordType.SITE_SEARCH,
          query: b,
          filters: {
            collectionIds: c
          },
          referrer: a.config.doc.location.href
        })
      }
    },
    _onSearchClick: function(b) {
      a.later(1, this, function() {
        "" === this.get("searchInput").get("value") && this.isOpened() && (this.set("loading", !1), this._close())
      })
    },
    _clearResult: function() {
      this.set("resultItems", null);
      this.set("page", 0)
    },
    _onTyping: function(a) {
      40 !== a.keyCode && (38 !== a.keyCode && 13 !== a.keyCode) && this.set("loading", !0);
      13 === a.keyCode && this._onEnter();
      if (this.isOpened()) switch (a.keyCode) {
      case 40:
        this._moveSelectedItem(1);
        break;
      case 38:
        this._moveSelectedItem(-1)
      }
    },
    _moveSelectedItem: function(b) {
      var c = this.get("contentBox").all(".search-result");
      if (a.Lang.isValue(c)) {
        var g = 0 > b ? c.size() - 1 : 0;
        if (a.Lang.isValue(this._itemSelected)) {
          this._itemSelected.removeClass("selected");
          var f = c.indexOf(this._itemSelected),
            f = c.item(f + b);
          a.Lang.isValue(f) ? this._itemSelected = f.addClass("selected") : this._itemSelected = c.item(g).addClass("selected")
        } else this._itemSelected = c.item(g).addClass("selected");
        this._scrollTo(this._itemSelected, b)
      }
    },
    _scrollTo: function(a, b) {
      var g = this.get("contentBox").one(".sqs-search-ui-list"),
        c = g.one(".search-results").get("children");
      switch (c.indexOf(a)) {
      case 0:
        g.set("scrollTop", 0);
        break;
      case c.size() - 1:
        g.set("scrollTop", g.scrollInfo.getScrollInfo().scrollHeight);
        break;
      default:
        g.set("scrollTop", a.getY() - g.getY() + g.get("scrollTop"))
      }
    },
    _onResultHover: function(b) {
      a.Lang.isValue(this._itemSelected) && this._itemSelected.removeClass("selected");
      this._itemSelected = b.target.ancestor(".search-result", !0)
    },
    _onHover: function(a) {
      this._isHovered = !0
    },
    _onMouseLeave: function() {
      this._itemSelected = null;
      this._isHovered = !1
    },
    _onEnter: function() {
      this._redirect(this._itemSelected)
    },
    _onBlur: function(a) {
      a.halt();
      this._isHovered || (this.get("searchInput").blur(), this._close())
    },
    _getSearchResultObject: function(b) {
      var c = this.get("resultItems");
      return a.Array.find(c, function(a) {
        return a.id === b
      })
    },
    _onResultClick: function(a) {
      a.halt();
      a = a.target;
      a = a.hasClass("search-result") ? a : a.ancestor(".search-result");
      this._redirect(a)
    },
    _redirect: function(b) {
      a.Lang.isValue(this._itemSelected) ? (b = b.getAttribute("itemid"), a.Lang.isValue(b) && (b = this._getSearchResultObject(b), this._close(), document.location.href = b.itemUrl + "?" + a.QueryString.stringify({
        q: this.get("searchInput").get("value")
      }))) : f(this._getQueryStringObject())
    },
    _getQueryStringObject: function() {
      var b = {};
      "" !== this.get("searchInput").get("value") && (b.q = this.get("searchInput").get("value"));
      var c = this.get("collectionFilter");
      a.Lang.isValue(c) && (b.f_collectionId = c);
      return b
    },
    _nextPage: function() {
      var a = this.get("page") + 1;
      this.set("page", a);
      this._search()
    },
    _infiniteScroll: function() {
      var b = this.get("contentBox").one(".sqs-search-ui-list");
      if (a.Lang.isValue(b)) {
        var c = b.get("scrollHeight"),
          g = b.get("scrollTop"),
          b = b.get("offsetHeight"),
          c = c - b - g,
          g = this.get("resultItems"),
          b = this.get("totalCount");
        a.Lang.isValue(g) && 100 > c && b > g.length && this._nextPage()
      }
    },
    _startScrollCheckTimer: function(b) {
      a.Lang.isValue(this.scrollTimer) && this.scrollTimer.cancel();
      this.scrollTimer = a.later(b || 250, this, this._infiniteScroll, {}, !0)
    },
    _onResize: function() {
      var a = this.get("searchInput"),
        b = a.getY() + a.get("offsetHeight");
      this.get("contentBox").setStyle("width", a.get("offsetWidth"));
      this.move(a.getX(), b)
    }
  }, {
    CSS_PREFIX: "sqs-search-preview",
    TEMPLATE_RESULTS_NAME: "search-result.html",
    TEMPLATE: '<div class="sqs-search-preview-ui"><div class="sqs-search-ui-result"><div class="search-result-notice hide"></div><div class="sqs-search-ui-list"><div class="search-results"></div></div></div></div>',
    ATTRS: {
      strings: {
        value: {
          notice: "No results found."
        }
      },
      searchInput: {
        validator: a.Squarespace.AttrValidators.isNode
      },
      resultItems: {
        validator: a.Squarespace.AttrValidators.isNullOrArray
      },
      totalCount: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      page: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      collectionFilter: {
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      displayDelay: {
        value: 500,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      perPage: {
        value: 10,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      loading: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      theme: {
        value: "dark",
        validator: a.Squarespace.AttrValidators.isString
      }
    }
  }),
    c = a.namespace("Squarespace.Widgets").SearchPreview = a.Base.create("SearchPreview", a.Squarespace.SSWidget, [], {
      initializer: function(a) {
        a = this.get("render");
        this._searchInput = a.one(".search-input");
        this.set("collection", a.getData("collection"));
        this.set("previewEnabled", "true" === a.getData("preview"));
        this.set("theme", a.get("className").match(/color-(.*)/)[1])
      },
      destructor: function() {
        a.Lang.isValue(this._searchTypingTimeout) && this._searchTypingTimeout.cancel()
      },
      renderUI: function() {
        c.superclass.renderUI.call(this);
        this._alterSearchInputStyle();
        this.get("previewEnabled") && this._initPreview()
      },
      bindUI: function() {
        this._searchInput.on("keyup", this._onKeyUp, this)
      },
      _onKeyUp: function(b) {
        a.Lang.isValue(this.previewWidget) ? (a.Lang.isValue(this._searchTypingTimeout) && this._searchTypingTimeout.cancel(), this._searchInput.fire("typing", {
          keyCode: b.keyCode
        }), this._searchInput.get("value") !== this._prevVal && (this._searchTypingTimeout = a.later(this.previewWidget.get("displayDelay"),
        this, function() {
          this._searchInput.fire("searchQueryChange");
          this._prevVal = this._searchInput.get("value")
        }))) : 13 === b.keyCode && f(this._getQueryStringObject())
      },
      _getQueryStringObject: function() {
        var b = {}, c = this._searchInput.get("value");
        a.Lang.isValue(this._searchInput) && "" !== c && (b.q = c);
        return this._appendCollectionFilter(b, "f_collectionId")
      },
      _initPreview: function() {
        var a = {
          searchInput: this._searchInput,
          theme: this.get("theme")
        };
        this.previewWidget = new b(this._appendCollectionFilter(a, "collectionFilter"));
        this.previewWidget.render()
      },
      _appendCollectionFilter: function(b, c) {
        var g = this.get("collection");
        a.Lang.isValue(g) && "" !== g && (b[c] = g);
        return b
      },
      _alterSearchInputStyle: function() {
        a.UA.safari && !a.UA.ios ? this._searchInput.setStyle("paddingRight", "0") : a.UA.safari && a.UA.ios ? this._searchInput.setAttribute("type", "text") : (!a.UA.chrome || !a.UA.ios) && this._searchInput.addClass("hover-effect")
      }
    });
  a.config.win.Squarespace.onInitialize(a, function() {
    a.all(".sqs-search-ui-text-input").each(function(b) {
      a.Widget.getByNode(b.one("." + a.Squarespace.Widgets.SearchPreview.CSS_PREFIX)) || new a.Squarespace.Widgets.SearchPreview({
        render: b
      })
    })
  })
}, "1.0", {
  requires: "base event datasource node-scroll-info widget widget-position squarespace-ss-widget squarespace-enum squarespace-census squarespace-animations squarespace-plugin-scroll-lock squarespace-search-result-template".split(" ")
});
YUI.add("datasource-local", function(a, f) {
  var b = a.Lang,
    c = function() {
      c.superclass.constructor.apply(this, arguments)
    };
  a.mix(c, {
    NAME: "dataSourceLocal",
    ATTRS: {
      source: {
        value: null
      }
    },
    _tId: 0,
    transactions: {},
    issueCallback: function(a, b) {
      var g = a.on || a.callback,
        c = g && g.success,
        f = a.details[0];
      f.error = a.error || a.response.error;
      f.error && (b.fire("error", f), c = g && g.failure);
      c && c(f)
    }
  });
  a.extend(c, a.Base, {
    initializer: function(a) {
      this._initEvents()
    },
    _initEvents: function() {
      this.publish("request", {
        defaultFn: a.bind("_defRequestFn",
        this),
        queuable: !0
      });
      this.publish("data", {
        defaultFn: a.bind("_defDataFn", this),
        queuable: !0
      });
      this.publish("response", {
        defaultFn: a.bind("_defResponseFn", this),
        queuable: !0
      })
    },
    _defRequestFn: function(a) {
      var c = this.get("source");
      a = a.details[0];
      b.isUndefined(c) && (a.error = Error("Local source undefined"));
      a.data = c;
      this.fire("data", a)
    },
    _defDataFn: function(a) {
      var c = a.data,
        g = a.meta,
        c = {
          results: b.isArray(c) ? c : [c],
          meta: g ? g : {}
        };
      a = a.details[0];
      a.response = c;
      this.fire("response", a)
    },
    _defResponseFn: function(a) {
      c.issueCallback(a,
      this)
    },
    sendRequest: function(a) {
      var b = c._tId++,
        g;
      a = a || {};
      g = a.on || a.callback;
      this.fire("request", {
        tId: b,
        request: a.request,
        on: g,
        callback: g,
        cfg: a.cfg || {}
      });
      return b
    }
  });
  a.namespace("DataSource").Local = c
}, "3.17.2", {
  requires: ["base"]
});
YUI.add("event-delegate", function(a, f) {
  function b(e, f, k, r) {
    var u = c(arguments, 0, !0),
      v = h(k) ? k : null,
      w, y, s;
    if (g(e)) {
      v = [];
      if (l(e)) {
        w = 0;
        for (y = e.length; w < y; ++w) u[0] = e[w], v.push(a.delegate.apply(a, u))
      } else for (w in u.unshift(null), e) e.hasOwnProperty(w) && (u[0] = w, u[1] = e[w], v.push(a.delegate.apply(a, u)));
      return new a.EventHandle(v)
    }
    w = e.split(/\|/);
    1 < w.length && (y = w.shift(), u[0] = e = w.shift());
    w = a.Node.DOM_EVENTS[e];
    g(w) && w.delegate && (s = w.delegate.apply(w, arguments));
    if (!s) {
      if (!e || !f || !k || !r) return;
      v = v ? a.Selector.query(v,
      null, !0) : k;
      !v && h(k) && (s = a.on("available", function() {
        a.mix(s, a.delegate.apply(a, u), !0)
      }, k));
      !s && v && (u.splice(2, 2, v), s = a.Event._attach(u, {
        facade: !1
      }), s.sub.filter = r, s.sub._notify = b.notifySub)
    }
    s && y && (y = m[y] || (m[y] = {}), y = y[e] || (y[e] = []), y.push(s));
    return s
  }
  var c = a.Array,
    e = a.Lang,
    h = e.isString,
    g = e.isObject,
    l = e.isArray,
    k = a.Selector.test,
    m = a.Env.evt.handles;
  b.notifySub = function(g, e, h) {
    e = e.slice();
    this.args && e.push.apply(e, this.args);
    g = b._applyFilter(this.filter, e, h);
    var f, l, k;
    if (g) {
      g = c(g);
      f = e[0] = new a.DOMEventFacade(e[0],
      h.el, h);
      f.container = a.one(h.el);
      h = 0;
      for (l = g.length; h < l && !f.stopped && !(f.currentTarget = a.one(g[h]), k = this.fn.apply(this.context || f.currentTarget, e), !1 === k); ++h);
      return k
    }
  };
  b.compileFilter = a.cached(function(a) {
    return function(b, g) {
      return k(b._node, a, g.currentTarget === g.target ? null : g.currentTarget._node)
    }
  });
  b._disabledRE = /^(?:button|input|select|textarea)$/i;
  b._applyFilter = function(g, c, e) {
    var f = c[0],
      l = e.el,
      m = f.target || f.srcElement,
      w = [],
      y = !1;
    "undefined" !== typeof SVGElementInstance && !m.nodeType && m.correspondingElement && (m = m.correspondingUseElement || m.correspondingElement);
    3 === m.nodeType && (m = m.parentNode);
    if (m.disabled && b._disabledRE.test(m.nodeName)) return w;
    c.unshift(m);
    if (h(g)) for (; m;) {
      y = m === l;
      k(m, g, y ? null : l) && w.push(m);
      if (y) break;
      m = m.parentNode
    } else {
      c[0] = a.one(m);
      for (c[1] = new a.DOMEventFacade(f, l, e); m;) {
        g.apply(c[0], c) && w.push(m);
        if (m === l) break;
        m = m.parentNode;
        c[0] = a.one(m)
      }
      c[1] = f
    }
    1 >= w.length && (w = w[0]);
    c.shift();
    return w
  };
  a.delegate = a.Event.delegate = b
}, "3.17.2", {
  requires: ["node-base"]
});
YUI.add("selector-css2", function(a, f) {
  var b = a.Selector,
    c = {
      _reRegExpTokens: /([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,
      SORT_RESULTS: !0,
      _isXML: "DIV" !== a.config.doc.createElement("div").tagName,
      shorthand: {
        "\\#(-?[_a-z0-9]+[-\\w\\uE000]*)": "[id=$1]",
        "\\.(-?[_a-z]+[-\\w\\uE000]*)": "[className~=$1]"
      },
      operators: {
        "": function(b, c) {
          return "" !== a.DOM.getAttribute(b, c)
        },
        "~=": "(?:^|\\s+){val}(?:\\s+|$)",
        "|=": "^{val}-?"
      },
      pseudos: {
        "first-child": function(b) {
          return a.DOM._children(b.parentNode)[0] === b
        }
      },
      _bruteQuery: function(c,
      h, g) {
        var f = [],
          k = [],
          m;
        c = b._tokenize(c);
        var n = c[c.length - 1];
        a.DOM._getDoc(h);
        var p;
        if (n) {
          m = n.id;
          p = n.className;
          n = n.tagName || "*";
          if (h.getElementsByTagName) k = m && (h.all || 9 === h.nodeType || a.DOM.inDoc(h)) ? a.DOM.allById(m, h) : p ? h.getElementsByClassName(p) : h.getElementsByTagName(n);
          else {
            m = [];
            h = h.firstChild;
            for (p = "*" === n; h;) {
              for (; h;) "@" < h.tagName && (p || h.tagName === n) && k.push(h), m.push(h), h = h.firstChild;
              for (; 0 < m.length && !h;) h = m.pop().nextSibling
            }
          }
          k.length && (f = b._filterNodes(k, c, g))
        }
        return f
      },
      _filterNodes: function(c,
      h, g) {
        for (var f = 0, k, m = h.length, n = m - 1, p = [], q = c[0], r = q, u = a.Selector.getters, v, w, y, s, x, C, f = 0; r = q = c[f++];) {
          n = m - 1;
          y = null;
          a: for (; r && r.tagName;) {
            w = h[n];
            x = w.tests;
            if (k = x.length) for (; C = x[--k];) if (v = C[1], u[C[0]] ? s = u[C[0]](r, C[0]) : (s = r[C[0]], "tagName" === C[0] && !b._isXML && (s = s.toUpperCase()), "string" != typeof s && void 0 !== s && s.toString ? s = s.toString() : void 0 === s && r.getAttribute && (s = r.getAttribute(C[0], 2))), "=" === v && s !== C[2] || "string" !== typeof v && v.test && !v.test(s) || !v.test && "function" === typeof v && !v(r, C[0], C[2])) {
              if (r = r[y]) for (; r && (!r.tagName || w.tagName && w.tagName !== r.tagName);) r = r[y];
              continue a
            }
            n--;
            if (k = w.combinator) {
              y = k.axis;
              for (r = r[y]; r && !r.tagName;) r = r[y];
              k.direct && (y = null)
            } else {
              p.push(q);
              if (g) return p;
              break
            }
          }
        }
        return p
      },
      combinators: {
        " ": {
          axis: "parentNode"
        },
        ">": {
          axis: "parentNode",
          direct: !0
        },
        "+": {
          axis: "previousSibling",
          direct: !0
        }
      },
      _parsers: [{
        name: "attributes",
        re: /^\uE003(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\uE004'"]*)['"]?\uE004/i,
        fn: function(c, h) {
          var g = c[2] || "",
            f = b.operators,
            k = c[3] ? c[3].replace(/\\/g, "") : "";
          if ("id" === c[1] && "=" === g || "className" === c[1] && a.config.doc.documentElement.getElementsByClassName && ("~=" === g || "=" === g)) h.prefilter = c[1], c[3] = k, h[c[1]] = "id" === c[1] ? c[3] : k;
          g in f && (g = f[g], "string" === typeof g && (c[3] = k.replace(b._reRegExpTokens, "\\$1"), g = RegExp(g.replace("{val}", c[3]))), c[2] = g);
          if (!h.last || h.prefilter !== c[1]) return c.slice(1)
        }
      }, {
        name: "tagName",
        re: /^((?:-?[_a-z]+[\w-]*)|\*)/i,
        fn: function(a, c) {
          var g = a[1];
          b._isXML || (g = g.toUpperCase());
          c.tagName = g;
          if ("*" !== g && (!c.last || c.prefilter)) return ["tagName", "=", g];
          c.prefilter || (c.prefilter = "tagName")
        }
      }, {
        name: "combinator",
        re: /^\s*([>+~]|\s)\s*/,
        fn: function(a, b) {}
      }, {
        name: "pseudos",
        re: /^:([\-\w]+)(?:\uE005['"]?([^\uE005]*)['"]?\uE006)*/i,
        fn: function(a, c) {
          var g = b.pseudos[a[1]];
          return g ? (a[2] && (a[2] = a[2].replace(/\\/g, "")), [a[2], g]) : !1
        }
      }],
      _getToken: function(a) {
        return {
          tagName: null,
          id: null,
          className: null,
          attributes: {},
          combinator: null,
          tests: []
        }
      },
      _tokenize: function(c) {
        c = b._parseSelector(a.Lang.trim(c || ""));
        var h = b._getToken(),
          g = [],
          f = !1,
          k, m, n;
        a: do {
          f = !1;
          for (m = 0; n = b._parsers[m++];) if (k = n.re.exec(c)) {
            "combinator" !== n.name && (h.selector = c);
            c = c.replace(k[0], "");
            c.length || (h.last = !0);
            b._attrFilters[k[1]] && (k[1] = b._attrFilters[k[1]]);
            f = n.fn(k, h);
            if (!1 === f) {
              f = !1;
              break a
            } else f && h.tests.push(f);
            if (!c.length || "combinator" === n.name) g.push(h), h = b._getToken(h), "combinator" === n.name && (h.combinator = a.Selector.combinators[k[1]]);
            f = !0
          }
        } while (f && c.length);
        if (!f || c.length) g = [];
        return g
      },
      _replaceMarkers: function(a) {
        a = a.replace(/\[/g, "\ue003");
        a = a.replace(/\]/g, "\ue004");
        a = a.replace(/\(/g, "\ue005");
        return a = a.replace(/\)/g, "\ue006")
      },
      _replaceShorthand: function(b) {
        var c = a.Selector.shorthand,
          g;
        for (g in c) c.hasOwnProperty(g) && (b = b.replace(RegExp(g, "gi"), c[g]));
        return b
      },
      _parseSelector: function(b) {
        var c = a.Selector._replaceSelector(b);
        b = c.selector;
        b = a.Selector._replaceShorthand(b);
        b = a.Selector._restore("attr", b, c.attrs);
        b = a.Selector._restore("pseudo", b, c.pseudos);
        b = a.Selector._replaceMarkers(b);
        return b = a.Selector._restore("esc", b, c.esc)
      },
      _attrFilters: {
        "class": "className",
        "for": "htmlFor"
      },
      getters: {
        href: function(b, c) {
          return a.DOM.getAttribute(b, c)
        },
        id: function(b, c) {
          return a.DOM.getId(b)
        }
      }
    };
  a.mix(a.Selector, c, !0);
  a.Selector.getters.src = a.Selector.getters.rel = a.Selector.getters.href;
  a.Selector.useNative && a.config.doc.querySelector && (a.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"] = "[class~=$1]")
}, "3.17.2", {
  requires: ["selector-native"]
});
YUI.add("squarespace-anims", function(a) {
  function f(a) {
    f.superclass.constructor.apply(this, arguments)
  }
  a.namespace("Squarespace").Anims = a.extend(f, a.Base, {
    initializer: function() {
      this._items = []
    },
    destructor: function() {
      var b = [];
      this.each(function(a) {
        b.push(a)
      });
      a.Array.each(b, function(a) {
        a.get("running") && a.stop(!1);
        a.destroy()
      });
      a.detach(this.get("id") + "|*")
    },
    add: function(a) {
      if (!a.get("node")) throw this.name + ": Animation doesn't specify a node";
      a.get("node").ancestor("body") ? a.get("node")._node || console.warn(this.name + ": Animation with a _node = null added") : console.warn(this.name + ": Animation with a YUI node not in the DOM added");
      a.on(this.get("id") + "|end", function(c) {
        this.remove(a)
      }, this);
      this._items.push(a)
    },
    remove: function(b) {
      if (a.Lang.isNumber(b)) return this._items.splice(b, 1);
      if (-1 !== this._items.indexOf(b)) return this._items.splice(this._items.indexOf(b), 1)
    }
  }, {
    NAME: "anims"
  });
  a.augment(f, a.ArrayList)
}, "1.0", {
  requires: ["base", "base-build", "arraylist"]
});
YUI.add("anim-xy", function(a, f) {
  var b = Number;
  a.Anim.behaviors.xy = {
    set: function(a, e, h, g, f, k, m) {
      a._node.setXY([m(f, b(h[0]), b(g[0]) - b(h[0]), k), m(f, b(h[1]), b(g[1]) - b(h[1]), k)])
    },
    get: function(a) {
      return a._node.getXY()
    }
  }
}, "3.17.2", {
  requires: ["anim-base", "node-screen"]
});
YUI.add("squarespace-aspect-ratio-manager", function(a) {
  var f = a.Base.create("AspectRatioManager", a.Base, [], {
    initializeBlock: function(b, c) {
      var e = c;
      a.Lang.isObject(e) && (e = e.aspectRatio);
      a.Lang.isValue(e) && (b.addClass("sqs-intrinsic"), b.setStyle("paddingBottom", e + "%"), b.one("> div") && b.one("> div").addClass("sqs-intrinsic-content"))
    },
    destroyBlock: function(a) {
      if (a = a.one(".sqs-intrinsic")) a.removeClass("sqs-intrinsic"), a.setStyle("padding-bottom", null), a.one(".sqs-intrinsic-content") && a.one(".sqs-intrinsic-content").removeClass("sqs-intrinsic-content")
    },
    initAllBlocks: function() {
      a.all(".sqs-block[data-aspect-ratio]:not(.sqs-block-image)").each(function(b) {
        a.Squarespace.Block.Utils.AspectRatioManager.initializeBlock(b.one(".sqs-block-content"), a.JSON.parse(b.getAttribute("data-aspect-ratio")))
      }, this)
    }
  });
  a.Squarespace.Block.Utils.AspectRatioManager = new f;
  a.config.win.Squarespace.onInitialize(a, a.Squarespace.Block.Utils.AspectRatioManager.initAllBlocks)
}, "1.0", {
  requires: ["base", "squarespace-block-utils"]
});
YUI.add("squarespace-plugin-scroll-lock", function(a) {
  a.namespace("Squarespace.Plugin").ScrollLock = a.Base.create("ScrollLock", a.Plugin.Base, [], {
    initializer: function(f) {
      var b = this.get("host"),
        c = b.getDOMNode();
      this.listener = function(e) {
        e.stopPropagation();
        if (!a.Lang.isNumber(c.scrollTop)) return e.preventDefault(), !1;
        var h = parseInt(b.getComputedStyle("height"), 10),
          g = c.scrollTop,
          h = c.scrollHeight - h,
          f = e.wheelDelta || -e.detail;
        if (0 >= g && 0 < f || g >= h && 0 > f) return e.preventDefault(), !1
      };
      c.addEventListener ? (c.addEventListener("mousewheel",
      this.listener), c.addEventListener("DOMMouseScroll", this.listener), c.addEventListener("MozMousePixelScroll", this.listener)) : c.attachEvent && c.attachEvent("onmousewheel", this.listener)
    },
    destructor: function() {
      var a = this.get("host").getDOMNode();
      a.removeEventListener ? (a.removeEventListener("mousewheel", this.listener), a.removeEventListener("DOMMouseScroll", this.listener), a.removeEventListener("MozMousePixelScroll", this.listener)) : a.detachEvent && a.detachEvent("onmousewheel", this.listener)
    }
  }, {
    NS: "ScrollLock",
    ATTRS: {}
  })
}, "1.0", {
  requires: ["base", "plugin", "node"]
});
YUI.add("squarespace-announcement-bar-template", function(a) {
  var f = a.Handlebars;
  (function() {
    var a = f.template;
    (f.templates = f.templates || {})["announcement-bar.html"] = a(function(a, b, h, g, f) {
      function k(a, b) {
        return 'target="_blank"'
      }
      this.compilerInfo = [4, ">= 1.0.0"];
      h = this.merge(h, a.helpers);
      f = f || {};
      var m = this,
        n = this.escapeExpression;
      a = "\n";
      if ((g = h["if"].call(b, b.clickthroughUrl, {
        hash: {},
        inverse: m.noop,
        fn: m.program(1, function(a, b) {
          var g, c, e;
          g = '\n<a class="sqs-announcement-bar-url" ';
          if ((e = h["if"].call(a, (c = a.clickthroughUrl, null == c || !1 === c ? c : c.newWindow), {
            hash: {},
            inverse: m.noop,
            fn: m.program(2, k, b),
            data: b
          })) || 0 === e) g += e;
          return g += ' href="' + n((c = (c = a.clickthroughUrl, null == c || !1 === c ? c : c.url), "function" === typeof c ? c.apply(a) : c)) + '"></a>\n'
        }, f),
        data: f
      })) || 0 === g) a += g;
      a += '\n\n<div class="sqs-announcement-bar-text">\n  ';
      (g = h.text) ? g = g.call(b, {
        hash: {},
        data: f
      }) : (g = b.text, g = "function" === typeof g ? g.apply(b) : g);
      if (g || 0 === g) a += g;
      return a + '\n  <span class="sqs-announcement-bar-close"></span>\n</div>\n'
    })
  })();
  a.Handlebars.registerPartial("announcement-bar.html".replace("/", "."), f.templates["announcement-bar.html"])
}, "1.0", {
  requires: ["handlebars-base"]
});
YUI.add("handlebars-base", function(a, f) {
  var b = a.namespace("Handlebars");
  b.VERSION = "1.0.0";
  b.COMPILER_REVISION = 4;
  b.REVISION_CHANGES = {
    1: "<= 1.0.rc.2",
    2: "== 1.0.0-rc.3",
    3: "== 1.0.0-rc.4",
    4: ">= 1.0.0"
  };
  b.helpers = {};
  b.partials = {};
  var c = Object.prototype.toString;
  b.registerHelper = function(a, g, e) {
    if ("[object Object]" === c.call(a)) {
      if (e || g) throw new b.Exception("Arg not supported with multiple helpers");
      b.Utils.extend(this.helpers, a)
    } else e && (g.not = e), this.helpers[a] = g
  };
  b.registerPartial = function(a, g) {
    "[object Object]" === c.call(a) ? b.Utils.extend(this.partials, a) : this.partials[a] = g
  };
  b.registerHelper("helperMissing", function(a) {
    if (2 !== arguments.length) throw Error("Missing helper: '" + a + "'");
  });
  b.registerHelper("blockHelperMissing", function(a, g) {
    var e = g.inverse || function() {}, h = g.fn,
      f = c.call(a);
    "[object Function]" === f && (a = a.call(this));
    return !0 === a ? h(this) : !1 === a || null == a ? e(this) : "[object Array]" === f ? 0 < a.length ? b.helpers.each(a, g) : e(this) : h(a)
  });
  b.K = function() {};
  b.createFrame = Object.create || function(a) {
    b.K.prototype = a;
    a = new b.K;
    b.K.prototype = null;
    return a
  };
  b.logger = {
    DEBUG: 0,
    INFO: 1,
    WARN: 2,
    ERROR: 3,
    level: 3,
    methodMap: {
      0: "debug",
      1: "info",
      2: "warn",
      3: "error"
    },
    log: function(a, g) {
      if (b.logger.level <= a) {
        var c = b.logger.methodMap[a];
        "undefined" !== typeof console && console[c] && console[c].call(console, g)
      }
    }
  };
  b.log = function(a, g) {
    b.logger.log(a, g)
  };
  b.registerHelper("each", function(a, g) {
    var e = g.fn,
      h = g.inverse,
      f = 0,
      l = "",
      k;
    "[object Function]" === c.call(a) && (a = a.call(this));
    g.data && (k = b.createFrame(g.data));
    if (a && "object" === typeof a) if (a instanceof
    Array) for (var w = a.length; f < w; f++) k && (k.index = f), l += e(a[f], {
      data: k
    });
    else for (w in a) a.hasOwnProperty(w) && (k && (k.key = w), l += e(a[w], {
      data: k
    }), f++);
    0 === f && (l = h(this));
    return l
  });
  b.registerHelper("if", function(a, g) {
    "[object Function]" === c.call(a) && (a = a.call(this));
    return !a || b.Utils.isEmpty(a) ? g.inverse(this) : g.fn(this)
  });
  b.registerHelper("unless", function(a, g) {
    return b.helpers["if"].call(this, a, {
      fn: g.inverse,
      inverse: g.fn
    })
  });
  b.registerHelper("with", function(a, g) {
    "[object Function]" === c.call(a) && (a = a.call(this));
    if (!b.Utils.isEmpty(a)) return g.fn(a)
  });
  b.registerHelper("log", function(a, g) {
    var c = g.data && null != g.data.level ? parseInt(g.data.level, 10) : 1;
    b.log(c, a)
  });
  var e = "description fileName lineNumber message name number stack".split(" ");
  b.Exception = function(a) {
    for (var b = Error.prototype.constructor.apply(this, arguments), g = 0; g < e.length; g++) this[e[g]] = b[e[g]]
  };
  b.Exception.prototype = Error();
  b.SafeString = function(a) {
    this.string = a
  };
  b.SafeString.prototype.toString = function() {
    return this.string.toString()
  };
  var h = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#x27;",
    "`": "&#x60;"
  }, g = /[&<>"'`]/g,
    l = /[&<>"'`]/,
    k = function(a) {
      return h[a] || "&amp;"
    };
  b.Utils = {
    extend: function(a, b) {
      for (var g in b) b.hasOwnProperty(g) && (a[g] = b[g])
    },
    escapeExpression: function(a) {
      if (a instanceof b.SafeString) return a.toString();
      if (null == a || !1 === a) return "";
      a = a.toString();
      return !l.test(a) ? a : a.replace(g, k)
    },
    isEmpty: function(a) {
      return !a && 0 !== a ? !0 : "[object Array]" === c.call(a) && 0 === a.length ? !0 : !1
    }
  };
  b.VM = {
    template: function(a) {
      var g = {
        escapeExpression: b.Utils.escapeExpression,
        invokePartial: b.VM.invokePartial,
        programs: [],
        program: function(a, g, c) {
          var e = this.programs[a];
          c ? e = b.VM.program(a, g, c) : e || (e = this.programs[a] = b.VM.program(a, g));
          return e
        },
        merge: function(a, g) {
          var c = a || g;
          a && g && (c = {}, b.Utils.extend(c, g), b.Utils.extend(c, a));
          return c
        },
        programWithDepth: b.VM.programWithDepth,
        noop: b.VM.noop,
        compilerInfo: null
      };
      return function(c, e) {
        e = e || {};
        var h = a.call(g, b, c, e.helpers, e.partials, e.data),
          f = g.compilerInfo || [],
          l = f[0] || 1,
          k = b.COMPILER_REVISION;
        if (l !== k) {
          if (l < k) throw "Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + b.REVISION_CHANGES[k] + ") or downgrade your runtime to an older version (" + b.REVISION_CHANGES[l] + ").";
          throw "Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + f[1] + ").";
        }
        return h
      }
    },
    programWithDepth: function(a, b, g) {
      var c = Array.prototype.slice.call(arguments, 3),
        e = function(a, e) {
          e = e || {};
          return b.apply(this, [a, e.data || g].concat(c))
        };
      e.program = a;
      e.depth = c.length;
      return e
    },
    program: function(a, b, g) {
      var c = function(a, c) {
        c = c || {};
        return b(a, c.data || g)
      };
      c.program = a;
      c.depth = 0;
      return c
    },
    noop: function() {
      return ""
    },
    invokePartial: function(a, g, c, e, h, f) {
      e = {
        helpers: e,
        partials: h,
        data: f
      };
      if (void 0 === a) throw new b.Exception("The partial " + g + " could not be found");
      if (a instanceof Function) return a(c, e);
      if (b.compile) return h[g] = b.compile(a, {
        data: void 0 !== f
      }), h[g](c, e);
      throw new b.Exception("The partial " + g + " could not be compiled when running in runtime-only mode");
    }
  };
  b.template = b.VM.template;
  b.VERSION += "-yui";
  b.revive = b.template;
  a.namespace("Template").Handlebars = b
}, "3.17.2", {
  requires: []
});
YUI.add("squarespace-tourdates-bandsintown-list-template", function(a) {
  var f = a.Handlebars;
  (function() {
    var a = f.template;
    (f.templates = f.templates || {})["tourdates-bandsintown-list.html"] = a(function(a, b, h, g, f) {
      function k(a, b) {
        var g, c;
        g = "\n\n      ";
        if ((c = h["if"].call(a, a.errors, {
          hash: {},
          inverse: B.program(6, p, b),
          fn: B.program(3, m, b),
          data: b
        })) || 0 === c) g += c;
        return g + "\n\n    "
      }
      function m(a, b) {
        var g, c;
        g = "\n\n        ";
        if ((c = h.each.call(a, a.errors, {
          hash: {},
          inverse: B.noop,
          fn: B.program(4, n, b),
          data: b
        })) || 0 === c) g += c;
        return g + "\n\n      "
      }
      function n(a, b) {
        var g;
        return g = "" + ('\n        <li class="tour-item-error">\n          <div class="state-message">' + E(typeof a === A ? a.apply(a) : a) + "</div>\n        </li>\n        ")
      }
      function p(a, b) {
        var g, c, e;
        g = '\n\n        <li class="tour-item">\n\n          <div class="tour-timeframe" data-tour-datetime="';
        (c = h.datetime) ? c = c.call(a, {
          hash: {},
          data: b
        }) : (c = a.datetime, c = typeof c === A ? c.apply(a) : c);
        g += E(c) + '">\n            <div class="tour-date">';
        e = {
          hash: {
            format: "date"
          },
          data: b
        };
        g += E((c = h["tourdates-bandsintown-datetime"] || a["tourdates-bandsintown-datetime"], c ? c.call(a, a.datetime, e) : D.call(a, "tourdates-bandsintown-datetime", a.datetime, e))) + '</div>\n            <div class="tour-weekday">';
        e = {
          hash: {
            format: "weekday"
          },
          data: b
        };
        g += E((c = h["tourdates-bandsintown-datetime"] || a["tourdates-bandsintown-datetime"], c ? c.call(a, a.datetime, e) : D.call(a, "tourdates-bandsintown-datetime", a.datetime, e))) + '</div>\n          </div>\n\n          <div class="tour-venue">\n            <a href="';
        (e = h.facebook_rsvp_url) ? e = e.call(a, {
          hash: {},
          data: b
        }) : (e = a.facebook_rsvp_url, e = typeof e === A ? e.apply(a) : e);
        g += E(e) + '" class="tour-venue-link" target="_blank">\n            \n              <div class="tour-venue-name">' + E((c = (c = a.venue, null == c || !1 === c ? c : c.name), typeof c === A ? c.apply(a) : c)) + "</div>\n\n              <!-- The first artist in the lineup is THIS artist, so don't show the first artist, and don't bother\n              showing this div unless there's more than one artist. -->\n              ";
        e = {
          hash: {
            compare: 1
          },
          inverse: B.noop,
          fn: B.program(7, q, b),
          data: b
        };
        if ((e = (c = h.if_gt || a.if_gt, c ? c.call(a, (c = a.artists, null == c || !1 === c ? c : c.length), e) : D.call(a, "if_gt", (c = a.artists, null == c || !1 === c ? c : c.length), e))) || 0 === e) g += e;
        g += '\n\n            </a>\n          </div>\n\n          <div class="tour-location"><a href="';
        (e = h.facebook_rsvp_url) ? e = e.call(a, {
          hash: {},
          data: b
        }) : (e = a.facebook_rsvp_url, e = typeof e === A ? e.apply(a) : e);
        g += E(e) + '" class="tour-location-link" target="_blank">';
        (e = h.formatted_location) ? e = e.call(a, {
          hash: {},
          data: b
        }) : (e = a.formatted_location, e = typeof e === A ? e.apply(a) : e);
        g += E(e) + '</a></div>\n\n          <div class="tour-actions">\n            <a href="';
        if ((e = h["if"].call(a, a.ticket_url, {
          hash: {},
          inverse: B.program(13, w, b),
          fn: B.program(11, v, b),
          data: b
        })) || 0 === e) g += e;
        g += '" class="tour-button tour-button--tickets sqs-editable-button ';
        if ((e = h["if"].call(a, a.ticket_url, {
          hash: {},
          inverse: B.program(17, s, b),
          fn: B.program(15, y, b),
          data: b
        })) || 0 === e) g += e;
        g += '" target="';
        if ((e = h["if"].call(a, a.ticket_url, {
          hash: {},
          inverse: B.program(21,
          C, b),
          fn: B.program(19, x, b),
          data: b
        })) || 0 === e) g += e;
        g += '"></a>\n            <a href="';
        (e = h.facebook_rsvp_url) ? e = e.call(a, {
          hash: {},
          data: b
        }) : (e = a.facebook_rsvp_url, e = typeof e === A ? e.apply(a) : e);
        return g += E(e) + '" class="tour-button tour-button--rsvp sqs-editable-button" target="_blank"></a>\n          </div>\n\n        </li>\n      \n      '
      }
      function q(a, b) {
        var g, c;
        g = '\n              <div class="tour-lineup">\n                ';
        if ((c = h.each.call(a, a.artists, {
          hash: {},
          inverse: B.noop,
          fn: B.program(8, r, b),
          data: b
        })) || 0 === c) g += c;
        return g + "\n              </div>\n              "
      }
      function r(a, b) {
        var g, c, e;
        g = "\n                  ";
        e = {
          hash: {
            compare: 0
          },
          inverse: B.noop,
          fn: B.program(9, u, b),
          data: b
        };
        if ((e = (c = h.if_gt || a.if_gt, c ? c.call(a, (c = b, null == c || !1 === c ? c : c.index), e) : D.call(a, "if_gt", (c = b, null == c || !1 === c ? c : c.index), e))) || 0 === e) g += e;
        return g + "\n                "
      }
      function u(a, b) {
        var g, c;
        g = '\n                  <div class="tour-lineup-item">';
        (c = h.name) ? c = c.call(a, {
          hash: {},
          data: b
        }) : (c = a.name, c = typeof c === A ? c.apply(a) : c);
        return g += E(c) + "</div>\n                  "
      }
      function v(a, b) {
        var g;
        (g = h.ticket_url) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.ticket_url, g = typeof g === A ? g.apply(a) : g);
        return E(g)
      }
      function w(a, b) {
        return "#"
      }
      function y(a, b) {
        return ""
      }
      function s(a, b) {
        return "tour-button-disabled"
      }
      function x(a, b) {
        return "_blank"
      }
      function C(a, b) {
        return "_self"
      }
      this.compilerInfo = [4, ">= 1.0.0"];
      h = this.merge(h, a.helpers);
      f = f || {};
      var z, A = "function",
        E = this.escapeExpression,
        B = this,
        D = h.helperMissing,
        I = h.blockHelperMissing;
      a = '<ul class="tour-list">\n\n  ';
      if ((b = h["if"].call(b, (z = b.data, null == z || !1 === z ? z : z.length), {
        hash: {},
        inverse: B.program(23, function(a, b) {
          return '\n\n      <li class="tour-item-no-results"></li>\n\n  '
        }, f),
        fn: B.program(1, function(a, b) {
          var g, c, e;
          g = "\n\n    ";
          e = {
            hash: {},
            inverse: B.noop,
            fn: B.program(2, k, b),
            data: b
          };
          (c = h.data) ? c = c.call(a, e) : (c = a.data, c = typeof c === A ? c.apply(a) : c);
          h.data || (c = I.call(a, c, e));
          if (c || 0 === c) g += c;
          return g + "\n\n  "
        }, f),
        data: f
      })) || 0 === b) a += b;
      return a + "\n\n</ul>"
    })
  })();
  a.Handlebars.registerPartial("tourdates-bandsintown-list.html".replace("/", "."), f.templates["tourdates-bandsintown-list.html"])
}, "1.0", {
  requires: ["handlebars-base"]
});
YUI.add("dom-core", function(a, f) {
  var b = [],
    c = function() {
      var b = a.config.doc.createElement("div"),
        g = b.appendChild(a.config.doc.createTextNode("")),
        c = !1;
      try {
        c = b.contains(g)
      } catch (e) {}
      return c
    }(),
    e = {
      byId: function(a, b) {
        return e.allById(a, b)[0] || null
      },
      getId: function(a) {
        var b;
        a.id && !a.id.tagName && !a.id.item ? b = a.id : a.attributes && a.attributes.id && (b = a.attributes.id.value);
        return b
      },
      setId: function(a, b) {
        a.setAttribute ? a.setAttribute("id", b) : a.id = b
      },
      ancestor: function(a, b, c, f) {
        var m = null;
        c && (m = !b || b(a) ? a : null);
        return m || e.elementByAxis(a, "parentNode", b, null, f)
      },
      ancestors: function(a, b, c, f) {
        for (var m = [];
        (a = e.ancestor(a, b, c, f)) && !(c = !1, a && (m.unshift(a), f && f(a))););
        return m
      },
      elementByAxis: function(a, b, c, e, f) {
        for (; a && (a = a[b]);) {
          if ((e || a.tagName) && (!c || c(a))) return a;
          if (f && f(a)) break
        }
        return null
      },
      contains: function(a, b) {
        var f = !1;
        if (!b || !a || !b.nodeType || !a.nodeType) f = !1;
        else if (a.contains && (1 === b.nodeType || c)) f = a.contains(b);
        else if (a.compareDocumentPosition) {
          if (a === b || a.compareDocumentPosition(b) & 16) f = !0
        } else f = e._bruteContains(a, b);
        return f
      },
      inDoc: function(a, b) {
        var c = !1;
        a && a.nodeType && (b || (b = a.ownerDocument), c = (c = b.documentElement) && c.contains && a.tagName ? c.contains(a) : e.contains(c, a));
        return c
      },
      allById: function(c, g) {
        g = g || a.config.doc;
        var f = [],
          k = [],
          m, n;
        if (g.querySelectorAll) k = g.querySelectorAll('[id="' + c + '"]');
        else if (g.all) {
          if (f = g.all(c)) if (f.nodeName && (f.id === c ? (k.push(f), f = b) : f = [f]), f.length) for (m = 0; n = f[m++];)(n.id === c || n.attributes && n.attributes.id && n.attributes.id.value === c) && k.push(n)
        } else k = [e._getDoc(g).getElementById(c)];
        return k
      },
      isWindow: function(a) {
        return !(!a || !a.scrollTo || !a.document)
      },
      _removeChildNodes: function(a) {
        for (; a.firstChild;) a.removeChild(a.firstChild)
      },
      siblings: function(a, b) {
        for (var c = [], e = a; e = e.previousSibling;) e.tagName && (!b || b(e)) && c.unshift(e);
        for (e = a; e = e.nextSibling;) e.tagName && (!b || b(e)) && c.push(e);
        return c
      },
      _bruteContains: function(a, b) {
        for (; b;) {
          if (a === b) return !0;
          b = b.parentNode
        }
        return !1
      },
      _getRegExp: function(a, b) {
        b = b || "";
        e._regexCache = e._regexCache || {};
        e._regexCache[a + b] || (e._regexCache[a + b] = RegExp(a,
        b));
        return e._regexCache[a + b]
      },
      _getDoc: function(b) {
        var c = a.config.doc;
        b && (c = 9 === b.nodeType ? b : b.ownerDocument || b.document || a.config.doc);
        return c
      },
      _getWin: function(b) {
        b = e._getDoc(b);
        return b.defaultView || b.parentWindow || a.config.win
      },
      _batch: function(a, b, c, f, m, n) {
        b = "string" === typeof b ? e[b] : b;
        var p, q = 0,
          r;
        if (b && a) for (; p = a[q++];) p = p = b.call(e, p, c, f, m, n), "undefined" !== typeof p && (r || (r = []), r.push(p));
        return "undefined" !== typeof r ? r : a
      },
      generateID: function(b) {
        var c = b.id;
        c || (c = a.stamp(b), b.id = c);
        return c
      }
    };
  a.DOM = e
}, "3.17.2", {
  requires: ["oop", "features"]
});
YUI.add("squarespace-debugger", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.Debugger = Class.create({
    defaultOpts: {
      output: !0,
      ignore: [],
      name: "GenericComponent"
    },
    initialize: function(f) {
      this.params = a.merge(this.defaultOpts, f);
      f = a.Object.getValue(this.params, "name");
      a.Lang.isValue(f) && a.Cookie.get("SQUARESPACE_DEBUG_" + f.toUpperCase()) && (this.params.output = !0);
      this.params.uid && (this.params.name += " #" + this.getUID());
      if (this.params.logEvents) {
        var b = this;
        this.params.logEvents.fire = function(c) {
          b.log("Firing",
          c);
          a.EventTarget.prototype.fire.apply(b.params.logEvents, arguments)
        }
      }
      this.logEnabled = this.params.output
    },
    enable: function() {
      this.params.output = !0
    },
    disable: function() {
      this.params.output = !1
    },
    isInfoEnabled: function() {
      return a.Lang.isBoolean(this.params.output) ? this.params.output : !1
    },
    info: function() {
      return this.log.apply(this, arguments)
    },
    log: function() {
      if (this.params.output && !(0 <= this.params.ignore.indexOf(arguments[0]))) {
        var f = Array.prototype.slice.call(arguments);
        f.unshift("[" + this.params.name + "]");
        console.log && (a.UA.ios ? console.log(f.join(" ")) : console.log.apply ? console.log.apply(console, f) : console.log(f))
      }
    },
    error: function() {
      var f = Array.prototype.slice.call(arguments),
        b = f[f.length - 1];
      b instanceof Error && f.pop();
      f.unshift(this.params.name);
      a.UA.ios && (f = [f.join(" ")]);
      console.error && (a.UA.ios ? console.error(f.join(" ")) : console.error.apply ? console.error.apply(console, f) : console.error(f));
      b && b instanceof Error ? console.error("Stack: " + b.stack) : console.trace && console.trace()
    },
    warn: function() {
      var f = Array.prototype.slice.call(arguments);
      f.unshift("[" + this.params.name + "]");
      console.warn && (a.UA.ios ? console.warn(f.join(" ")) : console.warn.apply ? console.warn.apply(console, f) : console.warn(f))
    },
    isTimingEnabled: function() {
      return !!this.params.output
    },
    getUID: function() {
      void 0 === a.Squarespace.Debugger.lastUID[this.params.name] && (a.Squarespace.Debugger.lastUID[this.params.name] = 0);
      return a.Squarespace.Debugger.lastUID[this.params.name]++
    },
    time: function(a) {
      this.params.output && console.time && console.time("[" + this.params.name + "] " + a)
    },
    timeEnd: function(a) {
      this.params.output && console.timeEnd && console.timeEnd("[" + this.params.name + "] " + a)
    }
  });
  a.Squarespace.Debugger.lastUID = {};
  a.Squarespace.Debugger.enable = function(f) {
    a.Cookie.set("SQUARESPACE_DEBUG_" + f.toUpperCase(), !0);
    a.config.win.location.reload()
  };
  a.Squarespace.Debugger.disable = function(f) {
    a.Cookie.remove("SQUARESPACE_DEBUG_" + f.toUpperCase());
    a.config.win.location.reload()
  }
}, "1.0", {
  requires: ["squarespace-common"]
});
YUI.add("squarespace-template-helpers", function(a) {
  function f(a, b) {
    return b ? function(c) {
      return c.recordType == a || c.promotedBlockType == b
    } : function(b) {
      return b.recordType == a
    }
  }
  function b(a) {
    return function(b) {
      return b.promotedBlockType == a
    }
  }
  function c(a, b) {
    return function(c, g, e) {
      return g._LookUpStack("options")[a] == b
    }
  }
  var e = {
    get: function(a, b) {
      return "function" === typeof a.get ? a.get(b) : a[b]
    }
  }, h = {
    html: a.Squarespace.Escaping.escapeForHtml,
    htmltag: a.Squarespace.Escaping.escapeForHtmlTag,
    htmlattr: a.Squarespace.Escaping.escapeForHtmlTag,
    str: function(a) {
      if (null === a || "undefined" === typeof a) return "";
      try {
        return a.toString()
      } catch (b) {
        return "[JSONT: Can't format variable as string (typeof: " + typeof a + ").]"
      }
    },
    raw: function(a) {
      return a
    },
    capitalize: function(a) {
      return a.toUpperCase()
    },
    safe: function(a) {
      return !a ? "" : a.replace(/<.*?>/g, "")
    },
    json: function(b) {
      return a.JSON.stringify(b).replace(/<\/script>/g, '</scr"+"ipt>')
    },
    "json-pretty": function(b) {
      return a.JSON.stringify(b, null, 2).replace(/<\/script>/g, '</scr"+"ipt>')
    },
    smartypants: function(a) {
      a = a.replace(/(^|[-\u2014\s(\["])'/g, "$1\u2018");
      a = a.replace(/'/g, "\u2019");
      a = a.replace(/(^|[-\u2014/\[(\u2018\s])"/g, "$1\u201c");
      a = a.replace(/"/g, "\u201d");
      return a = a.replace(/--/g, "\u2014")
    },
    slugify: function(a) {
      return !a ? "" : a.replace(/[^\-a-zA-Z0-9\s]+/ig, "").replace(/\s/g, "-").toLowerCase()
    },
    "url-encode": function(a) {
      return encodeURIComponent(a)
    },
    "activate-twitter-links": function(a) {
      return a.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig, '<a target="new" href="$1">$1</a>').replace(/(^| )@([a-zA-Z0-9_]+)/ig, '$1<a target="new" href="http://www.twitter.com/$2/">@$2</a>').replace(/(^| )#([a-zA-Z0-9_]+)/ig, function(a) {
        return '<a target="new" href="http://www.twitter.com/search/' + encodeURIComponent(a) + '">' + a + "</a>"
      })
    },
    count: function(a) {
      var b = a.length;
      if (null == b && "object" === typeof a) for (m in b = 0, a) Object.prototype.hasOwnProperty.call(a, m) && b++;
      return b || 0
    },
    "audio-player": function(a) {
      return '<script>Y.use(\'squarespace-audio-player-frontend\');</script><div class="squarespace-audio-player" data-audio-asset-url="' + a.structuredContent.audioAssetUrl + '" data-item-id="' + a.id + '" id="audio-player-' + a.id + '"></div>'
    },
    "social-button": function(b, c) {
      var g = c._LookUpStack("website"),
        e = b.systemDataId || b.mainImageId || "",
        h = b.assetUrl || (b.mainImage ? b.mainImage.assetUrl : "") || "";
      if (g && g.shareButtonOptions && 0 !== Object.keys(g.shareButtonOptions).length) return '<script>Y.use(\'squarespace-social-buttons\');</script><div class="squarespace-social-buttons button-style" data-system-data-id="' + e + '" data-asset-url="' + h + '" data-record-type="' + b.recordType + '" data-full-url="' + b.fullUrl + '" data-title="' + a.Squarespace.Escaping.escapeForHtmlTag(b.title) + '"></div>'
    },
    "social-button-inline": function(b, c) {
      var g = c._LookUpStack("website"),
        e = b.systemDataId || b.mainImageId || "",
        h = b.assetUrl || (b.mainImage ? b.mainImage.assetUrl : "") || "";
      if (g && g.shareButtonOptions && 0 !== Object.keys(g.shareButtonOptions).length) return '<script>Y.use(\'squarespace-social-buttons\');</script><span class="squarespace-social-buttons inline-style" data-system-data-id="' + e + '" data-asset-url="' + h + '" data-record-type="' + b.recordType + '" data-full-url="' + b.fullUrl + '" data-title="' + a.Squarespace.Escaping.escapeForHtmlTag(b.title) + '"></span>'
    },
    "twitter-follow-button": function(a) {
      return "<script>Y.use('squarespace-follow-buttons', function(Y) { Y.on('domready', function() { Y.Squarespace.FollowButtonUtils.renderAll(); }); });</script><div class=\"squarespace-follow-button\" data-username=\"" + (a.userName || a.profileUrl.split("/").pop()) + '"></div>'
    },
    comments: function(a, b) {
      var c = b._LookUpStack("websiteSettings");
      return c && c.disqusShortname ? '<div class="squarespace-comments" id="disqus_thread"></div>' : '<div class="squarespace-comments" id="comments-' + a.id + '"></div>'
    },
    "comment-link": function(a, b) {
      var c = b._LookUpStack("websiteSettings");
      return c && c.disqusShortname ? '<a href="' + a.fullUrl + '" class="sqs-comment-link sqs-disqus-comment-link" data-id="' + a.id + '"></a>' : '<a href="' + a.fullUrl + "#comments-" + a.id + '" class="sqs-comment-link" data-id="' + a.id + '">' + (0 === a.publicCommentCount ? "No" : a.publicCommentCount) + " Comment" + (1 === a.publicCommentCount ? "" : "s") + "</a>"
    },
    "like-button": function(a, b) {
      var c = b._LookUpStack("websiteSettings");
      if (c && c.simpleLikingEnabled) return '<span class="sqs-simple-like" data-item-id="' + a.id + '" data-like-count="' + a.likeCount + '"><span class="like-icon"></span><span class="like-count"></span></span>'
    },
    "comment-count": function(a) {
      return (0 === a.publicCommentCount ? "No" : a.publicCommentCount) + " Comment" + (1 === a.publicCommentCount ? "" : "s")
    },
    "image-meta": function(b) {
      if (b) {
        var c = "0.5,0.5";
        b.mediaFocalPoint && (c = b.mediaFocalPoint.x + "," + b.mediaFocalPoint.y);
        var g;
        b.title && 0 < b.title.length && (g = b.title);
        !g && (b.body && 0 < b.body.length) && (g = b.body.replace(/<(?:.|\n)*?>/gm, ""));
        !g && (b.filename && 0 < b.filename.length) && (g = b.filename);
        g && (g = a.Squarespace.Escaping.escapeForHtmlTag(g));
        return 'data-image="' + b.assetUrl + '" data-src="' + b.assetUrl + '" data-image-dimensions="' + (b.originalSize || "") + '" data-image-focal-point="' + c + '" alt="' + g + '" '
      }
    },
    height: function(a) {
      a = a.split("x");
      if (2 != a.length) return "Invalid source parameter.  Pass in 'originalSize'.";
      parseInt(a[0], 10);
      return parseInt(a[1], 10)
    },
    width: function(a) {
      a = a.split("x");
      if (2 != a.length) return "Invalid source parameter.  Pass in 'originalSize'.";
      var b = parseInt(a[0], 10);
      parseInt(a[1], 10);
      return b
    },
    moneyFormat: function(b) {
      return a.Squarespace.Commerce.moneyFormat(b)
    },
    "money-format": function(b) {
      return a.Squarespace.Commerce.moneyFormat(b)
    },
    "percentage-format": function(a) {
      a = a.toFixed(3);
      var b = a.length;
      return "0" === a.charAt(b - 1) ? a.substring(0, b - 1) : a
    },
    "google-calendar-url": function(b) {
      var c = "http://www.google.com/calendar/event?action=TEMPLATE",
        g = new Date(b.startDate);
      g.setHours(g.getHours() + g.getTimezoneOffset() / 60);
      var g = a.DataType.Date.format(g, {
        format: "%Y%m%dT%H%M%SZ"
      }),
        e = new Date(b.endDate);
      e.setHours(e.getHours() + e.getTimezoneOffset() / 60);
      var e = a.DataType.Date.format(e, {
        format: "%Y%m%dT%H%M%SZ"
      }),
        h;
      b.location && (h = b.location.addressLine1 + ", " + b.location.addressLine2 + ", " + b.location.addressCountry);
      c += "&text=" + encodeURI(b.title);
      c += "&dates=" + g + "/" + e;
      h && (c += "&location=" + h);
      return c
    },
    AbsUrl: function(a, b) {
      return e.get("base-url") + "/" + a
    },
    "item-classes": function(b, c) {
      c.hash && (c = this);
      var g = ["hentry"],
        f = e.get(c, "promotedBlockType");
      f && (g.push("promoted"), g.push(h.slugify("promoted-block-" + f)));
      if (f = e.get(c, "categories")) for (var l = 0; l < f.length; l++) g.push(h.slugify("category-" + f[l]));
      if (f = e.get(c, "tags")) for (l = 0; l < f.length; l++) g.push(h.slugify("tag-" + f[l]));
      (f = e.get(c, "author")) && f.displayName && g.push(h.slugify("author-" + f.displayName));
      g.push("post-type-" + e.get(c, "recordTypeLabel"));
      g.push("article-index-" + e.get(c, "@index"));
      e.get(c, "starred") && g.push("featured");
      b.recordType === a.Squarespace.RecordType.STORE_ITEM && a.Squarespace.Commerce.onSale(b) && g.push("on-sale");
      return g.join(" ")
    },
    round: function(a, b, c) {
      return Math.round(parseFloat(a))
    },
    iter: function(a) {
      return e.get(a, "@index")
    },
    "product-status": function(b) {
      if (a.Squarespace.Commerce.soldOut(b)) return '<div class="product-mark sold-out">sold out</div>';
      if (a.Squarespace.Commerce.onSale(b)) return '<div class="product-mark sale">sale</div>'
    },
    "money-string": function(b) {
      return a.Squarespace.Commerce.moneyString(b)
    },
    "product-price": function(b) {
      return '<div class="product-price">' + a.Squarespace.Commerce.priceString(b) + "</div>"
    },
    "product-checkout": function(b) {
      return a.Squarespace.Commerce.variantsSelectString(b) + a.Squarespace.Commerce.quantityInputString(b) + a.Squarespace.Commerce.addToCartBtnString(b)
    },
    "from-price": function(b) {
      return a.Squarespace.Commerce.fromPrice(b)
    },
    "normal-price": function(b) {
      return a.Squarespace.Commerce.normalPrice(b)
    },
    "sale-price": function(b) {
      return a.Squarespace.Commerce.salePrice(b)
    },
    "coupon-descriptor": function(b) {
      return a.Squarespace.Commerce.couponDescriptor(b)
    },
    "variant-descriptor": function(b) {
      return a.Squarespace.Commerce.variantFormat(b)
    },
    "variants-select": function(b) {
      return a.Squarespace.Commerce.variantsSelectString(b)
    },
    "quantity-input": function(b) {
      return a.Squarespace.Commerce.quantityInputString(b)
    },
    "add-to-cart-btn": function(b) {
      return a.Squarespace.Commerce.addToCartBtnString(b)
    },
    "color-weight": function(a) {
      return a && 0 < a.length && 7 >= a.length ? (a = a.replace("#", ""), 8388607.5 < parseInt(a, 16) ? "light" : "dark") : ""
    },
    "summary-form-field": function(b) {
      return a.Squarespace.Commerce.summaryFormFieldString(b)
    }
  },
  g = {
    "has-multiple?": function(a) {
      return 1 < a.length
    },
    "main-image?": function(a) {
      return !!a.mainImageId || !! a.systemDataId
    },
    "child-images?": function(a) {
      return a.items && 0 < a.items.length && (a = a.items[0], a.mainImageId || a.systemDataId) ? !0 : !1
    },
    "location?": function(a) {
      return a.location && a.location.mapLat && a.location.mapLng
    },
    "excerpt?": function(a) {
      return !/^[\u200b\s]*$/.test((a.excerpt && (a.excerpt.html || a.excerpt) || "").replace(/<[^>]+>/g, ""))
    },
    "comments?": function(a, b) {
      var c = b._LookUpStack("websiteSettings"),
        g = 1 === a.commentState;
      !g && 0 < a.publicCommentCount && (g = !0);
      c && !c.commentsEnabled && (g = !1);
      return g
    },
    "collection?": function(a) {
      return a.collection
    },
    "collection-page?": function(b) {
      return b.collection && b.collection.type == a.Squarespace.CollectionTypes.PAGE
    },
    "passthrough?": function(a) {
      return a.passthrough && a.sourceUrl && "" !== a.sourceUrl
    },
    "event?": function(b) {
      return b.recordType == a.Squarespace.RecordType.EVENT
    },
    "same-day?": function(a, b) {
      try {
        var c = new TimezoneJS.Date(a.startDate, b.get("website.timeZone")),
          g = new TimezoneJS.Date(a.endDate,
          b.get("website.timeZone"));
        return c.getYear() == g.getYear() && c.getMonth() == g.getMonth() && c.getDate() == g.getDate()
      } catch (e) {
        return !1
      }
    },
    "external-link?": function(a) {
      return !!a.externalLink
    },
    "folder?": function(a) {
      return a.collection && a.collection.folder
    },
    "index?": function(b) {
      return b.collection && b.collection.folder && b.collection.folderBehavior == a.Squarespace.FolderBehavior.INDEX
    },
    "singular?": function(a) {
      return 1 === a
    },
    "plural?": function(a) {
      return 1 !== a
    },
    "disqus?": function(a, b) {
      var c = b._LookUpStack("websiteSettings");
      return c && c.disqusShortname
    },
    "serviceNameEmail?": function(a, b) {
      return "email" === a.serviceName
    },
    "debug?": function(a, b) {
      try {
        return b.get("debug")
      } catch (c) {
        if ("UndefinedVariable" == c.name) return !1;
        throw c;
      }
    },
    "calendar-view?": function(a, b) {
      return !0 === b._LookUpStack("calendarView")
    },
    "has-variants?": function(b) {
      return a.Squarespace.Commerce.hasVariants(b)
    },
    "varied-prices?": function(b) {
      return a.Squarespace.Commerce.variedPrices(b)
    },
    "on-sale?": function(b) {
      return a.Squarespace.Commerce.onSale(b)
    },
    "sold-out?": function(b) {
      return a.Squarespace.Commerce.soldOut(b)
    }
  },
  l;
  for (l in a.Squarespace.ContentStringConstants) g[l + "?"] = f(a.Squarespace.ContentStringConstants[l]);
  g["external-video?"] = f(a.Squarespace.RecordType.VIDEO, "video");
  g["video?"] = f(a.Squarespace.RecordType.VIDEO, "video");
  g["image?"] = f(a.Squarespace.RecordType.IMAGE, "image");
  g["quote?"] = f(a.Squarespace.RecordType.QUOTE, "quote");
  g["link?"] = f(a.Squarespace.RecordType.LINK, "link");
  g["quote?"] = f(a.Squarespace.RecordType.QUOTE, "quote");
  g["gallery?"] = f(a.Squarespace.RecordType.GALLERY, "gallery");
  for (var k = "map embed image code quote twitter link video foursquare instagram form".split(" "),
  m = 0; m < k.length; m++) {
    var n = k[m],
      p = n.charAt(0).toUpperCase() + n.slice(1);
    g["promoted" + p + "?"] = b(n)
  }
  g["redirect?"] = function(b) {
    return b.folderBehavior == a.Squarespace.FolderBehavior.REDIRECT
  };
  g["clickable?"] = function(b, c, g) {
    b = c._LookUpStack("folderBehavior");
    return "undefined" === typeof b ? !0 : b == a.Squarespace.FolderBehavior.INDEX || b == a.Squarespace.FolderBehavior.REDIRECT
  };
  for (var q in a.Squarespace.GalleryOptions) switch (k = a.Squarespace.GalleryOptions[q], k.type) {
  case "select":
    for (var r in k.options) g["gallery-" + q + "-" + r + "?"] = c(q, r);
    break;
  case "boolean":
    g["gallery-" + q + "?"] = c(q, !0);
    break;
  case "slider":
    break;
  default:
    console.log("Unknown type: " + l + ", (opt: " + q + ")")
  }
  g["gallery-meta?"] = function(a, b, c) {
    return b._LookUpStack("options").controls || b._LookUpStack("options").indicators
  };
  a.namespace("Squarespace");
  a.Squarespace.HANDLEBARS_HELPERS = {
    debug: function() {
      return function(a) {
        a = "DEBUG:\n========================\n" + JSON.stringify(this || a, null, 2);
        return a + "END DEBUG:\n========================\n"
      }
    },
    moneyFormat: function(b) {
      return a.Squarespace.Commerce.moneyFormat(b)
    }
  };
  a.Squarespace.TEMPLATE_PREDICATES = g;
  a.Squarespace.TEMPLATE_PARAMETRIC_PREDICATES = [{
    name: "collectionTypeNameEquals?",
    func: function(a, b, c) {
      return b.get("typeName") == c[0]
    }
  }];
  a.Squarespace.TEMPLATE_FORMATTERS = h;
  a.Squarespace.TEMPLATE_PREFIX_FORMATTERS = [{
    name: "output",
    func: function(a, b, c) {
      return c.join(" ")
    }
  }, {
    name: "video",
    func: function(b, c, g) {
      var e = b.oembed || {};
      c = b.assetUrl;
      var h = b.mediaFocalPoint,
        f = !1,
        l = !1,
        k = b.colorData;
      if (g) for (var m = 0; m < g.length; m++) {
        var q = g[m];
        "load-false" === q ? f = !0 : "color-data" === q && (l = !0)
      }
      g = '<div class="sqs-video-wrapper" ' + (f ? 'data-load="false" ' : "") + 'data-html="' + a.Squarespace.Escaping.escapeForHtmlTag(e.html) + '" data-provider-name="' + e.providerName + '">';
      b.overlay && (e = '<div class="sqs-video-overlay', b.mainImageId || b.systemDataId ? (e = e + '" style="opacity: 0;">' + ('<img data-load="false" data-image="' + c + '" data-src="' + c + '" data-image-dimensions="' + (b.originalSize || "") + '" data-image-focal-point="' + (h ? h.x + "," + h.y : "0.5,0.5") + '" '), l && k && (e += 'data-color-topleft="#' + k.topLeftAverage + '" data-color-topright="#' + k.topRightAverage + '" data-color-bottomleft="#' + k.bottomLeftAverage + '" data-color-bottomright="#' + k.bottomRightAverage + '" data-color-center="#' + k.centerAverage + '" '), e += "/>") : e += ' no-thumb" style="opacity: 0;">', e += '<div class="sqs-video-opaque"> </div><div class="sqs-video-icon"></div>', e += "</div>", g += e);
      return g + "</div>"
    }
  }, {
    name: "image-color",
    func: function(a, b, c) {
      b = "";
      a.colorData && (b = 0 < c.length ? (a = a.colorData[c[0] + "Average"]) ? 2 == c.length ? c[1] + ": #" + a : "#" + a : c[0] + " not found: valid position-- topLeft, topRight, bottomLeft, bottomRight, center" : 'data-color-topleft="#' + a.colorData.topLeftAverage + '" data-color-topright="#' + a.colorData.topRightAverage + '" data-color-bottomleft="#' + a.colorData.bottomLeftAverage + '" data-color-bottomright="#' + a.colorData.bottomRightAverage + '" data-color-center="#' + a.colorData.centerAverage + '" ');
      return b
    }
  }, {
    name: "child-image-meta",
    func: function(b, c, g) {
      b = b.items[g && g[0] ? g[0] : 0];
      c = "0.5,0.5";
      b.mediaFocalPoint && (c = b.mediaFocalPoint.x + "," + b.mediaFocalPoint.y);
      var e;
      b.title && 0 < b.title.length && (e = b.title);
      !e && (b.body && 0 < b.body.length) && (e = b.body.replace(/<(?:.|\n)*?>/gm, ""));
      !e && (b.filename && 0 < b.filename.length) && (e = b.filename);
      e && (e = a.Squarespace.Escaping.escapeForHtmlTag(e));
      return 'data-image="' + b.assetUrl + '" data-src="' + b.assetUrl + '" data-image-dimensions="' + (b.originalSize || "") + '" data-image-focal-point="' + c + '" alt="' + e + '" '
    }
  }]
}, "1.0", {
  requires: ["squarespace-common", "squarespace-util", "squarespace-commerce-utils", "substitute", "json"]
});
YUI.add("squarespace-models-instagram", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.Instagram = a.Base.create("Instagram", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "Instagram",
        validator: function(a) {
          return "Instagram" === a
        },
        readOnly: !0
      },
      instagramId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      timeZone: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      imageLowResolutionUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      imageThumbnailUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      imageStandardUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      width: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      },
      height: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      },
      filter: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      userProfilePictureUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      userAccountName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      userDisplayName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("squarespace-models-content-item", function(a) {
  a.namespace("Squarespace.Models");
  var f = a.Squarespace.Models.ContentItem = a.Base.create("Item", a.Model, [a.Squarespace.ModelSync.REST], {
    root: "content-items",
    url: "content-items/{id}",
    load: function() {
      this.get("isGlobalFakeContentItem") && (this.root = "rest/global-content-items/", this.url = "rest/global-content-items/{id}");
      f.superclass.load.apply(this, arguments)
    },
    initializer: function(b) {
      this._needsJobListener() && this._bindJobListener();
      this._updateNextDisplayIndex();
      b = this.get("items");
      b.after(["add", "remove"], function() {
        this._updateNextDisplayIndex()
      }, this);
      this.items = b;
      a.Do.after(function() {
        var b = this.get("collectionId"),
          e = a.Squarespace.API_ROOT;
        a.Lang.isValue(b) && (e += "content-collections/" + b + "/");
        e += a.Do.currentRetVal;
        return new a.Do.AlterReturn("Adding prefix to url.", e)
      }, this, "getURL", this)
    },
    destructor: function() {
      this._jobListener && (this._jobListener.detach(), this._jobListener = null)
    },
    toJSON: function() {
      var b = f.superclass.toJSON.call(this),
        c = b.structuredContent;
      a.Lang.isValue(c) && (b.structuredContent = c.toJSON());
      b.items = b.items.toJSON();
      return b
    },
    serialize: function(b) {
      b = this.toJSON();
      delete b.items;
      delete b.author;
      delete b.fullUrl;
      delete b.assetUrl;
      delete b.resolved;
      delete b.postItemInjectCode;
      delete b.promotedBlock;
      delete b.promotedBlockType;
      delete b.nextDisplayIndex;
      delete b.mediaIsUploading;
      delete b.hasFileData;
      delete b.isGlobalFakeContentItem;
      delete b.childrenGroups;
      return a.JSON.stringify(b)
    },
    save: function(b, c) {
      this.isNew() || !a.Lang.isObject(b) || !b.fields ? f.superclass.save.call(this, b, c) : this._saveFields(b.fields, c)
    },
    autoSave: function(b, c) {
      a.Lang.isFunction(b) ? (c = b, b = {}) : a.Lang.isValue(b) || (b = {});
      b.headers = a.merge(b.headers, {
        "X-AutoSave": !0
      });
      this.save(b, c)
    },
    like: function(b) {
      a.Data.post({
        url: this.getURL() + "/sentiment/like",
        success: function(c) {
          a.Lang.isFunction(b) && b(null, c)
        },
        failure: function(c) {
          a.Lang.isFunction(b) && b(c, null)
        }
      }, this)
    },
    dislike: function(b) {
      a.Data.post({
        url: this.getURL() + "/sentiment/dislike",
        success: function(c) {
          a.Lang.isFunction(b) && b(null, c)
        },
        failure: function(c) {
          a.Lang.isFunction(b) && b(c, null)
        }
      }, this)
    },
    clearFileData: function(b) {
      this.setAttrs({
        systemDataId: null,
        systemDataOrigin: null,
        mediaProcessingState: null,
        systemDataSourceType: null,
        systemDataVariants: null,
        filename: null
      });
      a.Data.post({
        url: "/api/commondata/ClearEmbeddedAsset",
        data: {
          itemId: this.get("id"),
          persistTransient: !0 === b
        }
      })
    },
    clearChildGroup: function(b, c) {
      a.Data.post({
        url: "/api/commondata/ClearChildGroup",
        data: {
          childType: b,
          itemId: this.get("id")
        },
        success: function(b) {
          a.Lang.isFunction(c) && c(null, b)
        },
        failure: function(b) {
          a.Lang.isFunction(c) && c(b, null)
        }
      })
    },
    getAssetUrlForFormat: function(b) {
      return a.Lang.sub("{assetUrl}?format={format}", {
        assetUrl: this.get("assetUrl"),
        format: b
      })
    },
    getId: function() {
      return this.get("id")
    },
    isLicensedAssetPreview: function() {
      return a.Lang.isValue(this.get("licensedAssetPreview"))
    },
    isLicensedAsset: function() {
      return a.Lang.isValue(this.get("licensedAssetId"))
    },
    _needsJobListener: function() {
      var b = this.get("mediaProcessingState");
      return b === a.Squarespace.MediaProcessingState.QUEUED || b === a.Squarespace.MediaProcessingState.PROCESSING
    },
    _bindJobListener: function() {
      Static && Static.JOB_MANAGER && (this._jobListener = a.config.win.Static.JOB_MANAGER.on("completed", function(b) {
        var c = this.get("id"),
          e = b.get("data.contentItemId");
        b = b.get("data.globalContentItemId");
        e === c ? (this.load(), this._jobListener.detach()) : a.Lang.isValue(b) && b === c && (a.Data.get({
          url: "/api/rest/global-content-items/" + b,
          success: function(a) {
            this.set("assetUrl", a.assetUrl);
            this.setAttrs(a)
          }
        }, this), this._jobListener.detach())
      },
      this))
    },
    _updateNextDisplayIndex: function() {
      var a = 0;
      this.get("items").each(function(c) {
        c = c.get("displayIndex");
        c >= a && (a = c + 1)
      }, this);
      this._set("nextDisplayIndex", a)
    },
    _saveFields: function(b, c) {
      if (1 < b.length) throw "Saving multiple fields is not currently supported.";
      var e = b[0],
        e = {
          field: e,
          itemId: this.get("id"),
          value: this.get(e)
        };
      a.Data.post({
        url: "/api/commondata/SaveItemField",
        data: a.merge({}, e),
        success: function(b) {
          a.Lang.isFunction(c) && c(null, b.item)
        },
        failure: function(b) {
          a.Lang.isFunction(c) && c.call(b,
          null)
        }
      }, this)
    },
    _getStructuredContentCtor: function() {
      switch (this.get("recordType")) {
      case a.Squarespace.RecordType.AUDIO:
        return a.Squarespace.Models.Audio;
      case a.Squarespace.RecordType.EVENT:
        return a.Squarespace.Models.CalendarEvent;
      case a.Squarespace.RecordType.CHECKIN:
        return a.Squarespace.Models.CheckIn;
      case a.Squarespace.RecordType.EMBED:
      case a.Squarespace.RecordType.VIDEO:
        return a.Squarespace.Models.Embed;
      case a.Squarespace.RecordType.INSTAGRAM:
        return a.Squarespace.Models.Instagram;
      case a.Squarespace.RecordType.KBARTICLE:
        return a.Squarespace.Models.KBArticle;
      case a.Squarespace.RecordType.LINK:
        return a.Squarespace.Models.Link;
      case a.Squarespace.RecordType.QUOTE:
        return a.Squarespace.Models.Quote;
      case a.Squarespace.RecordType.STORE_ITEM:
        return a.Squarespace.Models.StoreItem;
      case a.Squarespace.RecordType.TWEET:
        return a.Squarespace.Models.Tweet;
      default:
        return null
      }
    }
  }, {
    ATTRS: {
      id: {
        value: null
      },
      collectionId: {
        value: null
      },
      parentId: {
        value: null
      },
      authorId: {
        valueFn: function() {
          var b = a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "authenticatedAccount"]);
          return b ? b.id : null
        }
      },
      proxyForId: {
        value: null
      },
      recordType: {
        validator: a.Squarespace.AttrValidators.isValueIn(a.Squarespace.RecordType),
        writeOnce: !0
      },
      childType: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      addedOn: {
        valueFn: function() {
          return (new Date).getTime()
        },
        validator: a.Squarespace.AttrValidators.isNumber,
        writeOnce: "initOnly"
      },
      updatedOn: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNumber,
        writeOnce: "initOnly"
      },
      publishOn: {
        valueFn: function() {
          return (new Date).getTime()
        },
        validator: a.Squarespace.AttrValidators.isNumber
      },
      unsaved: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrBoolean
      },
      urlId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      title: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      body: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrObject
      },
      excerpt: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrObject
      },
      displayIndex: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      starred: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      passthrough: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      tags: {
        value: [],
        validator: a.Squarespace.AttrValidators.isArray
      },
      categories: {
        value: [],
        validator: a.Squarespace.AttrValidators.isArray
      },
      workflowState: {
        setter: function(a) {
          return a
        },
        value: a.Squarespace.WorkflowStates.DRAFT,
        validator: a.Squarespace.AttrValidators.isValueIn(a.Squarespace.WorkflowStates)
      },
      systemDataId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      systemDataVariants: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      systemDataOrigin: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      contentType: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      filename: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      dataSize: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      },
      sourceUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      mediaProcessingState: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOr(a.Squarespace.AttrValidators.isValueIn(a.Squarespace.MediaProcessingState))
      },
      mediaFocalPoint: {
        value: {
          x: 0.5,
          y: 0.5
        },
        setter: function(b) {
          if (a.Lang.isString(b)) {
            b = b.split(",");
            var c = parseFloat(b[0]);
            b = parseFloat(b[1]);
            return {
              x: !isNaN(c) && 1 >= c ? c : 0.5,
              y: !isNaN(b) && 1 >= b ? b : 0.5
            }
          }
          return b
        }
      },
      colorData: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrObject
      },
      clickthroughUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      location: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrObject
      },
      customContent: {
        value: null
      },
      likeCount: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      dislikeCount: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      commentCount: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      publicCommentCount: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      commentState: {
        valueFn: function() {
          var b = a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings"]),
            c = b.commentsEnabled;
          return b.commentEnableByDefault || c ? a.Squarespace.CommentStates.ENABLED : a.Squarespace.CommentStates.DISABLED
        },
        validator: a.Squarespace.AttrValidators.isValueIn(a.Squarespace.CommentStates)
      },
      commentDisableOn: {
        valueFn: function() {
          var b = a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "commentDisableAfterDaysDefault"]);
          return b ? a.Date.addDays(new Date, b).getTime() : null
        },
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      },
      pushedServices: {
        value: {},
        validator: a.Squarespace.AttrValidators.isObject
      },
      shareStates: {
        value: []
      },
      structuredContent: {
        valueFn: function() {
          var b = this._getStructuredContentCtor();
          return a.Lang.isNull(b) ? null : new b
        },
        setter: function(b) {
          if (b instanceof a.Squarespace.Models.StructuredContent) return b;
          var c = this._getStructuredContentCtor();
          return a.Lang.isNull(c) ? null : new c(b)
        }
      },
      items: {
        valueFn: function() {
          return new a.Squarespace.Models.ContentItemList({
            parent: this
          })
        },
        setter: function(b) {
          var c = this.get("items");
          return a.Lang.isValue(c) ? (c.reset(b), c) : b instanceof a.Squarespace.Models.ContentItemList ? b : new a.Squarespace.Models.ContentItemList({
            items: b,
            parent: this
          })
        }
      },
      childrenGroups: {
        value: {},
        validator: a.Squarespace.AttrValidators.isObject
      },
      author: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrObject
      },
      fullUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      assetUrl: {
        value: null,
        getter: function(b) {
          return a.Squarespace.UrlUtils.isSecure() ? a.Squarespace.UrlUtils.securifyURL(b) : b
        },
        validator: a.Squarespace.AttrValidators.isNulLOrString
      },
      resolved: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      postItemInjectCode: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      promotedBlock: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      promotedBlockType: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      nextDisplayIndex: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber,
        readOnly: !0
      },
      mediaIsUploading: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      hasFileData: {
        getter: function() {
          var b = this.get("mediaProcessingState") == a.Squarespace.MediaProcessingState.QUEUED;
          return this.get("isGlobalFakeContentItem") ? !this.isNew() : "USER_UPLOAD" === this.get("systemDataOrigin") && b ? !0 : b ? !0 : a.Lang.isValue(this.get("systemDataId"))
        }
      },
      isGlobalFakeContentItem: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      licensedAssetPreview: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrObject
      },
      licensedAssetId: {
        value: null,
        validator: a.Lang.isString
      }
    }
  })
}, "1.0", {
  requires: "base json model squarespace-attr-validators squarespace-enum squarespace-model-sync-rest squarespace-models-audio squarespace-models-calendar-event squarespace-models-check-in squarespace-models-content-item-list squarespace-models-embed squarespace-models-instagram squarespace-models-kb-article squarespace-models-link squarespace-models-quote squarespace-models-store-item squarespace-models-tweet squarespace-url-utils squarespace-util".split(" ")
});
YUI.add("squarespace-date-utils", function(a) {
  function f(b) {
    b = a.Intl.get("datatype-date-format")[b];
    return {
      monday: b[1],
      tuesday: b[2],
      wednesday: b[3],
      thursday: b[4],
      friday: b[5],
      saturday: b[6],
      sunday: b[0]
    }
  }
  var b = a.namespace("Squarespace").DateUtils = {
    LANG: {
      days: {
        full: f.call(null, "A"),
        abbreviated: f.call(null, "a")
      }
    },
    humanizeAllDates: function(c) {
      a.all(c).each(function(b) {
        var c = parseInt(b.getAttribute("data-date"), 10);
        a.Lang.isNumber(c) ? b.set("innerHTML", a.Squarespace.DateUtils.humanizeDate(c)) : console.warn("Invalid date on node: ",
        b)
      });
      var e = a.later(3E3, this, b.humanizeAllDates, c);
      a.Lang.isUndefined(this._beforeUnloadHandle) && (this._beforeUnloadHandle = a.on("beforeunload", function() {
        e.cancel()
      }))
    },
    humanizeDate: function(b, e) {
      a.Lang.isDate(b) && (b = b.getTime());
      a.Lang.isString(b) && (b = parseInt(b, 10));
      var h = Date.now() - b,
        g = Math.floor(h / 31536E6),
        f = Math.floor(h / 2592E6),
        k = Math.floor(h / 6048E5),
        m = Math.floor(h / 864E5),
        n = Math.floor(h / 36E5),
        p = Math.floor(h / 6E4),
        h = Math.floor(h / 1E3),
        q = function(a, b) {
          var c = "";
          return c = (1 == a ? c + (("hour" === b ? "An " : "A ") + b) : c + (a + " " + b + "s")) + " ago"
        };
      return 0 < g ? q(g, "year") : 0 < f ? q(f, "month") : 0 < k ? q(k, "week") : 0 < m ? q(m, "day") : 0 < n ? q(n, "hour") : 0 < p ? q(p, "minute") : e ? q(h, "second") : "Just now"
    },
    humanizeDuration: function(a) {
      var b = Math.round(a / 1E3);
      a = Math.floor(b / 60);
      b -= 60 * a;
      return a + ":" + ((10 > b ? "0" : "") + b)
    },
    dateFormat: function(c, e) {
      e = e || {};
      e.format = e.format || "%B %e, %Y";
      if (c) if (!a.Lang.isDate(c) && (a.Lang.isNumber(c) || a.Lang.isString(c))) c = new Date(c);
      else {
        if (isNaN(c.getTime())) return "Invalid Date"
      } else c = new Date;
      if (!a.Lang.isValue(a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "tzData"]))) return a.DataType.Date.format(c, e);
      var h = a.Squarespace.DateUtils.createWebsiteTimezoneTools(c);
      if (!a.Lang.isValue(h)) return a.DataType.Date.format(c, e);
      var g = new Date(c.getTime()),
        f = g.getTimezoneOffset() + h.get("utcOffset");
      g.setMinutes(g.getMinutes() + f);
      a.Lang.isString(a.Object.getValue(e, ["format"])) && (e.format = e.format.replace(/%Z/g, h.get("abbreviation").replace("%s", "")), e.format = b.fixYUIFormatForMissingDate(c, e.format, h));
      return a.DataType.Date.format(g, e)
    },
    fixYUIFormatForMissingDate: function(a, b, h) {
      var g = new Date(a);
      g.setMinutes(g.getMinutes() + (h.get("utcOffset") + g.getTimezoneOffset()));
      var f = new Date(a.getTime() + 6E4 * h.get("utcOffset"));
      if (g.getHours() == f.getUTCHours()) return b;
      var k = {
        e: f.getUTCDate,
        l: function() {
          var a = f.getUTCHours() % 12;
          return 0 === a ? 12 : a
        },
        k: function() {
          return f.getUTCHours()
        },
        H: function() {
          var a = k.k();
          return 10 > a ? "0" + a : a
        },
        I: function() {
          var a = k.l();
          return 10 > a ? "0" + a : a
        },
        p: function() {
          return 12 > f.getUTCHours() ? "AM" : "PM"
        },
        P: function() {
          return k.p().toLowerCase()
        },
        r: function() {
          return "%I:%M:%S %p"
        },
        T: function() {
          return "%H:%M:%S"
        },
        Z: function() {
          return h.getAbbreviation()
        }
      };
      for (a = function(a) {
        a = a.substr(1, 1);
        return k[a].call(this).toString()
      }; b.match(/%[elkHIpPrTZ]/);) b = b.replace(/%[elkHIpPrTZ]/g, a);
      return b
    },
    getTimeOffsetToWebsiteTimezone: a.cached(function(c) {
      if (a.Lang.isDate(c)) c = c.getTime();
      else if (!a.Lang.isNumber(c)) throw "Invalid argument";
      var e = b.createWebsiteTimezoneTools(c);
      if (!a.Lang.isValue(e)) return 0;
      c = -(new Date(c)).getTimezoneOffset();
      return e.get("utcOffset") - c
    }),
    createWebsiteTimezoneTools: function(b) {
      a.Lang.isDate(b) && (b = b.getTime());
      b = new a.Squarespace.TimezoneTools({
        time: b,
        timezone: a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "timeZone"]),
        tzData: a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "tzData"])
      });
      return !a.Lang.isValue(b) || !b.get("validData") ? null : b
    },
    createWebsiteDate: function() {
      var c = new Date(Date.UTC.apply(this, arguments)),
        e = b.createWebsiteTimezoneTools(c.getTime());
      if (!a.Lang.isValue(e)) return console.warn("Failed to create date local to website."),
      new Date(Date.UTC.apply(this, arguments) + 6E4 * (new Date).getTimezoneOffset());
      e = e.get("standardUTCOffset");
      e = b.createWebsiteTimezoneTools(c.getTime() - 6E3 * e);
      e = e.get("utcOffset");
      c.setMinutes(c.getMinutes() - e);
      return c
    },
    shiftForWebsiteTimezoneDisplay: function(b) {
      if (!a.Lang.isValue(b)) return null;
      if (!a.Lang.isValue(a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "tzData"]))) return new Date(b);
      b = new Date(b);
      var e = a.Squarespace.DateUtils.getTimeOffsetToWebsiteTimezone(b);
      b.setMinutes(b.getMinutes() + e);
      return b
    },
    calculateFullDayOffset: function(a, e) {
      var h = function(a) {
        a = b.shiftForWebsiteTimezoneDisplay(a);
        a.set({
          hour: 0,
          minute: 0,
          second: 0,
          millisecond: 0
        });
        return Math.floor(a.getTime() / 864E5)
      }, g = h(a);
      return h(e) - g
    },
    getEnglishDateWithOrdinal: function(a) {
      a = this.shiftForWebsiteTimezoneDisplay(a);
      a = a.getDate();
      var b;
      if (10 < a && 20 > a) return a + "th";
      switch (a % 10) {
      case 1:
        b = "st";
        break;
      case 2:
        b = "nd";
        break;
      case 3:
        b = "rd";
        break;
      default:
        b = "th"
      }
      return a + b
    }
  }
}, "1.0", {
  requires: ["intl", "lang/datatype-date-format_en", "squarespace-timezone-tools",
    "squarespace-beforeunload"]
});
YUI.add("io-upload-iframe", function(a, f) {
  function b(b, c, g) {
    var e = a.Node.create('<iframe id="io_iframe' + b.id + '" name="io_iframe' + b.id + '" />');
    e._node.style.position = "absolute";
    e._node.style.top = "-1000px";
    e._node.style.left = "-1000px";
    a.one("body").appendChild(e);
    a.on("load", function() {
      g._uploadComplete(b, c)
    }, "#io_iframe" + b.id)
  }
  function c(b) {
    a.Event.purgeElement("#io_iframe" + b, !1);
    a.one("body").removeChild(a.one("#io_iframe" + b))
  }
  var e = a.config.win,
    h = a.config.doc,
    g = h.documentMode && 8 <= h.documentMode,
    l = decodeURIComponent,
    k = a.IO.prototype.end;
  a.mix(a.IO.prototype, {
    _addData: function(b, c) {
      a.Lang.isObject(c) && (c = a.QueryString.stringify(c));
      var g = [],
        e = c.split("="),
        f, k;
      f = 0;
      for (k = e.length - 1; f < k; f++) g[f] = h.createElement("input"), g[f].type = "hidden", g[f].name = l(e[f].substring(e[f].lastIndexOf("&") + 1)), g[f].value = f + 1 === k ? l(e[f + 1]) : l(e[f + 1].substring(0, e[f + 1].lastIndexOf("&"))), b.appendChild(g[f]);
      return g
    },
    _removeData: function(a, b) {
      var c, g;
      c = 0;
      for (g = b.length; c < g; c++) a.removeChild(b[c])
    },
    _setAttrs: function(b,
    c, e) {
      this._originalFormAttrs = {
        action: b.getAttribute("action"),
        target: b.getAttribute("target")
      };
      b.setAttribute("action", e);
      b.setAttribute("method", "POST");
      b.setAttribute("target", "io_iframe" + c);
      b.setAttribute(a.UA.ie && !g ? "encoding" : "enctype", "multipart/form-data")
    },
    _resetAttrs: function(b, c) {
      a.Object.each(c, function(a, c) {
        a ? b.setAttribute(c, a) : b.removeAttribute(c)
      })
    },
    _startUploadTimeout: function(a, b) {
      var c = this;
      c._timeout[a.id] = e.setTimeout(function() {
        a.status = 0;
        a.statusText = "timeout";
        c.complete(a, b);
        c.end(a, b)
      }, b.timeout)
    },
    _clearUploadTimeout: function(a) {
      e.clearTimeout(this._timeout[a]);
      delete this._timeout[a]
    },
    _uploadComplete: function(b, g) {
      var h = a.one("#io_iframe" + b.id).get("contentWindow.document"),
        f = h.one("body"),
        l;
      g.timeout && this._clearUploadTimeout(b.id);
      try {
        f ? (l = f.one("pre:first-child"), b.c.responseText = l ? l.get("text") : f.get("text")) : b.c.responseXML = h._node
      } catch (k) {
        b.e = "upload failure"
      }
      this.complete(b, g);
      this.end(b, g);
      e.setTimeout(function() {
        c(b.id)
      }, 0)
    },
    _upload: function(b, g, e) {
      var f = this,
        l = "string" === typeof e.form.id ? h.getElementById(e.form.id) : e.form.id,
        k;
      f._setAttrs(l, b.id, g);
      e.data && (k = f._addData(l, e.data));
      e.timeout && f._startUploadTimeout(b, e);
      l.submit();
      f.start(b, e);
      e.data && f._removeData(l, k);
      return {
        id: b.id,
        abort: function() {
          b.status = 0;
          b.statusText = "abort";
          if (a.one("#io_iframe" + b.id)) c(b.id), f.complete(b, e), f.end(b, e);
          else return !1
        },
        isInProgress: function() {
          return a.one("#io_iframe" + b.id) ? !0 : !1
        },
        io: f
      }
    },
    upload: function(a, c, g) {
      b(a, g, this);
      return this._upload(a, c, g)
    },
    end: function(a,
    b) {
      var c;
      if (b && (c = b.form) && c.upload)(c = "string" === typeof c.id ? h.getElementById(c.id) : c.id) && this._resetAttrs(c, this._originalFormAttrs);
      return k.call(this, a, b)
    }
  }, !0)
}, "3.17.2", {
  requires: ["io-base", "node-base"]
});
YUI.add("squarespace-search-page", function(a) {
  a.namespace("Squarespace.Widgets");
  var f = a.Squarespace.Widgets.SearchPage = a.Base.create("searchPage", a.Squarespace.Widgets.SearchContainer, [], {
    initializer: function(b) {
      this._isFirstSync = !0;
      this.get("censusEnabled") && this._trackSearchHit(this.get("searchQuery"), this.get("collectionFilter"), a.config.doc.referrer)
    },
    destructor: function() {
      this._resizeEmitter && (this._resizeEmitter.destroy(), this._resizeEmitter = null);
      a.Lang.isValue(this._searchTypingTimeout) && this._searchTypingTimeout.cancel()
    },
    renderUI: function() {
      f.superclass.renderUI.apply(this, arguments);
      var b = this.get("inputWrapper"),
        b = new a.Squarespace.Widgets.SearchInputBox({
          queryString: this.get("searchQuery"),
          srcNode: b,
          boundingBox: b,
          inputType: "text"
        });
      this.set("searchInputBox", b);
      b.render().focus();
      this._resizeEmitter = new a.Squarespace.ResizeEmitter({
        timeout: 100
      });
      this._initRender()
    },
    _initRender: function() {
      var b = a.Squarespace.Utils.getInnerTextFromHtml(this.get("searchQuery"));
      this.get("inputWrapper").one("input").set("value",
      b);
      var c = !a.Lang.isValue(this.get("resultItemEls"));
      c && "" !== b && this.get("noticeEl").setContent(this.get("strings.emptyNotice")).toggleClass("hide");
      this.get("resultsWrapperEl").toggleClass("empty", c);
      b = this.get("collectionFilter");
      "" !== b && this.set("searchFilter", [{
        name: "collectionId",
        value: b
      }]);
      this._toggleMore(!0)
    },
    bindUI: function() {
      f.superclass.bindUI.apply(this, arguments);
      this.get("resultEl").delegate("click", this._onResultClick, ".search-result", this);
      this.after("searchQueryChange", this._updateHistory,
      this);
      this.get("inputWrapper").one("input").on("keyup", this._onKeyUp, this);
      this.get("moreEl").on("click", this._nextPage, this);
      this._resizeEmitter.on("resize", this._onResize, this)
    },
    syncUI: function() {
      if (this._isFirstSync) this._isFirstSync = !1;
      else {
        f.superclass.syncUI.apply(this, arguments);
        var b = this.get("resultsWrapperEl"),
          c = this.get("page"),
          e = this.get("perPage"),
          h = a.Node.create(this._getResultsTemplate());
        if (a.Lang.isValue(h)) {
          h.all(".sqs-search-ui-item").removeClass("sqs-search-ui-item").addClass("sqs-search-page-item");
          if (0 === c) b.setContent(h);
          else {
            var c = h.get("children"),
              g = c.size(),
              c = c.splice(-(0 === g % e ? e : g % e));
            b.append(c)
          }
          this.set("resultItemEls", b.get("children"))
        }
        this._loadImages();
        this._toggleNotice(h);
        this._toggleLoader();
        this._toggleMore()
      }
    },
    _loadImages: function(a) {
      this.get("contentBox").all("img[data-src]").each(function(c) {
        a ? ImageLoader.refresh(c) : ImageLoader.load(c)
      })
    },
    _toggleNotice: function(b) {
      var c = this.get("noticeEl"),
        e = this.get("resultsWrapperEl"),
        h = "" !== this.get("searchQuery"),
        g = !a.Lang.isValue(b) && !this.get("loading");
      c.toggleClass("hide", !g || !h);
      e.toggleClass("empty", !a.Lang.isValue(b));
      g && (e.empty(), c.setContent(this.get("strings.emptyNotice")))
    },
    _toggleLoader: function() {
      "" === this.get("searchQuery") && this.set("loading", !1);
      var b = a.Lang.isValue(this.get("loading")) && this.get("loading"),
        c = this.get("spinnerEls");
      b && (!a.Lang.isValue(this._inputSpinner) && !a.Lang.isValue(this._moreSpinner)) && (this._inputSpinner = new a.Squarespace.Spinner({
        color: "dark",
        size: "large",
        render: c.item(0)
      }), this._moreSpinner = new a.Squarespace.Spinner({
        size: "large",
        render: c.item(1)
      }));
      this.get("inputWrapper").toggleClass("loading", b);
      this.get("moreEl").toggleClass("loading", b);
      c.toggleView(b)
    },
    _toggleMore: function(b) {
      var c = this.get("moreEl");
      !a.Lang.isValue(this.get("resultItemEls")) || "" === this.get("searchQuery") ? c.addClass("hide") : (b = b ? this.get("resultEl").getData("count") : this.get("totalCount"), c.toggleClass("hide", 0 >= b - this.get("resultItemEls").size()))
    },
    _getResultsTemplate: function() {
      return a.Squarespace.UITemplates.render(f.TEMPLATE_RESULTS_NAME,
      this._getSearchDataModel())
    },
    _onKeyUp: function(b) {
      a.Lang.isValue(this._searchTypingTimeout) && this._searchTypingTimeout.cancel();
      if (37 > b.keyCode || 40 < b.keyCode) this._searchTypingTimeout = a.later(this.get("displayDelay"), this, function() {
        this.get("searchInputBox").onSubmit()
      })
    },
    _onResultClick: function(b) {
      b.halt();
      b = b.target.ancestor(".search-result", !0);
      var c = b.getData("url");
      b = a.Lang.isValue(c) ? c : this._getSearchItemUrl(b);
      this._redirect(b + "?" + a.QueryString.stringify({
        q: this.get("searchQuery")
      }))
    },
    _updateHistory: function() {
      var b = a.Squarespace.Utils.getInnerTextFromHtml(this.get("searchQuery"));
      if (a.Lang.isValue(b) && "" !== b) {
        var c = a.config.win.history,
          e = b + " - " + a.config.doc.title,
          h = {};
        h.q = b;
        b = this.get("collectionFilter");
        "" !== b && (h.f_collectionId = b);
        c.pushState(h, e, "/search?" + a.QueryString.stringify(h))
      }
    },
    _onResize: function() {
      this._loadImages(!0)
    }
  }, {
    CSS_PREFIX: "sqs-search-page",
    TEMPLATE_RESULTS_NAME: "search-result.html",
    HTML_PARSER: {
      inputWrapper: ".sqs-search-page-input",
      spinnerEls: [".spinner-wrapper"],
      noticeEl: ".sqs-search-page-notice",
      resultEl: ".sqs-search-page-result",
      resultsWrapperEl: ".sqs-search-page-list .search-results",
      resultItemEls: [".sqs-search-page-list .search-results .search-result"],
      moreEl: ".sqs-search-page-more"
    },
    ATTRS: {
      searchQuery: {
        valueFn: function() {
          var b = a.QueryString.parse(a.config.doc.location.search.substring(1)).q;
          return a.Lang.isValue(b) ? b : ""
        },
        validator: a.Squarespace.AttrValidators.isString
      },
      collectionFilter: {
        valueFn: function() {
          var b = a.QueryString.parse(a.config.doc.location.search.substring(1)).f_collectionId;
          a.Lang.isValue(b) && "" !== b && (b = a.Squarespace.Utils.getInnerTextFromHtml(b));
          return a.Lang.isValue(b) ? b : ""
        },
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      inputWrapper: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNode,
        writeOnce: "initOnly"
      },
      noticeEl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNode,
        writeOnce: "initOnly"
      },
      spinnerEls: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNodeList,
        writeOnce: "initOnly"
      },
      resultEl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNode,
        writeOnce: "initOnly"
      },
      resultsWrapperEl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNode
      },
      resultItemEls: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNodeList
      },
      moreEl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNode,
        writeOnce: "initOnly"
      },
      displayDelay: {
        value: 500,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      perPage: {
        value: 20,
        validator: a.Squarespace.AttrValidators.isNumber,
        writeOnce: "initOnly"
      }
    }
  });
  a.config.win.Squarespace.onInitialize(a, function() {
    a.all(".sqs-search-page").each(function(a) {
      (new f({
        srcNode: a
      })).render()
    })
  })
}, "1.0", {
  requires: "base event datasource querystring autocomplete-plugin squarespace-ss-widget squarespace-enum squarespace-census squarespace-animations squarespace-search squarespace-search-result-template".split(" ")
});
YUI.add("squarespace-url-utils", function(a) {
  var f = /^(http[s]?:)?\/\//i;
  a.namespace("Squarespace").UrlUtils = {
    isSecure: function(a) {
      var c = null;
      0 === arguments.length ? c = window.location.protocol : a && (c = (a + "").toLowerCase().substring(0, 6));
      return "https:" === c
    },
    securifyURL: function(a) {
      return !a ? a : "https://" + this._stripProtocolAndSlashes(a)
    },
    toRelativeProtocol: function(a) {
      return !a ? a : "//" + this._stripProtocolAndSlashes(a)
    },
    securifyBlockEmbed: function(a, c) {
      var e = null;
      this.isSecure() && a && (e = a.one("object embed, iframe"),
      null !== e && (e.setAttribute("src", this.securifyURL(e.getAttribute("src"))), c && (e.setStyle("display", "none"), e.setStyle("display", null))))
    },
    _stripProtocolAndSlashes: function(a) {
      return (a + "").replace(f, "")
    },
    ensureProtocol: function(a) {
      0 > a.search(/^https?:\/\//i) && (a = "http://" + a.replace(/^\/\//, ""));
      return a
    },
    isProperUrl: function(a) {
      return -1 < a.search(/^(https?:)?(\/\/)?[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,3}(\S*)?$/i)
    },
    addQueryParam: function(a, c, e) {
      var h, g = a.split("#");
      1 < g.length && (h = g.slice(1).join(), a = g[0]);
      g = -1 !== a.indexOf("?") ? "&" : "?";
      a += g + c + "=" + e;
      h && (a += "#" + h);
      return a
    },
    isLinkExternal: function(a) {
      return !a.match(f) ? !1 : this._stripProtocolAndSlashes(a).split("/")[0].toLowerCase() !== location.host.toLowerCase()
    },
    _getNode: function(a) {
      var c = document.createElement("a");
      c.href = a;
      return c
    },
    getPath: function(a) {
      a = this._getNode(a);
      return a.pathname
    },
    getHash: function(a) {
      a = this._getNode(a);
      return a.hash
    },
    pathMatches: function(a, c) {
      a = this._getNode(a);
      c = this._getNode(c);
      return a.pathname == c.pathname
    }
  }
});
YUI.add("squarespace-hb-compare", function(a) {
  a.Handlebars.registerHelper("if_eq", function(a, b) {
    return a == b.hash.compare ? b.fn(this) : b.inverse(this)
  });
  a.Handlebars.registerHelper("unless_eq", function(a, b) {
    return a == b.hash.compare ? b.inverse(this) : b.fn(this)
  });
  a.Handlebars.registerHelper("if_gt", function(a, b) {
    return a > b.hash.compare ? b.fn(this) : b.inverse(this)
  });
  a.Handlebars.registerHelper("unless_gt", function(a, b) {
    return a > b.hash.compare ? b.inverse(this) : b.fn(this)
  });
  a.Handlebars.registerHelper("if_lt",

  function(a, b) {
    return a < b.hash.compare ? b.fn(this) : b.inverse(this)
  });
  a.Handlebars.registerHelper("unless_lt", function(a, b) {
    return a < b.hash.compare ? b.inverse(this) : b.fn(this)
  });
  a.Handlebars.registerHelper("if_gteq", function(a, b) {
    return a >= b.hash.compare ? b.fn(this) : b.inverse(this)
  });
  a.Handlebars.registerHelper("unless_gteq", function(a, b) {
    return a >= b.hash.compare ? b.inverse(this) : b.fn(this)
  });
  a.Handlebars.registerHelper("if_lteq", function(a, b) {
    return a <= b.hash.compare ? b.fn(this) : b.inverse(this)
  });
  a.Handlebars.registerHelper("unless_lteq",

  function(a, b) {
    return a <= b.hash.compare ? b.inverse(this) : b.fn(this)
  })
}, "1.0", {
  requires: ["handlebars-base"]
});
YUI.add("squarespace-beforeunload", function(a) {
  var f = a.config.win.onbeforeunload;
  a.config.win.onbeforeunload = function(b) {
    b = b || a.config.win.event;
    f && f(b);
    var c = new a.DOMEventFacade(b);
    a.fire("gallery-dom0beforeunload", c);
    if (c = c.returnValue) return b.returnValue = c;
    a.config.win.onbeforeunload = f
  };
  a.Env.evt.plugins.beforeunload = {
    on: function(b, c) {
      var e = a.Array(arguments, 0, !0);
      e[0] = "gallery-dom0beforeunload";
      return a.on.apply(a, e)
    }
  }
});
YUI.add("datasource-cache", function(a, f) {
  function b(b) {
    var c = a.Base.create("dataSourceCache", b && b.cache ? b.cache : a.Cache, [a.Plugin.Base, a.Plugin.DataSourceCacheExtension]);
    b = new c(b);
    c.NS = "tmpClass";
    return b
  }
  var c = function() {};
  a.mix(c, {
    NS: "cache",
    NAME: "dataSourceCacheExtension"
  });
  c.prototype = {
    initializer: function(a) {
      this.doBefore("_defRequestFn", this._beforeDefRequestFn);
      this.doBefore("_defResponseFn", this._beforeDefResponseFn)
    },
    _beforeDefRequestFn: function(b) {
      var c = this.retrieve(b.request) || null;
      b = b.details[0];
      if (c && c.response) return b.cached = c.cached, b.response = c.response, b.data = c.data, this.get("host").fire("response", b), new a.Do.Halt("DataSourceCache extension halted _defRequestFn")
    },
    _beforeDefResponseFn: function(a) {
      a.response && !a.cached && this.add(a.request, a.response)
    }
  };
  a.namespace("Plugin").DataSourceCacheExtension = c;
  a.mix(b, {
    NS: "cache",
    NAME: "dataSourceCache"
  });
  a.namespace("Plugin").DataSourceCache = b
}, "3.17.2", {
  requires: ["datasource-local", "plugin", "cache-base"]
});
YUI.add("squarespace-animations", function(a) {
  a.namespace("Squarespace.Animations");
  var f = a.Squarespace.Animations.TransitionExpandable = a.Base.create("transitionExpandable", a.Plugin.Base, [], {
    initializer: function() {
      this.doBefore("show", this.open);
      this.doBefore("hide", this.close)
    },
    open: function(b) {
      this._animating || (b ? this._openImmediately() : this._animateOpen());
      return new a.Do.Prevent("SoftExpandable prevented default 'show'.")
    },
    close: function(b) {
      this._animating || (b ? this._closeImmediately() : this._animateClosed());
      return new a.Do.Prevent("SoftExpandable prevented default 'hide'.")
    },
    _openImmediately: function() {},
    _animateOpen: function() {
      var b = this.get("host"),
        c = this.get("duration") / 1E3 + "s",
        e = this.get("easing"),
        c = ["height", c, e].join(" ");
      b.setStyles({
        transition: c,
        "-ms-transition": c,
        "-moz-transition": c,
        "-webkit-transition": c,
        height: 0,
        overflow: "hidden",
        display: null
      });
      b.setStyles({
        height: this._getHeight()
      });
      this._animating = !0;
      var h = a.later(this.get("duration"), this, function() {
        b.setStyles({
          height: null,
          overflow: null
        });
        this._animating = !1;
        h.cancel()
      })
    },
    _getHeight: function() {
      var a = this.get("host"),
        c = a.cloneNode(!0);
      c.setStyles({
        height: "auto",
        visibility: "hidden",
        display: null,
        position: "absolute",
        width: a.get("offsetWidth")
      });
      a.insert(c, "before");
      a = c.get("offsetHeight");
      c.remove(!0);
      return a
    },
    _closeImmediately: function() {
      this.get("host").setStyle("display", "none")
    },
    _animateClosed: function() {
      var b = this.get("host"),
        c = this.get("duration") / 1E3 + "s",
        e = this.get("easing"),
        e = ["height", c, e].join(" "),
        e = {
          transition: e,
          "-ms-transition": e,
          "-moz-transition": e,
          "-webkit-transition": e,
          height: this._getHeight(),
          overflow: "hidden"
        };
      b.setStyles(e);
      a.later(0, this, function() {
        b.setStyle("height", "0px");
        this._animating = !0;
        var e = a.later(c + 50, this, function() {
          this._animating = !1;
          e.cancel()
        })
      })
    }
  }, {
    NS: "transitionExpand",
    ATTRS: {
      duration: {
        value: 300
      },
      easing: {
        value: "ease-out"
      }
    }
  });
  a.Squarespace.Animations.SoftExpandable = a.Base.create("softExpandable", f, [], {}, {
    NS: "softExpand",
    ATTRS: {
      duration: {
        value: 500
      },
      easing: {
        value: "cubic-bezier(.645, .045, .355, 1)"
      }
    }
  });
  a.Squarespace.Animations.Expandable = a.Base.create("expandable", a.Plugin.Base, [], {
    initializer: function(a) {
      this.doBefore("show", this.open);
      this.doBefore("hide", this.close);
      this._running = !1
    },
    close: function(b) {
      var c = this.get("host"),
        e = this.get("easing"),
        h = this.get("duration");
      b = c.inDoc() ? b : !0;
      c.fire("close");
      b ? this._hardClose() : this._running || (this._running = !0, c.wrap('<div class="expandable-plugin-wrapper"></div>'), b = c.ancestor(".expandable-plugin-wrapper"), b.setStyles({
        overflow: "hidden",
        height: c.get("offsetHeight")
      }),
      this._closeWrapper = b, e = new a.Anim({
        node: b,
        to: {
          height: 0
        },
        easing: e,
        duration: h
      }), e.on("end", function() {
        c.inDoc() && (c.setStyles({
          height: 0,
          overflow: "hidden",
          display: "none"
        }), c.unwrap(), c.addClass("expandable-hidden"));
        this._running = !1;
        c.fire("closed")
      }, this), this._closeAnim = e, e.run());
      return new a.Do.Prevent("Expandable prevented default hide.")
    },
    _hardClose: function() {
      var a = this.get("host");
      a.setStyles({
        height: 0,
        overflow: "hidden",
        display: "none"
      });
      a.addClass("expandable-hidden");
      a.fire("closed")
    },
    _hardOpen: function() {
      var a = this.get("host");
      a.setStyles({
        height: null,
        display: null
      });
      a.removeClass("expandable-hidden");
      a.fire("opened")
    },
    open: function(b) {
      var c = this.get("host"),
        e = this.get("easing"),
        h = this.get("duration"),
        g;
      b = c.inDoc() ? b : !0;
      c.fire("open");
      b ? this._hardOpen() : this._running || (this._running = !0, "none" === c.getComputedStyle("display") && c.setStyle("display", null), g = c.cloneNode(!0), g.setStyles({
        height: "auto",
        visibility: "hidden",
        display: null,
        position: "absolute",
        width: c.get("offsetWidth")
      }), c.insert(g, "before"), b = g.get("offsetHeight") + parseInt(g.getComputedStyle("marginTop"), 10) + parseInt(g.getComputedStyle("marginBottom"), 10), g.remove(!0), c.wrap('<div class="expandable-plugin-wrapper"></div>'), g = c.ancestor(".expandable-plugin-wrapper"), g.setStyles({
        overflow: "hidden",
        height: 0
      }), c.setStyles({
        height: null,
        overflow: null
      }), this._openWrapper = g, c = new a.Anim({
        node: g,
        to: {
          height: b
        },
        easing: e,
        duration: h
      }), c.on("end", function() {
        var a = this.get("host");
        a && (this._running = !1, a.unwrap(), a.removeClass("expandable-hidden"), a.fire("opened"))
      }, this),
      this._openAnim = c, c.run());
      return new a.Do.Prevent("Expandable prevented default show.")
    },
    destructor: function() {
      this._closeWrapper && this._closeWrapper.remove(!0);
      this._openWrapper && this._openWrapper.remove(!0);
      this._openAnim && this._openAnim.stop().destroy();
      this._closeAnim && this._closeAnim.stop().destroy()
    }
  }, {
    NS: "expandablePlugin",
    ATTRS: {
      duration: {
        value: 0.3,
        validator: a.Lang.isNumber
      },
      easing: {
        value: a.Easing.easeOutStrong
      }
    }
  });
  a.Squarespace.Animations.Fadeable = a.Base.create("fadeable", a.Plugin.Base, [], {
    initializer: function(a) {
      this.beforeHostMethod("show", this.show);
      this.beforeHostMethod("hide", this.hide);
      this.get("host").addClass(this.name + "-plugged");
      this._onlyUseOpacity = void 0 === a.onlyUseOpacity ? !1 : a.onlyUseOpacity;
      this._running = !1
    },
    destructor: function() {
      this._anim && this._anim.stop().destroy();
      this.get("host").removeClass(this.name + "-plugged")
    },
    show: function(a) {
      return this._changeVisibility(!0, a)
    },
    hide: function(a) {
      return this._changeVisibility(!1, a)
    },
    _changeVisibility: function(b, c) {
      var e = this.get("host");
      c = e.inDoc() ? c : !0;
      b && e.removeClass("display-status-hidden");
      c ? this._hardChangeVisibility(b) : (this._anim && (this._anim.stop().destroy(), this._anim = null), b && "none" === e.getComputedStyle("display") && e.setStyle("display", null), this._anim = new a.Anim({
        node: e,
        to: {
          opacity: b ? this.get("opacity") : 0
        },
        easing: this.get("easing"),
        duration: this.get("duration")
      }), this._anim.onceAfter("end", function() {
        this._hardChangeVisibility(b);
        this._running = !1;
        !b && (!this._onlyUseOpacity && e.getDOMNode()) && e.setStyle("display", "none");
        e.fire(b ? "shown" : "hidden");
        delete this._anim
      }, this), this._anim.run());
      return new a.Do.Prevent("Fadeable prevented default " + (b ? "show" : "hide") + " and used its own.")
    },
    _hardChangeVisibility: function(a) {
      var c = this.get("host");
      a || c.addClass("display-status-hidden");
      c.setStyles({
        opacity: a ? this.get("opacity") : 0
      });
      this._anim = null;
      c.fire(a ? "shown" : "hidden")
    }
  }, {
    NS: "fadeablePlugin",
    ATTRS: {
      duration: {
        value: 0.3,
        validator: a.Lang.isNumber
      },
      easing: {
        value: a.Easing.easeOutStrong
      },
      opacity: {
        value: 1
      }
    }
  });
  a.Squarespace.Animations.Scalable = a.Base.create("scalable", a.Plugin.Base, [], {
    initializer: function(a) {
      this.doBefore("show", this.show);
      this.doBefore("hide", this.hide);
      this._running = !1
    },
    show: function(a) {
      return this._changeVisibility(!0, a)
    },
    hide: function(a) {
      return this._changeVisibility(!1, a)
    },
    _changeVisibility: function(b, c) {
      var e = this.get("host");
      this.get("easing");
      var h = this.get("duration"),
        g = !(!this.get("host").getDOMNode().style.transitionDuration && !a.DOM.CUSTOM_STYLES.transitionDuration);
      this.fire(b ? "show" : "hide");
      e.fire(b ? "show" : "hide");
      b && e.removeClass("sqs-scalable-hidden");
      if (c = e.inDoc() ? c : !0) this._hardChangeVisibility(b), b || e.addClass("sqs-scalable-hidden");
      else if (!this._running) {
        this._running = !0;
        var f = !1,
          k = a.bind(function() {
            f || (f = !0, e.getDOMNode() && (this._running = !1, b || e.addClass("sqs-scalable-hidden"), this.fire(b ? "shown" : "hidden"), e.fire(b ? "shown" : "hidden")))
          }, this),
          m = {
            start: b ? 0 : 1,
            stop: 100 * (b ? 1 : 0),
            time: 0,
            duration: h,
            effect: "easeOut"
          };
        b ? (e.setStyle("visibility", "visible"), m.onStop = a.bind(function() {
          this.get("destroyed") || k()
        }, this)) : m.onStop = a.bind(function() {
          this.get("destroyed") || (e.setStyle("visibility", "hidden"), k())
        }, this);
        m = {
          opacity: m
        };
        g && (m.transform = {
          start: "scale(" + (b ? "0.94" : "1") + ")",
          stop: "scale(" + (b ? "1" : "0.94") + ")",
          time: 0,
          duration: h,
          effect: "easeOut",
          onStop: a.bind(function() {
            this.get("destroyed") || e.setStyle("transform", null)
          }, this)
        });
        JSTween.tween(e.getDOMNode(), m);
        JSTween.play()
      }
      return new a.Do.Prevent("Scalable prevented default " + (b ? "show" : "hide") + " and used its own.")
    },
    _hardChangeVisibility: function(b) {
      var c = this.get("host"),
        e = !(!this.get("host").getDOMNode().style.transitionDuration && !a.DOM.CUSTOM_STYLES.transitionDuration);
      this.get("duration");
      e ? c.setStyles({
        visibility: b ? "visible" : "hidden",
        opacity: b ? 1 : 0,
        transform: "scale(" + (b ? "1" : "0.94") + ")"
      }) : c.setStyles({
        visibility: b ? "visible" : "hidden",
        opacity: b ? 1 : 0
      });
      c.fire(b ? "shown" : "hidden")
    }
  }, {
    NS: "scalablePlugin",
    ATTRS: {
      duration: {
        value: 0.3,
        validator: a.Lang.isNumber
      },
      easing: {
        value: a.Easing.easeOutStrong
      },
      opacity: {
        value: 1
      }
    }
  });
  a.Squarespace.Animations.Slideable = a.Base.create("slideable",
  a.Plugin.Base, [], {
    initializer: function(a) {
      this.doBefore("show", this.show);
      this.doBefore("hide", this.hide);
      this._running = !1
    },
    show: function(a) {
      return this._changeVisibility(!0, a)
    },
    hide: function(a) {
      return this._changeVisibility(!1, a)
    },
    _changeVisibility: function(b, c) {
      var e = this.get("host"),
        h = this.get("easing"),
        g = this.get("duration"),
        f = this.get("direction");
      e.fire(b ? "show" : "hide");
      (c = e.inDoc() ? c : !0) ? this._hardChangeVisibility(b) : b ? (e.setStyles({
        display: "block",
        visibility: "hidden"
      }), f = ("left" == f ? 1 : -1) * e.get("offsetWidth"), e.setStyles({
        visibility: null
      }), console.log("showing node (fromLeft: " + f + ", toLeft: 0)"), e.anim({
        left: 0
      }, {
        from: {
          left: f
        },
        duration: g,
        easing: h
      }).run()) : (e.activeAnim && e.activeAnim.stop(!0), e.setStyles({
        display: "block",
        left: 0
      }), f = ("left" == f ? -1 : 1) * e.get("offsetWidth"), console.log("hiding node (fromLeft: 0, toLeft: " + f + ")"), e.anim({
        left: f
      }, {
        from: {
          left: 0
        },
        duration: g,
        easing: h,
        end: function() {
          e.setStyles({
            display: "none",
            left: 0
          })
        }
      }).run());
      return new a.Do.Prevent("Slideable prevented default " + (b ? "show" : "hide") + " and used its own.")
    },
    _hardChangeVisibility: function(a) {
      var c = this.get("host");
      c.setStyles({
        display: a ? "block" : "none"
      });
      c.fire(a ? "shown" : "hidden")
    }
  }, {
    NS: "slideablePlugin",
    ATTRS: {
      duration: {
        value: 0.2,
        validator: a.Lang.isNumber
      },
      easing: {
        value: a.Easing.easeOutStrong
      },
      opacity: {
        value: 1
      }
    }
  })
}, "1.0", {
  requires: "base plugin anim anim-easing transition thirdparty-jstween".split(" ")
});
YUI.add("event-custom-base", function(a, f) {
  a.Env.evt = {
    handles: {},
    plugins: {}
  };
  var b = {
    objs: null,
    before: function(b, c, g, e) {
      var h = b;
      e && (h = [b, e].concat(a.Array(arguments, 4, !0)), h = a.rbind.apply(a, h));
      return this._inject(0, h, c, g)
    },
    after: function(b, c, g, e) {
      var h = b;
      e && (h = [b, e].concat(a.Array(arguments, 4, !0)), h = a.rbind.apply(a, h));
      return this._inject(1, h, c, g)
    },
    _inject: function(b, c, g, e) {
      var h = a.stamp(g),
        f;
      g._yuiaop || (g._yuiaop = {});
      f = g._yuiaop;
      f[e] || (f[e] = new a.Do.Method(g, e), g[e] = function() {
        return f[e].exec.apply(f[e],
        arguments)
      });
      g = h + a.stamp(c) + e;
      f[e].register(g, c, b);
      return new a.EventHandle(f[e], g)
    },
    detach: function(a) {
      a.detach && a.detach()
    }
  };
  a.Do = b;
  b.Method = function(a, b) {
    this.obj = a;
    this.methodName = b;
    this.method = a[b];
    this.before = {};
    this.after = {}
  };
  b.Method.prototype.register = function(a, b, c) {
    c ? this.after[a] = b : this.before[a] = b
  };
  b.Method.prototype._delete = function(a) {
    delete this.before[a];
    delete this.after[a]
  };
  b.Method.prototype.exec = function() {
    var c = a.Array(arguments, 0, !0),
      g, e, h;
    h = this.before;
    var f = this.after,
      l = !1;
    for (g in h) if (h.hasOwnProperty(g) && (e = h[g].apply(this.obj, c))) switch (e.constructor) {
    case b.Halt:
      return e.retVal;
    case b.AlterArgs:
      c = e.newArgs;
      break;
    case b.Prevent:
      l = !0
    }
    l || (e = this.method.apply(this.obj, c));
    b.originalRetVal = e;
    b.currentRetVal = e;
    for (g in f) if (f.hasOwnProperty(g)) {
      if ((h = f[g].apply(this.obj, c)) && h.constructor === b.Halt) return h.retVal;
      h && h.constructor === b.AlterReturn && (e = h.newRetVal, b.currentRetVal = e)
    }
    return e
  };
  b.AlterArgs = function(a, b) {
    this.msg = a;
    this.newArgs = b
  };
  b.AlterReturn = function(a,
  b) {
    this.msg = a;
    this.newRetVal = b
  };
  b.Halt = function(a, b) {
    this.msg = a;
    this.retVal = b
  };
  b.Prevent = function(a) {
    this.msg = a
  };
  b.Error = b.Halt;
  var c = a.Array,
    e = c.hash("broadcast monitored bubbles context contextFn currentTarget defaultFn defaultTargetOnly details emitFacade fireOnce async host preventable preventedFn queuable silent stoppedFn target type".split(" ")),
    h = Array.prototype.slice,
    g = function(a, b, c) {
      for (var g in b) if (e[g] && (c || !(g in a))) a[g] = b[g];
      return a
    };
  a.CustomEvent = function(b, c) {
    this._kds = a.CustomEvent.keepDeprecatedSubs;
    this.id = a.guid();
    this.type = b;
    this.silent = this.logSystem = "yui:log" === b;
    this._kds && (this.subscribers = {}, this.afters = {});
    c && g(this, c, !0)
  };
  a.CustomEvent.keepDeprecatedSubs = !1;
  a.CustomEvent.mixConfigs = g;
  a.CustomEvent.prototype = {
    constructor: a.CustomEvent,
    signature: 9,
    context: a,
    preventable: !0,
    bubbles: !0,
    hasSubs: function(a) {
      var b = 0,
        c = 0,
        g = this._subscribers,
        e = this._afters,
        h = this.sibling;
      g && (b = g.length);
      e && (c = e.length);
      h && (g = h._subscribers, e = h._afters, g && (b += g.length), e && (c += e.length));
      return a ? "after" === a ? c : b : b + c
    },
    monitor: function(a) {
      this.monitored = !0;
      var b = this.id + "|" + this.type + "_" + a,
        c = h.call(arguments, 0);
      c[0] = b;
      return this.host.on.apply(this.host, c)
    },
    getSubs: function() {
      var a = this.sibling,
        b = this._subscribers,
        c = this._afters,
        g, e;
      a && (g = a._subscribers, e = a._afters);
      b = g ? b ? b.concat(g) : g.concat() : b ? b.concat() : [];
      c = e ? c ? c.concat(e) : e.concat() : c ? c.concat() : [];
      return [b, c]
    },
    applyConfig: function(a, b) {
      g(this, a, b)
    },
    _on: function(b, c, g, e) {
      b = new a.Subscriber(b, c, g, e);
      this.fireOnce && this.fired && (c = this.firedWith, this.emitFacade && this._addFacadeToArgs && this._addFacadeToArgs(c), this.async ? setTimeout(a.bind(this._notify, this, b, c), 0) : this._notify(b, c));
      "after" === e ? (this._afters || (this._afters = []), this._afters.push(b)) : (this._subscribers || (this._subscribers = []), this._subscribers.push(b));
      this._kds && ("after" === e ? this.afters[b.id] = b : this.subscribers[b.id] = b);
      return new a.EventHandle(this, b)
    },
    subscribe: function(a, b) {
      var c = 2 < arguments.length ? h.call(arguments, 2) : null;
      return this._on(a, b, c, !0)
    },
    on: function(a, b) {
      var c = 2 < arguments.length ? h.call(arguments, 2) : null;
      this.monitored && this.host && this.host._monitor("attach", this, {
        args: arguments
      });
      return this._on(a, b, c, !0)
    },
    after: function(a, b) {
      var c = 2 < arguments.length ? h.call(arguments, 2) : null;
      return this._on(a, b, c, "after")
    },
    detach: function(a, b) {
      if (a && a.detach) return a.detach();
      var c, g, e = 0,
        h = this._subscribers,
        f = this._afters;
      if (h) for (c = h.length; 0 <= c; c--) if ((g = h[c]) && (!a || a === g.fn)) this._delete(g, h, c), e++;
      if (f) for (c = f.length; 0 <= c; c--) if ((g = f[c]) && (!a || a === g.fn)) this._delete(g, f, c), e++;
      return e
    },
    unsubscribe: function() {
      return this.detach.apply(this, arguments)
    },
    _notify: function(a, b, c) {
      return !1 === a.notify(b, this) || 1 < this.stopped ? !1 : !0
    },
    log: function(a, b) {},
    fire: function() {
      var a = [];
      a.push.apply(a, arguments);
      return this._fire(a)
    },
    _fire: function(a) {
      if (this.fireOnce && this.fired) return !0;
      this.fired = !0;
      this.fireOnce && (this.firedWith = a);
      return this.emitFacade ? this.fireComplex(a) : this.fireSimple(a)
    },
    fireSimple: function(a) {
      this.prevented = this.stopped = 0;
      if (this.hasSubs()) {
        var b = this.getSubs();
        this._procSubs(b[0],
        a);
        this._procSubs(b[1], a)
      }
      this.broadcast && this._broadcast(a);
      return this.stopped ? !1 : !0
    },
    fireComplex: function(a) {
      a[0] = a[0] || {};
      return this.fireSimple(a)
    },
    _procSubs: function(a, b, c) {
      var g, e, h;
      e = 0;
      for (h = a.length; e < h; e++) if ((g = a[e]) && g.fn) if (!1 === this._notify(g, b, c) && (this.stopped = 2), 2 === this.stopped) return !1;
      return !0
    },
    _broadcast: function(b) {
      !this.stopped && this.broadcast && (b = b.concat(), b.unshift(this.type), this.host !== a && a.fire.apply(a, b), 2 === this.broadcast && a.Global.fire.apply(a.Global, b))
    },
    unsubscribeAll: function() {
      return this.detachAll.apply(this,
      arguments)
    },
    detachAll: function() {
      return this.detach()
    },
    _delete: function(a, b, g) {
      var e = a._when;
      b || (b = "after" === e ? this._afters : this._subscribers);
      b && (g = c.indexOf(b, a, 0), a && b[g] === a && b.splice(g, 1));
      this._kds && ("after" === e ? delete this.afters[a.id] : delete this.subscribers[a.id]);
      this.monitored && this.host && this.host._monitor("detach", this, {
        ce: this,
        sub: a
      });
      a && (a.deleted = !0)
    }
  };
  a.Subscriber = function(b, c, g, e) {
    this.fn = b;
    this.context = c;
    this.id = a.guid();
    this.args = g;
    this._when = e
  };
  a.Subscriber.prototype = {
    constructor: a.Subscriber,
    _notify: function(a, b, c) {
      if (this.deleted && !this.postponed) if (this.postponed) delete this.fn, delete this.context;
      else return delete this.postponed, null;
      var g = this.args;
      switch (c.signature) {
      case 0:
        a = this.fn.call(a, c.type, b, a);
        break;
      case 1:
        a = this.fn.call(a, b[0] || null, a);
        break;
      default:
        g || b ? (b = b || [], g = g ? b.concat(g) : b, a = this.fn.apply(a, g)) : a = this.fn.call(a)
      }
      this.once && c._delete(this);
      return a
    },
    notify: function(b, c) {
      var g = this.context,
        e = !0;
      g || (g = c.contextFn ? c.contextFn() : c.context);
      if (a.config && a.config.throwFail) e = this._notify(g, b, c);
      else try {
        e = this._notify(g, b, c)
      } catch (h) {
        a.error(this + " failed: " + h.message, h)
      }
      return e
    },
    contains: function(a, b) {
      return b ? this.fn === a && this.context === b : this.fn === a
    },
    valueOf: function() {
      return this.id
    }
  };
  a.EventHandle = function(a, b) {
    this.evt = a;
    this.sub = b
  };
  a.EventHandle.prototype = {
    batch: function(b, c) {
      b.call(c || this, this);
      a.Lang.isArray(this.evt) && a.Array.each(this.evt, function(a) {
        a.batch.call(c || a, b)
      })
    },
    detach: function() {
      var b = this.evt,
        c = 0,
        g;
      if (b) if (a.Lang.isArray(b)) for (g = 0; g < b.length; g++) c += b[g].detach();
      else b._delete(this.sub), c = 1;
      return c
    },
    monitor: function(a) {
      return this.evt.monitor.apply(this.evt, arguments)
    }
  };
  var l = a.Lang,
    k = /(.*?)(:)(.*?)/,
    m = a.cached(function(a) {
      return a.replace(k, "*$2$3")
    }),
    n = function(a, b) {
      return !b || !a || -1 < a.indexOf(":") ? a : b + ":" + a
    }, p = a.cached(function(a, b) {
      var c = a,
        g, e, h;
      if (!l.isString(c)) return c;
      h = c.indexOf("~AFTER~"); - 1 < h && (e = !0, c = c.substr(7));
      h = c.indexOf("|"); - 1 < h && (g = c.substr(0, h), c = c.substr(h + 1), "*" === c && (c = null));
      return [g, b ? n(c, b) : c, e, c]
    }),
    q = function(b) {
      var c = this._yuievt,
        e;
      c || (c = this._yuievt = {
        events: {},
        targets: null,
        config: {
          host: this,
          context: this
        },
        chain: a.config.chain
      });
      e = c.config;
      b && (g(e, b, !0), void 0 !== b.chain && (c.chain = b.chain), b.prefix && (e.prefix = b.prefix))
    };
  q.prototype = {
    constructor: q,
    once: function() {
      var a = this.on.apply(this, arguments);
      a.batch(function(a) {
        a.sub && (a.sub.once = !0)
      });
      return a
    },
    onceAfter: function() {
      var a = this.after.apply(this, arguments);
      a.batch(function(a) {
        a.sub && (a.sub.once = !0)
      });
      return a
    },
    parseType: function(a, b) {
      return p(a, b || this._yuievt.config.prefix)
    },
    on: function(b, c, g) {
      var e = this._yuievt,
        f = p(b, e.config.prefix),
        k, m, q, n, A, E, B = a.Env.evt.handles,
        D, I, F = a.Node,
        G, J, K;
      this._monitor("attach", f[1], {
        args: arguments,
        category: f[0],
        after: f[2]
      });
      if (l.isObject(b)) {
        if (l.isFunction(b)) return a.Do.before.apply(a.Do, arguments);
        k = c;
        m = g;
        q = h.call(arguments, 0);
        n = [];
        l.isArray(b) && (K = !0);
        D = b._after;
        delete b._after;
        a.each(b, function(a, b) {
          l.isObject(a) && (k = a.fn || (l.isFunction(a) ? a : k), m = a.context || m);
          q[0] = (D ? "~AFTER~" : "") + (K ? a : b);
          q[1] = k;
          q[2] = m;
          n.push(this.on.apply(this, q))
        },
        this);
        return e.chain ? this : new a.EventHandle(n)
      }
      E = f[0];
      D = f[2];
      I = f[3];
      if (F && a.instanceOf(this, F) && I in F.DOM_EVENTS) return q = h.call(arguments, 0), q.splice(2, 0, F.getDOMNode(this)), a.on.apply(a, q);
      b = f[1];
      if (a.instanceOf(this, YUI)) if (f = a.Env.evt.plugins[b], q = h.call(arguments, 0), q[0] = I, F && (G = q[2], a.instanceOf(G, a.NodeList) ? G = a.NodeList.getDOMNodes(G) : a.instanceOf(G, F) && (G = F.getDOMNode(G)), (J = I in F.DOM_EVENTS) && (q[2] = G)), f) A = f.on.apply(a, q);
      else if (!b || J) A = a.Event._attach(q);
      A || (A = e.events[b] || this.publish(b),
      A = A._on(c, g, 3 < arguments.length ? h.call(arguments, 3) : null, D ? "after" : !0), - 1 !== b.indexOf("*:") && (this._hasSiblings = !0));
      E && (B[E] = B[E] || {}, B[E][b] = B[E][b] || [], B[E][b].push(A));
      return e.chain ? this : A
    },
    subscribe: function() {
      return this.on.apply(this, arguments)
    },
    detach: function(b, c, g) {
      var e = this._yuievt.events,
        f, k = a.Node,
        m = k && a.instanceOf(this, k);
      if (!b && this !== a) {
        for (f in e) e.hasOwnProperty(f) && e[f].detach(c, g);
        m && a.Event.purgeElement(k.getDOMNode(this));
        return this
      }
      var q = p(b, this._yuievt.config.prefix),
        n = l.isArray(q) ? q[0] : null,
        A = q ? q[3] : null,
        E = a.Env.evt.handles,
        B = function(a, b, c) {
          a = a[b];
          var g;
          if (a) for (g = a.length - 1; 0 <= g; --g) b = a[g].evt, (b.host === c || b.el === c) && a[g].detach()
        };
      if (n) {
        if (n = E[n], b = q[1], m = m ? a.Node.getDOMNode(this) : this, n) {
          if (b) B(n, b, m);
          else for (f in n) n.hasOwnProperty(f) && B(n, f, m);
          return this
        }
      } else {
        if (l.isObject(b) && b.detach) return b.detach(), this;
        if (m && (!A || A in k.DOM_EVENTS)) return A = h.call(arguments, 0), A[2] = k.getDOMNode(this), a.detach.apply(a, A), this
      }
      f = a.Env.evt.plugins[A];
      if (a.instanceOf(this,
      YUI)) {
        A = h.call(arguments, 0);
        if (f && f.detach) return f.detach.apply(a, A), this;
        if (!b || !f && k && b in k.DOM_EVENTS) return A[0] = b, a.Event.detach.apply(a.Event, A), this
      }(e = e[q[1]]) && e.detach(c, g);
      return this
    },
    unsubscribe: function() {
      return this.detach.apply(this, arguments)
    },
    detachAll: function(a) {
      return this.detach(a)
    },
    unsubscribeAll: function() {
      return this.detachAll.apply(this, arguments)
    },
    publish: function(b, c) {
      var g, e = this._yuievt.config,
        h = e.prefix;
      "string" === typeof b ? (h && (b = n(b, h)), g = this._publish(b, e, c)) : (g = {}, a.each(b, function(a, b) {
        h && (b = n(b, h));
        g[b] = this._publish(b, e, a || c)
      }, this));
      return g
    },
    _getFullType: function(a) {
      var b = this._yuievt.config.prefix;
      return b ? b + ":" + a : a
    },
    _publish: function(b, c, e) {
      var h;
      h = this._yuievt;
      var f = h.config,
        l = f.host,
        k = f.context,
        m = h.events;
      h = m[b];
      (f.monitored && !h || h && h.monitored) && this._monitor("publish", b, {
        args: arguments
      });
      h || (h = m[b] = new a.CustomEvent(b, c), c || (h.host = l, h.context = k));
      e && g(h, e, !0);
      return h
    },
    _monitor: function(a, b, c) {
      var g, e;
      if (b && ("string" === typeof b ? (e = b, g = this.getEvent(b, !0)) : (g = b, e = b.type), this._yuievt.config.monitored && (!g || g.monitored) || g && g.monitored)) c.monitored = a, this.fire.call(this, e + "_" + a, c)
    },
    fire: function(a) {
      var b = "string" === typeof a,
        c = arguments.length,
        g = a,
        e = this._yuievt,
        f = e.config,
        l = f.prefix,
        k, c = b && 3 >= c ? 2 === c ? [arguments[1]] : 3 === c ? [arguments[1], arguments[2]] : [] : h.call(arguments, b ? 1 : 0);
      b || (g = a && a.type);
      l && (g = n(g, l));
      b = e.events[g];
      this._hasSiblings && (k = this.getSibling(g, b)) && !b && (b = this.publish(g));
      if (f.monitored && (!b || b.monitored) || b && b.monitored) this._monitor("fire",
      b || g, {
        args: c
      });
      if (b) k && (b.sibling = k), g = b._fire(c);
      else {
        if (e.hasTargets) return this.bubble({
          type: g
        }, c, this);
        g = !0
      }
      return e.chain ? this : g
    },
    getSibling: function(a, b) {
      var c;
      if (-1 < a.indexOf(":") && (a = m(a), c = this.getEvent(a, !0))) c.applyConfig(b), c.bubbles = !1, c.broadcast = 0;
      return c
    },
    getEvent: function(a, b) {
      var c;
      b || (a = (c = this._yuievt.config.prefix) ? n(a, c) : a);
      return this._yuievt.events[a] || null
    },
    after: function(b, c) {
      var g = h.call(arguments, 0);
      switch (l.type(b)) {
      case "function":
        return a.Do.after.apply(a.Do, arguments);
      case "array":
      case "object":
        g[0]._after = !0;
        break;
      default:
        g[0] = "~AFTER~" + b
      }
      return this.on.apply(this, g)
    },
    before: function() {
      return this.on.apply(this, arguments)
    }
  };
  a.EventTarget = q;
  a.mix(a, q.prototype);
  q.call(a, {
    bubbles: !1
  });
  YUI.Env.globalEvents = YUI.Env.globalEvents || new q;
  a.Global = YUI.Env.globalEvents
}, "3.17.2", {
  requires: ["oop"]
});
YUI.add("anim-color", function(a, f) {
  var b = Number;
  a.Anim.getUpdatedColorValue = function(c, e, h, g, f) {
    c = a.Color.re_RGB.exec(a.Color.toRGB(c));
    e = a.Color.re_RGB.exec(a.Color.toRGB(e));
    (!c || 3 > c.length || !e || 3 > e.length) && a.error("invalid from or to passed to color behavior");
    return "rgb(" + [Math.floor(f(h, b(c[1]), b(e[1]) - b(c[1]), g)), Math.floor(f(h, b(c[2]), b(e[2]) - b(c[2]), g)), Math.floor(f(h, b(c[3]), b(e[3]) - b(c[3]), g))].join(", ") + ")"
  };
  a.Anim.behaviors.color = {
    set: function(b, e, h, g, f, k, m) {
      b._node.setStyle(e, a.Anim.getUpdatedColorValue(h,
      g, f, k, m))
    },
    get: function(a, b) {
      var h = a._node.getComputedStyle(b);
      return "transparent" === h ? "rgb(255, 255, 255)" : h
    }
  };
  a.each("backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor".split(" "), function(b) {
    a.Anim.behaviors[b] = a.Anim.behaviors.color
  })
}, "3.17.2", {
  requires: ["anim-base"]
});
YUI.add("squarespace-widgets-position-helper", function(a) {
  function f(b, c, e, f) {
    var m;
    try {
      m = a.Squarespace.Damask.ContextGlobals.relative(f, "Y")
    } catch (n) {
      m = a
    }
    f = m.DOM.winWidth();
    m = m.DOM.winHeight();
    b.x + c.width >= f && (b.x = f - c.width - e);
    b.x <= e && (b.x = e);
    b.y + c.height >= m && (b.y = m - c.height - e);
    b.y <= e && (b.y = e);
    return b
  }
  function b(b, c, e) {
    var f = b.get("className").split(" ").map(function(a) {
      return "." + a
    }).join(""),
      f = a.all(f).size(),
      m = e;
    if (1 === f) return m;
    var n;
    switch (c) {
    case "top":
    case "bottom":
      n = b.get("offsetHeight");
      break;
    case "left":
    case "right":
      n = b.get("offsetWidth")
    }
    return n * (f - 1) + e * f
  }
  a.namespace("Squarespace.Widgets");
  var c = function(b) {
    var c = a.Squarespace.Mouse.client.lastX,
      e = a.Squarespace.Mouse.client.lastY,
      k = {
        width: b.get("offsetWidth"),
        height: b.get("offsetHeight")
      };
    b = f({
      x: c - Math.floor(k.width / 2),
      y: e - Math.floor(k.height / 2)
    }, k, this.padding, b);
    return {
      position: "fixed",
      top: b.y,
      left: b.x
    }
  }, e = {
    MOUSE: c,
    TOP_LEFT: function(a) {
      return {
        position: "fixed",
        top: b(a, "top", this.padding),
        left: this.padding
      }
    },
    TOP_RIGHT: function(a) {
      return {
        position: "fixed",
        top: b(a, "top", this.padding),
        right: this.padding
      }
    },
    BOTTOM_LEFT: function(a) {
      return {
        position: "fixed",
        bottom: b(a, "bottom", this.padding),
        left: this.padding
      }
    },
    BOTTOM_RIGHT: function(a) {
      return {
        position: "fixed",
        bottom: b(a, "bottom", this.padding),
        right: this.padding
      }
    },
    ELEMENT: function(b, g) {
      if (!a.Lang.isValue(g)) return c(b);
      var e = g.getX() + g.get("offsetWidth") + this.padding,
        k = {
          width: b.get("offsetWidth"),
          height: b.get("offsetHeight")
        }, e = f({
          x: e,
          y: g.getY()
        }, k, this.padding, b);
      return {
        top: e.y,
        left: e.x
      }
    },
    CENTER: function(b) {
      var c = Math.floor(a.DOM.winWidth() / 2),
        e = Math.floor(a.DOM.winHeight() / 2),
        k = {
          width: Math.floor(b.get("offsetWidth") / 2),
          height: Math.floor(b.get("offsetHeight") / 2)
        };
      b = f({
        x: c - k.width,
        y: e - k.height
      }, k, this.padding, b);
      return {
        position: "fixed",
        top: b.y,
        left: b.x
      }
    }
  };
  a.Squarespace.Widgets.PositionHelper = function(a, b) {
    return {
      padding: b || 20,
      fetch: function(b, c) {
        return a.call(this, b, c)
      }
    }
  };
  a.Squarespace.Widgets.PositionHelper.ANCHOR = e
}, "1.0", {
  requires: ["dom-base", "squarespace-damask-context-globals", "squarespace-ui-base"]
});

YUI.add("squarespace-currency-symbols", function(a) {}, "1.0", {
  requires: []
});

YUI.add("squarespace-system-error", function(a) {
  a.Squarespace.SystemError = Class.create({
    initialize: function(a, b, c) {
      this.url = a;
      this.data = b;
      this.format = c;
      window.__clearError = this.clear
    },
    clear: function() {
      a.one(".sqs-system-error").remove();
      a.one(".dialog-screen-overlay.sqs-system-error-overlay").remove()
    },
    show: function() {
      // TODO: Block sqs error overlay, do this better.
      return

      var f;
      if (this.data.cleaned) f = '<div style="font-weight: normal; font-size: 22px; margin-top: -2px;">Something Went Wrong!</div><div style="font-weight: normal; font-size: 13px; padding-top: 5px;">Our system has encountered an error.  This exception has been automatically logged and reported.  We will return shortly.</div>';
      else if (this.data.network) {
        f = '<div style="font-weight: normal; font-size: 17px;">Unable to connect to Squarespace.  Please try again.</div>';
        try {
          a.Squarespace.Analytics.trackInternal("system_network_error", {
            urlRequested: url
          })
        } catch (b) {
          console.error("network error", b)
        }
      } else {
        var c = this.data.error || this.data.message || "";
        f = '<div style="font-weight: normal; font-size: 17px;">' + this.url + ' &nbsp;<span style="color: #888;">(' + this.format.toUpperCase() + ")</span></div><br/><pre>" + c.replace(RegExp("\n", "g"), "<br/>") + "</pre>";
        console.error("SERVER: " + c)
      }
      a.one(".sqs-system-error") || (this.errorEl = a.DB.DIV("sqs-system-error", {
        html: f + '<br/><br/><input type="button" value="Reload Page" onclick="document.location.reload();"/> &nbsp; <input type="button" value="Clear" onclick="window.__clearError();"/><br/><br/><br/>' + (this.data.errorKey ? '<span style="color: #777; font-size: 10px;">' + this.data.errorKey : ""),
        style: "position: absolute; -webkit-user-select: text; left: 25px; top: 25px; right: 25px; font-size: 12px; color: #fff; padding: 26px 20px 20px 80px; background: transparent url(/universal/images-v6/error-x.png) 12px 12px no-repeat; border-radius: 5px; overflow: auto; height: 90%; z-index: 10000001;"
      }),
      a.one(document.body).append(this.errorEl), this.overlayEl = a.DB.DIV("dialog-screen-overlay sqs-system-error-overlay"), this.overlayEl.setStyles({
        zIndex: 1E7
      }), a.one(document.body).append(this.overlayEl), (new a.Anim({
        node: this.overlayEl,
        to: {
          opacity: 1
        },
        duration: 0.35,
        easing: a.Easing.easeOutStrong
      })).run())
    }
  })
}, "1.0");

YUI.add("widget-uievents", function(a, f) {
  var b = a.Widget,
    c = a.Lang,
    e = a.Widget._uievts = a.Widget._uievts || {};
  a.mix(b.prototype, {
    _destroyUIEvents: function() {
      var b = a.stamp(this, !0);
      a.each(e, function(c, f) {
        c.instances[b] && (delete c.instances[b], a.Object.isEmpty(c.instances) && (c.handle.detach(), e[f] && delete e[f]))
      })
    },
    UI_EVENTS: a.Node.DOM_EVENTS,
    _getUIEventNode: function() {
      return this.get("boundingBox")
    },
    _createUIEvent: function(c) {
      var g = this._getUIEventNode(),
        f = a.stamp(g) + c,
        k = e[f];
      k || (c = g.delegate(c, function(a) {
        var c = b.getByNode(this);
        c && c._filterUIEvent(a) && c.fire(a.type, {
          domEvent: a
        })
      }, "." + a.Widget.getClassName()), e[f] = k = {
        instances: {},
        handle: c
      });
      k.instances[a.stamp(this)] = 1
    },
    _filterUIEvent: function(a) {
      return a.currentTarget.compareTo(a.container) || a.container.compareTo(this._getUIEventNode())
    },
    _getUIEvent: function(a) {
      if (c.isString(a)) {
        a = this.parseType(a)[1];
        var b, e;
        a && (b = a.indexOf(":"), - 1 < b && (a = a.substring(b + 1)), this.UI_EVENTS[a] && (e = a));
        return e
      }
    },
    _initUIEvent: function(a) {
      var b = this._getUIEvent(a);
      a = this._uiEvtsInitQueue || {};
      b && !a[b] && (this._uiEvtsInitQueue = a[b] = 1, this.after("render", function() {
        this._createUIEvent(b);
        delete this._uiEvtsInitQueue[b]
      }))
    },
    on: function(a) {
      this._initUIEvent(a);
      return b.superclass.on.apply(this, arguments)
    },
    publish: function(a, c) {
      var e = this._getUIEvent(a);
      e && (c && c.defaultFn) && this._initUIEvent(e);
      return b.superclass.publish.apply(this, arguments)
    }
  }, !0)
}, "3.17.2", {
  requires: ["node-event-delegate", "widget-base"]
});
YUI.add("squarespace-gallery-manager", function(a) {
  a.namespace("Squarespace.Singletons");
  a.Squarespace.GalleryManager = a.Squarespace.Singletons.GalleryManager = Singleton.create({
    ready: function() {
      this._galleries = [];
      this._imageQueue = new a.AsyncQueue;
      this._queueThrottle = this.isMobile() ? 1 : 16
    },
    registerGallery: function(a) {
      this._galleries.push(a)
    },
    getGalleries: function() {
      return this._galleries
    },
    initializeBlock: function(f) {
      var b = f.getAttribute("data-block-json"),
        c;
      if (b) try {
        c = JSON.parse(b)
      } catch (e) {
        console.error("Error decoding gallery block data.");
        return
      } else c = f.getAncestorData("block"), a.Object.hasKey(c, "value") && (c = c.value);
      if (!c) throw "Error evaluating gallery block data.";
      switch (c.design) {
      case "stacked":
        b = "base";
        break;
      case "slider":
        b = "strip";
        break;
      case "slideshow":
        b = "stacked";
        break;
      case "grid":
        b = "grid";
        break;
      case "autogrid":
        b = "autogrid";
        break;
      case "autocolumns":
        b = "autocolumns";
        break;
      case "carousel":
        b = "carousel";
        break;
      case "list":
        b = "list";
        break;
      default:
        b = "base"
      }
      var h = f.one(".sqs-gallery-container");
      if (h) {
        -1 !== ["grid", "stacked"].indexOf(b) && h.ancestor(".sqs-block").removeClass("vsize-" + c.vSize);
        if (-1 !== ["strip", "stacked"].indexOf(b) && !a.UA.ios) {
          var g = h.one(".sqs-gallery-controls");
          g && g.addClass("show-hover-effect")
        }
        if (h.one(".sqs-gallery").getData("gallery")) h = h.one(".sqs-gallery").getData("gallery"), h.refresh();
        else {
          var g = {}, l = {}; - 1 !== ["grid", "stacked"].indexOf(b) && (g.autoHeight = !0, l.mode = c["auto-crop"] ? "fill" : "fit");
          if ("autogrid" == b || "autocolumns" == b || "carousel" == b || "list" == b) g.aspectRatio = "autocolumns" == b ? !1 : "Auto" === c.imageAspectRatio ? !1 : c.imageAspectRatio, l.mode = g.aspectRatio ? "fill" : "", g.slidesPerRow = c.slidesPerRow, g.lightbox = c.lightbox, g.mixedContent = c.mixedContent;
          if ("autogrid" == b || "autocolumns" == b) a.one(".squarespace-config") && !a.Squarespace.Utils.isInDamaskFrame() ? (g.columnWidth = 0.7 * c.columnWidth, g.gutter = 0.7 * c.gutter) : (g.columnWidth = c.columnWidth, g.gutter = c.gutter);
          "list" == b && (g.imageWidth = c.listImageSize);
          if ("strip" == b) {
            var k;
            switch (c["active-alignment"]) {
            case "left":
              k = "start";
              break;
            case "center":
              k = "middle";
              break;
            case "right":
              k = "end";
              break;
            default:
              k = "middle"
            }
            g.alignment = k
          }
          "grid" == b && (g.lightbox = Static.IN_BACKEND ? c.lightbox && a.Squarespace.Utils.isDamaskEnabled() : c.lightbox, g.perRow = parseInt(c["thumbnails-per-row"], 10), l.mode = c["square-thumbs"] ? "fill" : "fit");
          h.setData("galleryOptions", c);
          h = new a.Squarespace.Gallery2({
            containerWrapper: h,
            container: h.one(".sqs-gallery"),
            elements: {
              previous: h.one(".sqs-gallery-controls .previous"),
              next: h.one(".sqs-gallery-controls .next"),
              imageContainers: h.all(".sqs-gallery-image-container"),
              metaContainers: h.all(".sqs-gallery-meta-container")
            },
            design: b,
            designOptions: g,
            loaderOptions: l,
            keyboard: !1,
            lazyLoad: !0,
            autoplay: c.autoplay,
            loop: !0,
            refreshOnResize: !0,
            refreshOnOrientationChange: !0
          });
          c["autoplay-duration"] && (g = parseInt(1E3 * c["autoplay-duration"], 10), h.get("autoplayOptions.timeout") != g && h.set("autoplayOptions.timeout", g))
        }
        if ((f = f.one(".sqs-gallery-thumbnails")) && "stacked" === b && c.thumbnails) {
          var m = c["thumbnail-strip-height"];
          f.all(".sqs-video-thumbnail").each(function(a) {
            a.hasClass("no-image") && a.one(".sqs-video-thumbnail-inner").setStyles({
              width: Math.floor(m * (16 / 9)) + "px"
            });
            var b = a.one("img");
            if (b) b.once("load", function() {
              a.removeClass("loading");
              a.setAttribute("style", "width: " + b.get("offsetWidth") + "px !important")
            })
          });
          f.setStyles({
            height: m,
            marginTop: c["thumbnail-strip-margin"]
          });
          f.getData("gallery") ? (c = f.getData("gallery"), c.refresh()) : (c = new a.Squarespace.Gallery2({
            container: f,
            elements: {},
            loop: !0,
            design: "strip",
            designOptions: {
              activeSlideClickBehavior: !1,
              preloadCount: Math.ceil(h.get("container").get("offsetWidth") / m)
            },
            lazyLoad: !0,
            loaderOptions: {
              canvas: !1
            },
            refreshOnResize: !0,
            refreshOnOrientationChange: !0
          }), h.addChild(c))
        }
      } else console.warn("Returning, no wrapper found.")
    },
    refreshAll: function() {
      a.Array.each(this._galleries, function(a) {
        a.refresh()
      })
    },
    runImageQueue: function() {
      0 < this._queueThrottle ? this._imageQueue.run() : this._imageQueue.pause()
    },
    addImageQueue: function(f) {
      f.each(function(b) {
        this._imageQueue.add({
          fn: function() {
            b && b._node && (b.plug(a.Squarespace.Loader2, {
              load: !0
            }), b.fire("refresh"), b.get("complete") || (this._queueThrottle--, b.once(["load",
              "error"], function(a) {
              this._queueThrottle++;
              this.runImageQueue()
            }, this)));
            this.runImageQueue()
          },
          context: this,
          id: b.getAttribute("data-src")
        })
      }, this)
    },
    promoteImageQueue: function(a) {
      for (var b = a.size() - 1; 0 <= b; b--) this._imageQueue.promote(a.item(b).getAttribute("data-src"));
      this.runImageQueue()
    },
    removeImageQueue: function(a) {
      a.each(function(a) {
        this._imageQueue.remove(a.getAttribute("data-src"))
      }, this)
    },
    isMobile: function() {
      return !a.Lang.isUndefined(window.orientation) || -1 !== navigator.userAgent.toLowerCase().indexOf("mobile")
    },
    lightboxify: function(f) {
      var b = [];
      f.each(function(a, e) {
        if ("video" === a.getAttribute("data-type")) {
          var h = a.one(".sqs-video-wrapper"),
            g = h.videoloader.get("overlay");
          g && g.detach("click");
          b.push({
            content: h
          })
        } else a.hasAttribute("data-title") ? h = a.getAttribute("data-title") : a.one("[data-title]") ? h = a.one("[data-title]").getAttribute("data-title") : a.one(".title") && (h = a.one(".title").getHTML()), a.hasAttribute("data-description") ? g = a.getAttribute("data-description") : a.one("[data-description]") ? g = a.one("[data-description]").getAttribute("data-description") : a.one(".description") && (g = a.one(".description").getHTML()), b.push({
          content: a.one("img"),
          meta: (h ? "<h1>" + h + "</h1>" : "") + (g ? g : "")
        })
      }, this);
      f.each(function(c, e) {
        var h = c.one(".sqs-video-wrapper") || c.one("img[data-src]");
        if (h && !c.getAttribute("data-click-through-url")) h.on("click", function(c) {
          c.halt();
          this.lightbox && (this.lightbox.destroy(), delete this.lightbox);
          this.lightbox = new a.Squarespace.Lightbox2({
            controls: {
              previous: !0,
              next: !0
            },
            set: b,
            currentSetIndex: e
          });
          this.lightbox.render()
        }, this)
      }, this)
    }
  })
}, "1.0", {
  requires: "base dom-style-ie plugin widget squarespace-widgets-gismo squarespace-animations squarespace-widgets-lightbox2 squarespace-debugger squarespace-gallery-stacked squarespace-plugin-lightbox2 node event-key squarespace-image-loader squarespace-common history yui-throttle event-mouseenter squarespace-touch-event-listener squarespace-util squarespace-video-loader async-queue".split(" ")
});
YUI.add("node-event-simulate", function(a, f) {
  a.Node.prototype.simulate = function(b, c) {
    a.Event.simulate(a.Node.getDOMNode(this), b, c)
  };
  a.Node.prototype.simulateGesture = function(b, c, e) {
    a.Event.simulateGesture(this, b, c, e)
  }
}, "3.17.2", {
  requires: ["node-base", "event-simulate", "gesture-simulate"]
});
YUI.add("squarespace-models-content-item-list", function(a) {
  a.namespace("Squarespace.Models");
  var f = a.Squarespace.Models.ContentItemList = a.Base.create("ContentItemList", a.ModelList, [a.Squarespace.Mixins.EventList], {
    initializer: function(b) {
      this.model = a.Squarespace.Models.ContentItem;
      b = b || {};
      (b = b.items) && this.reset(b)
    },
    sync: function(a, c, e) {
      switch (a) {
      case "create":
        console.error("Squarespace.Models.ContentItemList: Create not implemented.");
        break;
      case "delete":
        console.error("Squarespace.Models.ContentItemList: Create not implemented.");
        break;
      case "read":
        this._read(c, e);
        break;
      case "update":
        console.error("Squarespace.Models.ContentItemList: Create not implemented.")
      }
    },
    load: function(a, c) {
      if (this.get("isChildItemList")) throw "Squarespace.Models.ContentItemList: Child items are loaded with their parent item. Loading them manually is not supported";
      f.superclass.load.call(this, a, c)
    },
    removeItems: function(b, c) {
      this.remove(b, {
        source: "bulk-remove"
      });
      var e = a.Array.map(b, function(a) {
        var b = a.get("id");
        a.destroy();
        return b
      }, this);
      a.Data.post({
        url: "/api/commondata/RemoveItems",
        data: {
          items: e
        },
        success: function(e) {
          this.get("parent").load();
          a.Lang.isFunction(c) && c(null, e);
          this.fire("bulk-remove", b)
        },
        failure: function(b) {
          a.Lang.isFunction(c) && c(b, null)
        }
      }, this)
    },
    moveItems: function(b, c, e) {
      if (this.get("isChildItemList")) throw "Squarespace.Models.ContentItemList: Moving child items is not currently supported.";
      var h = a.Array.map(b, function(a) {
        return this.remove(this.getById(a.get("id")))
      }, this),
        g = c.get("id"),
        f = c.items;
      f.load(a.bind(function() {
        f.add(h)
      }, this));
      var k = a.Array.map(h, function(a) {
        a.set("collectionId",
        g);
        a.get("items").each(function(a) {
          a.set("collectionId", g)
        });
        return a.get("id")
      }, this);
      a.Data.post({
        url: "/api/commondata/MoveItems",
        data: {
          toCollectionId: g,
          items: k
        },
        success: function(g) {
          this.get("parent").load();
          a.Lang.isFunction(e) && e(null, g);
          this.fire("move-items", b, c)
        },
        failure: function(b) {
          a.Lang.isFunction(e) && e(b, null)
        }
      }, this)
    },
    reorderItems: function(b, c, e) {
      var h = this.get("parent"),
        g = {};
      this.get("isChildItemList") ? (g.collectionId = h.get("collectionId"), g.parentId = h.get("id")) : g.collectionId = h.get("id");
      var f = 1 === b.length,
        k;
      f ? (b = b[0], k = this.indexOf(b), this._reorder(b, c), 0 !== c && (g.afterId = this.item(c - 1).get("id")), g.itemId = b.get("id")) : (this._reorder(b, c), 0 !== c && (g.afterId = this.item(c - 1).get("id")), b = a.Array.map(b, function(a) {
        return a.get("id")
      }, this), g.itemIds = a.JSON.stringify(b));
      var m = a.bind(function(b) {
        a.Data.post({
          url: "/api/commondata/ReorderItems",
          data: b,
          success: function(b) {
            f && (0 === k || 0 === c) && h.load();
            a.Lang.isUndefined(b.items) || a.Array.each(b.items, function(a, b) {
              this.getById(a.id).set("displayIndex",
              a.displayIndex)
            }, this);
            this.fire("reordered");
            a.Lang.isFunction(e) && e(null, b);
            0 < this._reorderQueue.size() && m(thie._reorderQueue.next())
          },
          failure: function(b) {
            a.Lang.isFunction(e) && e(b, null)
          }
        }, this)
      }, this);
      this._reorderQueue || (this._reorderQueue = new a.Queue);
      this._reorderQueue.add(g);
      m(this._reorderQueue.next())
    },
    _reorder: function(a, c) {
      this.remove(a, {
        onReorder: !0,
        source: "reorder"
      });
      this.add(a, {
        onReorder: !0,
        source: "reorder",
        index: c
      })
    },
    _read: function(b, c) {
      var e = this.get("parent").get("id");
      a.Data.get({
        url: "/api/content-collections/" + e + "/content-items",
        data: a.merge({
          limit: 20
        }, b),
        success: function(a) {
          this.set("pagination", {
            hasNextPage: a.hasNextPage,
            hasPreviousPage: a.hasPreviousPage,
            nextPageStart: a.nextPageStart,
            previousPageStart: a.previousPageStart
          });
          c(null, a.results)
        },
        failure: function(a) {
          c(a, null)
        }
      }, this)
    }
  }, {
    ATTRS: {
      parent: {
        value: null,
        validator: function(b) {
          return b instanceof a.Squarespace.Models.ContentCollection || b instanceof a.Squarespace.Models.ContentItem
        }
      },
      isChildItemList: {
        getter: function() {
          return this.get("parent") instanceof
          a.Squarespace.Models.ContentItem
        }
      },
      pagination: {
        value: null
      }
    }
  })
}, "1.0", {
  requires: "base json model-list squarespace-mixins-event-list squarespace-models-content-collection squarespace-models-content-item squarespace-util".split(" ")
});
YUI.add("model-list", function(a, f) {
  function b() {
    b.superclass.constructor.apply(this, arguments)
  }
  var c = a.Attribute.prototype,
    e = a.Lang,
    h = a.Array;
  a.ModelList = a.extend(b, a.Base, {
    model: a.Model,
    _isYUIModelList: !0,
    initializer: function(b) {
      b || (b = {});
      var c = this.model = b.model || this.model;
      "string" === typeof c && ((this.model = a.Object.getValue(a, c.split("."))) || a.error("ModelList: Model class not found: " + c));
      this.publish("add", {
        defaultFn: this._defAddFn
      });
      this.publish("reset", {
        defaultFn: this._defResetFn
      });
      this.publish("remove", {
        defaultFn: this._defRemoveFn
      });
      this.after("*:idChange", this._afterIdChange);
      this._clear();
      b.items && this.add(b.items, {
        silent: !0
      })
    },
    destructor: function() {
      this._clear()
    },
    add: function(b, c) {
      var f = b._isYUIModelList;
      return f || e.isArray(b) ? h.map(f ? b.toArray() : b, function(b, g) {
        var e = c || {};
        "index" in e && (e = a.merge(e, {
          index: e.index + g
        }));
        return this._add(b, e)
      }, this) : this._add(b, c)
    },
    create: function(b, c, e) {
      var h = this;
      "function" === typeof c && (e = c, c = {});
      c || (c = {});
      b._isYUIModel || (b = new this.model(b));
      h.fire("create",
      a.merge(c, {
        model: b
      }));
      return b.save(c, function(a) {
        a || h.add(b, c);
        e && e.apply(null, arguments)
      })
    },
    each: function(a, b) {
      var c = this._items.concat(),
        e, h, f;
      e = 0;
      for (f = c.length; e < f; e++) h = c[e], a.call(b || h, h, e, this);
      return this
    },
    filter: function(a, b) {
      var c = [],
        e = this._items,
        h, f, q;
      "function" === typeof a && (b = a, a = {});
      h = 0;
      for (q = e.length; h < q; ++h) f = e[h], b.call(this, f, h, this) && c.push(f);
      return a.asList ? (e = new this.constructor({
        model: this.model
      }), c.length && e.add(c, {
        silent: !0
      }), e) : c
    },
    get: function(a) {
      return this.attrAdded(a) ? c.get.apply(this, arguments) : this.invoke("get", a)
    },
    getAsHTML: function(b) {
      return this.attrAdded(b) ? a.Escape.html(c.get.apply(this, arguments)) : this.invoke("getAsHTML", b)
    },
    getAsURL: function(a) {
      return this.attrAdded(a) ? encodeURIComponent(c.get.apply(this, arguments)) : this.invoke("getAsURL", a)
    },
    getByClientId: function(a) {
      return this._clientIdMap[a] || null
    },
    getById: function(a) {
      return this._idMap[a] || null
    },
    invoke: function(a) {
      var b = [this._items, a].concat(h(arguments, 1, !0));
      return h.invoke.apply(h, b)
    },
    load: function(a,
    b) {
      var c = this;
      "function" === typeof a && (b = a, a = {});
      a || (a = {});
      this.sync("read", a, function(e, h) {
        var f = {
          options: a,
          response: h
        }, q;
        e ? (f.error = e, f.src = "load", c.fire("error", f)) : (c._loadEvent || (c._loadEvent = c.publish("load", {
          preventable: !1
        })), q = f.parsed = c._parse(h), c.reset(q, a), c.fire("load", f));
        b && b.apply(null, arguments)
      });
      return this
    },
    map: function(a, b) {
      return h.map(this._items, a, b)
    },
    parse: function(b) {
      if ("string" === typeof b) try {
        return a.JSON.parse(b) || []
      } catch (c) {
        return this.fire("error", {
          error: c,
          response: b,
          src: "parse"
        }), null
      }
      return b || []
    },
    remove: function(a, b) {
      var c = a._isYUIModelList;
      return c || e.isArray(a) ? (a = h.map(c ? a.toArray() : a, function(a) {
        return e.isNumber(a) ? this.item(a) : a
      }, this), h.map(a, function(a) {
        return this._remove(a, b)
      }, this)) : this._remove(a, b)
    },
    reset: function(b, c) {
      b || (b = []);
      c || (c = {});
      var e = a.merge({
        src: "reset"
      }, c);
      b = b._isYUIModelList ? b.toArray() : h.map(b, function(a) {
        return a._isYUIModel ? a : new this.model(a)
      }, this);
      e.models = b;
      c.silent ? this._defResetFn(e) : (this.comparator && b.sort(a.bind(this._sort,
      this)), this.fire("reset", e));
      return this
    },
    some: function(a, b) {
      var c = this._items.concat(),
        e, h, f;
      e = 0;
      for (f = c.length; e < f; e++) if (h = c[e], a.call(b || h, h, e, this)) return !0;
      return !1
    },
    sort: function(b) {
      if (!this.comparator) return this;
      var c = this._items.concat();
      b || (b = {});
      c.sort(a.rbind(this._sort, this, b));
      c = a.merge(b, {
        models: c,
        src: "sort"
      });
      b.silent ? this._defResetFn(c) : this.fire("reset", c);
      return this
    },
    sync: function() {
      var a = h(arguments, 0, !0).pop();
      "function" === typeof a && a()
    },
    toArray: function() {
      return this._items.concat()
    },
    toJSON: function() {
      return this.map(function(a) {
        return a.toJSON()
      })
    },
    _add: function(b, c) {
      var h;
      c || (c = {});
      b._isYUIModel || (b = new this.model(b));
      h = b.get("id");
      if (this._clientIdMap[b.get("clientId")] || e.isValue(h) && this._idMap[h]) this.fire("error", {
        error: "Model is already in the list.",
        model: b,
        src: "add"
      });
      else return h = a.merge(c, {
        index: "index" in c ? c.index : this._findIndex(b),
        model: b
      }), c.silent ? this._defAddFn(h) : this.fire("add", h), b
    },
    _attachList: function(a) {
      a.lists.push(this);
      a.addTarget(this)
    },
    _clear: function() {
      h.each(this._items,
      this._detachList, this);
      this._clientIdMap = {};
      this._idMap = {};
      this._items = []
    },
    _compare: function(a, b) {
      return a < b ? -1 : a > b ? 1 : 0
    },
    _detachList: function(a) {
      var b = h.indexOf(a.lists, this); - 1 < b && (a.lists.splice(b, 1), a.removeTarget(this))
    },
    _findIndex: function(a) {
      var b = this._items,
        c = b.length,
        e = 0,
        h, f;
      if (!this.comparator || !c) return c;
      for (f = this.comparator(a); e < c;) h = e + c >> 1, a = b[h], 0 > this._compare(this.comparator(a), f) ? e = h + 1 : c = h;
      return e
    },
    _parse: function(a) {
      return this.parse(a)
    },
    _remove: function(b, c) {
      var h;
      c || (c = {});
      e.isNumber(b) ? (h = b, b = this.item(h)) : h = this.indexOf(b);
      if (-1 === h || !b) this.fire("error", {
        error: "Model is not in the list.",
        index: h,
        model: b,
        src: "remove"
      });
      else return h = a.merge(c, {
        index: h,
        model: b
      }), c.silent ? this._defRemoveFn(h) : this.fire("remove", h), b
    },
    _sort: function(a, b, c) {
      a = this._compare(this.comparator(a), this.comparator(b));
      return 0 === a ? a : c && c.descending ? -a : a
    },
    _afterIdChange: function(a) {
      var b = a.newVal,
        c = a.prevVal;
      a = a.target;
      if (e.isValue(c)) if (this._idMap[c] === a) delete this._idMap[c];
      else return;
      else if (-1 === this.indexOf(a)) return;
      e.isValue(b) && (this._idMap[b] = a)
    },
    _defAddFn: function(a) {
      var b = a.model,
        c = b.get("id");
      this._clientIdMap[b.get("clientId")] = b;
      e.isValue(c) && (this._idMap[c] = b);
      this._attachList(b);
      this._items.splice(a.index, 0, b)
    },
    _defRemoveFn: function(a) {
      var b = a.model,
        c = b.get("id");
      this._detachList(b);
      delete this._clientIdMap[b.get("clientId")];
      e.isValue(c) && delete this._idMap[c];
      this._items.splice(a.index, 1)
    },
    _defResetFn: function(a) {
      "sort" === a.src ? this._items = a.models.concat() : (this._clear(), a.models.length && this.add(a.models, {
        silent: !0
      }))
    }
  }, {
    NAME: "modelList"
  });
  a.augment(b, a.ArrayList)
}, "3.17.2", {
  requires: "array-extras array-invoke arraylist base-build escape json-parse model".split(" ")
});
YUI.add("datasource-function", function(a, f) {
  var b = function() {
    b.superclass.constructor.apply(this, arguments)
  };
  a.mix(b, {
    NAME: "dataSourceFunction",
    ATTRS: {
      source: {
        validator: a.Lang.isFunction
      }
    }
  });
  a.extend(b, a.DataSource.Local, {
    _defRequestFn: function(a) {
      var b = this.get("source"),
        h = a.details[0];
      if (b) try {
        h.data = b(a.request, this, a)
      } catch (g) {
        h.error = g
      } else h.error = Error("Function data failure");
      this.fire("data", h);
      return a.tId
    }
  });
  a.DataSource.Function = b
}, "3.17.2", {
  requires: ["datasource-local"]
});
YUI.add("squarespace-mobile-info-bar-template", function(a) {
  var f = a.Handlebars;
  (function() {
    var a = f.template;
    (f.templates = f.templates || {})["mobile-info-bar.html"] = a(function(a, b, h, g, f) {
      this.compilerInfo = [4, ">= 1.0.0"];
      h = this.merge(h, a.helpers);
      f = f || {};
      var k = this.escapeExpression;
      a = '\n<div class="sqs-mobile-info-bar-triggers">\n\n  ';
      if ((g = h["if"].call(b, b.contactEmail, {
        hash: {},
        inverse: this.noop,
        fn: this.program(1, function(a, b) {
          var c, g;
          c = '\n    <div class="sqs-mobile-info-bar-trigger" data-type="contactEmail">\n      <a href="mailto:';
          (g = h.contactEmail) ? g = g.call(a, {
            hash: {},
            data: b
          }) : (g = a.contactEmail, g = "function" === typeof g ? g.apply(a) : g);
          return c += k(g) + '">\n        <span class="sqs-mobile-info-bar-trigger-icon"></span>\n        <span class="sqs-mobile-info-bar-trigger-label">' + k((g = (g = (g = a.strings, null == g || !1 === g ? g : g.labels), null == g || !1 === g ? g : g.email), "function" === typeof g ? g.apply(a) : g)) + "</span>\n      </a>\n    </div>\n  "
        }, f),
        data: f
      })) || 0 === g) a += g;
      a += "\n\n\n  ";
      if ((g = h["if"].call(b, b.contactPhoneNumber, {
        hash: {},
        inverse: this.noop,
        fn: this.program(3, function(a, b) {
          var c, g;
          c = '\n    <div class="sqs-mobile-info-bar-trigger" data-type="contactPhoneNumber">\n      <a href="tel:';
          (g = h.contactPhoneNumber) ? g = g.call(a, {
            hash: {},
            data: b
          }) : (g = a.contactPhoneNumber, g = "function" === typeof g ? g.apply(a) : g);
          return c += k(g) + '">\n        <span class="sqs-mobile-info-bar-trigger-icon"></span>\n        <span class="sqs-mobile-info-bar-trigger-label">' + k((g = (g = (g = a.strings, null == g || !1 === g ? g : g.labels), null == g || !1 === g ? g : g.phone), "function" === typeof g ? g.apply(a) : g)) + "</span>\n      </a>\n    </div>\n  "
        }, f),
        data: f
      })) || 0 === g) a += g;
      a += "\n\n\n  ";
      if ((g = h["if"].call(b, b.location, {
        hash: {},
        inverse: this.noop,
        fn: this.program(5, function(a, b) {
          var c, g;
          return c = "" + ('\n    <div class="sqs-mobile-info-bar-trigger" data-type="location" data-overlay="true">\n      <span class="sqs-mobile-info-bar-trigger-icon"></span>\n      <span class="sqs-mobile-info-bar-trigger-label">' + k((g = (g = (g = a.strings, null == g || !1 === g ? g : g.labels), null == g || !1 === g ? g : g.location), "function" === typeof g ? g.apply(a) : g)) + "</span>\n    </div>\n  ")
        }, f),
        data: f
      })) || 0 === g) a += g;
      a += "\n\n\n  ";
      if ((g = h["if"].call(b, b.businessHours, {
        hash: {},
        inverse: this.noop,
        fn: this.program(7, function(a, b) {
          var c, g;
          return c = "" + ('\n    <div class="sqs-mobile-info-bar-trigger" data-type="businessHours" data-overlay="true">\n      <span class="sqs-mobile-info-bar-trigger-icon"></span>\n      <span class="sqs-mobile-info-bar-trigger-label">' + k((g = (g = (g = a.strings, null == g || !1 === g ? g : g.labels), null == g || !1 === g ? g : g.hours), "function" === typeof g ? g.apply(a) : g)) + "</span>\n    </div>\n  ")
        }, f),
        data: f
      })) || 0 === g) a += g;
      return a + '\n\n</div>\n\n<div class="sqs-mobile-info-bar-overlay">\n  <div class="sqs-mobile-info-bar-overlay-content"></div>\n  <div class="sqs-mobile-info-bar-overlay-close"></div>\n</div>\n'
    })
  })();
  a.Handlebars.registerPartial("mobile-info-bar.html".replace("/", "."), f.templates["mobile-info-bar.html"])
}, "1.0", {
  requires: ["handlebars-base"]
});
YUI.add("plugin", function(a, f) {
  function b(c) {
    !this.hasImpl || !this.hasImpl(a.Plugin.Base) ? b.superclass.constructor.apply(this, arguments) : b.prototype.initializer.apply(this, arguments)
  }
  b.ATTRS = {
    host: {
      writeOnce: !0
    }
  };
  b.NAME = "plugin";
  b.NS = "plugin";
  a.extend(b, a.Base, {
    _handles: null,
    initializer: function(a) {
      this._handles = []
    },
    destructor: function() {
      if (this._handles) for (var a = 0, b = this._handles.length; a < b; a++) this._handles[a].detach()
    },
    doBefore: function(a, b, h) {
      var g = this.get("host"),
        f;
      a in g ? f = this.beforeHostMethod(a,
      b, h) : g.on && (f = this.onHostEvent(a, b, h));
      return f
    },
    doAfter: function(a, b, h) {
      var g = this.get("host"),
        f;
      a in g ? f = this.afterHostMethod(a, b, h) : g.after && (f = this.afterHostEvent(a, b, h));
      return f
    },
    onHostEvent: function(a, b, h) {
      a = this.get("host").on(a, b, h || this);
      this._handles.push(a);
      return a
    },
    onceHostEvent: function(a, b, h) {
      a = this.get("host").once(a, b, h || this);
      this._handles.push(a);
      return a
    },
    afterHostEvent: function(a, b, h) {
      a = this.get("host").after(a, b, h || this);
      this._handles.push(a);
      return a
    },
    onceAfterHostEvent: function(a,
    b, h) {
      a = this.get("host").onceAfter(a, b, h || this);
      this._handles.push(a);
      return a
    },
    beforeHostMethod: function(b, e, h) {
      b = a.Do.before(e, this.get("host"), b, h || this);
      this._handles.push(b);
      return b
    },
    afterHostMethod: function(b, e, h) {
      b = a.Do.after(e, this.get("host"), b, h || this);
      this._handles.push(b);
      return b
    },
    toString: function() {
      return this.constructor.NAME + "[" + this.constructor.NS + "]"
    }
  });
  a.namespace("Plugin").Base = b
}, "3.17.2", {
  requires: ["base-base"]
});
YUI.add("squarespace-models-website", function(a) {
  var f = a.namespace("Squarespace.Models");
  f.Website = a.Base.create("website", a.Model, [a.Squarespace.ModelSync.REST], {
    url: a.Squarespace.REST_API_ROOT + "websites/mine",
    getProducts: function() {
      return new a.Promise(a.bind(function(b, c) {
        a.Data.get({
          url: this.getURL("read") + "/available-plans",
          success: function(c) {
            c = this._parsePlanResponse(c);
            c = a.Array.map(c, function(b) {
              return new a.Squarespace.Models.Plan(b)
            });
            b(new a.Squarespace.Models.PlanList({
              items: c
            }))
          },
          failure: c
        },
        this)
      }, this))
    },
    _parsePlanResponse: function(b) {
      return a.Array.map(b.results, function(a) {
        var b = a.plan,
          h = a.period;
        return {
          disabled: a.disabled,
          planLevel: {
            genus: a.plan.genus,
            displayName: b.displayName,
            allowedPeriods: b.allowedPeriods,
            value: b.plan
          },
          planPeriod: {
            displayName: h.displayName,
            intervalDays: h.intervalDays,
            bulkDiscountPct: h.bulkDiscountPercent,
            value: h.period
          },
          price: a.price
        }
      })
    },
    serialize: function() {
      var b = this.toJSON();
      delete b.shareButtonOptions;
      delete b.logoImage;
      delete b.faviconItem;
      return a.JSON.stringify(b)
    },
    parse: function() {
      var b = f.Website.superclass.parse.apply(this, arguments);
      a.Lang.isObject(b) && (b.password = b.hasPassword ? a.Squarespace.PasswordMask : "", b.logoImageId || (b.logoImageId = null, b.logoImage = null), b.faviconItemId || (b.faviconItemId = null, b.faviconItem = null));
      return b
    },
    _imageSetterFactory: function(b) {
      return a.bind(function(c) {
        a.Lang.isObject(c) ? c instanceof a.Squarespace.Models.ContentItem ? this.set(b, c.get("id")) : this.set(b, c.id) : this.set(b, null)
      }, this)
    }
  }, {
    ATTRS: {
      logoImage: {
        setter: function(a) {
          return this._imageSetterFactory("logoImageId")(a)
        }
      },
      faviconItem: {
        setter: function(a) {
          return this._imageSetterFactory("faviconItemId")(a)
        }
      }
    }
  })
}, "1.0", {
  requires: ["base", "model", "squarespace-util", "squarespace-model-sync-rest", "squarespace-models-plan"]
});
YUI.add("dom-base", function(a, f) {
  var b = a.config.doc.documentElement,
    c = a.DOM,
    e = a.Features.add,
    h = a.Features.test;
  a.mix(c, {
    getText: void 0 !== b.textContent ? function(a) {
      var b = "";
      a && (b = a.textContent);
      return b || ""
    } : function(a) {
      var b = "";
      a && (b = a.innerText || a.nodeValue);
      return b || ""
    },
    setText: void 0 !== b.textContent ? function(a, b) {
      a && (a.textContent = b)
    } : function(a, b) {
      "innerText" in a ? a.innerText = b : "nodeValue" in a && (a.nodeValue = b)
    },
    CUSTOM_ATTRIBUTES: !b.hasAttribute ? {
      "for": "htmlFor",
      "class": "className"
    } : {
      htmlFor: "for",
      className: "class"
    },
    setAttribute: function(a, b, g, e) {
      a && (b && a.setAttribute) && (b = c.CUSTOM_ATTRIBUTES[b] || b, a.setAttribute(b, g, e))
    },
    getAttribute: function(a, b, g) {
      g = void 0 !== g ? g : 2;
      var e = "";
      a && (b && a.getAttribute) && (b = c.CUSTOM_ATTRIBUTES[b] || b, e = "BUTTON" === a.tagName && "value" === b ? c.getValue(a) : a.getAttribute(b, g), null === e && (e = ""));
      return e
    },
    VALUE_SETTERS: {},
    VALUE_GETTERS: {},
    getValue: function(a) {
      var b = "";
      a && a.tagName && (b = (b = c.VALUE_GETTERS[a.tagName.toLowerCase()]) ? b(a) : a.value);
      "" === b && (b = "");
      return "string" === typeof b ? b : ""
    },
    setValue: function(a, b) {
      var g;
      a && a.tagName && (g = c.VALUE_SETTERS[a.tagName.toLowerCase()], b = null === b ? "" : b, g ? g(a, b) : a.value = b)
    },
    creators: {}
  });
  e("value-set", "select", {
    test: function() {
      var b = a.config.doc.createElement("select");
      b.innerHTML = "<option>1</option><option>2</option>";
      b.value = "2";
      return b.value && "2" === b.value
    }
  });
  h("value-set", "select") || (c.VALUE_SETTERS.select = function(a, b) {
    for (var g = 0, e = a.getElementsByTagName("option"), h; h = e[g++];) if (c.getValue(h) === b) {
      h.selected = !0;
      break
    }
  });
  a.mix(c.VALUE_GETTERS, {
    button: function(a) {
      return a.attributes && a.attributes.value ? a.attributes.value.value : ""
    }
  });
  a.mix(c.VALUE_SETTERS, {
    button: function(a, b) {
      var c = a.attributes.value;
      c || (c = a.ownerDocument.createAttribute("value"), a.setAttributeNode(c));
      c.value = b
    }
  });
  a.mix(c.VALUE_GETTERS, {
    option: function(a) {
      var b = a.attributes;
      return b.value && b.value.specified ? a.value : a.text
    },
    select: function(a) {
      var b = a.value,
        g = a.options;
      g && g.length && !a.multiple && -1 < a.selectedIndex && (b = c.getValue(g[a.selectedIndex]));
      return b
    }
  });
  var g, l, k;
  a.mix(a.DOM, {
    hasClass: function(b, c) {
      return a.DOM._getRegExp("(?:^|\\s+)" + c + "(?:\\s+|$)").test(b.className)
    },
    addClass: function(b, c) {
      a.DOM.hasClass(b, c) || (b.className = a.Lang.trim([b.className, c].join(" ")))
    },
    removeClass: function(b, c) {
      c && l(b, c) && (b.className = a.Lang.trim(b.className.replace(a.DOM._getRegExp("(?:^|\\s+)" + c + "(?:\\s+|$)"), " ")), l(b, c) && k(b, c))
    },
    replaceClass: function(a, b, c) {
      k(a, b);
      g(a, c)
    },
    toggleClass: function(a, b, c) {
      (void 0 !== c ? c : !l(a, b)) ? g(a, b) : k(a, b)
    }
  });
  l = a.DOM.hasClass;
  k = a.DOM.removeClass;
  g = a.DOM.addClass;
  var m = /<([a-z]+)/i,
    c = a.DOM,
    e = a.Features.add,
    h = a.Features.test,
    n = {}, p = function(b, c) {
      var g = a.config.doc.createElement("div"),
        e = !0;
      g.innerHTML = b;
      if (!g.firstChild || g.firstChild.tagName !== c.toUpperCase()) e = !1;
      return e
    }, q = /(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/,
    r;
  a.mix(a.DOM, {
    _fragClones: {},
    _create: function(a, b, g) {
      g = g || "div";
      var e = c._fragClones[g],
        e = e ? e.cloneNode(!1) : c._fragClones[g] = b.createElement(g);
      e.innerHTML = a;
      return e
    },
    _children: function(a, b) {
      var c = 0,
        g = a.children,
        e, h;
      g && g.tags && (b ? g = a.children.tags(b) : e = g.tags("!").length);
      if (!g || !g.tags && b || e) {
        e = g || a.childNodes;
        for (g = []; h = e[c++];) 1 === h.nodeType && (!b || b === h.tagName) && g.push(h)
      }
      return g || []
    },
    create: function(b, g) {
      "string" === typeof b && (b = a.Lang.trim(b));
      g = g || a.config.doc;
      var e = m.exec(b),
        h = c._create,
        f = null,
        l;
      void 0 != b && (e && e[1] && (e = n[e[1].toLowerCase()], "function" === typeof e ? h = e : l = e), h = h(b, g, l), l = h.childNodes, 1 === l.length ? f = h.removeChild(l[0]) : l[0] && "yui3-big-dummy" === l[0].className ? (r = h.selectedIndex, 2 === l.length ? f = l[0].nextSibling : (h.removeChild(l[0]), f = c._nl2frag(l, g))) : f = c._nl2frag(l, g));
      return f
    },
    _nl2frag: function(b, c) {
      var g = null,
        e, h;
      if (b && (b.push || b.item) && b[0]) {
        c = c || b[0].ownerDocument;
        g = c.createDocumentFragment();
        b.item && (b = a.Array(b, 0, !0));
        e = 0;
        for (h = b.length; e < h; e++) g.appendChild(b[e])
      }
      return g
    },
    addHTML: function(b, g, e) {
      var h = b.parentNode,
        f = 0,
        l, k = g,
        m;
      if (void 0 != g) if (g.nodeType) m = g;
      else if ("string" == typeof g || "number" == typeof g) k = m = c.create(g);
      else if (g[0] && g[0].nodeType) for (m = a.config.doc.createDocumentFragment(); l = g[f++];) m.appendChild(l);
      if (e) if (m && e.parentNode) e.parentNode.insertBefore(m, e);
      else switch (e) {
      case "replace":
        for (; b.firstChild;) b.removeChild(b.firstChild);
        m && b.appendChild(m);
        break;
      case "before":
        m && h.insertBefore(m, b);
        break;
      case "after":
        m && (b.nextSibling ? h.insertBefore(m, b.nextSibling) : h.appendChild(m));
        break;
      default:
        m && b.appendChild(m)
      } else m && b.appendChild(m);
      "SELECT" == b.nodeName && 0 < r && (b.selectedIndex = r - 1);
      return k
    },
    wrap: function(b, c) {
      var g = c && c.nodeType ? c : a.DOM.create(c),
        e = g.getElementsByTagName("*");
      e.length && (g = e[e.length - 1]);
      b.parentNode && b.parentNode.replaceChild(g, b);
      g.appendChild(b)
    },
    unwrap: function(a) {
      var b = a.parentNode,
        c = b.lastChild,
        g = a,
        e;
      if (b) if (e = b.parentNode) {
        for (a = b.firstChild; a !== c;) g = a.nextSibling, e.insertBefore(a, b), a = g;
        e.replaceChild(c, b)
      } else b.removeChild(a)
    }
  });
  e("innerhtml", "table", {
    test: function() {
      var b = a.config.doc.createElement("table");
      try {
        b.innerHTML = "<tbody></tbody>"
      } catch (c) {
        return !1
      }
      return b.firstChild && "TBODY" === b.firstChild.nodeName
    }
  });
  e("innerhtml-div", "tr", {
    test: function() {
      return p("<tr></tr>", "tr")
    }
  });
  e("innerhtml-div", "script", {
    test: function() {
      return p("<script></script>", "script")
    }
  });
  h("innerhtml", "table") || (n.tbody = function(b, g) {
    var e = c.create("<table>" + b + "</table>", g),
      h = a.DOM._children(e, "tbody")[0];
    1 < e.children.length && (h && !q.test(b)) && h.parentNode.removeChild(h);
    return e
  });
  h("innerhtml-div", "script") || (n.script = function(a, b) {
    var c = b.createElement("div");
    c.innerHTML = "-" + a;
    c.removeChild(c.firstChild);
    return c
  }, n.link = n.style = n.script);
  h("innerhtml-div", "tr") || (a.mix(n, {
    option: function(a,
    b) {
      return c.create('<select><option class="yui3-big-dummy" selected></option>' + a + "</select>", b)
    },
    tr: function(a, b) {
      return c.create("<tbody>" + a + "</tbody>", b)
    },
    td: function(a, b) {
      return c.create("<tr>" + a + "</tr>", b)
    },
    col: function(a, b) {
      return c.create("<colgroup>" + a + "</colgroup>", b)
    },
    tbody: "table"
  }), a.mix(n, {
    legend: "fieldset",
    th: n.td,
    thead: n.tbody,
    tfoot: n.tbody,
    caption: n.tbody,
    colgroup: n.tbody,
    optgroup: n.option
  }));
  c.creators = n;
  a.mix(a.DOM, {
    setWidth: function(b, c) {
      a.DOM._setSize(b, "width", c)
    },
    setHeight: function(b,
    c) {
      a.DOM._setSize(b, "height", c)
    },
    _setSize: function(a, b, c) {
      c = 0 < c ? c : 0;
      var g = 0;
      a.style[b] = c + "px";
      g = "height" === b ? a.offsetHeight : a.offsetWidth;
      g > c && (c -= g - c, 0 > c && (c = 0), a.style[b] = c + "px")
    }
  })
}, "3.17.2", {
  requires: ["dom-core"]
});
YUI.add("event-key", function(a, f) {
  var b = a.Lang.trim,
    c = {
      KEY_MAP: {
        enter: 13,
        space: 32,
        esc: 27,
        backspace: 8,
        tab: 9,
        pageup: 33,
        pagedown: 34
      },
      _typeRE: /^(up|down|press):/,
      _keysRE: /^(?:up|down|press):|\+(alt|ctrl|meta|shift)/g,
      processArgs: function(c) {
        var h = c.splice(3, 1)[0];
        c = a.Array.hash(h.match(/\+(?:alt|ctrl|meta|shift)\b/g) || []);
        var g = {
          type: this._typeRE.test(h) ? RegExp.$1 : null,
          mods: c,
          keys: null
        }, h = h.replace(this._keysRE, ""),
          f, k, m;
        if (h) {
          h = h.split(",");
          g.keys = {};
          for (m = h.length - 1; 0 <= m; --m) if (f = b(h[m])) + f == f ? g.keys[f] = c : (k = f.toLowerCase(), this.KEY_MAP[k] ? (g.keys[this.KEY_MAP[k]] = c, g.type || (g.type = "down")) : (f = f.charAt(0), k = f.toUpperCase(), c["+shift"] && (f = k), g.keys[f.charCodeAt(0)] = f === k ? a.merge(c, {
            "+shift": !0
          }) : c))
        }
        g.type || (g.type = "press");
        return g
      },
      on: function(a, b, c, f) {
        var k = b._extra,
          m = k.keys;
        b._detach = a[f ? "delegate" : "on"]("key" + k.type, function(a) {
          var b = m ? m[a.which] : k.mods;
          b && ((!b["+alt"] || b["+alt"] && a.altKey) && (!b["+ctrl"] || b["+ctrl"] && a.ctrlKey) && (!b["+meta"] || b["+meta"] && a.metaKey) && (!b["+shift"] || b["+shift"] && a.shiftKey)) && c.fire(a)
        }, f)
      },
      detach: function(a, b, c) {
        b._detach.detach()
      }
    };
  c.delegate = c.on;
  c.detachDelegate = c.detach;
  a.Event.define("key", c, !0)
}, "3.17.2", {
  requires: ["event-synthetic"]
});
YUI.add("attribute-core", function(a, f) {
  function b(a, b, c) {
    this._yuievt = null;
    this._initAttrHost(a, b, c)
  }
  a.State = function() {
    this.data = {}
  };
  a.State.prototype = {
    add: function(a, b, c) {
      var e = this.data[a];
      e || (e = this.data[a] = {});
      e[b] = c
    },
    addAll: function(a, b) {
      var c = this.data[a],
        e;
      c || (c = this.data[a] = {});
      for (e in b) b.hasOwnProperty(e) && (c[e] = b[e])
    },
    remove: function(a, b) {
      var c = this.data[a];
      c && delete c[b]
    },
    removeAll: function(b, c) {
      var e;
      c ? a.each(c, function(a, c) {
        this.remove(b, "string" === typeof c ? c : a)
      }, this) : (e = this.data,
      b in e && delete e[b])
    },
    get: function(a, b) {
      var c = this.data[a];
      if (c) return c[b]
    },
    getAll: function(a, b) {
      var c = this.data[a],
        e, h;
      if (b) h = c;
      else if (c) for (e in h = {}, c) c.hasOwnProperty(e) && (h[e] = c[e]);
      return h
    }
  };
  var c = a.Object,
    e = a.Lang,
    h;
  b.INVALID_VALUE = {};
  h = b.INVALID_VALUE;
  b._ATTR_CFG = "setter getter validator value valueFn writeOnce readOnly lazyAdd _bypassProxy".split(" ");
  b.protectAttrs = function(b) {
    if (b) {
      b = a.merge(b);
      for (var c in b) b.hasOwnProperty(c) && (b[c] = a.merge(b[c]))
    }
    return b
  };
  b.prototype = {
    _initAttrHost: function(b,
    c, e) {
      this._state = new a.State;
      this._initAttrs(b, c, e)
    },
    addAttr: function(a, b, c) {
      var e = this._state,
        h = e.data,
        f, q;
      b = b || {};
      "lazyAdd" in b && (c = b.lazyAdd);
      q = e.get(a, "added");
      if (c && !q) e.data[a] = {
        lazy: b,
        added: !0
      };
      else if (!q || b.isLazyAdd) {
        if (c = "value" in b) f = b.value, b.value = void 0;
        b.added = !0;
        b.initializing = !0;
        h[a] = b;
        c && this.set(a, f);
        b.initializing = !1
      }
      return this
    },
    attrAdded: function(a) {
      return !!this._state.get(a, "added")
    },
    get: function(a) {
      return this._getAttr(a)
    },
    _isLazyAttr: function(a) {
      return this._state.get(a, "lazy")
    },
    _addLazyAttr: function(a, b) {
      var c = this._state;
      if (b = b || c.get(a, "lazy")) c.data[a].lazy = void 0, b.isLazyAdd = !0, this.addAttr(a, b)
    },
    set: function(a, b, c) {
      return this._setAttr(a, b, c)
    },
    _set: function(a, b, c) {
      return this._setAttr(a, b, c, !0)
    },
    _setAttr: function(b, e, h, f) {
      var n = !0,
        p = this._state,
        q = this._stateProxy,
        r = this._tCfgs,
        u, v, w, y; - 1 !== b.indexOf(".") && (u = b, v = b.split("."), b = v.shift());
      r && r[b] && this._addOutOfOrder(b, r[b]);
      p = p.data[b] || {};
      p.lazy && (p = p.lazy, this._addLazyAttr(b, p));
      r = void 0 === p.value;
      q && (b in q && !p._bypassProxy) && (r = !1);
      q = p.writeOnce;
      y = p.initializing;
      !r && !f && (q && (n = !1), p.readOnly && (n = !1));
      !y && (!f && "initOnly" === q) && (n = !1);
      n && (r || (w = this.get(b)), v && (e = c.setValue(a.clone(w), v, e), void 0 === e && (n = !1)), n && (!this._fireAttrChange || y ? this._setAttrVal(b, u, w, e, h, p) : this._fireAttrChange(b, u, w, e, h, p)));
      return this
    },
    _addOutOfOrder: function(a, b) {
      var c = {};
      c[a] = b;
      delete this._tCfgs[a];
      this._addAttrs(c, this._tVals)
    },
    _getAttr: function(a) {
      var b = a,
        e = this._tCfgs,
        h; - 1 !== a.indexOf(".") && (h = a.split("."), a = h.shift());
      e && e[a] && this._addOutOfOrder(a,
      e[a]);
      e = this._state.data[a] || {};
      e.lazy && (e = e.lazy, this._addLazyAttr(a, e));
      a = this._getStateVal(a, e);
      (e = e.getter) && !e.call && (e = this[e]);
      a = e ? e.call(this, a, b) : a;
      return a = h ? c.getValue(a, h) : a
    },
    _getStateVal: function(a, b) {
      var c = this._stateProxy;
      b || (b = this._state.getAll(a) || {});
      return c && a in c && !b._bypassProxy ? c[a] : b.value
    },
    _setStateVal: function(a, b) {
      var c = this._stateProxy;
      c && a in c && !this._state.get(a, "_bypassProxy") ? c[a] = b : this._state.add(a, "value", b)
    },
    _setAttrVal: function(a, b, c, f, n, p) {
      c = !0;
      p = p || this._state.data[a] || {};
      var q = p.validator,
        r = p.setter,
        u = p.initializing,
        v = this._getStateVal(a, p),
        w = b || a,
        y;
      q && (q.call || (q = this[q]), q && (y = q.call(this, f, w, n), !y && u && (f = p.defaultValue, y = !0)));
      !q || y ? (r && (r.call || (r = this[r]), r && (n = r.call(this, f, w, n), n === h ? u ? f = p.defaultValue : c = !1 : void 0 !== n && (f = n))), c && (!b && f === v && !e.isObject(f) ? c = !1 : ("initValue" in p || (p.initValue = f), this._setStateVal(a, f)))) : c = !1;
      return c
    },
    setAttrs: function(a, b) {
      return this._setAttrs(a, b)
    },
    _setAttrs: function(a, b) {
      for (var c in a) a.hasOwnProperty(c) && this.set(c,
      a[c], b);
      return this
    },
    getAttrs: function(a) {
      return this._getAttrs(a)
    },
    _getAttrs: function(a) {
      var b = {}, e, h, f, p = !0 === a;
      if (!a || p) a = c.keys(this._state.data);
      h = 0;
      for (f = a.length; h < f; h++) if (e = a[h], !p || this._getStateVal(e) != this._state.get(e, "initValue")) b[e] = this.get(e);
      return b
    },
    addAttrs: function(a, b, c) {
      a && (this._tCfgs = a, this._tVals = b ? this._normAttrVals(b) : null, this._addAttrs(a, this._tVals, c), this._tCfgs = this._tVals = null);
      return this
    },
    _addAttrs: function(a, b, c) {
      b = this._tCfgs;
      var e = this._tVals,
        h, f, q;
      for (h in a) a.hasOwnProperty(h) && (f = a[h], f.defaultValue = f.value, q = this._getAttrInitVal(h, f, e), void 0 !== q && (f.value = q), b[h] && (b[h] = void 0), this.addAttr(h, f, c))
    },
    _protectAttrs: b.protectAttrs,
    _normAttrVals: function(a) {
      var b, c, e, h, f;
      if (!a) return null;
      b = {};
      for (f in a) a.hasOwnProperty(f) && (-1 !== f.indexOf(".") ? (e = f.split("."), h = e.shift(), c = c || {}, h = c[h] = c[h] || [], h[h.length] = {
        path: e,
        value: a[f]
      }) : b[f] = a[f]);
      return {
        simple: b,
        complex: c
      }
    },
    _getAttrInitVal: function(a, b, e) {
      var h = b.value,
        f = b.valueFn,
        p = !1;
      b = b.readOnly;
      var q;
      if (!b && e && (q = e.simple) && q.hasOwnProperty(a)) h = q[a], p = !0;
      f && !p && (f.call || (f = this[f]), f && (h = f.call(this, a)));
      if (!b && e && (e = e.complex) && e.hasOwnProperty(a) && void 0 !== h && null !== h) {
        b = e[a];
        a = 0;
        for (e = b.length; a < e; ++a) f = b[a].path, p = b[a].value, c.setValue(h, f, p)
      }
      return h
    },
    _initAttrs: function(b, c, e) {
      b = b || this.constructor.ATTRS;
      var h = a.Base,
        f = a.BaseCore,
        h = h && a.instanceOf(this, h),
        f = !h && f && a.instanceOf(this, f);
      b && (!h && !f) && this.addAttrs(a.AttributeCore.protectAttrs(b), c, e)
    }
  };
  a.AttributeCore = b
}, "3.17.2", {
  requires: ["oop"]
});
YUI.add("squarespace-widgets-gismo", function(a) {
  a.namespace("Squarespace.Widgets");
  a.Squarespace.Widgets.Gismo = a.Base.create("Gismo", a.Widget, [a.Squarespace.GismoBase])
}, "1.0", {
  requires: ["base", "widget", "squarespace-gismo"]
});
YUI.add("cookie", function(a, f) {
  function b(a) {
    throw new TypeError(a);
  }
  function c(a) {
    (!l(a) || "" === a) && b("Cookie name must be a non-empty string.")
  }
  function e(a) {
    (!l(a) || "" === a) && b("Subcookie name must be a non-empty string.")
  }
  var h = a.Lang,
    g = a.Object,
    l = h.isString,
    k = h.isObject,
    m = h.isUndefined,
    n = h.isFunction,
    p = encodeURIComponent,
    q = decodeURIComponent,
    r = a.config.doc;
  a.Cookie = {
    _createCookieString: function(a, b, c, e) {
      e = e || {};
      a = p(a) + "=" + (c ? p(b) : b);
      b = e.expires;
      c = e.path;
      var g = e.domain;
      k(e) && (b instanceof Date && (a += "; expires=" + b.toUTCString()), l(c) && "" !== c && (a += "; path=" + c), l(g) && "" !== g && (a += "; domain=" + g), !0 === e.secure && (a += "; secure"));
      return a
    },
    _createCookieHashString: function(a) {
      k(a) || b("Cookie._createCookieHashString(): Argument must be an object.");
      var c = [];
      g.each(a, function(a, b) {
        !n(a) && !m(a) && c.push(p(b) + "=" + p(String(a)))
      });
      return c.join("&")
    },
    _parseCookieHash: function(a) {
      var b = a.split("&"),
        c = null,
        e = {};
      if (a.length) {
        a = 0;
        for (var g = b.length; a < g; a++) c = b[a].split("="), e[q(c[0])] = q(c[1])
      }
      return e
    },
    _parseCookieString: function(a,
    b, c) {
      var e = {};
      if (l(a) && 0 < a.length) {
        b = !1 === b ? function(a) {
          return a
        } : q;
        a = a.split(/;\s/g);
        for (var g = null, h = null, f = null, k = 0, p = a.length; k < p; k++) {
          f = a[k].match(/([^=]+)=/i);
          if (f instanceof Array) try {
            g = q(f[1]), h = b(a[k].substring(f[1].length + 1))
          } catch (n) {} else g = q(a[k]), h = "";
          !m(c) && c.reverseCookieLoading ? m(e[g]) && (e[g] = h) : e[g] = h
        }
      }
      return e
    },
    _setDoc: function(a) {
      r = a
    },
    exists: function(a) {
      c(a);
      return this._parseCookieString(r.cookie, !0).hasOwnProperty(a)
    },
    get: function(a, b) {
      c(a);
      var e, g;
      n(b) ? (g = b, b = {}) : k(b) ? g = b.converter : b = {};
      e = this._parseCookieString(r.cookie, !b.raw, b)[a];
      return m(e) ? null : n(g) ? g(e) : e
    },
    getSub: function(a, b, c, g) {
      a = this.getSubs(a, g);
      return null !== a ? (e(b), m(a[b]) ? null : n(c) ? c(a[b]) : a[b]) : null
    },
    getSubs: function(a, b) {
      c(a);
      var e = this._parseCookieString(r.cookie, !1, b);
      return l(e[a]) ? this._parseCookieHash(e[a]) : null
    },
    remove: function(b, e) {
      c(b);
      e = a.merge(e || {}, {
        expires: new Date(0)
      });
      return this.set(b, "", e)
    },
    removeSub: function(a, b, g) {
      c(a);
      e(b);
      g = g || {};
      var h = this.getSubs(a);
      if (k(h) && h.hasOwnProperty(b)) {
        delete h[b];
        if (g.removeIfEmpty) {
          for (var f in h) if (h.hasOwnProperty(f) && !n(h[f]) && !m(h[f])) return this.setSubs(a, h, g);
          return this.remove(a, g)
        }
        return this.setSubs(a, h, g)
      }
      return ""
    },
    set: function(a, e, g) {
      c(a);
      m(e) && b("Cookie.set(): Value cannot be undefined.");
      g = g || {};
      a = this._createCookieString(a, e, !g.raw, g);
      return r.cookie = a
    },
    setSub: function(a, g, h, f) {
      c(a);
      e(g);
      m(h) && b("Cookie.setSub(): Subcookie value cannot be undefined.");
      var l = this.getSubs(a);
      k(l) || (l = {});
      l[g] = h;
      return this.setSubs(a, l, f)
    },
    setSubs: function(a, e,
    g) {
      c(a);
      k(e) || b("Cookie.setSubs(): Cookie value must be an object.");
      a = this._createCookieString(a, this._createCookieHashString(e), !1, g);
      return r.cookie = a
    }
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("cache-base", function(a, f) {
  var b = a.Lang,
    c = a.Lang.isDate,
    e = function() {
      e.superclass.constructor.apply(this, arguments)
    };
  a.mix(e, {
    NAME: "cache",
    ATTRS: {
      max: {
        value: 0,
        setter: "_setMax"
      },
      size: {
        readOnly: !0,
        getter: "_getSize"
      },
      uniqueKeys: {
        value: !1
      },
      expires: {
        value: 0,
        validator: function(b) {
          return a.Lang.isDate(b) || a.Lang.isNumber(b) && 0 <= b
        }
      },
      entries: {
        readOnly: !0,
        getter: "_getEntries"
      }
    }
  });
  a.extend(e, a.Base, {
    _entries: null,
    initializer: function(a) {
      this.publish("add", {
        defaultFn: this._defAddFn
      });
      this.publish("flush", {
        defaultFn: this._defFlushFn
      });
      this._entries = []
    },
    destructor: function() {
      this._entries = []
    },
    _setMax: function(a) {
      var b = this._entries;
      if (0 < a) {
        if (b) for (; b.length > a;) b.shift()
      } else a = 0, this._entries = [];
      return a
    },
    _getSize: function() {
      return this._entries.length
    },
    _getEntries: function() {
      return this._entries
    },
    _defAddFn: function(a) {
      var c = this._entries,
        e = a.entry,
        f = this.get("max");
      this.get("uniqueKeys") && (a = this._position(a.entry.request), b.isValue(a) && c.splice(a, 1));
      for (; f && c.length >= f;) c.shift();
      c[c.length] = e
    },
    _defFlushFn: function(a) {
      var c = this._entries;
      (a = a.details[0]) && b.isValue(a.request) ? (a = this._position(a.request), b.isValue(a) && c.splice(a, 1)) : this._entries = []
    },
    _isMatch: function(a, b) {
      return !b.expires || new Date < b.expires ? a === b.request : !1
    },
    _position: function(a) {
      var b = this._entries,
        c = b.length - 1;
      if (null === this.get("max") || 0 < this.get("max")) for (; 0 <= c; c--) if (this._isMatch(a, b[c])) return c;
      return null
    },
    add: function(a, e) {
      var f = this.get("expires");
      if (this.get("initialized") && (null === this.get("max") || 0 < this.get("max")) && (b.isValue(a) || b.isNull(a) || b.isUndefined(a))) this.fire("add", {
        entry: {
          request: a,
          response: e,
          cached: new Date,
          expires: c(f) ? f : f ? new Date((new Date).getTime() + this.get("expires")) : null
        }
      })
    },
    flush: function(a) {
      this.fire("flush", {
        request: b.isValue(a) ? a : null
      })
    },
    retrieve: function(a) {
      var c = this._entries,
        e = c.length,
        f = null;
      if (0 < e && (null === this.get("max") || 0 < this.get("max"))) if (this.fire("request", {
        request: a
      }), a = this._position(a), b.isValue(a)) return f = c[a], this.fire("retrieve", {
        entry: f
      }), a < e - 1 && (c.splice(a, 1), c[c.length] = f), f;
      return null
    }
  });
  a.Cache = e
}, "3.17.2", {
  requires: ["base"]
});
YUI.add("json-stringify", function(a, f) {
  var b = a.config.global.JSON;
  a.mix(a.namespace("JSON"), {
    dateToString: function(a) {
      function b(a) {
        return 10 > a ? "0" + a : a
      }
      return a.getUTCFullYear() + "-" + b(a.getUTCMonth() + 1) + "-" + b(a.getUTCDate()) + "T" + b(a.getUTCHours()) + ":" + b(a.getUTCMinutes()) + ":" + b(a.getUTCSeconds()) + "Z"
    },
    stringify: function() {
      return b.stringify.apply(b, arguments)
    },
    charCacheThreshold: 100
  })
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("squarespace-models-quote", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.Quote = a.Base.create("Quote", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "Quote",
        validator: function(a) {
          return "Quote" === a
        },
        readOnly: !0
      },
      quote: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("squarespace-models-kb-article", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.KBArticle = a.Base.create("KBArticle", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "KBArticle",
        validator: function(a) {
          return "KBArticle" === a
        },
        readOnly: !0
      },
      upVotes: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      downVotes: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("anim-curve", function(a, f) {
  a.Anim.behaviors.curve = {
    set: function(b, c, e, h, g, f, k) {
      e = e.slice.call(e);
      h = h.slice.call(h);
      c = k(g, 0, 100, f) / 100;
      h.unshift(e);
      b._node.setXY(a.Anim.getBezier(h, c))
    },
    get: function(a) {
      return a._node.getXY()
    }
  };
  a.Anim.getBezier = function(a, c) {
    var e = a.length,
      h = [],
      g, f;
    for (g = 0; g < e; ++g) h[g] = [a[g][0], a[g][1]];
    for (f = 1; f < e; ++f) for (g = 0; g < e - f; ++g) h[g][0] = (1 - c) * h[g][0] + c * h[parseInt(g + 1, 10)][0], h[g][1] = (1 - c) * h[g][1] + c * h[parseInt(g + 1, 10)][1];
    return [h[0][0], h[0][1]]
  }
}, "3.17.2", {
  requires: ["anim-xy"]
});
YUI.add("timers", function(a, f) {
  function b(a) {
    return c
  }
  function c(a) {
    this.capacity = this.snap(a);
    this.front = this.length = 0;
    this.initialize()
  }
  function e(a, b, c, e, g) {
    for (var h = 0; h < g; ++h) c[h + e] = a[h + b]
  }
  function h() {
    for (; 0 < k.length;) {
      var a = k.shift();
      try {
        a.call()
      } catch (b) {
        if (u) throw n(), b;
        setTimeout(function() {
          throw b;
        }, 0)
      }
    }
    m = !1
  }
  function g(a) {
    var b;
    g._asynchronizer(function() {
      b || a()
    });
    return {
      cancel: function() {
        b = 1
      }
    }
  }
  var l = a.config.global;
  "use strict";
  c.prototype.push = function(a) {
    var b = this.length;
    this.capacity <= b && this.grow(this.snap(this.capacity * this.growFactor));
    this[this.front + b & this.capacity - 1] = a;
    this.length = b + 1
  };
  c.prototype.shift = function() {
    var a = this.front,
      b = this[a];
    this[a] = void 0;
    this.front = a + 1 & this.capacity - 1;
    this.length--;
    return b
  };
  c.prototype.grow = function(a) {
    var b = this.front,
      c = this.capacity,
      g = Array(c),
      h = this.length;
    e(this, 0, g, 0, c);
    this.capacity = a;
    this.initialize();
    this.front = 0;
    b + h <= c ? e(g, b, this, 0, h) : (a = h - (b + h & c - 1), e(g, b, this, 0, a), e(g, 0, this, a, h - a))
  };
  c.prototype.initialize = function() {
    for (var a = this.capacity, b = 0; b < a; ++b) this[b] = void 0
  };
  c.prototype.snap = function(a) {
    if ("number" !== typeof a) return this.minCapacity;
    a = Math.min(this.maxCapacity, Math.max(this.minCapacity, a));
    a = (a >>> 0) - 1;
    a |= a >> 1;
    a |= a >> 2;
    a |= a >> 4;
    a |= a >> 8;
    a |= a >> 16;
    return a + 1
  };
  c.prototype.maxCapacity = 1073741824;
  c.prototype.minCapacity = 16;
  c.prototype.growFactor = 8;
  "use strict";
  var k = new c(1024),
    m = !1,
    n = void 0,
    p = "function" === typeof setImmediate,
    q, r = l.process,
    u = !! r && "[object process]" === {}.toString.call(r);
  if (u) n = function() {
    var a = r.domain;
    a && (q = q || (1, b)("domain"), q.active = r.domain = null);
    m && p ? setImmediate(h) : r.nextTick(h);
    a && (q.active = r.domain = a)
  };
  else if (p) n = function() {
    setImmediate(h)
  };
  else if ("undefined" !== typeof MessageChannel) {
    var v = new MessageChannel;
    v.port1.onmessage = function() {
      n = w;
      v.port1.onmessage = h;
      h()
    };
    var w = function() {
      v.port2.postMessage(0)
    }, n = function() {
      setTimeout(h, 0);
      w()
    }
  } else n = function() {
    setTimeout(h, 0)
  };
  g._asynchronizer = function(a) {
    u && r.domain && (a = r.domain.bind(a));
    k.push(a);
    m || (n(), m = !0)
  };
  g._impl = "asap";
  a.soon = g
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("event-custom-complex", function(a, f) {
  var b, c, e = a.Object,
    h, g = {};
  b = a.CustomEvent.prototype;
  var l = a.EventTarget.prototype;
  a.EventFacade = function(a, b) {
    a || (a = g);
    this._event = a;
    this.details = a.details;
    this._type = this.type = a.type;
    this.target = a.target;
    this.currentTarget = b;
    this.relatedTarget = a.relatedTarget
  };
  a.mix(a.EventFacade.prototype, {
    stopPropagation: function() {
      this._event.stopPropagation();
      this.stopped = 1
    },
    stopImmediatePropagation: function() {
      this._event.stopImmediatePropagation();
      this.stopped = 2
    },
    preventDefault: function() {
      this._event.preventDefault();
      this.prevented = 1
    },
    halt: function(a) {
      this._event.halt(a);
      this.prevented = 1;
      this.stopped = a ? 2 : 1
    }
  });
  b.fireComplex = function(b) {
    var c, e, g, h, f;
    f = !0;
    var l, v, w = this;
    g = w.host || w;
    c = w.stack;
    var y = g._yuievt;
    if (c && w.queuable && w.type !== c.next.type) return c.queue || (c.queue = []), c.queue.push([w, b]), !0;
    h = w.hasSubs() || y.hasTargets || w.broadcast;
    w.target = w.target || g;
    w.currentTarget = g;
    w.details = b.concat();
    if (h) {
      c = c || {
        id: w.id,
        next: w,
        silent: w.silent,
        stopped: 0,
        prevented: 0,
        bubbling: null,
        type: w.type,
        defaultTargetOnly: w.defaultTargetOnly
      };
      h = w.getSubs();
      f = h[0];
      h = h[1];
      w.stopped = w.type !== c.type ? 0 : c.stopped;
      w.prevented = w.type !== c.type ? 0 : c.prevented;
      w.stoppedFn && (l = new a.EventTarget({
        fireOnce: !0,
        context: g
      }), w.events = l, l.on("stopped", w.stoppedFn));
      w._facade = null;
      e = w._createFacade(b);
      f && w._procSubs(f, b, e);
      w.bubbles && (g.bubble && !w.stopped) && (l = c.bubbling, c.bubbling = w.type, c.type !== w.type && (c.stopped = 0, c.prevented = 0), f = g.bubble(w, b, null, c), w.stopped = Math.max(w.stopped, c.stopped),
      w.prevented = Math.max(w.prevented, c.prevented), c.bubbling = l);
      (f = w.prevented) ? (f = w.preventedFn) && f.apply(g, b) : (l = w.defaultFn) && (!w.defaultTargetOnly && !c.defaultTargetOnly || g === e.target) && l.apply(g, b);
      w.broadcast && w._broadcast(b);
      if (h && !w.prevented && 2 > w.stopped) if (g = c.afterQueue, c.id === w.id || w.type !== y.bubbling) {
        if (w._procSubs(h, b, e), g) for (; h = g.last();) h()
      } else v = h, c.execDefaultCnt && (v = a.merge(v), a.each(v, function(a) {
        a.postponed = !0
      })), g || (c.afterQueue = new a.Queue), c.afterQueue.add(function() {
        w._procSubs(v,
        b, e)
      });
      w.target = null;
      if (c.id === w.id) {
        if (h = c.queue) for (; h.length;) g = h.pop(), f = g[0], c.next = f, f._fire(g[1]);
        w.stack = null
      }
      f = !w.stopped;
      w.type !== y.bubbling && (c.stopped = 0, c.prevented = 0, w.stopped = 0, w.prevented = 0)
    } else if (l = w.defaultFn) e = w._createFacade(b), (!w.defaultTargetOnly || g === e.target) && l.apply(g, b);
    w._facade = null;
    return f
  };
  b._hasPotentialSubscribers = function() {
    return this.hasSubs() || this.host._yuievt.hasTargets || this.broadcast
  };
  b._createFacade = b._getFacade = function(b) {
    var e = this.details,
      g = (e = e && e[0]) && "object" === typeof e,
      h = this._facade;
    h || (h = new a.EventFacade(this, this.currentTarget));
    if (g) {
      var g = h,
        f;
      for (f in e) c.hasOwnProperty(f) || (g[f] = e[f]);
      e.type && (h.type = e.type);
      b && (b[0] = h)
    } else b && b.unshift(h);
    h.details = this.details;
    h.target = this.originalTarget || this.target;
    h.currentTarget = this.currentTarget;
    h.stopped = 0;
    h.prevented = 0;
    return this._facade = h
  };
  b._addFacadeToArgs = function(a) {
    var b = a[0];
    (!b || !b.halt || !b.stopImmediatePropagation || !b.stopPropagation || !b._event) && this._createFacade(a)
  };
  b.stopPropagation = function() {
    this.stopped = 1;
    this.stack && (this.stack.stopped = 1);
    this.events && this.events.fire("stopped", this)
  };
  b.stopImmediatePropagation = function() {
    this.stopped = 2;
    this.stack && (this.stack.stopped = 2);
    this.events && this.events.fire("stopped", this)
  };
  b.preventDefault = function() {
    this.preventable && (this.prevented = 1, this.stack && (this.stack.prevented = 1))
  };
  b.halt = function(a) {
    a ? this.stopImmediatePropagation() : this.stopPropagation();
    this.preventDefault()
  };
  l.addTarget = function(b) {
    var c = this._yuievt;
    c.targets || (c.targets = {});
    c.targets[a.stamp(b)] = b;
    c.hasTargets = !0;
    return this
  };
  l.getTargets = function() {
    var a = this._yuievt.targets;
    return a ? e.values(a) : []
  };
  l.removeTarget = function(b) {
    var c = this._yuievt.targets;
    c && (delete c[a.stamp(b, !0)], 0 === e.size(c) && (this._yuievt.hasTargets = !1));
    return this
  };
  l.bubble = function(a, b, c, e) {
    var g = this._yuievt.targets,
      h = !0,
      f, l, w, y, s = a && a.type,
      x = c || a && a.target || this,
      C;
    if (!a || !a.stopped && g) for (l in g) if (g.hasOwnProperty(l)) {
      c = g[l];
      f = c._yuievt.events[s];
      c._hasSiblings && (y = c.getSibling(s, f));
      y && !f && (f = c.publish(s));
      C = c._yuievt.bubbling;
      c._yuievt.bubbling = s;
      if (f) {
        if (y && (f.sibling = y), f.target = x, f.originalTarget = x, f.currentTarget = c, w = f.broadcast, f.broadcast = !1, f.emitFacade = !0, f.stack = e, h = h && f.fire.apply(f, b || a.details || []), f.broadcast = w, f.originalTarget = null, f.stopped) break
      } else c._yuievt.hasTargets && c.bubble(a, b, x, e);
      c._yuievt.bubbling = C
    }
    return h
  };
  l._hasPotentialSubscribers = function(a) {
    var b = this._yuievt;
    return (a = b.events[a]) ? a.hasSubs() || b.hasTargets || a.broadcast : !1
  };
  b = new a.EventFacade;
  c = {};
  for (h in b) c[h] = !0
}, "3.17.2", {
  requires: ["event-custom-base"]
});
YUI.add("calendar-base", function(a, f) {
  function b() {
    b.superclass.constructor.apply(this, arguments)
  }
  var c = a.ClassNameManager.getClassName,
    e = c("calendar", "grid"),
    h = c("calendar", "left-grid"),
    g = c("calendar", "right-grid"),
    l = c("calendar", "body"),
    k = c("calendar", "header"),
    m = c("calendar", "header-label"),
    n = c("calendar", "weekdayrow"),
    p = c("calendar", "weekday"),
    q = c("calendar", "column-hidden"),
    r = c("calendar", "day-selected"),
    u = c("calendar", "selection-disabled"),
    v = c("calendar", "row"),
    w = c("calendar", "day"),
    y = c("calendar", "prevmonth-day"),
    s = c("calendar", "nextmonth-day"),
    x = c("calendar", "anchor"),
    C = c("calendar", "pane"),
    c = c("calendar", "status"),
    z = a.Lang,
    A = z.sub,
    E = a.Array.each,
    B = a.Object.each,
    D = a.Array.indexOf,
    I = a.Object.hasKey,
    F = a.Object.setValue,
    G = a.Object.isEmpty,
    J = a.DataType.Date;
  a.CalendarBase = a.extend(b, a.Widget, {
    _paneProperties: {},
    _paneNumber: 1,
    _calendarId: null,
    _selectedDates: {},
    _rules: {},
    _filterFunction: null,
    _storedDateCells: {},
    initializer: function() {
      this._paneProperties = {};
      this._calendarId = a.guid("calendar");
      this._selectedDates = {};
      G(this._rules) && (this._rules = {});
      this._storedDateCells = {}
    },
    renderUI: function() {
      this.get("contentBox").appendChild(this._initCalendarHTML(this.get("date")));
      this.get("showPrevMonth") && this._afterShowPrevMonthChange();
      this.get("showNextMonth") && this._afterShowNextMonthChange();
      this._renderCustomRules();
      this._renderSelectedDates();
      this.get("boundingBox").setAttribute("aria-labelledby", this._calendarId + "_header")
    },
    bindUI: function() {
      this.after("dateChange", this._afterDateChange);
      this.after("showPrevMonthChange", this._afterShowPrevMonthChange);
      this.after("showNextMonthChange", this._afterShowNextMonthChange);
      this.after("headerRendererChange", this._afterHeaderRendererChange);
      this.after("customRendererChange", this._afterCustomRendererChange);
      this.after("enabledDatesRuleChange", this._afterCustomRendererChange);
      this.after("disabledDatesRuleChange", this._afterCustomRendererChange);
      this.after("focusedChange", this._afterFocusedChange);
      this.after("selectionChange", this._renderSelectedDates);
      this._bindCalendarEvents()
    },
    _getSelectedDatesList: function() {
      var a = [];
      B(this._selectedDates, function(b) {
        B(b, function(b) {
          B(b, function(b) {
            a.push(b)
          }, this)
        }, this)
      }, this);
      return a
    },
    _getSelectedDatesInMonth: function(b) {
      var c = b.getFullYear();
      b = b.getMonth();
      return I(this._selectedDates, c) && I(this._selectedDates[c], b) ? a.Object.values(this._selectedDates[c][b]) : []
    },
    _isNumInList: function(a, b) {
      if ("all" === b) return !0;
      for (var c = b.split(","), e = c.length, g; e--;) if (g = c[e].split("-"), 2 === g.length && a >= parseInt(g[0],
      10) && a <= parseInt(g[1], 10) || 1 === g.length && parseInt(c[e], 10) === a) return !0;
      return !1
    },
    _getRulesForDate: function(a) {
      var b = a.getFullYear(),
        c = a.getMonth(),
        e = a.getDate();
      a = a.getDay();
      var g = this._rules,
        h = [],
        f, l, k, m;
      for (f in g) if (this._isNumInList(b, f)) if (z.isString(g[f])) h.push(g[f]);
      else for (l in g[f]) if (this._isNumInList(c, l)) if (z.isString(g[f][l])) h.push(g[f][l]);
      else for (k in g[f][l]) if (this._isNumInList(e, k)) if (z.isString(g[f][l][k])) h.push(g[f][l][k]);
      else for (m in g[f][l][k]) this._isNumInList(a, m) && z.isString(g[f][l][k][m]) && h.push(g[f][l][k][m]);
      return h
    },
    _matchesRule: function(a, b) {
      return 0 <= D(this._getRulesForDate(a), b)
    },
    _canBeSelected: function(a) {
      var b = this.get("enabledDatesRule"),
        c = this.get("disabledDatesRule");
      return b ? this._matchesRule(a, b) : c ? !this._matchesRule(a, c) : !0
    },
    selectDates: function(a) {
      J.isValidDate(a) ? this._addDateToSelection(a) : z.isArray(a) && this._addDatesToSelection(a);
      return this
    },
    deselectDates: function(a) {
      a ? J.isValidDate(a) ? this._removeDateFromSelection(a) : z.isArray(a) && this._removeDatesFromSelection(a) : this._clearSelection();
      return this
    },
    _addDateToSelection: function(a, b) {
      a = this._normalizeTime(a);
      if (this._canBeSelected(a)) {
        var c = a.getFullYear(),
          e = a.getMonth(),
          g = a.getDate();
        I(this._selectedDates, c) ? I(this._selectedDates[c], e) || (this._selectedDates[c][e] = {}) : (this._selectedDates[c] = {}, this._selectedDates[c][e] = {});
        this._selectedDates[c][e][g] = a;
        this._selectedDates = F(this._selectedDates, [c, e, g], a);
        b || this._fireSelectionChange()
      }
    },
    _addDatesToSelection: function(a) {
      E(a, this._addDateToSelection, this);
      this._fireSelectionChange()
    },
    _addDateRangeToSelection: function(a, b) {
      var c = 6E4 * (b.getTimezoneOffset() - a.getTimezoneOffset()),
        e = a.getTime(),
        g = b.getTime(),
        h;
      e > g ? (h = e, e = g, g = h + c) : g -= c;
      for (c = e; c <= g; c += 864E5) e = new Date(c), e.setHours(12), this._addDateToSelection(e, c);
      this._fireSelectionChange()
    },
    _removeDateFromSelection: function(a, b) {
      var c = a.getFullYear(),
        e = a.getMonth(),
        g = a.getDate();
      I(this._selectedDates, c) && (I(this._selectedDates[c], e) && I(this._selectedDates[c][e], g)) && (delete this._selectedDates[c][e][g], b || this._fireSelectionChange())
    },
    _removeDatesFromSelection: function(a) {
      E(a, this._removeDateFromSelection, this);
      this._fireSelectionChange()
    },
    _removeDateRangeFromSelection: function(a, b) {
      for (var c = a.getTime(), e = b.getTime(); c <= e; c += 864E5) this._removeDateFromSelection(new Date(c), c);
      this._fireSelectionChange()
    },
    _clearSelection: function(a) {
      this._selectedDates = {};
      this.get("contentBox").all("." + r).removeClass(r).setAttribute("aria-selected", !1);
      a || this._fireSelectionChange()
    },
    _fireSelectionChange: function() {
      this.fire("selectionChange", {
        newSelection: this._getSelectedDatesList()
      })
    },
    _restoreModifiedCells: function() {
      var a = this.get("contentBox"),
        b;
      for (b in this._storedDateCells) a.one("#" + b).replace(this._storedDateCells[b]), delete this._storedDateCells[b]
    },
    _renderCustomRules: function() {
      this.get("contentBox").all("." + w + ",." + s).removeClass(u).setAttribute("aria-disabled", !1);
      if (!G(this._rules)) {
        var b, c;
        for (b = 0; b < this._paneNumber; b++) c = J.addMonths(this.get("date"), b), c = J.listOfDatesInMonth(c), E(c, a.bind(this._renderCustomRulesHelper, this))
      }
    },
    _renderCustomRulesHelper: function(a) {
      var b = this.get("enabledDatesRule"),
        c = this.get("disabledDatesRule"),
        e;
      e = this._getRulesForDate(a);
      0 < e.length ? ((b && 0 > D(e, b) || !b && c && 0 <= D(e, c)) && this._disableDate(a), z.isFunction(this._filterFunction) && (b = this._dateToNode(a), this._storedDateCells[b.get("id")] = b.cloneNode(!0), this._filterFunction(a, b, e))) : b && this._disableDate(a)
    },
    _renderSelectedDates: function() {
      this.get("contentBox").all("." + r).removeClass(r).setAttribute("aria-selected", !1);
      var b, c;
      for (b = 0; b < this._paneNumber; b++) c = J.addMonths(this.get("date"),
      b), c = this._getSelectedDatesInMonth(c), E(c, a.bind(this._renderSelectedDatesHelper, this))
    },
    _renderSelectedDatesHelper: function(a) {
      this._dateToNode(a).addClass(r).setAttribute("aria-selected", !0)
    },
    _disableDate: function(a) {
      this._dateToNode(a).addClass(u).setAttribute("aria-disabled", !0)
    },
    _dateToNode: function(a) {
      var b = a.getDate(),
        c = 0,
        e = b % 7;
      a = (12 + a.getMonth() - this.get("date").getMonth()) % 12;
      var g = this._paneProperties[this._calendarId + "_pane_" + a].cutoffCol;
      switch (e) {
      case 0:
        c = 6 <= g ? 12 : 5;
        break;
      case 1:
        c = 6;
        break;
      case 2:
        c = 0 < g ? 7 : 0;
        break;
      case 3:
        c = 1 < g ? 8 : 1;
        break;
      case 4:
        c = 2 < g ? 9 : 2;
        break;
      case 5:
        c = 3 < g ? 10 : 3;
        break;
      case 6:
        c = 4 < g ? 11 : 4
      }
      return this.get("contentBox").one("#" + this._calendarId + "_pane_" + a + "_" + c + "_" + b)
    },
    _nodeToDate: function(a) {
      a = a.get("id").split("_").reverse();
      var b = parseInt(a[2], 10);
      a = parseInt(a[0], 10);
      var c = J.addMonths(this.get("date"), b),
        b = c.getFullYear(),
        c = c.getMonth();
      return new Date(b, c, a, 12, 0, 0, 0)
    },
    _bindCalendarEvents: function() {},
    _normalizeDate: function(a) {
      return a ? new Date(a.getFullYear(), a.getMonth(),
      1, 12, 0, 0, 0) : null
    },
    _normalizeTime: function(a) {
      return a ? new Date(a.getFullYear(), a.getMonth(), a.getDate(), 12, 0, 0, 0) : null
    },
    _getCutoffColumn: function(a, b) {
      return 6 - (this._normalizeDate(a).getDay() - b + 7) % 7
    },
    _turnPrevMonthOn: function(a) {
      var b = a.get("id"),
        c = J.daysInMonth(J.addMonths(this._paneProperties[b].paneDate, - 1)),
        e;
      this._paneProperties[b].hasOwnProperty("daysInPrevMonth") || (this._paneProperties[b].daysInPrevMonth = 0);
      if (c !== this._paneProperties[b].daysInPrevMonth) {
        this._paneProperties[b].daysInPrevMonth = c;
        for (e = 5; 0 <= e; e--) a.one("#" + b + "_" + e + "_" + (e - 5)).set("text", c--)
      }
    },
    _turnPrevMonthOff: function(a) {
      var b = a.get("id"),
        c;
      this._paneProperties[b].daysInPrevMonth = 0;
      for (c = 5; 0 <= c; c--) a.one("#" + b + "_" + c + "_" + (c - 5)).setContent("&nbsp;")
    },
    _cleanUpNextMonthCells: function(a) {
      var b = a.get("id");
      a.one("#" + b + "_6_29").removeClass(s);
      a.one("#" + b + "_7_30").removeClass(s);
      a.one("#" + b + "_8_31").removeClass(s);
      a.one("#" + b + "_0_30").removeClass(s);
      a.one("#" + b + "_1_31").removeClass(s)
    },
    _turnNextMonthOn: function(a) {
      var b = 1,
        c = a.get("id"),
        e = this._paneProperties[c].daysInMonth,
        g = this._paneProperties[c].cutoffCol,
        h;
      for (h = e - 22; h < g + 7; h++) a.one("#" + c + "_" + h + "_" + (h + 23)).set("text", b++).addClass(s);
      h = g;
      for (31 === e && 1 >= g ? h = 2 : 30 === e && 0 === g && (h = 1); h < g + 7; h++) a.one("#" + c + "_" + h + "_" + (h + 30)).set("text", b++).addClass(s)
    },
    _turnNextMonthOff: function(a) {
      var b = a.get("id"),
        c = this._paneProperties[b].daysInMonth,
        e = this._paneProperties[b].cutoffCol,
        g;
      for (g = c - 22; 12 >= g; g++) a.one("#" + b + "_" + g + "_" + (g + 23)).setContent("&nbsp;").addClass(s);
      g = 0;
      for (31 === c && 1 >= e ? g = 2 : 30 === c && 0 === e && (g = 1); 12 >= g; g++) a.one("#" + b + "_" + g + "_" + (g + 30)).setContent("&nbsp;").addClass(s)
    },
    _afterShowNextMonthChange: function() {
      var a = this.get("contentBox").one("#" + this._calendarId + "_pane_" + (this._paneNumber - 1));
      this._cleanUpNextMonthCells(a);
      this.get("showNextMonth") ? this._turnNextMonthOn(a) : this._turnNextMonthOff(a)
    },
    _afterShowPrevMonthChange: function() {
      var a = this.get("contentBox").one("#" + this._calendarId + "_pane_0");
      this.get("showPrevMonth") ? this._turnPrevMonthOn(a) : this._turnPrevMonthOff(a)
    },
    _afterHeaderRendererChange: function() {
      this.get("contentBox").one("." + m).setContent(this._updateCalendarHeader(this.get("date")))
    },
    _afterCustomRendererChange: function() {
      this._restoreModifiedCells();
      this._renderCustomRules()
    },
    _afterDateChange: function() {
      var a = this.get("contentBox"),
        b = a.one("." + k).one("." + m),
        c = a.all("." + e),
        g = this.get("date"),
        h = 0;
      a.setStyle("visibility", "hidden");
      b.setContent(this._updateCalendarHeader(g));
      this._restoreModifiedCells();
      c.each(function(a) {
        this._rerenderCalendarPane(J.addMonths(g,
        h++), a)
      }, this);
      this._afterShowPrevMonthChange();
      this._afterShowNextMonthChange();
      this._renderCustomRules();
      this._renderSelectedDates();
      a.setStyle("visibility", "inherit")
    },
    _initCalendarPane: function(c, e) {
      var g = this.get("strings.very_short_weekdays") || "Su Mo Tu We Th Fr Sa".split(" "),
        h = a.Intl.get("datatype-date-format").A,
        f = this.get("strings.first_weekday") || 0,
        l = this._getCutoffColumn(c, f),
        k = J.daysInMonth(c),
        m = "     ".split(" "),
        p = {}, n, r, u;
      p.weekday_row = "";
      for (n = f; n <= f + 6; n++) p.weekday_row += A(b.WEEKDAY_TEMPLATE, {
        short_weekdayname: g[n % 7],
        weekdayname: h[n % 7]
      });
      p.weekday_row_template = A(b.WEEKDAY_ROW_TEMPLATE, p);
      for (g = 0; 5 >= g; g++) for (h = 0; 12 >= h; h++) {
        f = 7 * g - 5 + h;
        n = e + "_" + h + "_" + f;
        r = w;
        1 > f ? r = y : f > k && (r = s);
        if (1 > f || f > k) f = "&nbsp;";
        u = h >= l && h < l + 7 ? "" : q;
        m[g] += A(b.CALDAY_TEMPLATE, {
          day_content: f,
          calendar_col_class: "calendar_col" + h,
          calendar_col_visibility_class: u,
          calendar_day_class: r,
          calendar_day_id: n
        })
      }
      p.body_template = "";
      E(m, function(a) {
        p.body_template += A(b.CALDAY_ROW_TEMPLATE, {
          calday_row: a
        })
      });
      p.calendar_pane_id = e;
      p.calendar_pane_tabindex = this.get("tabIndex");
      p.pane_arialabel = J.format(c, {
        format: "%B %Y"
      });
      m = A(A(b.CALENDAR_GRID_TEMPLATE, p), b.CALENDAR_STRINGS);
      this._paneProperties[e] = {
        cutoffCol: l,
        daysInMonth: k,
        paneDate: c
      };
      return m
    },
    _rerenderCalendarPane: function(a, b) {
      var c = this.get("strings.first_weekday") || 0,
        c = this._getCutoffColumn(a, c),
        e = J.daysInMonth(a),
        g = b.get("id"),
        h, f;
      b.setStyle("visibility", "hidden");
      b.setAttribute("aria-label", J.format(a, {
        format: "%B %Y"
      }));
      for (h = 0; 12 >= h; h++) if (f = b.all(".calendar_col" + h), f.removeClass(q), h < c || h >= c + 7) f.addClass(q);
      else switch (h) {
      case 0:
        f = b.one("#" + g + "_0_30");
        30 <= e ? (f.set("text", "30"), f.removeClass(s).addClass(w)) : (f.setContent("&nbsp;"), f.removeClass(w).addClass(s));
        break;
      case 1:
        f = b.one("#" + g + "_1_31");
        31 <= e ? (f.set("text", "31"), f.removeClass(s).addClass(w)) : (f.setContent("&nbsp;"), f.removeClass(w).addClass(s));
        break;
      case 6:
        f = b.one("#" + g + "_6_29");
        29 <= e ? (f.set("text", "29"), f.removeClass(s).addClass(w)) : (f.setContent("&nbsp;"), f.removeClass(w).addClass(s));
        break;
      case 7:
        f = b.one("#" + g + "_7_30");
        30 <= e ? (f.set("text", "30"), f.removeClass(s).addClass(w)) : (f.setContent("&nbsp;"), f.removeClass(w).addClass(s));
        break;
      case 8:
        f = b.one("#" + g + "_8_31"), 31 <= e ? (f.set("text", "31"), f.removeClass(s).addClass(w)) : (f.setContent("&nbsp;"), f.removeClass(w).addClass(s))
      }
      this._paneProperties[g].cutoffCol = c;
      this._paneProperties[g].daysInMonth = e;
      this._paneProperties[g].paneDate = a;
      b.setStyle("visibility", "inherit")
    },
    _updateCalendarHeader: function(b) {
      var c = "",
        e = this.get("headerRenderer");
      a.Lang.isString(e) ? c = J.format(b, {
        format: e
      }) : e instanceof Function && (c = e.call(this, b));
      return c
    },
    _initCalendarHeader: function(a) {
      return A(A(b.HEADER_TEMPLATE, {
        calheader: this._updateCalendarHeader(a),
        calendar_id: this._calendarId
      }), b.CALENDAR_STRINGS)
    },
    _initCalendarHTML: function(c) {
      var e = {}, g = 0,
        h, f;
      e.header_template = this._initCalendarHeader(c);
      e.calendar_id = this._calendarId;
      e.body_template = A(A(b.CONTENT_TEMPLATE, e), b.CALENDAR_STRINGS);
      f = e.body_template.replace(/\{calendar_grid_template\}/g, a.bind(function() {
        h = this._initCalendarPane(J.addMonths(c,
        g), e.calendar_id + "_pane_" + g);
        g++;
        return h
      }, this));
      this._paneNumber = g;
      return f
    }
  }, {
    CALENDAR_STRINGS: {
      calendar_grid_class: e,
      calendar_body_class: l,
      calendar_hd_class: k,
      calendar_hd_label_class: m,
      calendar_weekdayrow_class: n,
      calendar_weekday_class: p,
      calendar_row_class: v,
      calendar_day_class: w,
      calendar_dayanchor_class: x,
      calendar_pane_class: C,
      calendar_right_grid_class: g,
      calendar_left_grid_class: h,
      calendar_status_class: c
    },
    CONTENT_TEMPLATE: '<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1">{calendar_grid_template}</div></div>',
    ONE_PANE_TEMPLATE: '<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1">{calendar_grid_template}</div></div>',
    TWO_PANE_TEMPLATE: '<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1-2"><div class = "{calendar_left_grid_class}">{calendar_grid_template}</div></div><div class="yui3-u-1-2"><div class = "{calendar_right_grid_class}">{calendar_grid_template}</div></div></div>',
    THREE_PANE_TEMPLATE: '<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1-3"><div class="{calendar_left_grid_class}">{calendar_grid_template}</div></div><div class="yui3-u-1-3">{calendar_grid_template}</div><div class="yui3-u-1-3"><div class="{calendar_right_grid_class}">{calendar_grid_template}</div></div></div>',
    CALENDAR_GRID_TEMPLATE: '<table class="{calendar_grid_class}" id="{calendar_pane_id}" role="grid" aria-readonly="true" aria-label="{pane_arialabel}" tabindex="{calendar_pane_tabindex}"><thead>{weekday_row_template}</thead><tbody>{body_template}</tbody></table>',
    HEADER_TEMPLATE: '<div class="yui3-g {calendar_hd_class}"><div class="yui3-u {calendar_hd_label_class}" id="{calendar_id}_header" aria-role="heading">{calheader}</div></div>',
    WEEKDAY_ROW_TEMPLATE: '<tr class="{calendar_weekdayrow_class}" role="row">{weekday_row}</tr>',
    CALDAY_ROW_TEMPLATE: '<tr class="{calendar_row_class}" role="row">{calday_row}</tr>',
    WEEKDAY_TEMPLATE: '<th class="{calendar_weekday_class}" role="columnheader" aria-label="{weekdayname}">{short_weekdayname}</th>',
    CALDAY_TEMPLATE: '<td class="{calendar_col_class} {calendar_day_class} {calendar_col_visibility_class}" id="{calendar_day_id}" role="gridcell" tabindex="-1">{day_content}</td>',
    NAME: "calendarBase",
    ATTRS: {
      tabIndex: {
        value: 1
      },
      date: {
        value: new Date,
        setter: function(a) {
          a = this._normalizeDate(a);
          return J.areEqual(a,
          this.get("date")) ? this.get("date") : a
        }
      },
      showPrevMonth: {
        value: !1
      },
      showNextMonth: {
        value: !1
      },
      strings: {
        valueFn: function() {
          return a.Intl.get("calendar-base")
        }
      },
      headerRenderer: {
        value: "%B %Y"
      },
      enabledDatesRule: {
        value: null
      },
      disabledDatesRule: {
        value: null
      },
      selectedDates: {
        readOnly: !0,
        getter: function() {
          return this._getSelectedDatesList()
        }
      },
      customRenderer: {
        lazyAdd: !1,
        value: {},
        setter: function(a) {
          this._rules = a.rules;
          this._filterFunction = a.filterFunction
        }
      }
    }
  })
}, "3.17.2", {
  requires: ["widget", "datatype-date", "datatype-date-math",
    "cssgrids"],
  lang: "de en es es-AR fr hu it ja nb-NO nl pt-BR ru zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-HANT-TW".split(" "),
  skinnable: !0
});
YUI.add("widget-htmlparser", function(a, f) {
  var b = a.Widget,
    c = a.Node,
    e = a.Lang;
  b.HTML_PARSER = {};
  b._buildCfg = {
    aggregates: ["HTML_PARSER"]
  };
  b.ATTRS.srcNode = {
    value: null,
    setter: c.one,
    getter: "_getSrcNode",
    writeOnce: !0
  };
  a.mix(b.prototype, {
    _getSrcNode: function(a) {
      return a || this.get("contentBox")
    },
    _preAddAttrs: function(a, b, c) {
      this.addAttrs({
        id: a.id,
        boundingBox: a.boundingBox,
        contentBox: a.contentBox,
        srcNode: a.srcNode
      }, b, c);
      delete a.boundingBox;
      delete a.contentBox;
      delete a.srcNode;
      delete a.id;
      this._applyParser && this._applyParser(b)
    },
    _applyParsedConfig: function(b, c, e) {
      return e ? a.mix(c, e, !1) : c
    },
    _applyParser: function(b) {
      var c = this,
        f = this._getNodeToParse(),
        k = c._getHtmlParser(),
        m, n;
      k && f && a.Object.each(k, function(a, b, h) {
        n = null;
        e.isFunction(a) ? n = a.call(c, f) : e.isArray(a) ? (n = f.all(a[0]), n.isEmpty() && (n = null)) : n = f.one(a);
        null !== n && void 0 !== n && (m = m || {}, m[b] = n)
      });
      b = c._applyParsedConfig(f, b, m)
    },
    _getNodeToParse: function() {
      var a = this.get("srcNode");
      return !this._cbFromTemplate ? a : null
    },
    _getHtmlParser: function() {
      var b = this._getClasses(),
        c = {}, e, f;
      for (e = b.length - 1; 0 <= e; e--)(f = b[e].HTML_PARSER) && a.mix(c, f, !0);
      return c
    }
  })
}, "3.17.2", {
  requires: ["widget-base"]
});
YUI.add("selector", function(a, f) {}, "3.17.2", {
  requires: ["selector-native"]
});
YUI.add("autocomplete-list", function(a, f) {
  var b = a.Lang,
    c = a.Node,
    e = a.Array,
    h = a.UA.ie && 7 > a.UA.ie,
    g = a.Base.create("autocompleteList", a.Widget, [a.AutoCompleteBase, a.WidgetPosition, a.WidgetPositionAlign], {
      ARIA_TEMPLATE: "<div/>",
      ITEM_TEMPLATE: "<li/>",
      LIST_TEMPLATE: "<ul/>",
      UI_EVENTS: function() {
        var b = a.merge(a.Node.DOM_EVENTS);
        delete b.valuechange;
        delete b.valueChange;
        return b
      }(),
      initializer: function() {
        var b = this.get("inputNode");
        b ? (this._inputNode = b, this._listEvents = [], this.DEF_PARENT_NODE = b.get("parentNode"),
        this._CLASS_ITEM = this.getClassName("item"), this._CLASS_ITEM_ACTIVE = this.getClassName("item", "active"), this._CLASS_ITEM_HOVER = this.getClassName("item", "hover"), this._SELECTOR_ITEM = "." + this._CLASS_ITEM, this.publish("select", {
          defaultFn: this._defSelectFn
        })) : a.error("No inputNode specified.")
      },
      destructor: function() {
        for (; this._listEvents.length;) this._listEvents.pop().detach();
        this._ariaNode && this._ariaNode.remove().destroy(!0)
      },
      bindUI: function() {
        this._bindInput();
        this._bindList()
      },
      renderUI: function() {
        var b = this._createAriaNode(),
          c = this.get("boundingBox"),
          e = this.get("contentBox"),
          g = this._inputNode,
          f = this._createListNode(),
          q = g.get("parentNode");
        g.addClass(this.getClassName("input")).setAttrs({
          "aria-autocomplete": "list",
          "aria-expanded": !1,
          "aria-owns": f.get("id")
        });
        q.append(b);
        h && c.plug(a.Plugin.Shim);
        this._ariaNode = b;
        this._boundingBox = c;
        this._contentBox = e;
        this._listNode = f;
        this._parentNode = q
      },
      syncUI: function() {
        this._syncResults();
        this._syncVisibility()
      },
      hide: function() {
        return this.get("alwaysShowList") ? this : this.set("visible", !1)
      },
      selectItem: function(a, b) {
        if (a) {
          if (!a.hasClass(this._CLASS_ITEM)) return this
        } else if (a = this.get("activeItem"), !a) return this;
        this.fire("select", {
          itemNode: a,
          originEvent: b || null,
          result: a.getData("result")
        });
        return this
      },
      _activateNextItem: function() {
        var a = this.get("activeItem"),
          a = a ? a.next(this._SELECTOR_ITEM) || (this.get("circular") ? null : a) : this._getFirstItemNode();
        this.set("activeItem", a);
        return this
      },
      _activatePrevItem: function() {
        var a = this.get("activeItem"),
          a = a ? a.previous(this._SELECTOR_ITEM) : this.get("circular") && this._getLastItemNode();
        this.set("activeItem", a || null);
        return this
      },
      _add: function(c) {
        var g = [];
        e.each(b.isArray(c) ? c : [c], function(a) {
          g.push(this._createItemNode(a).setData("result", a))
        }, this);
        g = a.all(g);
        this._listNode.append(g.toFrag());
        return g
      },
      _ariaSay: function(a, c) {
        var e = this.get("strings." + a);
        this._ariaNode.set("text", c ? b.sub(e, c) : e)
      },
      _bindInput: function() {
        var a = this._inputNode,
          b, c;
        null === this.get("align") && (b = (b = this.get("tokenInput")) && b.get("boundingBox") || a, this.set("align", {
          node: b,
          points: ["tl", "bl"]
        }), !this.get("width") && (c = b.get("offsetWidth")) && this.set("width", c));
        this._listEvents = this._listEvents.concat([a.after("blur", this._afterListInputBlur, this), a.after("focus", this._afterListInputFocus, this)])
      },
      _bindList: function() {
        this._listEvents = this._listEvents.concat([a.one("doc").after("click", this._afterDocClick, this), a.one("win").after("windowresize", this._syncPosition, this), this.after({
          mouseover: this._afterMouseOver,
          mouseout: this._afterMouseOut,
          activeItemChange: this._afterActiveItemChange,
          alwaysShowListChange: this._afterAlwaysShowListChange,
          hoveredItemChange: this._afterHoveredItemChange,
          resultsChange: this._afterResultsChange,
          visibleChange: this._afterVisibleChange
        }), this._listNode.delegate("click", this._onItemClick, this._SELECTOR_ITEM, this)])
      },
      _clear: function() {
        this.set("activeItem", null);
        this._set("hoveredItem", null);
        this._listNode.get("children").remove(!0)
      },
      _createAriaNode: function() {
        return c.create(this.ARIA_TEMPLATE).addClass(this.getClassName("aria")).setAttrs({
          "aria-live": "polite",
          role: "status"
        })
      },
      _createItemNode: function(b) {
        var e = c.create(this.ITEM_TEMPLATE);
        return e.addClass(this._CLASS_ITEM).setAttrs({
          id: a.stamp(e),
          role: "option"
        }).setAttribute("data-text", b.text).append(b.display)
      },
      _createListNode: function() {
        var b = this.get("listNode") || c.create(this.LIST_TEMPLATE);
        b.addClass(this.getClassName("list")).setAttrs({
          id: a.stamp(b),
          role: "listbox"
        });
        this._set("listNode", b);
        this.get("contentBox").append(b);
        return b
      },
      _getFirstItemNode: function() {
        return this._listNode.one(this._SELECTOR_ITEM)
      },
      _getLastItemNode: function() {
        return this._listNode.one(this._SELECTOR_ITEM + ":last-child")
      },
      _syncPosition: function() {
        this._syncUIPosAlign();
        this._syncShim()
      },
      _syncResults: function(a) {
        a || (a = this.get("results"));
        this._clear();
        a.length && (this._add(a), this._ariaSay("items_available"));
        this._syncPosition();
        this.get("activateFirstItem") && !this.get("activeItem") && this.set("activeItem", this._getFirstItemNode())
      },
      _syncShim: h ? function() {
        var a = this._boundingBox.shim;
        a && a.sync()
      } : function() {},
      _syncVisibility: function(b) {
        this.get("alwaysShowList") && (b = !0, this.set("visible", b));
        "undefined" === typeof b && (b = this.get("visible"));
        this._inputNode.set("aria-expanded", b);
        this._boundingBox.set("aria-hidden", !b);
        b ? this._syncPosition() : (this.set("activeItem", null), this._set("hoveredItem", null), this._boundingBox.get("offsetWidth"));
        7 === a.UA.ie && a.one("body").addClass("yui3-ie7-sucks").removeClass("yui3-ie7-sucks")
      },
      _afterActiveItemChange: function(b) {
        var c = this._inputNode,
          e = b.newVal;
        (b = b.prevVal) && b._node && b.removeClass(this._CLASS_ITEM_ACTIVE);
        e ? (e.addClass(this._CLASS_ITEM_ACTIVE),
        c.set("aria-activedescendant", e.get("id"))) : c.removeAttribute("aria-activedescendant");
        this.get("scrollIntoView") && (c = e || c, (!c.inRegion(a.DOM.viewportRegion(), !0) || !c.inRegion(this._contentBox, !0)) && c.scrollIntoView())
      },
      _afterAlwaysShowListChange: function(a) {
        this.set("visible", a.newVal || 0 < this.get("results").length)
      },
      _afterDocClick: function(a) {
        var b = this._boundingBox;
        a = a.target;
        a !== this._inputNode && (a !== b && !a.ancestor("#" + b.get("id"), !0)) && this.hide()
      },
      _afterHoveredItemChange: function(a) {
        var b = a.newVal;
        (a = a.prevVal) && a.removeClass(this._CLASS_ITEM_HOVER);
        b && b.addClass(this._CLASS_ITEM_HOVER)
      },
      _afterListInputBlur: function() {
        this._listInputFocused = !1;
        this.get("visible") && (!this._mouseOverList && (9 !== this._lastInputKey || !this.get("tabSelect") || !this.get("activeItem"))) && this.hide()
      },
      _afterListInputFocus: function() {
        this._listInputFocused = !0
      },
      _afterMouseOver: function(a) {
        a = a.domEvent.target.ancestor(this._SELECTOR_ITEM, !0);
        this._mouseOverList = !0;
        a && this._set("hoveredItem", a)
      },
      _afterMouseOut: function() {
        this._mouseOverList = !1;
        this._set("hoveredItem", null)
      },
      _afterResultsChange: function(a) {
        this._syncResults(a.newVal);
        this.get("alwaysShowList") || this.set("visible", !! a.newVal.length)
      },
      _afterVisibleChange: function(a) {
        this._syncVisibility( !! a.newVal)
      },
      _onItemClick: function(a) {
        var b = a.currentTarget;
        this.set("activeItem", b);
        this.selectItem(b, a)
      },
      _defSelectFn: function(a) {
        a = a.result.text;
        this._inputNode.focus();
        this._updateValue(a);
        this._ariaSay("item_selected", {
          item: a
        });
        this.hide()
      }
    }, {
      ATTRS: {
        activateFirstItem: {
          value: !1
        },
        activeItem: {
          setter: a.one,
          value: null
        },
        alwaysShowList: {
          value: !1
        },
        circular: {
          value: !0
        },
        hoveredItem: {
          readOnly: !0,
          value: null
        },
        listNode: {
          writeOnce: "initOnly",
          value: null
        },
        scrollIntoView: {
          value: !1
        },
        strings: {
          valueFn: function() {
            return a.Intl.get("autocomplete-list")
          }
        },
        tabSelect: {
          value: !0
        },
        visible: {
          value: !1
        }
      },
      CSS_PREFIX: a.ClassNameManager.getClassName("aclist")
    });
  a.AutoCompleteList = g;
  a.AutoComplete = g
}, "3.17.2", {
  lang: ["en", "es", "hu", "it"],
  requires: "autocomplete-base event-resize node-screen selector-css3 shim-plugin widget widget-position widget-position-align".split(" "),
  skinnable: !0
});
YUI.add("squarespace-widgets-tourdates-bandsintown", function(a) {
  var f = a.Base.create("bandsInTownTourDatesListModel", a.ModelList, [], {
    sync: function(b, e, h) {
      if ("read" === b) {
        b = "squarespace-" + a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "identifier"]);
        e = encodeURIComponent(this.get("artistId"));
        var g = a.DataType.Date.format(new Date(this.get("startDate")), {
          format: "%Y-%m-%d"
        }),
          f = a.DataType.Date.format(new Date(this.get("endDate")), {
            format: "%Y-%m-%d"
          }),
          k;
        "upcoming" === this.get("timeframe") ? k = "upcoming" : "dateRange" === this.get("timeframe") && (k = g + "," + f);
        k = "//api.bandsintown.com/artists/" + e + "/events.json?api_version=2.0&app_id=" + b + "&date=" + k + "&callback={callback}";
        h = a.Lang.isFunction(h) ? h : function() {};
        a.jsonp(k, {
          on: {
            success: function(a) {
              a.errors && (a = [a]);
              h(null, a)
            },
            failure: function() {
              h("Request failed!");
              console.log("Request failed!")
            },
            timeout: function() {
              h("Request timed out.");
              console.log("Request timed out.")
            }
          },
          timeout: 1E4
        })
      } else console.warn("Unsupported sync action: " + b)
    }
  }, {
    ATTRS: {
      artistId: {
        value: null
      },
      timeframe: {
        value: null
      },
      startDate: {
        value: null
      },
      endDate: {
        value: null
      }
    }
  });
  a.namespace("Squarespace.Widgets");
  var b = a.Squarespace.Widgets.BandsInTownTourDatesList = a.Base.create("bandsInTownTourDatesList", a.Squarespace.SSWidget, [], {
    initializer: function() {
      var b = this.get("boundingBox"),
        e = new a.Squarespace.Spinner({
          size: 30,
          color: "dark",
          render: b
        });
      this._registerEvent(a.on("domready", function() {
        this.get("modelList").load(a.bind(function() {
          this.set("loaded", !0);
          b.addClass("loaded");
          e.destroy()
        }, this))
      }, this))
    },
    bindUI: function() {
      b.superclass.bindUI.call(this);
      this.after("loadedChange", this.renderTemplateAgain, this);
      this._registerEvent(a.on("windowresize", function() {
        this.adjustLayout()
      }, a.config.win, this))
    },
    adjustLayout: function() {
      var a = this.get("boundingBox");
      a.toggleClass("tourblock-has-small-container", 450 > a.get("offsetWidth"))
    },
    renderTemplateAgain: function() {
      this.adjustLayout();
      this.get("contentBox").empty().append(this.renderTemplate())
    },
    _getHBTemplateContext: function() {
      return {
        data: this.get("modelList").toJSON()
      }
    }
  }, {
    CSS_PREFIX: "sqs-tourdates-bandsintown-list",
    HANDLEBARS_TEMPLATE: "tourdates-bandsintown-list.html",
    ATTRS: {
      artistId: {
        value: null
      },
      timeframe: {
        value: null
      },
      startDate: {
        value: null
      },
      endDate: {
        value: null
      },
      modelList: {
        valueFn: function() {
          return new f(this.getAttrs(["artistId", "timeframe", "startDate", "endDate"]))
        }
      },
      loaded: {
        value: !1
      }
    }
  });
  a.Handlebars.registerHelper("tourdates-bandsintown-datetime", function(a, b) {
    var h = a.match(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/)[1];
    d = new Date(h + "Z");
    var h = "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
      g = "Sun Mon Tue Wed Thu Fri Sat".split(" ");
    if ("date" === b.hash.format) return h[d.getUTCMonth()] + " " + d.getUTCDate();
    if ("weekday" === b.hash.format) return g[d.getUTCDay()]
  })
}, "1.0", {
  requires: "jsonp model-list squarespace-hb-compare squarespace-spinner squarespace-ss-widget squarespace-tourdates-bandsintown-list-template".split(" ")
});
(function() {
  var a, f = YUI.Env,
    b = YUI.config,
    c = b.doc,
    e = c && c.documentElement,
    b = b.pollInterval || 40;
  e.doScroll && !f._ieready && (f._ieready = function() {
    f._ready()
  }, self !== self.top ? (a = function() {
    "complete" == c.readyState && (f.remove(c, "onreadystatechange", a), f.ieready())
  }, f.add(c, "onreadystatechange", a)) : f._dri = setInterval(function() {
    try {
      e.doScroll("left"), clearInterval(f._dri), f._dri = null, f._ieready()
    } catch (a) {}
  }, b))
})();
YUI.add("event-base-ie", function(a, f) {
  function b() {
    a.DOM2EventFacade.apply(this, arguments)
  }
  function c(b) {
    var e = a.config.doc.createEventObject(b),
      g = c.prototype;
    e.hasOwnProperty = function() {
      return !0
    };
    e.init = g.init;
    e.halt = g.halt;
    e.preventDefault = g.preventDefault;
    e.stopPropagation = g.stopPropagation;
    e.stopImmediatePropagation = g.stopImmediatePropagation;
    a.DOM2EventFacade.apply(e, arguments);
    return e
  }
  var e = a.config.doc && a.config.doc.implementation,
    h = a.config.lazyEventFacade,
    g = {
      0: 1,
      4: 2,
      2: 3
    }, l = {
      mouseout: "toElement",
      mouseover: "fromElement"
    }, k = a.DOM2EventFacade.resolve,
    m = {
      init: function() {
        b.superclass.init.apply(this, arguments);
        var c = this._event,
          e, h, f, l, m;
        this.target = k(c.srcElement);
        "clientX" in c && (!e && 0 !== e) && (e = c.clientX, h = c.clientY, f = a.config.doc, l = f.body, f = f.documentElement, e += f.scrollLeft || l && l.scrollLeft || 0, h += f.scrollTop || l && l.scrollTop || 0, this.pageX = e, this.pageY = h);
        "mouseout" == c.type ? m = c.toElement : "mouseover" == c.type && (m = c.fromElement);
        this.relatedTarget = k(m || c.relatedTarget);
        this.which = this.button = c.keyCode || g[c.button] || c.button
      },
      stopPropagation: function() {
        this._event.cancelBubble = !0;
        this.stopped = this._wrapper.stopped = 1
      },
      stopImmediatePropagation: function() {
        this.stopPropagation();
        this.stopped = this._wrapper.stopped = 2
      },
      preventDefault: function(a) {
        this._event.returnValue = a || !1;
        this.prevented = this._wrapper.prevented = 1
      }
    };
  a.extend(b, a.DOM2EventFacade, m);
  a.extend(c, a.DOM2EventFacade, m);
  c.prototype.init = function() {
    var a = this._event,
      b = this._wrapper.overrides,
      e = c._define,
      h = c._lazyProperties,
      f;
    this.altKey = a.altKey;
    this.ctrlKey = a.ctrlKey;
    this.metaKey = a.metaKey;
    this.shiftKey = a.shiftKey;
    this.type = b && b.type || a.type;
    this.clientX = a.clientX;
    this.clientY = a.clientY;
    this.which = this.button = (this.keyCode = this.charCode = a.keyCode) || g[a.button] || a.button;
    for (f in h) h.hasOwnProperty(f) && e(this, f, h[f]);
    this._touch && this._touch(a, this._currentTarget, this._wrapper)
  };
  c._lazyProperties = {
    target: function() {
      return k(this._event.srcElement)
    },
    relatedTarget: function() {
      var a = this._event;
      return k(a[l[a.type] || "relatedTarget"] || a.relatedTarget)
    },
    currentTarget: function() {
      return k(this._currentTarget)
    },
    wheelDelta: function() {
      var a = this._event;
      if ("mousewheel" === a.type || "DOMMouseScroll" === a.type) return a.detail ? -1 * a.detail : Math.round(a.wheelDelta / 80) || (0 > a.wheelDelta ? -1 : 1)
    },
    pageX: function() {
      var b = this._event,
        c = b.pageX,
        e;
      void 0 === c && (e = a.config.doc, c = e.body && e.body.scrollLeft, e = e.documentElement.scrollLeft, c = b.clientX + (e || c || 0));
      return c
    },
    pageY: function() {
      var b = this._event,
        c = b.pageY,
        e;
      void 0 === c && (e = a.config.doc, c = e.body && e.body.scrollTop, e = e.documentElement.scrollTop,
      c = b.clientY + (e || c || 0));
      return c
    }
  };
  c._define = function(a, b, c) {
    function e(g) {
      var h = arguments.length ? g : c.call(this);
      delete a[b];
      Object.defineProperty(a, b, {
        value: h,
        configurable: !0,
        writable: !0
      });
      return h
    }
    Object.defineProperty(a, b, {
      get: e,
      set: e,
      configurable: !0
    })
  };
  if (e && !e.hasFeature("Events", "2.0")) {
    if (h) try {
      Object.defineProperty(a.config.doc.createEventObject(), "z", {})
    } catch (n) {
      h = !1
    }
    a.DOMEventFacade = h ? c : b
  }
}, "3.17.2", {
  requires: ["node-base"]
});
YUI.add("model-sync-rest", function(a, f) {
  function b() {}
  var c = a.Lang;
  b.CSRF_TOKEN = YUI.Env.CSRF_TOKEN;
  b.EMULATE_HTTP = !1;
  b.HTTP_HEADERS = {
    Accept: "application/json",
    "Content-Type": "application/json"
  };
  b.HTTP_METHODS = {
    create: "POST",
    read: "GET",
    update: "PUT",
    "delete": "DELETE"
  };
  b.HTTP_TIMEOUT = 3E4;
  b._NON_ATTRS_CFG = ["root", "url"];
  b.prototype = {
    root: "",
    url: "",
    initializer: function(a) {
      a || (a = {});
      "root" in a && (this.root = a.root || "");
      "url" in a && (this.url = a.url || "")
    },
    getURL: function(b, c) {
      var g = this.root,
        f = this.url;
      return this._isYUIModelList ? !f ? this.model.prototype.root : this._substituteURL(f, a.merge(this.getAttrs(), c)) : g && ("create" === b || this.isNew()) ? g : !f ? this._joinURL(this.getAsURL("id") || "") : this._substituteURL(f, a.merge(this.getAttrs(), c))
    },
    parseIOResponse: function(a) {
      return a.responseText
    },
    serialize: function(b) {
      return a.JSON.stringify(this)
    },
    sync: function(c, h, g) {
      h || (h = {});
      var f = this.getURL(c, h),
        k = b.HTTP_METHODS[c],
        m = a.merge(b.HTTP_HEADERS, h.headers),
        n = h.timeout || b.HTTP_TIMEOUT;
      h = h.csrfToken || b.CSRF_TOKEN;
      var p;
      "POST" === k || "PUT" === k ? p = this.serialize(c) : delete m["Content-Type"];
      if (b.EMULATE_HTTP && ("PUT" === k || "DELETE" === k)) m["X-HTTP-Method-Override"] = k, k = "POST";
      if (h && ("POST" === k || "PUT" === k || "DELETE" === k)) m["X-CSRF-Token"] = h;
      this._sendSyncIORequest({
        action: c,
        callback: g,
        entity: p,
        headers: m,
        method: k,
        timeout: n,
        url: f
      })
    },
    _joinURL: function(a) {
      var b = this.root;
      if (!b && !a) return "";
      "/" === a.charAt(0) && (a = a.substring(1));
      return b && "/" === b.charAt(b.length - 1) ? b + a + "/" : b + "/" + a
    },
    _parse: function(a) {
      "function" === typeof this.parseIOResponse && (a = this.parseIOResponse(a));
      return this.parse(a)
    },
    _sendSyncIORequest: function(b) {
      return a.io(b.url, {
        arguments: {
          action: b.action,
          callback: b.callback,
          url: b.url
        },
        context: this,
        data: b.entity,
        headers: b.headers,
        method: b.method,
        timeout: b.timeout,
        on: {
          start: this._onSyncIOStart,
          failure: this._onSyncIOFailure,
          success: this._onSyncIOSuccess,
          end: this._onSyncIOEnd
        }
      })
    },
    _substituteURL: function(b, h) {
      if (!b) return "";
      var g = {};
      a.Object.each(h, function(a, b) {
        if (c.isString(a) || c.isNumber(a)) g[b] = encodeURIComponent(a)
      });
      return c.sub(b, g)
    },
    _onSyncIOEnd: function(a,
    b) {},
    _onSyncIOFailure: function(a, b, c) {
      (a = c.callback) && a({
        code: b.status,
        msg: b.statusText
      }, b)
    },
    _onSyncIOSuccess: function(a, b, c) {
      (a = c.callback) && a(null, b)
    },
    _onSyncIOStart: function(a, b) {}
  };
  a.namespace("ModelSync").REST = b
}, "3.17.2", {
  requires: ["model", "io-base", "json-stringify"]
});
YUI.add("event-touch", function(a, f) {
  var b = a.config.win,
    c = {};
  a.DOMEventFacade.prototype._touch = function(b, c, g) {
    var f, k, m, n, p;
    if (b.touches) {
      this.touches = [];
      p = {};
      f = 0;
      for (k = b.touches.length; f < k; ++f) n = b.touches[f], p[a.stamp(n)] = this.touches[f] = new a.DOMEventFacade(n, c, g)
    }
    if (b.targetTouches) {
      this.targetTouches = [];
      f = 0;
      for (k = b.targetTouches.length; f < k; ++f) n = b.targetTouches[f], m = p && p[a.stamp(n, !0)], this.targetTouches[f] = m || new a.DOMEventFacade(n, c, g)
    }
    if (b.changedTouches) {
      this.changedTouches = [];
      f = 0;
      for (k = b.changedTouches.length; f < k; ++f) n = b.changedTouches[f], m = p && p[a.stamp(n, !0)], this.changedTouches[f] = m || new a.DOMEventFacade(n, c, g)
    }
    "scale" in b && (this.scale = b.scale);
    "rotation" in b && (this.rotation = b.rotation);
    "identifier" in b && (this.identifier = b.identifier)
  };
  a.Node.DOM_EVENTS && a.mix(a.Node.DOM_EVENTS, {
    touchstart: 1,
    touchmove: 1,
    touchend: 1,
    touchcancel: 1,
    gesturestart: 1,
    gesturechange: 1,
    gestureend: 1,
    MSPointerDown: 1,
    MSPointerUp: 1,
    MSPointerMove: 1,
    MSPointerCancel: 1,
    pointerdown: 1,
    pointerup: 1,
    pointermove: 1,
    pointercancel: 1
  });
  b && b.PointerEvent ? (c.start = "pointerdown", c.end = "pointerup", c.move = "pointermove", c.cancel = "pointercancel") : b && "ontouchstart" in b && !(a.UA.chrome && 6 > a.UA.chrome) ? (c.start = "touchstart", c.end = "touchend", c.move = "touchmove", c.cancel = "touchcancel") : b && "msPointerEnabled" in b.navigator ? (c.start = "MSPointerDown", c.end = "MSPointerUp", c.move = "MSPointerMove", c.cancel = "MSPointerCancel") : (c.start = "mousedown", c.end = "mouseup", c.move = "mousemove", c.cancel = "mousecancel");
  a.Event._GESTURE_MAP = c
}, "3.17.2", {
  requires: ["node-base"]
});
YUI.add("datatype-xml-format", function(a, f) {
  var b = a.Lang;
  a.mix(a.namespace("XML"), {
    format: function(a) {
      try {
        if (!b.isUndefined(a.getXml)) return a.getXml();
        if (!b.isUndefined(XMLSerializer)) return (new XMLSerializer).serializeToString(a)
      } catch (e) {
        return a && a.xml ? a.xml : b.isValue(a) && a.toString ? a.toString() : ""
      }
    }
  });
  a.namespace("DataType");
  a.DataType.XML = a.XML
}, "3.17.2");
YUI.add("event-mouseenter", function(a, f) {
  var b = a.Env.evt.dom_wrappers,
    c = a.DOM.contains,
    e = a.Array,
    h = function() {}, g = {
      proxyType: "mouseover",
      relProperty: "fromElement",
      _notify: function(e, g, h) {
        var f = this._node;
        g = e.relatedTarget || e[g];
        f !== g && !c(f, g) && h.fire(new a.DOMEventFacade(e, f, b["event:" + a.stamp(f) + e.type]))
      },
      on: function(b, c, e) {
        b = a.Node.getDOMNode(b);
        c.handle = a.Event._attach([this.proxyType, this._notify, b, null, this.relProperty, e], {
          facade: !1
        })
      },
      detach: function(a, b) {
        b.handle.detach()
      },
      delegate: function(b,
      c, e, g) {
        b = a.Node.getDOMNode(b);
        c.handle = a.Event._attach([this.proxyType, h, b, null, e], {
          facade: !1
        });
        c.handle.sub.filter = g;
        c.handle.sub.relProperty = this.relProperty;
        c.handle.sub._notify = this._filterNotify
      },
      _filterNotify: function(b, g, h) {
        g = g.slice();
        this.args && g.push.apply(g, this.args);
        b = a.delegate._applyFilter(this.filter, g, h);
        var f = g[0].relatedTarget || g[0][this.relProperty],
          p, q, r, u, v;
        if (b) {
          b = e(b);
          q = 0;
          for (r = b.length && (!p || !p.stopped); q < r && !(v = b[0], !c(v, f) && (p || (p = new a.DOMEventFacade(g[0], v, h), p.container = a.one(h.el)), p.currentTarget = a.one(v), u = g[1].fire(p), !1 === u)); ++q);
        }
        return u
      },
      detachDelegate: function(a, b) {
        b.handle.detach()
      }
    };
  a.Event.define("mouseenter", g, !0);
  a.Event.define("mouseleave", a.merge(g, {
    proxyType: "mouseout",
    relProperty: "toElement"
  }), !0)
}, "3.17.2", {
  requires: ["event-synthetic"]
});
YUI.add("squarespace-image-loader", function(a) {
  window.ImageLoader || console.error("ImageLoader is not available. Broken rollup?");
  a.namespace("Squarespace").Loader = a.Base.create("Loader", a.Base, [], {
    initializer: function() {
      this.get("frames") && this._processFrames();
      this.get("img") && this._processImages()
    },
    _processFrames: function() {
      this._getNodeList("frames").each(function(a) {
        a.getAttribute("data-embed") && a.resizeToParent({
          scale: "contain",
          sizeOnly: !0
        })
      })
    },
    _processImages: function() {
      this._getNodeList("img").each(function(f) {
        var b = !1;
        f.loader && (b = !0);
        f.plug(a.Squarespace.Loader2, this.get("loaderOptions") || {});
        b && f.fire("refresh")
      }, this)
    },
    _getNodeList: function(f) {
      f = this.get(f);
      return a.Lang.isString(f) ? a.all(f) : !f.size ? new a.NodeList(f) : f
    }
  }, {
    ATTRS: {
      frames: {},
      img: {},
      loaderOptions: {}
    }
  });
  a.namespace("Squarespace").Loader2 = a.Base.create("Loader2", a.Plugin.Base, [], {
    initializer: function() {
      function f() {
        !b.inDoc() && ++e < c ? a.later(10, this, f) : this.load()
      }
      var b = this.get("host"),
        c = 100,
        e = 0;
      f.call(this);
      this.on("refresh", this.load, this);
      this.afterHostEvent("refresh",
      this.load, this)
    },
    _isInvalidHost: function() {
      return null === this.get("host").getDOMNode() || !this.get("host").inDoc()
    },
    load: function() {
      var f = this.get("host");
      f.getAttribute("src") && f.get("complete") && f.fire("loaded");
      this.afterHostEvent("load", function() {
        this._isInvalidHost() ? console.warn("Invalid host. Bailing.") : (this.get("host").removeClass("loading").addClass("loaded"), this.get("host").fire("loaded"))
      }, this);
      this._isInvalidHost() ? console.warn("Invalid host. Bailing.") : ImageLoader.load(f.getDOMNode(),
      a.merge(this.getAttrs(), {
        load: this.get("load")
      }))
    },
    getDimensionForValue: function(a, b) {
      return ImageLoader.getDimensionForValue(a, b, ImageLoader._getDataFromNode(this.get("host").getDOMNode()))
    },
    getBareElement: function() {
      var f = this.get("host"),
        b = a.Node.create("<img />");
      b.setAttribute("data-src", f.getAttribute("data-src"));
      b.setAttribute("data-image-dimensions", f.getAttribute("data-image-dimensions"));
      b.setAttribute("data-image-focal-point", f.getAttribute("data-image-focal-point"));
      return b
    },
    destructor: function() {}
  }, {
    NS: "loader",
    ATTRS: {
      stretch: {},
      load: {
        value: !0
      },
      source: {},
      fixedRatio: {
        value: !1
      },
      fitAlignment: {},
      fit: {
        value: !1,
        setter: function(a) {
          a && this.set("mode", "fit")
        }
      },
      fill: {
        value: !1,
        setter: function(a) {
          a && this.set("mode", "fill")
        }
      },
      focalPoint: {
        setter: function(a) {
          ImageLoader.load(this.get("host").getDOMNode(), {
            focalPoint: a.x + "," + a.y
          });
          return a
        }
      },
      mode: {
        validator: function(a) {
          return -1 !== ["fit", "fill", "none", null].indexOf(a)
        }
      },
      refreshOnResize: {
        value: !1
      }
    }
  });
  a.namespace("Squarespace").ImageLoadManager = new(a.Base.create("ImageLoadManager",
  a.Base, [], {
    refreshAll: function() {
      a.all("img[data-src]").each(function(a) {
        a.fire("refresh")
      })
    }
  }));
  a.augment(a.Node, Class.create({
    refresh: function() {
      this.fire("refresh")
    }
  }))
}, "1.0", {
  requires: ["base", "plugin", "node", "squarespace-imageloader"]
});
YUI.add("squarespace-social-button", function(a) {
  a.namespace("Squarespace");
  var f = a.Squarespace.SocialServices,
    b = function(a) {
      return a
    }, c = a.Squarespace.SocialButton = a.Base.create("socialButton", a.Widget, [], {
      initializer: function(b) {
        this._servicesRendered = {};
        b.services.forEach(function(a) {
          this._servicesRendered[a] = !1
        }, this);
        this._open = !1;
        this._anims = {};
        this._serviceRenderers = {};
        this._serviceRenderers[f.REDDIT] = this._renderReddit;
        this._serviceRenderers[f.FACEBOOK] = this._renderFacebook;
        this._serviceRenderers[f.TWITTER] = this._renderTwitter;
        this._serviceRenderers[f.GOOGLE] = this._renderGoogle;
        this._serviceRenderers[f.LINKEDIN] = this._renderLinkedIn;
        this._serviceRenderers[f.STUMBLE] = this._renderStumble;
        this._serviceRenderers[f.PINTEREST] = this._renderPinterest;
        this._serviceRenderers[f.TUMBLR] = this._renderTumblr;
        this.publish("serviceRendered", {
          defaultFn: this._defaultServiceRendered,
          context: this
        });
        this.publish("buttonClicked", {
          defaultFn: this._defaultButtonClicked,
          preventable: !0,
          context: this
        });
        this.publish("close", {
          defaultFn: this.close,
          preventable: !0,
          context: this
        });
        this.publish("servicesRendered");
        this._serviceContainer = a.Node.create('<div class="ss-social-button-container"></div>')
      },
      _defaultServiceRendered: function(a) {
        this._servicesRendered[a.details[0]] = !0;
        this._allServicesRendered() && (this.set("loaded", !0), this.fire("servicesRendered", this))
      },
      open: function() {
        this._open = !0;
        this._openList()
      },
      close: function() {
        this._open = !1;
        this._closeList()
      },
      _onClick: function(a) {
        this.fire("buttonClicked", a)
      },
      _defaultButtonClicked: function(a) {
        this.get("loaded") ? this.isOpen() ? this.close() : this.open() : this.get("loading") || (this.once("servicesRendered", function() {
          this.set("loading", !1)
        }, this), this.set("loading", !0), this._renderServices(), this.open())
      },
      isOpen: function() {
        return this._open
      },
      destructor: function() {
        this._stopAnimations()
      },
      _stopAnimations: function() {
        a.Object.values(this._anims).forEach(function(a) {
          a.stop()
        })
      },
      _closeList: function() {
        var b = this.get("contentBox");
        if (b._node && b.inDoc()) {
          var c = b.one(".ss-social-button-wrapper"),
            g = b.one(".ss-social-list-wrapper"),
            b = c.get("offsetWidth");
          c.get("offsetHeight");
          c = g.get("offsetWidth");
          Math.abs(b - c);
          g && (g._node && g.inDoc()) && (c = new a.Anim({
            node: g,
            duration: 0.3,
            easing: a.Easing.easeOutStrong,
            to: {
              height: 0,
              opacity: 0
            }
          }), this._anims.close = c, c.on("end", function() {
            g.setStyle("overflow", null);
            this.fire("listClose")
          }, this), c.run())
        }
      },
      _openList: function() {
        var b = this.get("contentBox");
        if (b._node && b.inDoc()) {
          var c = b.one(".ss-social-button-wrapper"),
            g = b.one(".ss-social-list-wrapper"),
            b = b.one(".ss-social-button-list"),
            f = c.get("offsetWidth"),
            c = c.get("offsetHeight"),
            k = g.get("offsetWidth"),
            m = Math.abs(f - k),
            n;
          this.get("id");
          g.setStyles({
            left: (f <= k ? -1 : 1) * m / 2,
            top: c
          });
          f = b.get("region").height + b.get("region").top - (a.DOM.viewportRegion().height + a.DOM.viewportRegion().top);
          0 < f && g.setStyle("top", parseInt(g.getComputedStyle("top"), 10) - f - 20);
          g && (g._node && g.inDoc()) && (b = new a.Anim({
            node: g,
            duration: 0.3,
            easing: a.Easing.easeOutStrong,
            to: {
              height: b.get("offsetHeight"),
              opacity: 1
            }
          }), this._anims.open = b, b.on("end", function() {
            g.setStyle("overflow", "visible");
            n = a.one(document).on("click", function(a) {
              a.target.ancestor(".ss-social-list-wrapper", !0) || (this.fire("close"), n.detach(), n = null)
            }, this);
            this.fire("listOpen")
          }, this), b.run())
        }
      },
      _allServicesRendered: function() {
        return a.Object.values(this._servicesRendered).every(b)
      },
      bindUI: function() {
        var a = this.get("contentBox").one(".ss-social-button-wrapper");
        this.after("loadingChange", this._onLoadingChange, this);
        a.on("click", this._onClick, this)
      },
      _onLoadingChange: function() {
        this.get("boundingBox").ancestor(".squarespace-social-buttons").toggleClass("loading",
        this.get("loading"))
      },
      renderUI: function() {
        var a = this.get("contentBox");
        a.append('<div class="ss-social-button-wrapper"><div class="ss-social-button"><span class="ss-social-button-icon"></span>Share</div></div>');
        a.append('<div class="ss-social-list-wrapper"><div class="ss-social-button-list"></div></div>');
        a.one(".ss-social-button-list")
      },
      _renderServices: function() {
        var a = this.get("contentBox").one(".ss-social-button-list");
        this.get("services").forEach(function(b) {
          this._serviceRenderers[b].call(this,
          a)
        }, this)
      },
      _defaultTimeoutCb: function(b) {
        var h = a.Squarespace.Utils.reverseMap(a.Squarespace.SocialServices),
          g = "(Social Button) Loading render script for service: {name} too longer than " + c.SCRIPT_TIMEOUT / 1E3 + " seconds. Skipping.";
        return function() {
          console.warn(a.substitute(g, {
            name: h[b]
          }));
          this.fire("serviceRendered", b)
        }
      },
      _defaultFailureCb: function(b) {
        var c = a.Squarespace.Utils.reverseMap(a.Squarespace.SocialServices);
        return function() {
          console.warn(a.substitute("(Social Button) Service {name} render script failed to load.", {
            name: c[b]
          }));
          this.fire("serviceRendered", b)
        }
      },
      _renderReddit: function(b) {
        var h = this._serviceContainer.cloneNode(!0),
          g = this.get("url");
        this.get("contentBox");
        h.addClass("reddit");
        h.append(a.Node.create(c.REDDIT_LINK));
        h.on("click", function(a) {
          window.open("http://reddit.com/submit?url=" + encodeURIComponent(g), "Submit to Reddit");
          a.stopImmediatePropagation()
        });
        b.append(h);
        this.fire("serviceRendered", f.REDDIT)
      },
      _renderTumblr: function(b) {
        var h = this._serviceContainer.cloneNode(!0),
          g = {
            url: this.get("url"),
            name: this.get("title")
          }, g = a.QueryString.stringify(g);
        h.addClass("tumblr");
        h.append(a.substitute(c.TUMBLR_TAG_TEMPLATE, {
          query: g
        }));
        b.append(h);
        a.Get.script(c.TUMBLR_URL, {
          onSuccess: function() {
            a.later(400, this, function() {
              this.fire("serviceRendered", f.TUMBLR)
            })
          },
          onFailure: this._defaultFailureCb(f.TUMBLR),
          onTimeout: this._defaultTimeoutCb(f.TUMBLR),
          timeout: c.SCRIPT_TIMEOUT,
          context: this,
          win: a.config.win
        })
      },
      _renderFacebook: function(b) {
        var h = this._serviceContainer.cloneNode(!0),
          g = this.get("url");
        this.get("contentBox");
        h.addClass("facebook");
        h.append(a.Node.create(a.substitute(c.FACEBOOK_TAG_TEMPLATE, {
          url: g
        })));
        b.append(h);
        a.Get.script(c.FACEBOOK_URL, {
          onSuccess: function() {
            window.FB && (a.one("html").setAttribute("xmlns:fb", "http://ogp.me/ns/fb#"), FB.XFBML.parse(), a.later(400, this, function() {
              this.fire("serviceRendered", f.FACEBOOK)
            }))
          },
          onFailure: this._defaultFailureCb(f.FACEBOOK),
          onTimeout: this._defaultTimeoutCb(f.FACEBOOK),
          timeout: c.SCRIPT_TIMEOUT,
          context: this
        })
      },
      _renderGoogle: function(b) {
        var h = this._serviceContainer.cloneNode(!0),
          g = this.get("url");
        h.addClass("google");
        h.append(a.Node.create(a.substitute(c.GOOGLE_TAG_TEMPLATE, {
          url: g
        })));
        b.append(h);
        a.Get.script(c.GOOGLE_PLUS_URL, {
          onSuccess: function() {
            window.gapi && (gapi.plusone.go(), a.later(400, this, function() {
              this.fire("serviceRendered", a.Squarespace.SocialServices.GOOGLE);
              this._googleRendered = !0
            }))
          },
          onFailure: this._defaultFailureCb(f.GOOGLE),
          onTimeout: this._defaultTimeoutCb(f.GOOGLE),
          timeout: c.SCRIPT_TIMEOUT,
          context: this
        });
        this.fire("serviceRendered", f.GOOGLE)
      },
      _renderTwitter: function(b) {
        var h = this._serviceContainer.cloneNode(!0),
          g = this.get("title"),
          l = this.get("url");
        h.append(a.Node.create('<a href="https://twitter.com/share" data-text="' + a.Escape.html(g || "") + '" data-url="' + a.Escape.html(l) + '"class="twitter-share-button">tweet</a>'));
        h.addClass("twitter");
        b.append(h);
        a.Get.script(c.TWITTER_URL, {
          onSuccess: function() {
            a.later(400, this, function() {
              this.fire("serviceRendered", f.TWITTER)
            })
          },
          onFailure: this._defaultFailureCb(f.TWITTER),
          onTimeout: this._defaultTimeoutCb(f.TWITTER),
          timeout: c.SCRIPT_TIMEOUT,
          context: this
        })
      },
      _renderLinkedIn: function(b) {
        var h = this._serviceContainer.cloneNode(!0);
        this.get("title");
        var g = this.get("url");
        h.addClass("linkedin");
        h.append(a.Node.create(a.substitute(c.LINKEDIN_URL_TEMPLATE, {
          url: g
        })));
        b.append(h);
        window.IN = void 0;
        a.Get.script(c.LINKEDIN_URL, {
          onSuccess: function() {
            a.later(400, this, function() {
              this.fire("serviceRendered", f.LINKEDIN)
            })
          },
          onFailure: this._defaultFailureCb(f.LINKEDIN),
          onTimeout: this._defaultTimeoutCb(f.LINKEDIN),
          timeout: c.SCRIPT_TIMEOUT,
          context: this
        })
      },
      _renderStumble: function(b) {
        var h = this._serviceContainer.cloneNode(!0),
          g = this.get("url"),
          l = this.get("id");
        h.addClass("stumble");
        h.append(a.Node.create(a.substitute(c.STUMBLE_TAG_TEMPLATE, {
          url: g,
          id: l
        })));
        b.append(h);
        a.Get.script(c.STUMBLE_URL, {
          onSuccess: function() {
            a.later(400, this, function() {
              STMBLPN && STMBLPN.processWidgets();
              this.fire("serviceRendered", a.Squarespace.SocialServices.STUMBLE)
            })
          },
          onFailure: this._defaultFailureCb(f.STUMBLE),
          onTimeout: this._defaultTimeoutCb(f.STUMBLE),
          timeout: c.SCRIPT_TIMEOUT,
          context: this
        })
      },
      _renderPinterest: function(b) {
        var h = this._serviceContainer.cloneNode(!0),
          g = this.get("assetUrl"),
          l = this.get("url"),
          k = Static.SQUARESPACE_CONTEXT.website.authenticUrl + b.ancestor(".squarespace-social-buttons").getAttribute("data-full-url");
        this.get("id");
        this.get("recordType");
        this.get("systemDataId") ? (h.addClass("pinterest"), h.append(a.Node.create(a.substitute(c.PINTEREST_TAG_TEMPLATE, {
          url: encodeURIComponent(g || l),
          pageUrl: encodeURIComponent(k)
        }))), b.append(h), a.Get.script(c.PINTEREST_URL, {
          onSuccess: function() {
            a.later(400, this, function() {
              this.fire("serviceRendered", a.Squarespace.SocialServices.PINTEREST)
            }, this)
          },
          onFailure: this._defaultFailureCb(f.PINTEREST),
          onTimeout: this._defaultTimeoutCb(f.PINTEREST),
          timeout: c.SCRIPT_TIMEOUT,
          context: this
        })) : this.fire("serviceRendered", f.PINTEREST)
      }
    }, {
      TWITTER_URL: "//platform.twitter.com/widgets.js",
      TUMBLR_URL: "http://platform.tumblr.com/v1/share.js",
      FACEBOOK_URL: "//connect.facebook.net/en_US/all.js#xfbml=1",
      LINKEDIN_URL: "//platform.linkedin.com/in.js",
      GOOGLE_PLUS_URL: "//apis.google.com/js/plusone.js",
      STUMBLE_URL: "http://platform.stumbleupon.com/1/widgets.js",
      PINTEREST_URL: "//assets.pinterest.com/js/pinit.js",
      LINKEDIN_URL_TEMPLATE: '<script type="IN/Share" data-url="{url}" data-counter="right"></script>',
      GOOGLE_TAG_TEMPLATE: '<g:plusone size="medium" annotation="bubble" href="{url}"></g:plusone>',
      FACEBOOK_TAG_TEMPLATE: '<div id="fb-root"></div><fb:like href="{url}" send="false" layout="button_count" show_faces="true"></fb:like>',
      PINTEREST_TAG_TEMPLATE: '<a href="//pinterest.com/pin/create/button?url={pageUrl}&media={url}" class="pin-it-button" count-layout="horizontal"><img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It" /></a>',
      TUMBLR_TAG_TEMPLATE: '<a href="http://tumblr.com/share/link?{query}" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url(\'http://platform.tumblr.com/v1/share_1T.png\') top left no-repeat transparent;">Share on Tumblr</a>',
      SCRIPT_TIMEOUT: 5E3,
      STUMBLE_TAG_TEMPLATE: '<su:badge layout="1" location="{url}"></su:badge>',
      REDDIT_LINK: '<a href="#"><img src="http://www.reddit.com/static/spreddit7.gif" alt="submit to reddit" border="0" /></a>',
      ATTRS: {
        url: {
          value: window.location.href
        },
        title: {
          value: document.title || window.location.href
        },
        services: {},
        recordType: {},
        assetUrl: {
          value: ""
        },
        systemDataId: {
          value: ""
        },
        loaded: {
          value: !1
        },
        loading: {
          value: !1
        }
      }
    })
}, "1.0", {
  requires: "widget querystring-stringify base squarespace-dombuilder substitute node anim escape squarespace-enum".split(" ")
});
YUI.add("substitute", function(a, f) {
  var b = a.Lang,
    c = /(~-(\d+)-~)/g,
    e = /\{LBRACE\}/g,
    h = /\{RBRACE\}/g,
    g = function(g, f, m, n) {
      for (var p, q, r, u, v, w = [], y, s = g.length;;) {
        p = g.lastIndexOf("{", s);
        if (0 > p) break;
        q = g.indexOf("}", p);
        if (p + 1 >= q) break;
        u = y = g.substring(p + 1, q);
        v = null;
        r = u.indexOf(" "); - 1 < r && (v = u.substring(r + 1), u = u.substring(0, r));
        r = f[u];
        m && (r = m(u, r, v));
        b.isObject(r) ? a.dump ? b.isArray(r) ? r = a.dump(r, parseInt(v, 10)) : (v = v || "", u = v.indexOf("dump"), - 1 < u && (v = v.substring(4)), r = r.toString === Object.prototype.toString || -1 < u ? a.dump(r, parseInt(v, 10)) : r.toString()) : r = r.toString() : b.isUndefined(r) && (r = "~-" + w.length + "-~", w.push(y));
        g = g.substring(0, p) + r + g.substring(q + 1);
        n || (s = p - 1)
      }
      return g.replace(c, function(a, b, c) {
        return "{" + w[parseInt(c, 10)] + "}"
      }).replace(e, "{").replace(h, "}")
    };
  a.substitute = g;
  b.substitute = g
}, "3.17.2", {
  requires: ["yui-base"],
  optional: ["dump"]
});
YUI.add("anim-scroll", function(a, f) {
  var b = Number;
  a.Anim.behaviors.scroll = {
    set: function(a, e, f, g, l, k, m) {
      a = a._node;
      f = [m(l, b(f[0]), b(g[0]) - b(f[0]), k), m(l, b(f[1]), b(g[1]) - b(f[1]), k)];
      f[0] && a.set("scrollLeft", f[0]);
      f[1] && a.set("scrollTop", f[1])
    },
    get: function(a) {
      a = a._node;
      return [a.get("scrollLeft"), a.get("scrollTop")]
    }
  }
}, "3.17.2", {
  requires: ["anim-base"]
});
YUI.add("squarespace-gallery-ng-designs", function(a) {
  a.namespace("Squarespace");
  var f = {};
  f.ByViewport = a.Base.create("GalleryLoadingBehavior", a.Base, [], {
    scrollHandler: null,
    scrollEl: null,
    scrollRegion: null,
    imageRegions: null,
    initializer: function() {
      this.get("host").get("lazyLoad") && (this.scrollHandler = this._getScrollEl().on("scroll", this.loadItems, this))
    },
    destructor: function() {
      this.scrollHandler && this.scrollHandler.detach();
      this.scrollRegion = this.imageRegions = this.scrollEl = this.scrollHandler = null
    },
    _getScrollEl: function() {
      if (!this.scrollEl && (this.scrollEl = this.get("host").get("container").ancestor(function(a) {
        return a.getStyle("overflowY").match(/scroll|auto/) && a.get("scrollHeight") > a.get("clientHeight")
      }), !this.scrollEl || this.scrollEl.test("html,body"))) this.scrollEl = a.one(a.config.win);
      return this.scrollEl
    },
    loadItems: function() {
      var a = this.get("host"),
        b = a.getImages();
      a.get("lazyLoad") ? (this.imageRegions = [], this.scrollRegion = this._getScrollEl().get("region"), b.each(function(a) {
        this.imageRegions.push(a.get("region"))
      }, this), this._viewportLoad()) : a.loadImages(b)
    },
    _viewportLoad: function() {
      var b = this._getScrollEl().get("scrollTop"),
        c = b + this.scrollRegion.height,
        g = new a.NodeList;
      this.get("host").getImages().each(function(a, f) {
        var m = this.imageRegions[f];
        (m.top >= b && m.top <= c || m.bottom >= b && m.bottom <= c) && g.push(a)
      }, this);
      this.get("host").loadImages(g)
    }
  });
  f.ByCurrentIndex = a.Base.create("GalleryLoadingBehavior", a.Base, [], {
    loadItems: function() {
      var b = this.get("host"),
        c = b.getImages();
      if (b.get("lazyLoad")) {
        var g = b.get("currentIndex") - this.get("preloadCount"),
          f = b.get("currentIndex") + this.get("preloadCount"),
          k = new a.NodeList;
        b.get("loop") ? f %= b.get("slides").size() : (g = Math.max(0, g), f = Math.min(b.get("slides").size() - 1, f));
        0 <= g && g <= f ? k = c.slice(g, f + 1) : (k = k.concat(c.slice(g)), k = k.concat(c.slice(0, f + 1)));
        b.loadImages(k)
      } else b.loadImages(c)
    }
  });
  var b = {};
  b.base = a.Base.create("GalleryDesignBase", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByViewport], {
    initializer: function() {
      this.get("host").after("currentIndexChange", function() {
        this.get("host").syncUI()
      }, this);
      this.get("host").plugLoaders();
      this.loadItems();
      this.get("host").syncUI()
    },
    destructor: function() {},
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    ATTRS: {}
  });
  b.stacked = a.Base.create("GalleryDesignStacked", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByCurrentIndex], {
    initializer: function() {
      var b = this.get("host");
      b.get("container").addClass(this._getProperty("CONTAINER_CLASS"));
      b.get("slides").addClass(this._getProperty("SLIDE_CLASS"));
      this.plug(this.get("transition"), this.get("transitionOptions"));
      b.after("currentIndexChange",
      this.syncUI, this);
      b.after("refresh", this.syncUI, this);
      b.after("image-loaded", this._positionMetaOverlay, this);
      b.get("slides").each(function(a, b) {
        var c = a.test("img") ? a : a.one("img");
        if (c) c.onceAfter("loaded", function() {
          a.addClass("loaded")
        }, this);
        else a.addClass("loaded")
      }, this);
      b.plugLoaders();
      if (this.get("autoHeight")) {
        var c = a.bind(function() {
          this.containerHeight = this._calculateContainerHeight();
          this.get("host").get("container").setStyles({
            height: this.containerHeight
          })
        }, this);
        c();
        this._event((new a.Squarespace.ResizeEmitter({
          timeout: 100
        })).on("resize",
        c))
      }
      b.refresh();
      this.bindUI();
      this.syncUI()
    },
    destructor: function() {
      this.get("autoHeight") && (this.get("host") && this.get("host").get("container")) && this.get("host").get("container").setStyles({
        height: null
      });
      this.get("host").get("slides").each(function(a) {
        a.setStyles({
          opacity: null
        });
        a.removeClass(this._getProperty("SLIDE_CLASS"))
      }, this)
    },
    bindUI: function() {
      this.get("clickBehavior") && this._event(this.get("host").get("container").on("click", function(a) {
        if (!a.target.ancestor("a", !0)) {
          var b = a.target.test(".slide") ? a.target : a.target.ancestor(".slide");
          if (b && b.getAttribute("data-click-through-url")) window.location.href = b.getAttribute("data-click-through-url");
          else if ("video" != this.get("host")._slideType(this.get("host")._currentSlide())) switch (this.get("clickBehavior")) {
          case "next":
            this.get("host").nextSlide();
            break;
          case "previous":
            this.get("host").previousSlide();
            break;
          default:
            b = b ? b.get("region") : this.get("host").get("container").get("region"), a.pageX > b.width / 2 + b.left ? this.get("host").nextSlide() : this.get("host").previousSlide()
          }
          a.preventDefault()
        }
      },
      this))
    },
    syncUI: function(a) {
      this.get("host").syncUI();
      this.fire("transition", a || {
        newVal: this.get("host").get("currentIndex")
      });
      this.loadItems();
      this._positionMetaOverlay()
    },
    _positionMetaOverlay: function() {
      if (a.Lang.isNumber(this.get("host").get("currentIndex"))) {
        var b = this.get("host").get("slides").item(this.get("host").get("currentIndex")),
          c = b.one(".meta"),
          g = b.one("img"),
          f = this.get("host").get("container");
        g || (g = b);
        var k = g.ancestor(".sqs-video-wrapper", !0);
        k && (g = k, k.videoloader.on("showingVideoChange",

        function(a) {
          b.toggleClass("video-playing", !! a.newVal)
        }));
        if (c) {
          if (k = f.getAncestorData("galleryOptions")) switch (k["meta-position"] || "bottom") {
          case "top":
          case "bottom":
            c.setStyles({
              left: g.get("offsetLeft"),
              width: g.get("offsetWidth")
            });
            break;
          case "top-left":
          case "bottom-left":
            c.setStyles({
              left: g.get("offsetLeft"),
              maxWidth: g.get("offsetWidth") / 2
            });
            break;
          case "top-right":
          case "bottom-right":
            c.setStyles({
              right: b.get("offsetWidth") - (g.get("offsetLeft") + g.get("offsetWidth")),
              maxWidth: g.get("offsetWidth") / 2
            });
            break;
          case "center":
            c.setStyles({
              maxWidth: g.get("offsetWidth") / 2
            }), c.setStyles({
              marginLeft: c.get("offsetWidth") / -2,
              marginTop: c.get("offsetHeight") / -2
            })
          }
          0.9 < c.get("offsetHeight") / f.get("offsetHeight") ? c.setStyle("height", 0.4 * f.get("offsetHeight")).addClass("overflow") : c.setStyle("height", null).removeClass("overflow")
        }
      }
    },
    _calculateContainerHeight: function() {
      var b = [],
        c = this.get("host").get("container").get("offsetHeight");
      this.get("host").get("slides").each(function(c) {
        switch (this.get("host")._slideType(c)) {
        case "image":
          var f = c.test("img") ? c : c.one("img");
          f && (f = a.Squarespace.Rendering.getDimensionsFromNode(f), c = a.Squarespace.Rendering.getHeightForWidth(f.width, f.height, c.get("offsetWidth")), isNaN(c) || b.push(c));
          break;
        case "video":
          c = a.Squarespace.Rendering.getHeightForWidth(c.one(".sqs-video-wrapper").videoloader.getWidth(), c.one(".sqs-video-wrapper").videoloader.getHeight(), c.get("offsetWidth")), isNaN(c) || b.push(c)
        }
      }, this);
      0 < b.length && (c = Math.min.apply(Math.min, b));
      return c
    },
    _getProperty: function(a) {
      return this.constructor[a]
    },
    _getTransition: function(a) {
      a = c[a];
      if (!a) throw Error("These aren't the gallery stacked transitions you're looking for. (We couldn't find a transition by the name " + a + " )");
      return a
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-stacked",
    SLIDE_CLASS: "sqs-gallery-design-stacked-slide",
    ATTRS: {
      autoHeight: {
        value: !0
      },
      clickBehavior: {
        value: "next"
      },
      easing: {
        value: a.Easing.easeOutStrong
      },
      speed: {
        value: 1
      },
      preloadCount: {
        value: 1
      },
      transition: {
        value: "fade",
        getter: "_getTransition"
      },
      transitionOptions: {
        value: {}
      }
    }
  });
  b.strip = a.Base.create("GalleryDesignBase", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByCurrentIndex], {
    initializer: function() {
      var a = this.get("host");
      a.get("container").addClass(this._getProperty("CONTAINER_CLASS"));
      a.get("slides").addClass(this._getProperty("SLIDE_CLASS"));
      this._event(a.on("image-loaded", this._syncUIRefreshWrapperWidth, this));
      a.plugLoaders();
      var b = a.get("container").get("offsetHeight");
      a._slidesByType("video").each(function(a) {
        var c = a.one(".sqs-video-wrapper").videoloader.getWidth() / a.one(".sqs-video-wrapper").videoloader.getHeight();
        a.one(".sqs-video-wrapper").setStyle("paddingRight", c * b);
        a.one("img") && a.one("img").refresh()
      });
      a.renderWrapper();
      a.after("currentIndexChange", this.syncUI, this);
      this.loadItems();
      this.syncUI();
      this.bindUI()
    },
    destructor: function() {
      this.get("host").get("container").removeClass(this._getProperty("CONTAINER_CLASS"));
      this.get("host").get("slides").removeClass(this._getProperty("SLIDE_CLASS"))
    },
    bindUI: function() {
      var a = this.get("host")._currentSlide();
      this.get("host").get("slides").each(function(b,
      c) {
        var f = this.get("host")._slideType(b);
        "video" == f && b != a && b.one(".sqs-video-wrapper").videoloader.set("inactive", !0);
        this._event(b.on("click", function(a) {
          if ("video" != f || b.one(".sqs-video-wrapper").videoloader.get("inactive")) {
            var e = a.target.getAttribute("data-click-through-url");
            if (e) window.location.href = e, a.preventDefault();
            else {
              a = this.get("host")._currentSlide();
              e = this.get("host")._slideType(a);
              if (c == this.get("host").get("currentIndex")) switch (this.get("activeSlideClickBehavior")) {
              case "next":
                this.get("host").nextSlide();
                break;
              case "previous":
                this.get("host").previousSlide();
                break;
              default:
                this.get("host").set("currentIndex", c)
              } else this.get("host").set("currentIndex", c);
              var h = this.get("host")._currentSlide(),
                q = this.get("host")._slideType(h);
              a != h && ("video" == q && (h.one(".sqs-video-wrapper").videoloader.set("inactive", !1), h == b && h.one(".sqs-video-wrapper").videoloader.showVideo()), "video" == e && a.one(".sqs-video-wrapper").videoloader.set("inactive", !0))
            }
          }
        }, this))
      }, this);
      this.get("host").on("currentIndexChange", function(a) {
        var b = this.get("host").get("slides");
        0 > a.newVal && (a.newVal = b.size() - 1);
        var c = b.item(a.prevVal);
        a = b.item(a.newVal);
        "video" == this.get("host")._slideType(c) && c.one(".sqs-video-wrapper").videoloader.set("inactive", !0);
        "video" == this.get("host")._slideType(a) && a.one(".sqs-video-wrapper").videoloader.set("inactive", !1)
      }, this);
      var b = this.get("host").get("slides").item(this.get("currentIndex") || 0);
      b && b.addClass(this._getProperty("SLIDE_CLASS"))
    },
    syncUI: function(a) {
      (!a || !a.calledFromParent) && this.get("host").syncUI();
      this._syncUIRefreshWrapperWidth();
      this.loadItems()
    },
    _syncUIRefreshWrapperWidth: function() {
      if (this.get("host").get("container").hasClass("sqs.gallery-thumbnails")) {
        var a = this.get("host").get("container"),
          b = a.get("offsetHeight");
        a.all(".sqs-video-thumbnail").each(function(a) {
          a.hasClass("no-image") && a.one(".sqs-video-thumbnail-inner").setStyles({
            width: Math.floor(b * (16 / 9)) + "px"
          });
          var c = a.one("img");
          c && (a.removeClass("loading"), a.setAttribute("style", "width: " + c.get("offsetWidth") + "px !important"))
        })
      }
      a = this.get("host")._wrapperEl;
      a.setStyles({
        width: null
      });
      var c = 0,
        f = 0;
      this.get("host").get("slides").each(function(a, b) {
        this.get("host").get("currentIndex") > b && (f += a.get("offsetWidth"));
        c += a.get("offsetWidth")
      }, this);
      var k = this.get("host").get("container").get("offsetWidth"),
        m = this.get("host")._currentSlide();
      switch (this.get("alignment")) {
      case "middle":
        f -= (k - m.get("offsetWidth")) / 2;
        0 > f && (f = 0);
        break;
      case "end":
        f -= k - m.get("offsetWidth"), 0 > f && (f = 0)
      }
      c < k ? f = (k - c) / -2 : f > c - k && (f = c - k);
      a.setStyles({
        width: 2 * c
      });
      var n = this;
      this._anim(a, {
        left: -1 * f
      }, {
        duration: this.get("speed"),
        easing: this.get("easing"),
        start: function() {
          n.get("host").set("inMotion", !0)
        },
        end: function() {
          n.get("host").set("inMotion", !1)
        }
      }).run()
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-strip",
    SLIDE_CLASS: "sqs-gallery-design-strip-slide",
    ATTRS: {
      speed: {
        value: 0.5
      },
      easing: {
        value: a.Easing.easeOutStrong
      },
      activeSlideClickBehavior: {
        value: "next"
      },
      preloadCount: {
        value: 1
      },
      alignment: {
        value: "middle",
        validator: function(a) {
          return -1 != ["start", "middle", "end"].indexOf(a)
        }
      }
    }
  });
  b.grid = a.Base.create("GalleryDesignGrid", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByViewport], {
    initializer: function() {
      var b = this.get("host");
      b.get("container").addClass(this._getProperty("CONTAINER_CLASS"));
      b.get("slides").addClass(this._getProperty("SLIDE_CLASS"));
      b.getImages("image").each(function(b) {
        b.setStyles({
          opacity: 0
        });
        this._event(b.once("load", function() {
          this._timer(a.later(500 * Math.random(), this, function() {
            var c = this._anim(b, {
              opacity: 1
            }, {
              duration: 1
            });
            if (!this.get("destroyed") && c.get("node").inDoc()) {
              var e = a.DOM.viewportRegion();
              c.get("node").inRegion(e) ? c.run() : b.setStyles({
                opacity: null
              })
            }
          }))
        }, this))
      }, this);
      b.getSlides("video").each(function(b) {
        b.all(".sqs-video-wrapper").each(function(b) {
          b.setStyles({
            opacity: 0
          });
          var c = this._anim(b, {
            opacity: 1
          }, {
            duration: 1
          });
          this._timer(a.later(500 * Math.random(), this, function() {
            c.run()
          }))
        }, this)
      }, this);
      b.plugLoaders();
      this.loadItems();
      b.getSlides("video").each(function(a) {
        var b = a.one(".sqs-video-wrapper").videoloader;
        this.get("lightbox") && b.set("inactive", !0);
        a.one(".content-fit") ? b.set("mode", "fit") : b.set("mode", "fill");
        var c = b.get("video");
        a = c && -1 !== c.getAttribute("src").indexOf("instagram.com");
        var e = b.get("overlay");
        if (a && e) e.on("click", function(a) {
          a.halt();
          b.showOverlay();
          window.open(c.getAttribute("src"), "Instagram", "width=620,height=720")
        }, this)
      }, this);
      this.get("lightbox") && a.Squarespace.GalleryManager.lightboxify(b.get("slides"))
    },
    destructor: function() {
      var a = this.get("host");
      a.get("container").removeClass(this._getProperty("CONTAINER_CLASS"));
      a.get("slides").removeClass(this._getProperty("SLIDE_CLASS"))
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-grid",
    SLIDE_CLASS: "sqs-gallery-design-grid-slide",
    ATTRS: {
      lightbox: {
        value: !0
      },
      perRow: {
        value: 4
      }
    }
  });
  b.autocolumns = a.Base.create("GalleryDesignAutocolumns", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByViewport], {
    dimensions: null,
    initializer: function() {
      var b = this.get("host");
      b.get("container").addClass(this._getProperty("CONTAINER_CLASS"));
      b.get("slides").addClass(this._getProperty("SLIDE_CLASS"));
      b.plugLoaders();
      this._evaluateBricks();
      this.get("lightbox") && a.Squarespace.GalleryManager.lightboxify(b.get("slides"));
      this._bindUI();
      this._syncUI()
    },
    destructor: function() {
      this.get("host").get("container").removeClass(this._getProperty("CONTAINER_CLASS"));
      this.get("host").get("slides").removeClass(this._getProperty("SLIDE_CLASS"));
      this._flushEvents()
    },
    _bindUI: function() {
      var b = this.get("host");
      b.after("refresh", this._syncUI, this);
      var c = new a.Squarespace.ResizeEmitter({
        timeout: 100
      });
      this._event(c.on("resize", this._syncUI, this));
      b.after("aspectRatioChange", function(a) {
        this.set("aspectRatio", a.newVal);
        this._evaluateBricks();
        this._syncUI()
      }, this);
      b.after(["columnWidthChange", "columnWidthBehaviorChange", "gutterChange", "mixedContentChange"], function(a) {
        this.set(a.attrName, a.newVal);
        this._syncUI()
      }, this)
    },
    _syncUI: function() {
      for (var b = this.get("host"), c = b.get("container").get("offsetWidth"), g = this.get("aspectRatio"), f = Math.min(this.get("gutter"), this.get("columnWidth")), k = this.get("mixedContent"),
      m = "min" == this.get("columnWidthBehavior") ? "floor" : "ceil", n = Math[m](c / this.get("columnWidth")), n = Math.max(n, 1), p = (c - f * (n - 1)) / n, q = Math.floor(p), r = [], m = 0; m < n; m++) r[m] = 0;
      b.get("slides").each(function(a, b) {
        var e = b % n;
        g || (e = r.indexOf(Math.min.apply(Math, r)));
        var m = q * e;
        0 !== e && (m += f * e);
        var s, x = q;
        s = g ? x / g : this._getBrickHeight(a, b, x);
        e === n - 1 && q !== p && (x = c - m, k || a.addClass("slide-stretched"));
        a.setStyles({
          top: r[e] + "px",
          left: m + "px",
          width: x + "px",
          height: s + "px"
        }).addClass("positioned");
        s += f;
        r[e] += s
      }, this);
      b.get("container").setStyle("height",
      Math.max.apply(Math, r) - f + "px");
      a.later(1, this, this.loadItems)
    },
    _getBrickHeight: function(b, c, g) {
      if (this._hasValidDimensions(this.dimensions[c])) return Math.floor(a.Squarespace.Rendering.getHeightForWidth(this.dimensions[c].width, this.dimensions[c].height, g));
      b.setStyles({
        width: g + "px",
        height: null
      });
      b.all("img").each(function(a) {
        ImageLoader.load(a, {
          load: "viewport"
        })
      });
      return b.get("offsetHeight")
    },
    _hasValidDimensions: function(a) {
      return a && a.width && a.height ? !0 : !1
    },
    _evaluateBricks: function() {
      var b = this.get("host");
      this.dimensions = [];
      b.getSlides().each(function(b) {
        (b = b.one("img[data-image-dimensions]")) && b.loader.set("mode", this.get("aspectRatio") ? "fill" : "none");
        b && !this.get("mixedContent") ? this.dimensions.push(a.Squarespace.Rendering.getDimensionsFromNode(b)) : this.dimensions.push(null)
      }, this)
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-autocolumns",
    SLIDE_CLASS: "sqs-gallery-design-autocolumns-slide",
    ATTRS: {
      columnWidthBehavior: {
        value: "min"
      },
      columnWidth: {
        value: 250
      },
      gutter: {
        value: 0
      },
      aspectRatio: {
        value: 0
      },
      mixedContent: {
        value: !1
      },
      lightbox: {
        value: !1
      }
    }
  });
  b.list = a.Base.create("GalleryDesignList", a.Plugin.Base, [a.Squarespace.GismoBase], {
    initializer: function() {
      this.host = this.get("host");
      this.host.get("container").addClass(this._getProperty("CONTAINER_CLASS"));
      this.host.get("slides").addClass(this._getProperty("SLIDE_CLASS"));
      this.host.plugLoaders();
      this._processImages();
      this.host.loadImages(this.host.getImages());
      this.get("lightbox") && a.Squarespace.GalleryManager.lightboxify(this.host.get("slides"));
      this._renderUI()
    },
    destructor: function() {
      this.host = null
    },
    _renderUI: function() {
      var a = this.host.get("designOptions.imageWidth"),
        b = parseInt(100 - a, 10);
      this.host.get("elements.imageContainers").setStyle("width", a + "%");
      this.host.get("elements.metaContainers").setStyle("width", b + "%");
      this.host.get("slides").each(function(a) {
        a.one("img") || a.addClass("no-image")
      })
    },
    _processImages: function() {
      var a = this.get("aspectRatio");
      a && (this.host.getImages("image").each(function(b) {
        b.get("parentNode").setStyle("paddingBottom",
        100 / a + "%")
      }), this.host.getSlides("video").each(function(b) {
        b.one(".sqs-video-wrapper").setStyle("paddingBottom", 100 / a + "%")
      }))
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-list",
    SLIDE_CLASS: "sqs-gallery-design-list-slide",
    ATTRS: {
      aspectRatio: {
        value: 0
      },
      lightbox: {
        value: !1
      }
    }
  });
  b.carousel = a.Base.create("GalleryDesignCarousel", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByCurrentIndex], {
    initializer: function() {
      this.carousel = this.get("host");
      this.$container = this.carousel.get("container");
      this.$slides = this.carousel.get("slides");
      this.currentGroupFirstImage = this.currentGroup = 0;
      this.isPagerSetUp = !1;
      this.$container.addClass(this._getProperty("CONTAINER_CLASS"));
      this.$slides.addClass(this._getProperty("SLIDE_CLASS"));
      this.carousel.set("loop", !1);
      this.carousel.plugLoaders();
      this._processImages();
      this.get("lightbox") && a.Squarespace.GalleryManager.lightboxify(this.$slides);
      this.carousel.loadImages(this.carousel.getImages());
      this._getAndSetSlideDims();
      this._bindUI();
      this._updatePager()
    },
    _getAndSetSlideDims: function() {
      var a = this.$slides.get("boundingBox")[0];
      this.totalSlidesInViewOld = this.totalSlidesInView;
      this.$container.removeAttribute("style");
      this.$slides.removeAttribute("style");
      this.containerWidthPx = Math.round(parseFloat(this.$container.getStyle("width")));
      this.slideWidthPx = Math.round(parseFloat(a.getStyle("width")));
      this.slidePaddingPx = Math.round(parseFloat(a.getStyle("paddingRight")));
      this.$container.setStyle("width", this.containerWidthPx);
      this.$slides.each(function(a) {
        a.setStyles({
          width: this.slideWidthPx,
          paddingRight: this.slidePaddingPx,
          paddingLeft: this.slidePaddingPx
        }).addClass("positioned")
      }, this);
      this.totalSlides = this.carousel.get("numberOfSlides");
      this.totalSlidesInView = Math.ceil(this.containerWidthPx / this.slideWidthPx);
      this.totalGroups = Math.ceil(this.totalSlides / this.totalSlidesInView)
    },
    _bindUI: function() {
      this.carousel.on("currentIndexChange", function(a) {
        this._moveCarousel(a);
        this._updatePager();
        this.currentGroupFirstImage = this.totalSlidesInView * this.currentGroup
      }, this);
      var b = new a.Squarespace.ResizeEmitter({
        timeout: 100
      });
      this._event(b.on("resize", this._getAndSetSlideDims, this));
      this._event(b.on("resize", this.refreshGroupIndex, this));
      this._event(b.on("resize", this._updatePager, this))
    },
    _moveCarousel: function(a) {
      a.newVal > a.prevVal ? this.goToNextGroup() : this.goToPrevGroup()
    },
    _updatePager: function() {
      var a = this.carousel.get("elements.next"),
        b = this.carousel.get("elements.previous"),
        c = this._getProperty("DISABLED_PAGINATION_CLASS");
      !this.isPagerSetUp && this.totalSlides <= this.totalSlidesInView ? (a.addClass("sqs-hidden"), b.addClass("sqs-hidden"), this.isPagerSetUp = !0) : 0 === this.currentGroup ? (b.addClass(c), a.removeClass(c)) : this.totalGroups - 1 == this.currentGroup ? (b.removeClass(c), a.addClass(c)) : (b.removeClass(c), a.removeClass(c))
    },
    refreshGroupIndex: function() {
      this.newCurrentGroup = this.totalSlidesInViewOld > this.totalSlidesInView ? Math.ceil(this.currentGroupFirstImage / this.totalSlidesInView) : Math.floor(this.currentGroupFirstImage / this.totalSlidesInView);
      this.goToGroup(this.newCurrentGroup)
    },
    goToGroup: function(a) {
      this.$container.setStyle("transform", "translatex(-" + a * this.slideWidthPx * this.totalSlidesInView + "px)");
      this.currentGroup = a
    },
    goToNextGroup: function() {
      this.totalGroups - 1 !== this.currentGroup && (this.currentGroup++, this.goToGroup(this.currentGroup))
    },
    goToPrevGroup: function() {
      0 !== this.currentGroup && (this.currentGroup--, this.goToGroup(this.currentGroup))
    },
    _processImages: function() {
      var a = this.get("aspectRatio");
      a && (this.carousel.getImages("image").each(function(b) {
        b.get("parentNode").setStyle("paddingBottom",
        100 / a + "%")
      }), this.carousel.getSlides("video").each(function(b) {
        b.one(".sqs-video-wrapper").setStyle("paddingBottom", 100 / a + "%")
      }))
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-carousel",
    SLIDE_CLASS: "sqs-gallery-design-carousel-slide",
    DISABLED_PAGINATION_CLASS: "sqs-disabled",
    ATTRS: {
      aspectRatio: {
        value: 0
      },
      lightbox: {
        value: !1
      }
    }
  });
  b.autogrid = a.Base.create("GalleryDesignAutoGrid", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByViewport], {
    initializer: function() {
      var b = this.get("host");
      b.get("container").addClass(this._getProperty("CONTAINER_CLASS"));
      b.get("slides").addClass(this._getProperty("SLIDE_CLASS"));
      b.plugLoaders();
      this._processImages();
      this.get("lightbox") && a.Squarespace.GalleryManager.lightboxify(b.get("slides"));
      this._bindUI();
      this._syncUI()
    },
    _bindUI: function() {
      var b = this.get("host");
      b.after("refresh", this._syncUI, this);
      var c = new a.Squarespace.ResizeEmitter({
        timeout: 100
      });
      this._event(c.on("resize", this._syncUI, this));
      b.after("aspectRatioChange", function(a) {
        this.set("aspectRatio",
        a.newVal);
        this._processImages();
        this._syncUI()
      }, this);
      b.after(["columnWidthChange", "columnWidthBehaviorChange", "gutterChange"], function(a) {
        this.set(a.attrName, a.newVal);
        this._syncUI()
      }, this)
    },
    destructor: function() {
      var a = this.get("host");
      a.get("container").removeClass(this._getProperty("CONTAINER_CLASS"));
      var b = a.get("slides");
      b.removeClass(this._getProperty("SLIDE_CLASS"));
      b.setStyles({
        width: null,
        marginBottom: null,
        marginRight: null,
        clear: null
      });
      a.getImages().each(function(a) {
        a.get("parentNode").test(".img-wrapper") && a.unwrap();
        a.setStyle("position", null)
      });
      this._flushEvents()
    },
    _syncUI: function() {
      var b = this.get("host"),
        c = b.get("container").get("offsetWidth"),
        g = this.get("gutter"),
        f = "min" == this.get("columnWidthBehavior") ? "floor" : "ceil",
        k = Math[f](c / this.get("columnWidth")),
        k = Math.max(k, 1),
        m = (c - g * (k - 1)) / k;
      b.get("slides").each(function(a, b) {
        var e = b % k;
        a.setStyles({
          width: 100 * m / c + "%",
          marginBottom: 100 * g / c + "%",
          marginRight: e === k - 1 ? 0 : 100 * g / c + "%",
          clear: 0 === e ? "left" : null
        }).addClass("positioned")
      }, this);
      b.get("container").setStyle("marginBottom", - 100 * g / c + "%");
      a.later(1, this, this.loadItems)
    },
    _processImages: function() {
      var a = this.get("host"),
        b = this.get("aspectRatio");
      b ? (a.getImages("image").each(function(a) {
        a.get("parentNode").test(".img-wrapper") || a.wrap('<div class="img-wrapper content-fill"></div>');
        a.get("parentNode").setStyle("paddingBottom", 100 / b + "%")
      }), a.getSlides("video").each(function(a) {
        a.one(".sqs-video-wrapper").videoloader.set("mode", "none");
        a.one(".intrinsic-inner").setStyle("paddingBottom", 100 / b + "%")
      })) : a.getImages("image").each(function(a) {
        a.get("parentNode").test(".img-wrapper") && a.unwrap();
        a.setStyle("position", null)
      })
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-autogrid",
    SLIDE_CLASS: "sqs-gallery-design-autogrid-slide",
    ATTRS: {
      columnWidthBehavior: {
        value: "min"
      },
      columnWidth: {
        value: 250
      },
      gutter: {
        value: 0
      },
      aspectRatio: {
        value: 0
      },
      lightbox: {
        value: !1
      }
    }
  });
  b.autorows = a.Base.create("GalleryDesignAutoRows", a.Plugin.Base, [a.Squarespace.GismoBase, f.ByViewport], {
    initializer: function() {
      var b = this.get("host");
      b.get("container").addClass(this._getProperty("CONTAINER_CLASS"));
      b.get("slides").addClass(this._getProperty("SLIDE_CLASS"));
      b.plugLoaders();
      this._evaluateRatios();
      this.get("lightbox") && a.Squarespace.GalleryManager.lightboxify(this.get("host").get("slides"));
      this._bindUI();
      this._syncUI()
    },
    destructor: function() {
      var a = this.get("host");
      a.get("container").removeClass(this._getProperty("CONTAINER_CLASS"));
      a = a.get("slides");
      a.removeClass(this._getProperty("SLIDE_CLASS"));
      a.setStyles({
        height: null,
        width: null,
        marginRight: null,
        marginBottom: null
      });
      this._flushEvents()
    },
    _bindUI: function() {
      var a = this.get("host");
      a.after("refresh", this._syncUI, this);
      a.after(["rowHeightChange", "gutterChange"], function(a) {
        this.set(a.attrName, a.newVal);
        this._syncUI()
      }, this)
    },
    _syncUI: function() {
      var b = this.get("host"),
        c = b.get("container").get("offsetWidth"),
        g = this.get("gutter"),
        f = this.get("rowHeight"),
        k = new a.NodeList,
        m = 0,
        n = 0,
        p = function(a, b) {
          var e = 0;
          a.each(function(f, l) {
            var k = f.one(".sqs-video-wrapper, img"),
              k = Math.floor(k.getData("aspectRatio") * b),
              m = l === a.size() - 1;
            m && (k = c - e);
            f.setStyles({
              height: b + "px",
              width: k + "px",
              marginRight: m ? 0 : g + "px",
              marginBottom: g + "px"
            });
            e += g + k
          })
        };
      b.get("slides").each(function(b) {
        var e = b.one(".sqs-video-wrapper, img"),
          u = e.getData("aspectRatio") * f;
        u + m > c && (p(k, f + (c - m) / n), n = m = 0, k = new a.NodeList);
        n += e.getData("aspectRatio");
        m += g + u;
        k.push(b)
      });
      p(k, f);
      a.later(1, this, this.loadItems)
    },
    _evaluateRatios: function() {
      this.get("host").get("slides").each(function(b) {
        b = b.one(".sqs-video-wrapper, img");
        var c;
        c = b.test(".sqs-video-wrapper") ? {
          width: b.videoloader.getWidth(),
          height: b.videoloader.getHeight()
        } : a.Squarespace.Rendering.getDimensionsFromNode(b);
        b.setData("aspectRatio", c.width / c.height)
      })
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-design",
    CONTAINER_CLASS: "sqs-gallery-design-autorows",
    SLIDE_CLASS: "sqs-gallery-design-autorows-slide",
    ATTRS: {
      rowHeight: {
        value: 250
      },
      gutter: {
        value: 20
      },
      lightbox: {
        value: !0
      }
    }
  });
  var c = {};
  c.base = a.Base.create("GalleryDesignStackedTransition", a.Plugin.Base, [a.Squarespace.GismoBase], {
    baseZIndex: 888,
    initializer: function() {
      this.get("host").get("host").get("slides").setStyles({
        opacity: 0,
        zIndex: this.baseZIndex
      });
      a.UA.ie && this.get("host").get("host").get("slides").setStyles({
        visibility: "hidden"
      });
      this.get("host").on("transition", this.transition, this)
    },
    _getProperty: function(a) {
      return this.constructor[a]
    }
  }, {
    NS: "gallery-stacked-transition"
  });
  c.fade = a.Base.create("GalleryDesignStackedTransition", c.base, [], {
    transition: function(b) {
      this.get("host").get("host").set("inMotion", !0);
      var c = b.newVal || this.get("host").get("host").get("currentIndex");
      b = b.prevVal;
      if (a.Lang.isNumber(c) && (c = this.get("host").get("host").getSlides().item(c))) c.setStyles({
        visibility: null,
        zIndex: this.baseZIndex + 1
      }), this._anim(c, {
        opacity: 1
      }, {
        duration: this.get("host").get("speed"),
        easing: this.get("host").get("easing"),
        end: a.bind(function() {
          this.get("host").get("host").set("inMotion", !1)
        }, this)
      }).run();
      if (a.Lang.isNumber(b)) {
        var g = this.get("host").get("host").getSlides().item(b);
        g && (g.setStyles({
          zIndex: this.baseZIndex
        }), this._anim(g, {
          opacity: 0
        }, {
          duration: 1.2 * this.get("host").get("speed"),
          easing: this.get("host").get("easing"),
          end: a.bind(function() {
            this.get("host").get("host")._currentSlide() !== g && g.setStyles({
              visibility: "hidden",
              zIndex: null
            });
            this.get("host").get("host").set("inMotion", !1)
          }, this)
        }).run())
      }
    }
  }, {
    NS: "gallery-stacked-transition"
  });
  c.kenBurns = a.Base.create("GalleryDesignStackedTransition", c.base, [], {
    initializer: function() {
      Modernizr.csstransforms && this.get("host").get("host").getImages().each(function(a) {
        var b = a.getAttribute("data-image-focal-point"),
          b = b.split(",");
        a.setStyles({
          transformOrigin: 100 * b[0] + "%" + 100 * b[1] + "%",
          transform: "translatez(0)"
        })
      })
    },
    transition: function(b) {
      this.get("host").get("host").set("inMotion", !0);
      var c = b.newVal || this.get("host").get("host").get("currentIndex");
      b = b.prevVal;
      var g = a.Lang.isNumber(c) && this.get("host").get("host").getSlides().item(c);
      b = a.Lang.isNumber(b) && this.get("host").get("host").getSlides().item(b);
      if (g) {
        if (Modernizr.csstransforms) {
          var f = 0 === c % 2 ? this.get("zoom") : 1,
            c = 0 !== c % 2 ? this.get("zoom") : 1;
          JSTween.tween(g.one("img").getDOMNode(), {
            transform: {
              start: "scale(" + f + ") translatez(0)",
              stop: "scale(" + c + ") translatez(0)",
              duration: this.get("host").get("host").get("autoplayOptions.timeout") / 1E3 + this.get("host").get("speed"),
              effect: "linear",
              onStop: a.bind(function() {
                g.one("img").setStyle("transform", "translatez(0) scale(" + this._stop + ")")
              }, this)
            }
          })
        }
        g.setStyles({
          zIndex: this.baseZIndex + 1
        });
        JSTween.tween(g.getDOMNode(), {
          opacity: {
            start: 0,
            stop: 100,
            duration: this.get("host").get("speed"),
            effect: "linear",
            onStop: a.bind(function() {
              this.get("host").get("host").set("inMotion", !1)
            }, this)
          }
        });
        JSTween.play()
      }
      b && (b.setStyles({
        zIndex: this.baseZIndex
      }), JSTween.tween(b.getDOMNode(), {
        opacity: {
          start: 100,
          stop: 0,
          duration: this.get("host").get("speed"),
          effect: "linear",
          onStop: a.bind(function() {
            this.get("host").get("host").set("inMotion", !1)
          }, this)
        }
      }), JSTween.play())
    }
  }, {
    NS: "gallery-stacked-transition",
    ATTRS: {
      zoom: {
        value: 1.075
      }
    }
  });
  c.swipe = a.Base.create("GalleryDesignStackedTransition", c.base, [], {
    initializer: function() {
      this.galleryHost = this.get("host").get("host");
      this.container = this.galleryHost.get("container");
      this.slides = this.galleryHost.get("slides");
      this.container.addClass(this._getProperty("CONTAINER_CLASS"));
      this.container.get("parentNode").addClass(this._getProperty("WRAPPER_CLASS"));
      this.slides.setStyles({
        opacity: null,
        visibility: null
      });
      this.bindUI();
      this.syncUI();
      this._event((new a.Squarespace.ResizeEmitter({
        timeout: 100
      })).on("resize", function() {
        this.syncUI()
      }, this))
    },
    bindUI: function() {
      var a, b, c = this.container.get("parentNode").width() / 2.25;
      this.container.on("touchstart", function(c) {
        b = !1;
        a = (new Date).getTime()
      });
      this.container.on("touchmove", function(a) {
        b = !0
      });
      this.container.on("touchend", function(f) {
        var k = this.container.get("parentNode").get("scrollLeft"),
          m = this.galleryHost.get("currentIndex"),
          n = this._getSlidePosition(m),
          p = Math.abs(n - k),
          q = 250 < (new Date).getTime() - a ? !0 : !1;
        if (!0 === q) p > c && (k > n ? m++ : m--);
        else if (!1 === q && !1 === b) {
          if (!f.target.get("tagName").match(/img/i)) return;
          m++
        } else !0 === b && 0 < p && (k > n ? m++ : m--);
        this._adjustPosition(m)
      }, this)
    },
    syncUI: function() {
      this.containerWidth = this.container.get("parentNode").width();
      this.container.setStyle("width", this.slides.size() * this.containerWidth + "px");
      this.slides.setStyle("width",
      this.containerWidth + "px");
      this._adjustPosition()
    },
    transition: function(a) {
      this.galleryHost.get("inMotion") || 0 === this.slides.size() || this._adjustPosition()
    },
    _getSlidePosition: function(a) {
      return this.containerWidth * a
    },
    _adjustPosition: function(b) {
      b = a.Lang.isUndefined(b) ? this.galleryHost.get("currentIndex") : b;
      var c = this.container.get("parentNode").get("scrollLeft"),
        g = this._getSlidePosition(b);
      c != g && (this.galleryHost.set("inMotion", !0), (new a.Anim({
        node: this.container.get("parentNode"),
        to: {
          scrollLeft: g
        },
        duration: 0.28,
        easing: a.Easing.easeOut
      })).run().on("end", function() {
        this.galleryHost.set("inMotion", !1);
        this.galleryHost.set("currentIndex", b)
      }, this))
    },
    destructor: function() {
      this.container.removeClass(this._getProperty("CONTAINER_CLASS"));
      this._flushEvents()
    }
  }, {
    NS: "gallery-stacked-transition",
    CONTAINER_CLASS: "sqs-gallery-design-stacked-swipe",
    WRAPPER_CLASS: "sqs-gallery-design-stacked-swipe-wrapper",
    ATTRS: {}
  });
  c.scroll = a.Base.create("GalleryDesignStackedTransition", c.base, [], {
    initializer: function() {
      this.galleryHost = this.get("host").get("host");
      this.container = this.galleryHost.get("container");
      this.slides = this.galleryHost.get("slides");
      this.containerWidth = this.container.get("parentNode").width();
      this.container.addClass(this._getProperty("CONTAINER_CLASS"));
      this.slides.setStyles({
        opacity: 1,
        visibility: "visible"
      });
      this.container.setStyle("width", this.slides.size() * this.containerWidth + "px");
      this.slides.setStyle("width", this.containerWidth + "px");
      this._adjustPosition(this._getCurrentSlidePosition());
      this._event((new a.Squarespace.ResizeEmitter({
        timeout: 100
      })).on("resize",

      function() {
        this.containerWidth = this.container.get("parentNode").width();
        this.container.setStyle("width", this.slides.size() * this.containerWidth + "px");
        this.slides.setStyle("width", this.containerWidth + "px");
        this._adjustPosition(this._getCurrentSlidePosition())
      }, this));
      Modernizr && Modernizr.touch && (this.touchStartPoint = this.touchListener = null, this.touchListener = new a.Squarespace.TouchEventListener(this.container, {
        move: !0,
        swipe: !0,
        preventDefaultTouchEvents: !1,
        preventDefaultGestureEvents: !0
      }), a.on("squarespace:ontouch",

      function(a) {
        this._onTouch(a)
      }, this))
    },
    destructor: function() {
      this.container.removeClass(this._getProperty("CONTAINER_CLASS"));
      this.touchListener && this.touchListener.removeEventHandlers();
      this._flushEvents()
    },
    transition: function(a) {
      this.galleryHost.get("inMotion") || 0 === this.slides.size() || this._adjustPosition(this._getCurrentSlidePosition(), !0)
    },
    _getOffsetAttribute: function() {
      return this.get("direction"), "offsetWidth"
    },
    _getContainerDim: function() {
      return this.get("host").get("host").get("container").get(this._getOffsetAttribute())
    },
    _getDirection: function(a, b) {
      return a < b ? 1 : -1
    },
    _getCurrentSlidePosition: function() {
      return -1 * this.containerWidth * this.galleryHost.get("currentIndex")
    },
    _onTouch: function(b) {
      var c = this.get("host").get("host").get("container"),
        g = b.targetEl;
      if (g.getAttribute("href")) this._handleAnchors(g), b.touchEvent.preventDefault();
      else if (!(1 < b.touchEvent.touches.length)) {
        if (c.contains(g) && !g.ancestor(".image-detail-wrapper, .sqs-video-wrapper")) switch (b.action) {
        case a.Squarespace.TouchEventListener.ActionTypes.swipeUp:
          a.fire("transition:scroll:swipeup", {
            container: c
          });
          break;
        case a.Squarespace.TouchEventListener.ActionTypes.swipeDown:
          a.fire("transition:scroll:swipedown", {
            container: c
          });
          break;
        case a.Squarespace.TouchEventListener.ActionTypes.tapped:
          a.fire("transition:scroll:tapped", b);
          break;
        case a.Squarespace.TouchEventListener.ActionTypes.touchStart:
          this.touchStartPoint = b.point;
          break;
        case a.Squarespace.TouchEventListener.ActionTypes.touchMove:
          this._scrollByDistance(b.point);
          break;
        case a.Squarespace.TouchEventListener.ActionTypes.touchEnd:
          this._finishScroll(b.point)
        }
        g.ancestor(".image-detail-wrapper, .sqs-video-wrapper") || b.touchEvent.preventDefault()
      }
    },
    _handleAnchors: a.throttle(function(a) {
      a.getAttribute("target").match(/_blank/) ? window.open(a.getAttribute("href")) : window.location.href = a.getAttribute("href")
    }),
    _scrollByDistance: function(a) {
      if (this.touchStartPoint && !(2 > this.slides.size())) {
        var b = this.get("host").get("host"),
          c = b.get("slides"),
          f = b.get("currentIndex"),
          k = 0,
          k = "vertical" == this.get("direction") ? this.touchStartPoint.y - a.y : this.touchStartPoint.x - a.x;
        0 < k && f + 1 >= c.size() ? (b.fire("reachedEnd"), this.touchStartPoint = null) : 0 > k && 0 > f - 1 ? (b.fire("reachedBeginning"), this.touchStartPoint = null) : this._adjustPosition(this._getCurrentSlidePosition() - k)
      }
    },
    _finishScroll: function(a) {
      if (this.touchStartPoint && !(2 > this.slides.size())) {
        var b = this.galleryHost,
          c = 0,
          f = b.get("currentIndex"),
          c = "vertical" == this.get("direction") ? this.touchStartPoint.y - a.y : this.touchStartPoint.x - a.x,
          f = 0 <= c ? f + 1 : f - 1;
        0 > f ? (b.fire("reachedBeginning"), this.touchStartPoint = null) : f >= b.get("slides").size() ? (b.fire("reachedEnd"), this.touchStartPoint = null) : (this._adjustPosition(-1 * this.containerWidth * f, !0, 0.4), b.set("inMotion", !1), b.set("currentIndex", f, {
          direction: 0 < c ? 1 : -1
        }))
      }
    },
    _adjustPosition: function(b, c, g) {
      var f = {}, k = this.get("direction"),
        m = this.get("accelerate");
      m ? f.transform = "vertical" == k ? "translate3d(0," + b + "px,0)" : "translate3d(" + b + "px,0,0)" : f["vertical" == k ? "top" : "left"] = b + "px";
      c ? m ? this.container.transition({
        duration: g || this.get("host").get("speed"),
        transform: f.transform,
        easing: g ? a.Easing.easeInStrong : this.get("host").get("easing")
      }) : (this.galleryHost.set("inMotion", !0),
      this._anim(this.container, f, {
        duration: g || this.get("host").get("speed"),
        easing: g ? a.Easing.easeInStrong : this.get("host").get("easing")
      }).run().on("end", function() {
        this.galleryHost.set("inMotion", !1)
      }, this)) : this.container.setStyles(f)
    }
  }, {
    NS: "gallery-stacked-transition",
    CONTAINER_CLASS: "sqs-gallery-design-stacked-scrollHorz",
    ATTRS: {
      direction: {
        value: "horizontal"
      },
      accelerate: {
        value: !1
      }
    }
  });
  a.Squarespace.GalleryLoadingBehavior = f;
  a.Squarespace.GalleryStackedTransitions = c;
  a.Squarespace.GalleryDesigns2 = b
}, "1.0", {
  requires: "async-queue base dom-style-ie event-key event-mouseenter history node plugin squarespace-animations squarespace-common squarespace-debugger squarespace-image-loader squarespace-touch-event-listener squarespace-util squarespace-video-loader squarespace-widgets-gismo widget".split(" ")
});
YUI.add("datasource-xmlschema", function(a, f) {
  var b = function() {
    b.superclass.constructor.apply(this, arguments)
  };
  a.mix(b, {
    NS: "schema",
    NAME: "dataSourceXMLSchema",
    ATTRS: {
      schema: {}
    }
  });
  a.extend(b, a.Plugin.Base, {
    initializer: function(a) {
      this.doBefore("_defDataFn", this._beforeDefDataFn)
    },
    _beforeDefDataFn: function(b) {
      var e = this.get("schema"),
        f = b.details[0];
      b = a.XML.parse(b.data.responseText) || b.data;
      f.response = a.DataSchema.XML.apply.call(this, e, b) || {
        meta: {},
        results: b
      };
      this.get("host").fire("response", f);
      return new a.Do.Halt("DataSourceXMLSchema plugin halted _defDataFn")
    }
  });
  a.namespace("Plugin").DataSourceXMLSchema = b
}, "3.17.2", {
  requires: ["datasource-local", "plugin", "datatype-xml", "dataschema-xml"]
});
YUI.add("base-base", function(a, f) {
  function b() {
    h.apply(this, arguments);
    g.apply(this, arguments);
    e.apply(this, arguments)
  }
  var c = a.AttributeCore,
    e = a.AttributeExtras,
    h = a.BaseCore,
    g = a.BaseObservable;
  b._ATTR_CFG = h._ATTR_CFG.concat(g._ATTR_CFG);
  b._NON_ATTRS_CFG = h._NON_ATTRS_CFG.concat(g._NON_ATTRS_CFG);
  b.NAME = "base";
  b.ATTRS = c.protectAttrs(h.ATTRS);
  b.modifyAttrs = h.modifyAttrs;
  a.mix(b, h, !1, null, 1);
  a.mix(b, e, !1, null, 1);
  a.mix(b, g, !0, null, 1);
  b.prototype.constructor = b;
  a.Base = b
}, "3.17.2", {
  requires: ["attribute-base",
    "base-core", "base-observable"]
});
YUI.add("squarespace-SearchContainerFullScreen-template", function(a) {
  var f = a.Handlebars;
  (function() {
    var a = f.template;
    (f.templates = f.templates || {})["SearchContainerFullScreen.html"] = a(function(a, b, f, g, l) {
      function k(a, b) {
        var c, g;
        c = '\n      <div class="search-notice">';
        (g = f.notice) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.notice, g = typeof g === y ? g.apply(a) : g);
        return c += s(g) + "</div>\n    "
      }
      function m(a, b) {
        var c, g;
        c = '\n      <div class="search-notice error">';
        (g = f.error) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.error,
        g = typeof g === y ? g.apply(a) : g);
        return c += s(g) + "</div>\n    "
      }
      function n(a, b) {
        var c, g;
        c = '\n  \t<div class="sqs-search-container-list sqs-search-ui-list">\n      <div class="search-results">\n        ';
        if ((g = f.each.call(a, a.items, {
          hash: {},
          inverse: x.noop,
          fn: x.program(9, p, b),
          data: b
        })) || 0 === g) c += g;
        return c + "\n      </div>\n    </div>\n    "
      }
      function p(a, b) {
        var c, g;
        c = '\n        <div class="search-result" itemid="';
        (g = f.id) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.id, g = typeof g === y ? g.apply(a) : g);
        c += s(g) + '">\n          <div class="sqs-search-container-item sqs-search-ui-item sqs-post ';
        if ((g = f["if"].call(a, a.recordTypeName, {
          hash: {},
          inverse: x.noop,
          fn: x.program(10, q, b),
          data: b
        })) || 0 === g) c += g;
        c += " ";
        (g = f.documentType) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.documentType, g = typeof g === y ? g.apply(a) : g);
        c += s(g) + '">\n            ';
        if ((g = f["if"].call(a, a.imageUrl, {
          hash: {},
          inverse: x.noop,
          fn: x.program(12, r, b),
          data: b
        })) || 0 === g) c += g;
        c += '\n            <div class="sqs-title">';
        (g = f.title) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.title, g = typeof g === y ? g.apply(a) : g);
        if (g || 0 === g) c += g;
        c += "\n              ";
        if ((g = f["if"].call(a, a.recordTypeName, {
          hash: {},
          inverse: x.noop,
          fn: x.program(14, u, b),
          data: b
        })) || 0 === g) c += g;
        c += "\n              ";
        if ((g = f["if"].call(a, a.editable, {
          hash: {},
          inverse: x.noop,
          fn: x.program(16, v, b),
          data: b
        })) || 0 === g) c += g;
        c += '\n            </div>\n            <div class="sqs-content">\n              ';
        if ((g = f.each.call(a, a.highlight, {
          hash: {},
          inverse: x.noop,
          fn: x.program(18, w, b),
          data: b
        })) || 0 === g) c += g;
        return c + "\n            </div>\n          </div>\n        </div>\n        "
      }
      function q(a, b) {
        var c, g;
        c = "sqs-post-type-";
        (g = f.recordTypeName) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.recordTypeName, g = typeof g === y ? g.apply(a) : g);
        return c += s(g)
      }
      function r(a, b) {
        var c, g;
        c = '\n            <div class="sqs-main-image">\n              <img src="';
        (g = f.imageUrl) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.imageUrl, g = typeof g === y ? g.apply(a) : g);
        return c += s(g) + '?format=150w">\n            </div>\n            '
      }
      function u(a, b) {
        var c, g;
        c = '\n              <span class="record-type">';
        (g = f.recordTypeName) ? g = g.call(a, {
          hash: {},
          data: b
        }) : (g = a.recordTypeName, g = typeof g === y ? g.apply(a) : g);
        return c += s(g) + "</span>\n              "
      }
      function v(a, b) {
        return '\n              <span class="edit">Edit</span>\n              '
      }
      function w(a, b) {
        var c, g;
        c = "\n              <span>&hellip;</span>\n              <span>";
        if ((g = typeof a === y ? a.apply(a) : a) || 0 === g) c += g;
        return c + "</span>\n              "
      }
      this.compilerInfo = [4, ">= 1.0.0"];
      f = this.merge(f, a.helpers);
      l = l || {};
      var y = "function",
        s = this.escapeExpression,
        x = this;
      a = '<div class="sqs-search-ui-close test"></div>\n<div id="searchInputBox" class="sqs-search-ui-input"></div>\n<div class="sqs-search-ui-result">\n  ';
      if ((b = f["if"].call(b, b.loading, {
        hash: {},
        inverse: x.program(3, function(a, b) {
          var c, g;
          c = "\n    ";
          if ((g = f["if"].call(a, a.notice, {
            hash: {},
            inverse: x.noop,
            fn: x.program(4, k, b),
            data: b
          })) || 0 === g) c += g;
          c += "\n    ";
          if ((g = f["if"].call(a, a.error, {
            hash: {},
            inverse: x.noop,
            fn: x.program(6, m, b),
            data: b
          })) || 0 === g) c += g;
          c += "\n  \t";
          if ((g = f["if"].call(a, a.items, {
            hash: {},
            inverse: x.noop,
            fn: x.program(8, n, b),
            data: b
          })) || 0 === g) c += g;
          return c + "\n  "
        }, l),
        fn: x.program(1, function(a, b) {
          return '\n    <div class="loading"><div class="spinner-wrapper"></div><div class="desc"> Searching your content... </div></div>\n  '
        },
        l),
        data: l
      })) || 0 === b) a += b;
      return a + "\n</div>\n"
    })
  })();
  a.Handlebars.registerPartial("SearchContainerFullScreen.html".replace("/", "."), f.templates["SearchContainerFullScreen.html"])
}, "1.0", {
  requires: ["handlebars-base"]
});
YUI.add("event-flick", function(a, f) {
  var b = a.Event._GESTURE_MAP,
    c = {
      start: b.start,
      end: b.end,
      move: b.move
    };
  a.Event.define("flick", {
    on: function(a, b, g) {
      a = a.on(c.start, this._onStart, this, a, b, g);
      b._fsh = a
    },
    detach: function(a, b, c) {
      a = b._fsh;
      c = b._feh;
      a && (a.detach(), b._fsh = null);
      c && (c.detach(), b._feh = null)
    },
    processArgs: function(b) {
      b = 3 < b.length ? a.merge(b.splice(3, 1)[0]) : {};
      "minVelocity" in b || (b.minVelocity = this.MIN_VELOCITY);
      "minDistance" in b || (b.minDistance = this.MIN_DISTANCE);
      "preventDefault" in b || (b.preventDefault = this.PREVENT_DEFAULT);
      return b
    },
    _onStart: function(b, f, g, l) {
      var k = !0,
        m = g._extra.preventDefault,
        n = b;
      b.touches && (k = 1 === b.touches.length, b = b.touches[0]);
      k && (m && (!m.call || m(b)) && n.preventDefault(), b.flick = {
        time: (new Date).getTime()
      }, g._fs = b, b = g._feh, k = 9 === f.get("nodeType") ? f : f.get("ownerDocument"), b || (b = k.on(c.end, a.bind(this._onEnd, this), null, f, g, l), g._feh = b), g._fmh = k.once(c.move, a.bind(this._onMove, this), null, f, g, l))
    },
    _onMove: function(a, b, c, f) {
      if ((a = c._fs) && a.flick) a.flick.time = (new Date).getTime()
    },
    _onEnd: function(a, b, c, f) {
      var k = (new Date).getTime();
      b = c._fs;
      var m = !! b,
        n = a,
        p, q;
      if (k = c._fmh) k.detach(), delete c._fmh;
      m && (a.changedTouches && (1 === a.changedTouches.length && 0 === a.touches.length ? n = a.changedTouches[0] : m = !1), m && (m = c._extra, (k = m.preventDefault) && (!k.call || k(a)) && a.preventDefault(), p = b.flick.time, k = (new Date).getTime(), k -= p, p = [n.pageX - b.pageX, n.pageY - b.pageY], n = m.axis ? m.axis : Math.abs(p[0]) >= Math.abs(p[1]) ? "x" : "y", p = p["x" === n ? 0 : 1], q = 0 !== k ? p / k : 0, isFinite(q) && (Math.abs(p) >= m.minDistance && Math.abs(q) >= m.minVelocity) && (a.type = "flick", a.flick = {
        time: k,
        distance: p,
        velocity: q,
        axis: n,
        start: b
      }, f.fire(a)), c._fs = null))
    },
    MIN_VELOCITY: 0,
    MIN_DISTANCE: 0,
    PREVENT_DEFAULT: !1
  })
}, "3.17.2", {
  requires: ["node-base", "event-touch", "event-synthetic"]
});
YUI.add("event-resize", function(a, f) {
  a.Event.define("windowresize", {
    on: a.UA.gecko && 1.91 > a.UA.gecko ? function(b, c, e) {
      c._handle = a.Event.attach("resize", function(a) {
        e.fire(a)
      })
    } : function(b, c, e) {
      var f = a.config.windowResizeDelay || 100;
      c._handle = a.Event.attach("resize", function(b) {
        c._timer && c._timer.cancel();
        c._timer = a.later(f, a, function() {
          e.fire(b)
        })
      })
    },
    detach: function(a, c) {
      c._timer && c._timer.cancel();
      c._handle.detach()
    }
  })
}, "3.17.2", {
  requires: ["node-base", "event-synthetic"]
});
YUI.add("datasource-get", function(a, f) {
  var b = function() {
    b.superclass.constructor.apply(this, arguments)
  };
  a.DataSource.Get = a.extend(b, a.DataSource.Local, {
    _defRequestFn: function(b) {
      var e = this.get("source"),
        f = this.get("get"),
        g = a.guid().replace(/\-/g, "_"),
        l = this.get("generateRequestCallback"),
        k = b.details[0],
        m = this;
      this._last = g;
      YUI.Env.DataSource.callbacks[g] = function(e) {
        delete YUI.Env.DataSource.callbacks[g];
        delete a.DataSource.Local.transactions[b.tId];
        if ("ignoreStaleResponses" !== m.get("asyncMode") || m._last === g) k.data = e, m.fire("data", k)
      };
      e += b.request + l.call(this, g);
      a.DataSource.Local.transactions[b.tId] = f.script(e, {
        autopurge: !0,
        onFailure: function(e) {
          delete YUI.Env.DataSource.callbacks[g];
          delete a.DataSource.Local.transactions[b.tId];
          k.error = Error(e.msg || "Script node data failure");
          m.fire("data", k)
        },
        onTimeout: function(e) {
          delete YUI.Env.DataSource.callbacks[g];
          delete a.DataSource.Local.transactions[b.tId];
          k.error = Error(e.msg || "Script node data timeout");
          m.fire("data", k)
        }
      });
      return b.tId
    },
    _generateRequest: function(a) {
      return "&" + this.get("scriptCallbackParam") + "=YUI.Env.DataSource.callbacks." + a
    }
  }, {
    NAME: "dataSourceGet",
    ATTRS: {
      get: {
        value: a.Get,
        cloneDefaultValue: !1
      },
      asyncMode: {
        value: "allowAll"
      },
      scriptCallbackParam: {
        value: "callback"
      },
      generateRequestCallback: {
        value: function() {
          return this._generateRequest.apply(this, arguments)
        }
      }
    }
  });
  YUI.namespace("Env.DataSource.callbacks")
}, "3.17.2", {
  requires: ["datasource-local", "get"]
});
YUI.add("promise", function(a, f) {
  function b(a) {
    if (!(this instanceof b)) return new b(a);
    var c = new b.Resolver(this);
    this._resolver = c;
    try {
      a.call(this, function(a) {
        c.resolve(a)
      }, function(a) {
        c.reject(a)
      })
    } catch (e) {
      c.reject(e)
    }
  }
  function c(a) {
    this._callbacks = [];
    this._errbacks = [];
    this.promise = a;
    this._status = "pending";
    this._result = null
  }
  var e = a.Lang,
    h = [].slice;
  a.mix(b.prototype, {
    then: function(a, c) {
      var e = this._resolver;
      return new this.constructor(function(f, h) {
        e._addCallbacks("function" === typeof a ? b._wrap(f, h,
        a) : f, "function" === typeof c ? b._wrap(f, h, c) : h)
      })
    },
    "catch": function(a) {
      return this.then(void 0, a)
    },
    getStatus: function() {
      return this._resolver.getStatus()
    }
  });
  b._wrap = function(a, b, c) {
    return function(e) {
      var f;
      try {
        f = c(e)
      } catch (h) {
        h instanceof Error ? console.error(h.stack) : console.error("Non-error error: Please throw actual errors!\n" + h);
        b(h);
        return
      }
      a(f)
    }
  };
  b.isPromise = function(a) {
    var b;
    try {
      b = a.then
    } catch (c) {}
    return "function" === typeof b
  };
  b.resolve = function(a) {
    return b.isPromise(a) && a.constructor === this ? a : new this(function(b) {
      b(a)
    })
  };
  b.reject = function(a) {
    return new this(function(b, c) {
      c(a)
    })
  };
  b.all = function(a) {
    var b = this;
    return new b(function(c, f) {
      function h(a) {
        return function(b) {
          u[a] = b;
          p--;
          p || c(u)
        }
      }
      if (e.isArray(a)) {
        var p = a.length,
          q = 0,
          r = a.length,
          u = [];
        if (1 > r) return c(u);
        for (; q < r; q++) b.resolve(a[q]).then(h(q), f)
      } else f(new TypeError("Promise.all expects an array of values or promises"))
    })
  };
  b.race = function(a) {
    var b = this;
    return new b(function(c, f) {
      if (e.isArray(a)) for (var h = 0, p = a.length; h < p; h++) b.resolve(a[h]).then(c, f);
      else f(new TypeError("Promise.race expects an array of values or promises"))
    })
  };
  a.Promise = b;
  a.mix(c.prototype, {
    fulfill: function(a) {
      "pending" === this._status && (this._result = a, this._status = "fulfilled");
      "fulfilled" === this._status && (this._notify(this._callbacks, this._result), this._callbacks = [], this._errbacks = null)
    },
    reject: function(a) {
      "pending" === this._status && (this._result = a, this._status = "rejected");
      "rejected" === this._status && (this._notify(this._errbacks, this._result), this._callbacks = null, this._errbacks = [])
    },
    resolve: function(a) {
      var c = this;
      b.isPromise(a) ? a.then(function(a) {
        c.resolve(a)
      },

      function(a) {
        c.reject(a)
      }) : this.fulfill(a)
    },
    then: function(a, b) {
      return this.promise.then(a, b)
    },
    _addCallbacks: function(a, b) {
      var c = this._callbacks,
        e = this._errbacks,
        f = this._status,
        h = this._result;
      c && "function" === typeof a && c.push(a);
      e && "function" === typeof b && e.push(b);
      "fulfilled" === f ? this.fulfill(h) : "rejected" === f && this.reject(h)
    },
    getStatus: function() {
      return this._status
    },
    _notify: function(b, c) {
      b.length && a.soon(function() {
        var a, e;
        a = 0;
        for (e = b.length; a < e; ++a) b[a](c)
      })
    }
  }, !0);
  a.Promise.Resolver = c;
  a.when = function(a,
  c, e) {
    a = b.resolve(a);
    return c || e ? a.then(c, e) : a
  };
  a.batch = function() {
    return b.all(h.call(arguments))
  }
}, "3.17.2", {
  requires: ["timers"]
});
YUI.add("squarespace-follow-buttons", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.FollowButtonUtils = function() {
    return {
      renderAll: function() {
        a.all(".squarespace-follow-button").each(function(f) {
          var b = f.one(".sqs-follow-button");
          b && (b = a.Widget.getByNode(b)) && b.destroy();
          (b = f.getAttribute("data-username")) && b.length && (new a.Squarespace.Widgets.FollowButton({
            username: b
          })).render(f)
        })
      }
    }
  }();
  a.on("domready", function() {
    a.Squarespace.FollowButtonUtils.renderAll()
  })
}, "1.0", {
  requires: ["squarespace-follow-button"]
});
YUI.add("squarespace-escmanager", function(a) {
  a.Squarespace.STANDARD_CONTROL_CLASSES = ".standard-dialog-wrapper;.yui3-panel-type-tooltip;.sqsp-tooltip;.tooltip;.inline-field-title;.workflow-flyout;.page-map;.map-widget;.dialog-element;.error-message-wrapper;.squarespace-block;.sqs-block;.buttons a;.sqs-shopping-cart;.panel-menu-item;.flyout-link-prompt;.flyout-link-edit-content;.flyout-variant-edit;image-focal-point;a.return-button;a#deactivated-account-link;.site-chooser-glyph;.lightbox-inner;.sqs-configuration-menu .site-title-text;.sqs-configuration-menu .user-id;.sqs-add-to-cart-button;.additional-fields;.cke;.cke_dialog;.cke_dialog_background_cover;.sqs-scroll-ac-item;.sqs-layout-insert-block-menu;.sqs-widgets-confirmation".split(";");
  a.Squarespace.EscManager = {
    closeTargets: [],
    ignores: 0,
    attached: [],
    attach: function(f) {
      f = f || a.one(a.config.win);
      var b = f.generateID();
      if (-1 === this.attached.indexOf(b)) {
        if (!Static.SQUARESPACE_CONTEXT.isFacebookTab) {
          var c = a.Squarespace.EscManager;
          a.Squarespace.Utils.isInDamaskFrame() && (c = a.Squarespace.Damask.ContextGlobals.fromTop("Y.Squarespace.EscManager"));
          f.on("keyup", c.onKeyUp, c);
          f.on("click", c.onBodyClick, c);
          f.on("mousedown", c._onBodyDown, c);
          f.on("mouseup", c._onBodyUp, c)
        }
        this.attached.push(b);
        this._disabled = !1
      }
    },
    destroy: function() {
      this.detach();
      this._bodyUpTarget = this._bodyDownTarget = null
    },
    detach: function(f) {
      f = f || a.one(a.config.win);
      f.detachAll()
    },
    onShiftEsc: function() {
      a.Squarespace.Utils.logout()
    },
    addIgnore: function() {
      this.ignores++
    },
    disable: function() {
      this._disabled = !0
    },
    enable: function() {
      this._disabled = !1
    },
    onEsc: function() {
      if (this.ignores) this.ignores--;
      else if (Static.IN_BACKEND) a.Squarespace.Utils.isDamaskEnabled() ? a.one("html").hasClass("sqs-guide-open") ? window.CONFIG_PANEL.closeGuide() : window.CONFIG_PANEL.toggleFrameExpand() : window.CONFIG_PANEL.showSite();
      else if (window.SQUARESPACE_LOGIN && window.SQUARESPACE_LOGIN.getAccount()) a.Squarespace.Management && a.Squarespace.Management.manageSite({
        module: "content"
      });
      else if (!Static.SQUARESPACE_CONTEXT || !Static.SQUARESPACE_CONTEXT.websiteSettings || Static.SQUARESPACE_CONTEXT.websiteSettings.useEscapeKeyToLogin) window.SQUARESPACE_LOGIN && (window.SQUARESPACE_LOGIN.params.disableCreateAccount = !0), a.Squarespace.Signup && a.Squarespace.Signup.signupDialog && a.Squarespace.Signup.signupDialog.isVisible() ? a.Squarespace.Signup.signupDialog.cancel() : a.config.win.location = "http://" + a.config.win.location.host + "/config"
    },
    addTarget: function(a) {
      this.closeTargets.push(a)
    },
    removeTarget: function(a) {
      a = this.closeTargets.indexOf(a); - 1 !== a && this.closeTargets.splice(a, 1)
    },
    onKeyUp: function(f) {
      if (27 === f.keyCode && !this._disabled) if (f.halt(), 0 < this.closeTargets.length) {
        var b = this.closeTargets.pop();
        this._closeTarget(b, f)
      } else f.shiftKey ? a.later(10, this, this.onShiftEsc, f) : a.later(10, this, this.onEsc, f)
    },
    _closeTarget: function(f,
    b) {
      a.Lang.isFunction(f.close) ? f.close(b) : a.Lang.isFunction(f.cancel) ? f.cancel(b) : a.Lang.isFunction(f.hide) ? f.hide(b) : console.error("Escape target had no valid closing or hiding methods.", t)
    },
    _onBodyDown: function(a) {
      this._bodyDownTarget = a.target
    },
    _onBodyUp: function(a) {
      this._bodyUpTarget = a.target
    },
    _didMouseDownMouseUpMatch: function() {
      var a = this._bodyDownTarget === this._bodyUpTarget;
      this._bodyUpTarget = this._bodyDownTarget = null;
      return a
    },
    onBodyClick: function(f) {
      if (this.closeTargets && 0 < this.closeTargets.length) {
        var b = this.closeTargets[this.closeTargets.length - 1];
        if (this._didMouseDownMouseUpMatch() && !b.ignoreBodyClicks) {
          var c = f.clientX,
            e = f.clientY,
            h = f.target.get("winWidth"),
            g = f.target.get("winHeight");
          0 > c || (c > h || 0 > e || e > g) || (b.activeFlyout ? f.target.ancestor(b.activeFlyout.constraintClasses, !0) || (b.activeFlyout.field.closeFlyout(), b.activeFlyout = null, a.fire("target-closed", {
            target: b
          })) : f.target.ancestor(a.Squarespace.STANDARD_CONTROL_CLASSES.join(", "), !0) || (a.fire("target-closed", {
            target: b
          }), f.halt(), this.closeTargets.pop(),
          this._closeTarget(b, f)))
        }
      }
    }
  };
  "undefined" !== typeof window && (window.ESC_MANAGER ? a.Squarespace.EscManager = window.ESC_MANAGER : window.ESC_MANAGER = a.Squarespace.EscManager)
}, "1.0", {
  requires: ["node", "event", "squarespace-damask-context-globals"]
});
YUI.add("gesture-simulate", function(a, f) {
  function b(b) {
    b || a.error(f + ": invalid target node");
    this.node = b;
    this.target = a.Node.getDOMNode(b);
    b = this.node.getXY();
    var c = this._getDims();
    k = b[0] + c[0] / 2;
    m = b[1] + c[1] / 2
  }
  f = "gesture-simulate";
  var c = a.config.win && "ontouchstart" in a.config.win && !a.UA.phantomjs && !(a.UA.chrome && 6 > a.UA.chrome),
    e = {
      tap: 1,
      doubletap: 1,
      press: 1,
      move: 1,
      flick: 1,
      pinch: 1,
      rotate: 1
    }, h = {
      touchstart: 1,
      touchmove: 1,
      touchend: 1,
      touchcancel: 1
    }, g = a.config.doc,
    l, k, m, n = {
      HOLD_TAP: 10,
      DELAY_TAP: 10,
      HOLD_PRESS: 3E3,
      MIN_HOLD_PRESS: 1E3,
      MAX_HOLD_PRESS: 6E4,
      DISTANCE_MOVE: 200,
      DURATION_MOVE: 1E3,
      MAX_DURATION_MOVE: 5E3,
      MIN_VELOCITY_FLICK: 1.3,
      DISTANCE_FLICK: 200,
      DURATION_FLICK: 1E3,
      MAX_DURATION_FLICK: 5E3,
      DURATION_PINCH: 1E3
    };
  b.prototype = {
    _toRadian: function(a) {
      return a * (Math.PI / 180)
    },
    _getDims: function() {
      var a, b, c;
      this.target.getBoundingClientRect ? (a = this.target.getBoundingClientRect(), c = "height" in a ? a.height : Math.abs(a.bottom - a.top), b = "width" in a ? a.width : Math.abs(a.right - a.left)) : (a = this.node.get("region"), b = a.width, c = a.height);
      return [b, c]
    },
    _calculateDefaultPoint: function(b) {
      var c;
      !a.Lang.isArray(b) || 0 === b.length ? b = [k, m] : (1 == b.length && (c = this._getDims[1], b[1] = c / 2), b[0] = this.node.getX() + b[0], b[1] = this.node.getY() + b[1]);
      return b
    },
    rotate: function(b, c, g, e, h, l, k) {
      if (!a.Lang.isNumber(g) || !a.Lang.isNumber(e) || 0 > g || 0 > e) g = e = this.target.offsetWidth < this.target.offsetHeight ? this.target.offsetWidth / 4 : this.target.offsetHeight / 4;
      a.Lang.isNumber(k) || a.error(f + "Invalid rotation detected.");
      this.pinch(b, c, g, e, h, l, k)
    },
    pinch: function(b, c,
    g, e, h, l, k) {
      var m, x = 0,
        C, z, A, E, B, D, I, F, G = [],
        J = [],
        K = [],
        L = [];
      c = this._calculateDefaultPoint(c);
      (!a.Lang.isNumber(g) || !a.Lang.isNumber(e) || 0 > g || 0 > e) && a.error(f + "Invalid startRadius and endRadius detected.");
      if (!a.Lang.isNumber(h) || 0 >= h) h = n.DURATION_PINCH;
      if (a.Lang.isNumber(l)) for (l %= 360; 0 > l;) l += 360;
      else l = 0;
      a.Lang.isNumber(k) || (k = 0);
      a.AsyncQueue.defaults.timeout = 20;
      m = new a.AsyncQueue;
      z = c[0];
      A = c[1];
      D = l;
      I = l + k;
      G = [z + g * Math.sin(this._toRadian(D)), A - g * Math.cos(this._toRadian(D))];
      J = [z + e * Math.sin(this._toRadian(I)),
        A - e * Math.cos(this._toRadian(I))];
      K = [z - g * Math.sin(this._toRadian(D)), A + g * Math.cos(this._toRadian(D))];
      L = [z - e * Math.sin(this._toRadian(I)), A + e * Math.cos(this._toRadian(I))];
      E = e / g;
      m.add({
        fn: function() {
          var b, c;
          b = {
            pageX: G[0],
            pageY: G[1],
            clientX: G[0],
            clientY: G[1]
          };
          c = {
            pageX: K[0],
            pageY: K[1],
            clientX: K[0],
            clientY: K[1]
          };
          c = this._createTouchList([a.merge({
            identifier: x++
          }, b), a.merge({
            identifier: x++
          }, c)]);
          b = {
            pageX: (G[0] + K[0]) / 2,
            pageY: (G[0] + K[1]) / 2,
            clientX: (G[0] + K[0]) / 2,
            clientY: (G[0] + K[1]) / 2
          };
          this._simulateEvent(this.target, "touchstart", a.merge({
            touches: c,
            targetTouches: c,
            changedTouches: c,
            scale: 1,
            rotation: D
          }, b));
          2 <= a.UA.ios && this._simulateEvent(this.target, "gesturestart", a.merge({
            scale: 1,
            rotation: D
          }, b))
        },
        timeout: 0,
        context: this
      });
      c = Math.floor(h / 20);
      C = (e - g) / c;
      B = (E - 1) / c;
      F = (I - D) / c;
      h = function(b) {
        var c = g + C * b,
          e = z + c * Math.sin(this._toRadian(D + F * b)),
          f = A - c * Math.cos(this._toRadian(D + F * b)),
          h = z - c * Math.sin(this._toRadian(D + F * b)),
          l = A + c * Math.cos(this._toRadian(D + F * b)),
          c = (e + h) / 2,
          k = (f + l) / 2,
          e = {
            pageX: e,
            pageY: f,
            clientX: e,
            clientY: f
          }, h = {
            pageX: h,
            pageY: l,
            clientX: h,
            clientY: l
          }, h = this._createTouchList([a.merge({
            identifier: x++
          }, e), a.merge({
            identifier: x++
          }, h)]),
          c = {
            pageX: c,
            pageY: k,
            clientX: c,
            clientY: k
          };
        this._simulateEvent(this.target, "touchmove", a.merge({
          touches: h,
          targetTouches: h,
          changedTouches: h,
          scale: 1 + B * b,
          rotation: D + F * b
        }, c));
        2 <= a.UA.ios && this._simulateEvent(this.target, "gesturechange", a.merge({
          scale: 1 + B * b,
          rotation: D + F * b
        }, c))
      };
      for (e = 0; e < c; e++) m.add({
        fn: h,
        args: [e],
        context: this
      });
      m.add({
        fn: function() {
          var b = this._getEmptyTouchList(),
            c, g;
          c = {
            pageX: J[0],
            pageY: J[1],
            clientX: J[0],
            clientY: J[1]
          };
          g = {
            pageX: L[0],
            pageY: L[1],
            clientX: L[0],
            clientY: L[1]
          };
          g = this._createTouchList([a.merge({
            identifier: x++
          }, c), a.merge({
            identifier: x++
          }, g)]);
          c = {
            pageX: (J[0] + L[0]) / 2,
            pageY: (J[0] + L[1]) / 2,
            clientX: (J[0] + L[0]) / 2,
            clientY: (J[0] + L[1]) / 2
          };
          2 <= a.UA.ios && this._simulateEvent(this.target, "gestureend", a.merge({
            scale: E,
            rotation: I
          }, c));
          this._simulateEvent(this.target, "touchend", a.merge({
            touches: b,
            targetTouches: b,
            changedTouches: g,
            scale: E,
            rotation: I
          }, c))
        },
        context: this
      });
      b && a.Lang.isFunction(b) && m.add({
        fn: b,
        context: this.node
      });
      m.run()
    },
    tap: function(b, g, e, f, h) {
      var l = new a.AsyncQueue,
        k = this._getEmptyTouchList(),
        m, x, C, z;
      g = this._calculateDefaultPoint(g);
      if (!a.Lang.isNumber(e) || 1 > e) e = 1;
      a.Lang.isNumber(f) || (f = n.HOLD_TAP);
      a.Lang.isNumber(h) || (h = n.DELAY_TAP);
      x = {
        pageX: g[0],
        pageY: g[1],
        clientX: g[0],
        clientY: g[1]
      };
      m = this._createTouchList([a.merge({
        identifier: 0
      }, x)]);
      C = function() {
        this._simulateEvent(this.target, "touchstart", a.merge({
          touches: m,
          targetTouches: m,
          changedTouches: m
        }, x))
      };
      z = function() {
        this._simulateEvent(this.target, "touchend", a.merge({
          touches: k,
          targetTouches: k,
          changedTouches: m
        }, x))
      };
      for (g = 0; g < e; g++) l.add({
        fn: C,
        context: this,
        timeout: 0 === g ? 0 : h
      }), l.add({
        fn: z,
        context: this,
        timeout: f
      });
      1 < e && !c && l.add({
        fn: function() {
          this._simulateEvent(this.target, "dblclick", x)
        },
        context: this
      });
      b && a.Lang.isFunction(b) && l.add({
        fn: b,
        context: this.node
      });
      l.run()
    },
    flick: function(b, c, g, e, h) {
      c = this._calculateDefaultPoint(c);
      a.Lang.isString(g) ? (g = g.toLowerCase(), "x" !== g && "y" !== g && a.error(f + "(flick): Only x or y axis allowed")) : g = "x";
      a.Lang.isNumber(e) || (e = n.DISTANCE_FLICK);
      a.Lang.isNumber(h) ? h > n.MAX_DURATION_FLICK && (h = n.MAX_DURATION_FLICK) : h = n.DURATION_FLICK;
      Math.abs(e) / h < n.MIN_VELOCITY_FLICK && (h = Math.abs(e) / n.MIN_VELOCITY_FLICK);
      c = {
        start: a.clone(c),
        end: ["x" === g ? c[0] + e : c[0], "y" === g ? c[1] + e : c[1]]
      };
      this._move(b, c, h)
    },
    move: function(b, c, g) {
      a.Lang.isObject(c) ? (a.Lang.isArray(c.point) ? c.point = this._calculateDefaultPoint(c.point) : c.point = this._calculateDefaultPoint([]), a.Lang.isNumber(c.xdist) || (c.xdist = n.DISTANCE_MOVE), a.Lang.isNumber(c.ydist) || (c.ydist = 0)) : c = {
        point: this._calculateDefaultPoint([]),
        xdist: n.DISTANCE_MOVE,
        ydist: 0
      };
      a.Lang.isNumber(g) ? g > n.MAX_DURATION_MOVE && (g = n.MAX_DURATION_MOVE) : g = n.DURATION_MOVE;
      c = {
        start: a.clone(c.point),
        end: [c.point[0] + c.xdist, c.point[1] + c.ydist]
      };
      this._move(b, c, g)
    },
    _move: function(b, c, g) {
      var e, f, h, l, s = 0,
        x;
      a.Lang.isNumber(g) ? g > n.MAX_DURATION_MOVE && (g = n.MAX_DURATION_MOVE) : g = n.DURATION_MOVE;
      a.Lang.isObject(c) ? (a.Lang.isArray(c.start) || (c.start = [k, m]), a.Lang.isArray(c.end) || (c.end = [k + n.DISTANCE_MOVE, m])) : c = {
        start: [k,
          m],
        end: [k + n.DISTANCE_MOVE, m]
      };
      a.AsyncQueue.defaults.timeout = 20;
      e = new a.AsyncQueue;
      e.add({
        fn: function() {
          var b = {
            pageX: c.start[0],
            pageY: c.start[1],
            clientX: c.start[0],
            clientY: c.start[1]
          }, g = this._createTouchList([a.merge({
            identifier: s++
          }, b)]);
          this._simulateEvent(this.target, "touchstart", a.merge({
            touches: g,
            targetTouches: g,
            changedTouches: g
          }, b))
        },
        timeout: 0,
        context: this
      });
      f = Math.floor(g / 20);
      h = (c.end[0] - c.start[0]) / f;
      l = (c.end[1] - c.start[1]) / f;
      x = function(b) {
        var g = c.start[0] + h * b;
        b = c.start[1] + l * b;
        g = {
          pageX: g,
          pageY: b,
          clientX: g,
          clientY: b
        };
        b = this._createTouchList([a.merge({
          identifier: s++
        }, g)]);
        this._simulateEvent(this.target, "touchmove", a.merge({
          touches: b,
          targetTouches: b,
          changedTouches: b
        }, g))
      };
      for (g = 0; g < f; g++) e.add({
        fn: x,
        args: [g],
        context: this
      });
      e.add({
        fn: function() {
          var b = {
            pageX: c.end[0],
            pageY: c.end[1],
            clientX: c.end[0],
            clientY: c.end[1]
          }, g = this._createTouchList([a.merge({
            identifier: s
          }, b)]);
          this._simulateEvent(this.target, "touchmove", a.merge({
            touches: g,
            targetTouches: g,
            changedTouches: g
          }, b))
        },
        timeout: 0,
        context: this
      });
      e.add({
        fn: function() {
          var b = {
            pageX: c.end[0],
            pageY: c.end[1],
            clientX: c.end[0],
            clientY: c.end[1]
          }, g = this._getEmptyTouchList(),
            e = this._createTouchList([a.merge({
              identifier: s
            }, b)]);
          this._simulateEvent(this.target, "touchend", a.merge({
            touches: g,
            targetTouches: g,
            changedTouches: e
          }, b))
        },
        context: this
      });
      b && a.Lang.isFunction(b) && e.add({
        fn: b,
        context: this.node
      });
      e.run()
    },
    _getEmptyTouchList: function() {
      l || (l = this._createTouchList([]));
      return l
    },
    _createTouchList: function(b) {
      var c = [],
        e, h = this;
      b && a.Lang.isArray(b) ? a.UA.android && 4 <= a.UA.android || a.UA.ios && 2 <= a.UA.ios ? (a.each(b, function(b) {
        b.identifier || (b.identifier = 0);
        b.pageX || (b.pageX = 0);
        b.pageY || (b.pageY = 0);
        b.screenX || (b.screenX = 0);
        b.screenY || (b.screenY = 0);
        c.push(g.createTouch(a.config.win, h.target, b.identifier, b.pageX, b.pageY, b.screenX, b.screenY))
      }), e = g.createTouchList.apply(g, c)) : a.UA.ios && 2 > a.UA.ios ? a.error(f + ": No touch event simulation framework present.") : (e = [], a.each(b, function(a) {
        a.identifier || (a.identifier = 0);
        a.clientX || (a.clientX = 0);
        a.clientY || (a.clientY = 0);
        a.pageX || (a.pageX = 0);
        a.pageY || (a.pageY = 0);
        a.screenX || (a.screenX = 0);
        a.screenY || (a.screenY = 0);
        e.push({
          target: h.target,
          identifier: a.identifier,
          clientX: a.clientX,
          clientY: a.clientY,
          pageX: a.pageX,
          pageY: a.pageY,
          screenX: a.screenX,
          screenY: a.screenY
        })
      }), e.item = function(a) {
        return e[a]
      }) : a.error(f + ": Invalid touchPoints passed");
      return e
    },
    _simulateEvent: function(b, g, e) {
      var f;
      h[g] ? c ? a.Event.simulate(b, g, e) : this._isSingleTouch(e.touches, e.targetTouches, e.changedTouches) ? (g = {
        touchstart: "mousedown",
        touchmove: "mousemove",
        touchend: "mouseup"
      }[g], e.button = 0, e.relatedTarget = null, f = "mouseup" === g ? e.changedTouches : e.touches, e = a.mix(e, {
        screenX: f.item(0).screenX,
        screenY: f.item(0).screenY,
        clientX: f.item(0).clientX,
        clientY: f.item(0).clientY
      }, !0), a.Event.simulate(b, g, e), "mouseup" == g && a.Event.simulate(b, "click", e)) : a.error("_simulateEvent(): Event '" + g + "' has multi touch objects that can't be simulated in your platform.") : a.Event.simulate(b, g, e)
    },
    _isSingleTouch: function(a, b, c) {
      return a && 1 >= a.length && b && 1 >= b.length && c && 1 >= c.length
    }
  };
  a.GestureSimulation = b;
  a.GestureSimulation.defaults = n;
  a.GestureSimulation.GESTURES = e;
  a.Event.simulateGesture = function(b, c, g, h) {
    b = a.one(b);
    b = new a.GestureSimulation(b);
    c = c.toLowerCase();
    !h && a.Lang.isFunction(g) && (h = g, g = {});
    g = g || {};
    if (e[c]) switch (c) {
    case "tap":
      b.tap(h, g.point, g.times, g.hold, g.delay);
      break;
    case "doubletap":
      b.tap(h, g.point, 2);
      break;
    case "press":
      a.Lang.isNumber(g.hold) ? g.hold < n.MIN_HOLD_PRESS ? g.hold = n.MIN_HOLD_PRESS : g.hold > n.MAX_HOLD_PRESS && (g.hold = n.MAX_HOLD_PRESS) : g.hold = n.HOLD_PRESS;
      b.tap(h, g.point, 1, g.hold);
      break;
    case "move":
      b.move(h, g.path, g.duration);
      break;
    case "flick":
      b.flick(h, g.point, g.axis, g.distance, g.duration);
      break;
    case "pinch":
      b.pinch(h, g.center, g.r1, g.r2, g.duration, g.start, g.rotation);
      break;
    case "rotate":
      b.rotate(h, g.center, g.r1, g.r2, g.duration, g.start, g.rotation)
    } else a.error(f + ": Not a supported gesture simulation: " + c)
  }
}, "3.17.2", {
  requires: ["async-queue", "event-simulate", "node-screen"]
});
YUI.add("squarespace-models-structured-content", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.StructuredContent = a.Base.create("StructuredContent", a.Model, [], {}, {
    ATTRS: {
      _type: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString,
        writeOnce: "initOnly"
      }
    }
  })
}, "1.0", {
  requires: ["base", "model", "squarespace-attr-validators"]
});
YUI.add("anim-easing", function(a, f) {
  a.Easing = {
    easeNone: function(a, c, e, f) {
      return e * a / f + c
    },
    easeIn: function(a, c, e, f) {
      return e * (a /= f) * a + c
    },
    easeOut: function(a, c, e, f) {
      return -e * (a /= f) * (a - 2) + c
    },
    easeBoth: function(a, c, e, f) {
      return 1 > (a /= f / 2) ? e / 2 * a * a + c : -e / 2 * (--a * (a - 2) - 1) + c
    },
    easeInStrong: function(a, c, e, f) {
      return e * (a /= f) * a * a * a + c
    },
    easeOutStrong: function(a, c, e, f) {
      return -e * ((a = a / f - 1) * a * a * a - 1) + c
    },
    easeBothStrong: function(a, c, e, f) {
      return 1 > (a /= f / 2) ? e / 2 * a * a * a * a + c : -e / 2 * ((a -= 2) * a * a * a - 2) + c
    },
    elasticIn: function(a, c, e, f, g,
    l) {
      if (0 === a) return c;
      if (1 === (a /= f)) return c + e;
      l || (l = 0.3 * f);
      !g || g < Math.abs(e) ? (g = e, e = l / 4) : e = l / (2 * Math.PI) * Math.asin(e / g);
      return -(g * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * f - e) * 2 * Math.PI / l)) + c
    },
    elasticOut: function(a, c, e, f, g, l) {
      var k;
      if (0 === a) return c;
      if (1 === (a /= f)) return c + e;
      l || (l = 0.3 * f);
      !g || g < Math.abs(e) ? (g = e, k = l / 4) : k = l / (2 * Math.PI) * Math.asin(e / g);
      return g * Math.pow(2, - 10 * a) * Math.sin((a * f - k) * 2 * Math.PI / l) + e + c
    },
    elasticBoth: function(a, c, e, f, g, l) {
      var k;
      if (0 === a) return c;
      if (2 === (a /= f / 2)) return c + e;
      l || (l = f * 0.3 * 1.5);
      !g || g < Math.abs(e) ? (g = e, k = l / 4) : k = l / (2 * Math.PI) * Math.asin(e / g);
      return 1 > a ? -0.5 * g * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * f - k) * 2 * Math.PI / l) + c : 0.5 * g * Math.pow(2, - 10 * (a -= 1)) * Math.sin((a * f - k) * 2 * Math.PI / l) + e + c
    },
    backIn: function(a, c, e, f, g) {
      void 0 === g && (g = 1.70158);
      a === f && (a -= 0.001);
      return e * (a /= f) * a * ((g + 1) * a - g) + c
    },
    backOut: function(a, c, e, f, g) {
      "undefined" === typeof g && (g = 1.70158);
      return e * ((a = a / f - 1) * a * ((g + 1) * a + g) + 1) + c
    },
    backBoth: function(a, c, e, f, g) {
      "undefined" === typeof g && (g = 1.70158);
      return 1 > (a /= f / 2) ? e / 2 * a * a * (((g *= 1.525) + 1) * a - g) + c : e / 2 * ((a -= 2) * a * (((g *= 1.525) + 1) * a + g) + 2) + c
    },
    bounceIn: function(b, c, e, f) {
      return e - a.Easing.bounceOut(f - b, 0, e, f) + c
    },
    bounceOut: function(a, c, e, f) {
      return (a /= f) < 1 / 2.75 ? e * 7.5625 * a * a + c : a < 2 / 2.75 ? e * (7.5625 * (a -= 1.5 / 2.75) * a + 0.75) + c : a < 2.5 / 2.75 ? e * (7.5625 * (a -= 2.25 / 2.75) * a + 0.9375) + c : e * (7.5625 * (a -= 2.625 / 2.75) * a + 0.984375) + c
    },
    bounceBoth: function(b, c, e, f) {
      return b < f / 2 ? 0.5 * a.Easing.bounceIn(2 * b, 0, e, f) + c : 0.5 * a.Easing.bounceOut(2 * b - f, 0, e, f) + 0.5 * e + c
    }
  }
}, "3.17.2", {
  requires: ["anim-base"]
});
YUI.add("event-hover", function(a, f) {
  var b = a.Lang.isFunction,
    c = function() {}, e = {
      processArgs: function(a) {
        var g = b(a[2]) ? 2 : 3;
        return b(a[g]) ? a.splice(g, 1)[0] : c
      },
      on: function(a, b, c, e) {
        var f = b.args ? b.args.slice() : [];
        f.unshift(null);
        b._detach = a[e ? "delegate" : "on"]({
          mouseenter: function(a) {
            a.phase = "over";
            c.fire(a)
          },
          mouseleave: function(a) {
            var c = b.context || this;
            f[0] = a;
            a.type = "hover";
            a.phase = "out";
            b._extra.apply(c, f)
          }
        }, e)
      },
      detach: function(a, b, c) {
        b._detach.detach()
      }
    };
  e.delegate = e.on;
  e.detachDelegate = e.detach;
  a.Event.define("hover",
  e)
}, "3.17.2", {
  requires: ["event-mouseenter"]
});

function Common(a) {
  with(a.window) {
    if (window.COMMON_ALREADY_RAN) {
      console.warn("Common running twice .... this is concerning.");
      return
    }
    window.COMMON_ALREADY_RAN = !0;
    window.Static = window.Static || {};
    "undefined" === typeof window && (window = {});
    "undefined" === typeof console && (console = {
      log: function() {},
      dir: function() {},
      warn: function() {},
      error: function(a) {
        var b = Array.prototype.slice.call(arguments);
        throw Error(b);
      }
    });
    window.noop = function() {};
    String.prototype.trim || (String.prototype.trim = function() {
      return this.replace(/^\s+|\s+$/g, "")
    });
    String.prototype.capitalize = function() {
      return this.charAt(0).toUpperCase() + this.slice(1)
    };
    String.prototype.endsWith = function(a) {
      return this.substr(this.length - a.length) === a
    };
    String.prototype.startsWith = function(a) {
      return this.substr(0, a.length) === a
    };
    Array.prototype.removeRange = function(a, b) {
      this.splice(a, !b || 1 + b - a + (!(0 > b ^ 0 <= a) && (0 > b || -1) * this.length));
      return this.length
    };
    Array.prototype.removeAt = function(a) {
      this.removeRange(a, a)
    };
    Array.prototype.find = function(a) {
      for (var b = 0; b < this.length; ++b) if (this[b] === a) return b;
      return -1
    };
    Array.prototype.remove = function(a) {
      a = this.find(a); - 1 != a && this.removeAt(a)
    };
    Array.prototype.indexOf || (Array.prototype.indexOf = function(a) {
      if (null == this) throw new TypeError;
      var b = Object(this),
        c = b.length >>> 0;
      if (0 === c) return -1;
      var e = 0;
      0 < arguments.length && (e = Number(arguments[1]), e != e ? e = 0 : 0 != e && (Infinity != e && -Infinity != e) && (e = (0 < e || -1) * Math.floor(Math.abs(e))));
      if (e >= c) return -1;
      for (e = 0 <= e ? e : Math.max(c - Math.abs(e), 0); e < c; e++) if (e in b && b[e] === a) return e;
      return -1
    });
    Array.prototype.shuffle || (Array.prototype.shuffle = function() {
      for (var a = []; this.length;) a.push(this.splice(Math.random() * this.length, 1));
      for (; a.length;) this.push(a.pop()[0]);
      return this
    });
    Array.prototype.forEach || (Array.prototype.forEach = function(a, b) {
      for (var c = 0, e = this.length; c < e; ++c) a.call(b || this, this[c], c, this)
    });
    Array.prototype.filter || (Array.prototype.filter = function(a, b) {
      if (null == this) throw new TypeError;
      var c = Object(this),
        e = c.length >>> 0;
      if ("function" != typeof a) throw new TypeError;
      for (var h = [], g = 0; g < e; g++) if (g in c) {
        var l = c[g];
        a.call(b, l, g, c) && h.push(l)
      }
      return h
    });
    Array.prototype.contains = function(a) {
      return -1 < this.indexOf(a)
    };
    Number.prototype.formatMoney = function(a, b, c) {
      var e = this;
      a = isNaN(a = Math.abs(a)) ? 2 : a;
      b || (b = ".");
      c || (c = ",");
      var h = 0 > e ? "-" : "",
        g = parseInt(e = Math.abs(+e || 0).toFixed(a), 10) + "",
        l = 3 < (l = g.length) ? l % 3 : 0;
      return h + (l ? g.substr(0, l) + c : "") + g.substr(l).replace(/(\d{3})(?=\d)/g, "$1" + c) + (a ? b + Math.abs(e - g).toFixed(a).slice(2) : "")
    };
    Date.prototype.toRelativeTime = function(a) {
      a = a || new Date;
      a = (a.getTime() - this.getTime()) / 1E3;
      return 60 > a ? "less than a minute ago" : 120 > a ? "about a minute ago" : 3600 > a ? Math.floor(a / 60) + " minutes ago" : 7200 > a ? "about an hour ago" : 86400 > a ? "about " + Math.floor(a / 3600) + " hours ago" : 172800 > a ? "1 day ago" : Math.floor(a / 86400) + " days ago"
    };
    Date.prototype.stdTimezoneOffset = function() {
      var a = new Date(this.getFullYear(), 0, 1),
        b = new Date(this.getFullYear(), 6, 1);
      return Math.max(a.getTimezoneOffset(), b.getTimezoneOffset())
    };
    Date.prototype.isDST = function() {
      return this.getTimezoneOffset() < this.stdTimezoneOffset()
    };
    Date.isLeapYear = function(a) {
      return 0 === a % 4 && 0 !== a % 100 || 0 === a % 400
    };
    Date.getDaysInMonth = function(a, b) {
      return [31, Date.isLeapYear(a) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][b]
    };
    Date.prototype.isLeapYear = function() {
      return Date.isLeapYear(this.getFullYear())
    };
    Date.prototype.getDaysInMonth = function() {
      return Date.getDaysInMonth(this.getFullYear(), this.getMonth())
    };
    Date.prototype.moveToFirstDayOfMonth = function() {
      return this.set({
        day: 1
      })
    };
    Date.prototype.moveToLastDayOfMonth = function() {
      return this.set({
        day: this.getDaysInMonth()
      })
    };
    Date.prototype.addDays = function(a) {
      return this.addMilliseconds(864E5 * a)
    };
    Date.prototype.addMilliseconds = function(a) {
      this.setMilliseconds(this.getMilliseconds() + a);
      return this
    };
    Date.prototype.addSeconds = function(a) {
      return this.addMilliseconds(1E3 * a)
    };
    Date.prototype.addMinutes = function(a) {
      return this.addMilliseconds(6E4 * a)
    };
    Date.prototype.addHours = function(a) {
      return this.addMilliseconds(36E5 * a)
    };
    Date.prototype.addDays = function(a) {
      return this.addMilliseconds(864E5 * a)
    };
    Date.prototype.addWeeks = function(a) {
      return this.addMilliseconds(6048E5 * a)
    };
    Date.prototype.addMonths = function(a) {
      var b = this.getDate();
      this.setDate(1);
      this.setMonth(this.getMonth() + a);
      this.setDate(Math.min(b, this.getDaysInMonth()));
      return this
    };
    Date.prototype.addYears = function(a) {
      return this.addMonths(12 * a)
    };
    Date._validate = function(a, b, c, e) {
      return !0
    };
    Date.validateMillisecond = function(a) {
      return Date._validate(a, 0, 999, "milliseconds")
    };
    Date.validateSecond = function(a) {
      return Date._validate(a, 0, 59, "seconds")
    };
    Date.validateMinute = function(a) {
      return Date._validate(a, 0, 59, "minutes")
    };
    Date.validateHour = function(a) {
      return Date._validate(a, 0, 23, "hours")
    };
    Date.validateDay = function(a, b, c) {
      return Date._validate(a, 1, Date.getDaysInMonth(b, c), "days")
    };
    Date.validateMonth = function(a) {
      return Date._validate(a, 0, 11, "months")
    };
    Date.validateYear = function(a) {
      return Date._validate(a, 1, 9999, "seconds")
    };
    Date.prototype.set = function(a) {
      !a.millisecond && 0 !== a.millisecond && (a.millisecond = -1);
      !a.second && 0 !== a.second && (a.second = -1);
      !a.minute && 0 !== a.minute && (a.minute = -1);
      !a.hour && 0 !== a.hour && (a.hour = -1);
      !a.day && 0 !== a.day && (a.day = -1);
      !a.month && 0 !== a.month && (a.month = -1);
      !a.year && 0 !== a.year && (a.year = -1); - 1 !== a.millisecond && Date.validateMillisecond(a.millisecond) && this.addMilliseconds(a.millisecond - this.getMilliseconds()); - 1 !== a.second && Date.validateSecond(a.second) && this.addSeconds(a.second - this.getSeconds()); - 1 !== a.minute && Date.validateMinute(a.minute) && this.addMinutes(a.minute - this.getMinutes()); - 1 !== a.hour && Date.validateHour(a.hour) && this.addHours(a.hour - this.getHours()); - 1 !== a.month && Date.validateMonth(a.month) && this.addMonths(a.month - this.getMonth()); - 1 !== a.year && Date.validateYear(a.year) && this.addYears(a.year - this.getFullYear()); - 1 !== a.day && Date.validateDay(a.day, this.getFullYear(), this.getMonth()) && this.addDays(a.day - this.getDate());
      a.timezone && this.setTimezone(a.timezone);
      a.timezoneOffset && this.setTimezoneOffset(a.timezoneOffset);
      return this
    };
    window.Singleton = {
      create: function(a) {
        var b = function() {};
        b.prototype = a;
        a = new b;
        a.ready && a.ready();
        return a
      }
    };
    window.Class = {
      create: function(a) {
        var b;
        b = a.initialize ? function() {
          this.initialize.apply(this, arguments)
        } : function() {};
        b.prototype = a;
        b.extend = function(a) {
          return Class.extend(this, a)
        };
        b.specialize = function(a, b) {
          var f = Class.specialize(this, a);
          f._parent = b;
          return f
        };
        return b
      },
      extend: function(a, b) {
        b.initialize || (b.initialize = a.prototype.initialize);
        var c = Class.create(b),
          e = /xyz/.test(function() {
            xyz
          }) ? /\b_super\b/ : /.*/,
          h;
        for (h in a.prototype) c.prototype[h] ? "function" === typeof c.prototype[h] && e.test(c.prototype[h]) && (c.prototype[h] = function(b, c) {
          return function() {
            var e = this._super;
            this._super = a.prototype[b];
            var h = c.apply(this, arguments);
            this._super = e;
            return h
          }
        }(h, c.prototype[h])) : c.prototype[h] = a.prototype[h];
        c.prototype.superclass = a.prototype;
        return c
      },
      specialize: function(a, b) {
        return new(Class.extend(a, b))
      }
    };
    window.SquarespaceFonts = {
      alreadyLoaded: [],
      alreadyPreloaded: [],
      loadViaContext: function() {
        var a = {
          googleFamilies: Static.SQUARESPACE_CONTEXT.googleFonts
        };
        Static.SQUARESPACE_CONTEXT.website.typekitId && (a.typeKit = {
          id: Static.SQUARESPACE_CONTEXT.website.typekitId
        });
        this.load(a)
      },
      getContext: function() {
        return Static
      },
      loadTypekit: function(a, b) {
        if (!this.setup) {
          if (!window.TypekitPreview) return;
          TypekitPreview.setup({
            auth_id: "ss",
            auth_token: "3bb2a6e53c9684ffdc9a9aff125b2a62e548d148a40d2569e8744d09ab700376b808849901373960a86ab7eb18e3389e9055ca0781db97636f81e1056100e066aab43577db7757f91919edf717e7bbcff1314c86cbb1e8d2a8ba5a31ef8fa01e5f2d"
          })
        }
        var c = [];
        if (Y.Lang.isArray(a)) for (var e = 0; e < a.length; e++) - 1 === this.alreadyLoaded.indexOf(a[e]) && c.push({
          id: Static.SQUARESPACE_CONTEXT.typekitFonts[a[e]].id,
          css_name: a[e],
          variations: ["n4"]
        });
        else {
          if (-1 !== this.alreadyLoaded.indexOf(a)) {
            b && b();
            return
          }
          this.alreadyLoaded.push(a);
          c.push({
            id: Static.SQUARESPACE_CONTEXT.typekitFonts[a].id,
            css_name: a,
            variations: Static.SQUARESPACE_CONTEXT.typekitFonts[a].variations
          })
        }
        TypekitPreview.load(c, {
          active: function() {
            b && b()
          },
          inactive: function() {
            b && b()
          }
        })
      },
      preloadTypekit: function(a, b) {
        if (!this.setup) {
          if (!window.TypekitPreview) return;
          TypekitPreview.setup({
            auth_id: "ss",
            auth_token: "3bb2a6e53c9684ffdc9a9aff125b2a62e548d148a40d2569e8744d09ab700376b808849901373960a86ab7eb18e3389e9055ca0781db97636f81e1056100e066aab43577db7757f91919edf717e7bbcff1314c86cbb1e8d2a8ba5a31ef8fa01e5f2d"
          })
        }
        for (var c = [], e = 0; e < a.length; e++) - 1 !== this.alreadyPreloaded.indexOf(a[e]) || -1 !== this.alreadyLoaded.indexOf(a[e]) || (this.alreadyPreloaded.push(a[e]), c.push({
          id: Static.SQUARESPACE_CONTEXT.typekitFonts[a[e]].id,
          css_name: a[e],
          variations: ["n4"]
        }));
        TypekitPreview.load(c, {
          active: function() {
            b && b()
          },
          inactive: function() {
            b && b()
          }
        })
      },
      load: function(a) {
        a || (a = {});
        if ("all" === a.googleFamilies) {
          if (this.everythingLoaded) return;
          a.googleFamilies = [];
          for (var b in window.Static.SQUARESPACE_CONTEXT.googleFonts) a.googleFamilies.push(window.Static.SQUARESPACE_CONTEXT.googleFonts[b].includeName);
          this.everythingLoaded = !0
        } else if (a.googleFamilies) for (b = 0; b < a.googleFamilies.length; b++) - 1 == this.alreadyLoaded.indexOf(a.googleFamilies[b]) ? this.alreadyLoaded.push(a.googleFamilies[b]) : (a.googleFamilies.splice(b, 1), b--);
        else a.googleFamilies = [];
        0 !== a.googleFamilies.length && (Y.UA.ie ? window.setTimeout(function() {
          var b = document.createElement("link");
          b.rel = "stylesheet";
          var e;
          e = "//fonts.googleapis.com/css?family=" + a.googleFamilies.join("|");
          b.href = e;
          e = document.getElementsByTagName("script")[0];
          e.parentNode.insertBefore(b,
          e)
        }, 20) : window.setTimeout(function() {
          var b = document.createElement("style"),
            e;
          e = "@import url('//fonts.googleapis.com/css?family=" + a.googleFamilies.join("|");
          b.innerHTML = e + "');";
          e = document.getElementsByTagName("script")[0];
          e.parentNode.insertBefore(b, e)
        }, 20))
      }
    };
    window.Squarespace = {
      INITIALIZED: !1,
      isWrappedForDamask: function(a) {
        a = a || window;
        return !(a.Static.SQUARESPACE_CONTEXT.websiteSettings && a.Static.SQUARESPACE_CONTEXT.websiteSettings.damaskEnabled && a.Static.SQUARESPACE_CONTEXT.authenticatedAccount && a.top == a)
      },
      load: function(a) {
        a = a || window;
        if (Squarespace.isWrappedForDamask(a)) {
          var b = YUI,
            c = {}, e;
          for (e in a.YUI_CONFIG) c[e] = a.YUI_CONFIG[e];
          c.win = a;
          c.doc = a.document;
          c.scriptDoc = a.document;
          c.linkDoc = a.document;
          a.Y = b(c);
          a.Static.SQUARESPACE_CONTEXT.collection && (a.Static.SQUARESPACE_CONTEXT.collectionId = a.Static.SQUARESPACE_CONTEXT.collection.id);
          a.Static.SQUARESPACE_CONTEXT.item && (a.Static.SQUARESPACE_CONTEXT.itemId = a.Static.SQUARESPACE_CONTEXT.item.id);
          a.Y.use("squarespace-image-loader");
          a.Y.on("domready",
          a.Squarespace.afterBodyLoad, a.Squarespace)
        } else a.stop && a.stop(), a.location.href = "/config/#/content" + a.location.pathname + "|" + a.location.pathname + (window.location.search || "")
      },
      onInitialize: function(a, b) {
        if (a.config.win.Squarespace.INITIALIZED) b();
        else a.once("squarespace:initialized", b)
      },
      onDestroy: function(a, b) {
        if (a.config.win.Squarespace.DESTROYED) b();
        else a.once("squarespace:destroyed", b)
      },
      frameAvailable: function(a, b) {
        a.YUI = YUI;
        a.YUI.Env = top.Y.merge(top.YUI.Env, {
          DOMReady: !1,
          _sqsYUIEnvId: Y.guid()
        });
        a.YUI_CONFIG = top.Y.merge(top.YUI_CONFIG, {
          win: a,
          doc: a.document,
          scriptDoc: a.document,
          linkDoc: a.document,
          injected: !1
        });
        a.top.YUI_config = top.Y.merge(YUI_CONFIG, {
          win: a,
          doc: a.document,
          scriptDoc: a.document,
          linkDoc: a.document,
          injected: !1
        });
        a.top.Common(a);
        for (var c in b) if (b[c].css) for (var e = 0; e < b[c].css.length; e++) this._injectStylesheetFromTopFrame(b[c].css[e], a.document)
      },
      _injectStylesheetFromTopFrame: function(a, b) {
        var c = '<link rel="stylesheet" href="' + a + '" type="text/css" />';
        b.head ? Y.one(b.head).append(c) : b.write(c)
      },
      afterBodyLoad: function() {
        if (Squarespace.isWrappedForDamask(window)) {
          var a = Y.one("html");
          a.hasClass("squarespace-damask") || a.addClass("squarespace-cameron");
          if (!this.AFTER_BODY_LOADED) {
            try {
              if (window.top.Y && window.top.Y != Y && "loading" === Y.config.doc.readyState) {
                Y.once("domready", Y.config.win.Squarespace.afterBodyLoad, Y.config.win.Squarespace);
                return
              }
            } catch (b) {}
            this.AFTER_BODY_LOADED = !0;
            Y.use(Y.Lang.isString(Y.config.win.SQUARESPACE_ROLLUPS[0]) ? Y.config.win.SQUARESPACE_ROLLUPS : Y.Object.keys(Y.config.win.SQUARESPACE_ROLLUPS),
            Squarespace.globalInit)
          }
        }
      },
      addLoadTrigger: function(a, b) {
        if (Y.one(a)) {
          if (Y.Squarespace.Utils.isInDamaskFrame()) {
            var c = [];
            Y.Array.each(b, function(a) {
              Y.Lang.isObject(YUI.Env.mods[a]) && c.push(a)
            });
            b = Y.Array.filter(b, function(a) {
              return !c.contains(a)
            });
            Y.Array.each(c, function(b) {
              Y.use(b);
              var c = Y.config.win.Static.SQUARESPACE_CONTEXT.rollups[b];
              c ? (b = c.css.split(","), Y.Array.each(b, function(a) {
                this._injectStylesheetFromTopFrame(a, Y.config.doc)
              }, this)) : console.warn("Unable to load module '" + b + "' for trigger '" + a + "'")
            }, this);
            console.log("[common:addLoadTrigger]", "remaining modules", b)
          }
          if (0 !== b.length) {
            for (var e = [], h = [], g = 0, l = b.length; g < l; ++g) {
              var k = b[g],
                m = Y.config.win.Static.SQUARESPACE_CONTEXT.rollups[k];
              if (!m) {
                console.warn("Unable to load module '" + k + "' for trigger '" + a + "'");
                return
              }
              Y.Array.each(m.js.split(","), function(a) {
                0 < a.length && e.push(a)
              });
              Y.Array.each(m.css.split(","), function(a) {
                0 < a.length && h.push(a)
              })
            }
            Y.Get.load([].concat(e, h), {
              win: Y.config.win
            }, function(a) {
              Y.use(b)
            })
          }
        }
      },
      globalInit: function(a) {
        a.Squarespace.Utils.isInDamaskFrame() && a.Array.each(["Y.Squarespace.Singletons.TemplateInstallationListCache", "Y.Squarespace.Singletons.Template", "Y.Squarespace.ContentCollectionCache"], function(b) {
          b = b.split(".");
          var c = b.slice(1, b.length - 1).join("."),
            e = b[b.length - 1];
          a.namespace(c)[e] = a.Squarespace.Damask.ContextGlobals.fromTop(b)
        });
        a.Squarespace.EscManager && a.Squarespace.EscManager.attach(a.one(a.config.win));
        a.Squarespace.Analytics.hit();
        a.Squarespace.Census.hit();
        a.Squarespace.DateUtils.humanizeAllDates(".timesince");
        a.config.win.Squarespace.initializeLayoutBlocks(a);
        a.config.win.Squarespace.initializeGlobalLightbox(a);
        a.config.win.Squarespace.initializeVideo(a);
        Squarespace.INITIALIZED || (a.namespace("Squarespace.Singletons").WebsiteOverlaysManager = new a.Squarespace.Frontend.WebsiteOverlaysManager);
        var b = Static.SQUARESPACE_CONTEXT.websiteSettings.disqusShortname;
        a.Lang.isValue(b) && "" !== b && a.config.win.Squarespace.initializeDisqusCommentLinks(a);
        if (-1 !== document.location.href.indexOf("logout=true")) a.on("domready", function() {
          new a.Squarespace.Widgets.Information({
            "strings.title": "Logout Successful",
            "strings.message": "You have been successfully logged out."
          })
        });
        if (Static.SQUARESPACE_CONTEXT.websiteSettings.commentsEnabled) {
          var b = Static.SQUARESPACE_CONTEXT.demoCollections,
            c = Static.SQUARESPACE_CONTEXT.collectionId,
            e = !1;
          a.Lang.isArray(b) && a.Lang.isValue(c) && -1 !== a.Array.map(b, function(a) {
            return a.collectionId
          }).indexOf(c) && (e = !0);
          e || a.config.win.Squarespace.addLoadTrigger(".squarespace-comments", ["squarespace-dialog", "squarespace-comments"])
        }
        a.config.win.Squarespace.addLoadTrigger(".sqs-audio-embed, .sqs-audio-playlist, .sqs-album-block", ["squarespace-audio-player"]);
        a.Lang.isObject(Static.SQUARESPACE_CONTEXT.websiteSettings.pinterestOverlayOptions) && "disabled" !== Static.SQUARESPACE_CONTEXT.websiteSettings.pinterestOverlayOptions.mode && a.config.win.Squarespace.addLoadTrigger(".sqs-block-image,.sqs-gallery-block-stacked,.sqs-gallery-block-grid,.sqs-gallery-block-slideshow,.sqs-block-html img", ["squarespace-pinterest"]);
        a.config.win.Squarespace.addLoadTrigger(".sqs-block.calendar-block", ["squarespace-calendar-block-renderer"]);
        a.config.win.Squarespace.addLoadTrigger(".sqs-events-collection-list, .sqs-events-collection-calendar", ["squarespace-events-collection"]);
        Squarespace.globalMarkReady(a)
      },
      globalMarkReady: function(a) {
        a.config.win.Squarespace.INITIALIZED = !0;
        a.fire("squarespace:initialized")
      },
      globalDestroy: function(a) {
        a.config.win.Squarespace.DESTROYED = !0;
        a.fire("squarespace:destroyed")
      },
      initializeDisqusCommentLinks: function(a) {
        var b = a.all(".sqs-comment-link"),
          c, e = Static.SQUARESPACE_CONTEXT.websiteSettings.disqusShortname,
          h = a.Lang.isString(e) && "" !== e;
        c = h ? function(a) {
          return Static.SQUARESPACE_CONTEXT.website.baseUrl + a.getAttribute("href") + "#disqus_thread"
        } : function(b) {
          return Static.SQUARESPACE_CONTEXT.website.baseUrl + b.getAttribute("href") + a.substitute("#comment-{id}", {
            id: b.getAttribute("data-id")
          })
        };
        b.each(function(a) {
          a.setAttribute("href", c(a))
        }, this);
        h && (window.disqus_shortname = e, a.Get.script("//" + e + ".disqus.com/count.js"))
      },
      initializeLayoutBlocks: function(a, b) {
        b || (b = a);
        b.all(".sqs-block-summary-v2").each(Squarespace.initializeSummaryV2Block, this);
        b.all(".sqs-block.video-block .sqs-block-content,.sqs-block.embed-block .sqs-block-content").each(function(b) {
          a.Squarespace.UrlUtils.securifyBlockEmbed(b);
          if (b.test(".sqs-block.video-block .sqs-block-content"))(b = b.one(".sqs-video-wrapper")) && Squarespace.initializeVideoBlock(b);
          else if (!b.one(".intrinsic")) {
            var e = b.getAttribute("data-block-json");
            e && (e = a.JSON.parse(e)) && "Twitter" !== e.providerName && blockel.get("children").each(function(a) {
              a.resizetoparent({
                sizeonly: !0
              })
            });
            b.setStyles({
              visibility: "visible",
              opacity: 1,
              height: "auto"
            })
          }
        });
        b.all(".sqs-layout[data-type] img[data-image]").each(function(a) {
          !a.ancestor(".sqs-block.gallery-block, .sqs-block.flickr-block, .sqs-block.instagram-block, .sqs-block.fivehundredpix-block, .sqs-block.video-block") && !a.ancestor(".sqs-block-summary-v2") && Squarespace.initializeImageBlock(a)
        });
        b.all(".sqs-block.map-block[data-block-json]").each(function(b) {
          a.Squarespace.Damask.ContextGlobals.fromTop("Y").Squarespace.Rendering.renderMap(b.one(".sqs-block-content"), a.JSON.parse(b.getAttribute("data-block-json")))
        });
        b.all(".sqs-block.form-block").each(Squarespace.initializeFormBlock, this);
        b.all(".sqs-block.newsletter-block").each(Squarespace.initializeNewsletterBlock, this);
        b.all(".sqs-block.donation-block").each(Squarespace.initializeDonationButton,
        this);
        Squarespace.initializeAspectRatioBlocks(a);
        b.all(".sqs-block.gallery-block, .sqs-block.flickr-block, .sqs-block.instagram-block, .sqs-block.fivehundredpix-block, .sqs-block.video-block").each(function(b) {
          a.Squarespace.GalleryManager.initializeBlock(b)
        });
        b.all(".sqs-block-tourdates[data-block-json]").each(Squarespace.initializeTourDatesBlock, this);
        b.all(".sqs-block-opentable").each(Squarespace.initializeOpentableBlock, this);
        this.initializeAudioBlock(a)
      },
      initializeSummaryV2Block: function(a) {
        Y.Squarespace.GalleryManager.initializeBlock(a)
      },
      initializeOpentableBlock: function(a) {
        Y.config.win.Squarespace.onInitialize(Y, function() {
          if ("https:" == document.location.protocol && a.one(".OT_Faux_Button")) {
            var b = a.one(".OT_Faux_Button");
            a.one(".OT_Find_a_Table").remove();
            var c = window.SQUARESPACE_LOGIN && window.SQUARESPACE_LOGIN.isLoggedIn();
            if (Y.Lang.isValue(a.one(".OTButton"))) a.one(".OTButton").append(b);
            else if (c) a.append('<div class="sqs-state-message error"><div>Could not find a restaurant. Please re-enter your Restaurant Id.</div></div>');
            else return;
            b.removeClass("sqs-block-opentable-hidden");
            if (c) b.on("click", function(a) {
              a.preventDefault();
              new Y.Squarespace.Widgets.Alert({
                "strings.title": "Preview Only",
                "strings.message": "Please log out of your Squarespace account in order to use the Opentable Block."
              })
            });
            else a.addClass("sqs-block-opentable-hide-fields")
          }
        })
      },
      initializeTourDatesBlock: function(a) {
        var b = JSON.parse(a.getAttribute("data-block-json"));
        (new Y.Squarespace.Widgets.BandsInTownTourDatesList({
          artistId: b.artistId,
          timeframe: b.timeframe,
          startDate: b.startDate,
          endDate: b.endDate
        })).render(a)
      },
      initializeVideoBlock: function(a) {
        a.videoloader || a.plug(Y.Squarespace.VideoLoader)
      },
      initializeImageBlock: function(a) {
        a.setStyles({
          position: null,
          top: null,
          left: null,
          width: null,
          height: null
        });
        var b = !! a.ancestor(".sized,.content-fill");
        if (b) {
          var c = a.ancestor(".image-block-wrapper"),
            e = a.ancestor(".sqs-layout");
          c && (e && !e.hasClass("editing")) && (e = c.get("offsetHeight") / c.get("offsetWidth"), c.setAttribute("style", "padding-bottom: " + 100 * e + "% !important; height: auto !important;"),
          a.setStyles({
            maxWidth: "none"
          }));
          Y.on("resize", function() {
            a.getDOMNode() && a.inDoc() && a.fire("refresh")
          }, Y.config.win)
        }(c = !! a.ancestor(".has-aspect-ratio")) && (b = !0);
        a.plug(Y.Squarespace.Loader2, {
          mode: b ? "fill" : "none",
          fixedRatio: c
        });
        var h, g;
        if ((h = a.ancestor(".sqs-block")) && (g = h.one(".image-block-wrapper.lightbox"))) if (b = g.one("img[data-image]")) if (b = b.loader) {
          g.get("parentNode");
          b = {
            content: b.getBareElement()
          };
          if (h = g.getAttribute("data-description")) b.meta = h;
          g.plug(Y.Squarespace.Lightbox2Plug, {
            lightboxOptions: b
          })
        }
      },
      initializeFormBlock: function(a) {
        a.one(".lightbox-handle") ? Y.Squarespace.FormRenderingUtils.renderBlockWithLightbox(a) : Y.Squarespace.FormRenderingUtils.checkPreSubmit(a)
      },
      initializeNewsletterBlock: function(a) {
        320 > a.get("parentNode").get("offsetWidth") ? a.addClass("newsletter-form-has-small-container") : a.addClass("newsletter-form-has-regular-container")
      },
      initializeDonationButton: function(a) {
        var b = a.one(".sqs-donate-button");
        b.on("click", function() {
          Y.Squarespace.Commerce.goToDonatePage(b.getAttribute("data-donate-page-id"))
        })
      },
      initializeGlobalLightbox: function(a) {
        a.all('[rel="lightbox"][data-lightbox]').plug(a.Squarespace.Lightbox2Plug)
      },
      initializeCommerce: function(a) {
        a.Squarespace.Commerce.initializeCommerce(a)
      },
      initializeAudioBlock: function(a) {
        a.Squarespace.Widgets.AudioPlayer ? a.all(".sqs-audio-embed").each(function(b) {
          if (!(0 < b.get("children").size()) && !a.Widget.getByNode(b.one("." + a.Squarespace.Widgets.AudioPlayer.CSS_PREFIX))) {
            switch (a.Object.getValue(b.getData(), "design-style") || "minimal") {
            case "legacy":
              b = new a.Squarespace.Widgets.AudioPlayer({
                render: b
              });
              break;
            default:
              b = new a.Squarespace.Widgets.AudioPlayerMinimal({
                render: b
              })
            }
            b.render()
          }
        }) : Squarespace.addLoadTrigger(".sqs-audio-embed", ["squarespace-audio-player"])
      },
      initializeVideo: function(a) {
        a.all(".sqs-video-wrapper").each(function(b) {
          !b.videoloader && (!b.ancestor(".sqs-block.video-block") && !b.ancestor(".slide")) && b.plug(a.Squarespace.VideoLoader, {
            load: "false" !== b.getAttribute("data-load")
          })
        })
      },
      initializeAspectRatioBlocks: function(a) {
        a.Squarespace.Block.Utils.AspectRatioManager.initAllBlocks()
      }
    }
  }
}
Common(window);
YUI.add("squarespace-common", function(a) {}, "1.0", {
  requires: "get intl lang/datatype-date-format_en node-event-simulate node-load squarespace-aspect-ratio-manager squarespace-block-utils squarespace-census squarespace-context squarespace-currency-symbols squarespace-damask-context-globals squarespace-date-utils squarespace-escmanager squarespace-events-calendar squarespace-follow-buttons squarespace-modal-lightbox squarespace-form-rendering-utils squarespace-form-submit squarespace-gallery-ng squarespace-image-loader squarespace-search-fullscreen squarespace-search-page squarespace-search-preview squarespace-simple-liking squarespace-social-buttons squarespace-ui-base squarespace-url-utils squarespace-util squarespace-video-loader squarespace-website-overlays-manager squarespace-widgets-information squarespace-widgets-tourdates-bandsintown thirdparty-modernizr yui-throttle".split(" ")
});
YUI.add("squarespace-ui-base", function(a) {
  a.mix(a.Node.DOM_EVENTS, {
    message: !0
  });
  a.namespace("Squarespace");
  a.Squarespace.DIALOG_ZINDEX_BASE = 3E4;
  a.Anim._intervalTime = 10;
  var f = Number;
  a.Anim.DEFAULT_SETTER = function(b, e, h, g, l, k, m, n) {
    b = b._node;
    var p = b._node;
    h = m(l, f(h), f(g) - f(h), k);
    null === b._node ? console.warn("Could not find the animating DOMNode. Might have been destroyed. Bailing out for safety.") : p ? "style" in p && (e in p.style || e in a.DOM.CUSTOM_STYLES) ? b.setStyle(e, h + (n || "")) : "attributes" in p && e in p.attributes ? b.setAttribute(e, h) : e in p && (p[e] = h) : b.set ? b.set(e, h) : e in b && (b[e] = h)
  };
  var b = function(b) {
    a.Squarespace.DDBehavior.superclass.constructor.apply(this, arguments)
  };
  b.NAME = "DDBehavior";
  b.NS = "ddb";
  b.ATTRS = {
    host: {},
    validHandleClass: {}
  };
  a.extend(b, a.Plugin.Base, {
    initializer: function(a) {
      var b = this.get("host"),
        f;
      for (f in a.behaviors) if (-1 != f.indexOf("drop:") && b.target) b.target.on(f, a.behaviors[f], a.context);
      else b.on(f, a.behaviors[f], a.context)
    }
  });
  a.Squarespace.DDBehavior = b;
  a.Squarespace.TextShrink = a.Base.create("TextShrink",
  a.Plugin.Base, [], {
    initializer: function() {
      var b = this.get("host");
      null == this.get("parentEl") && this.set("parentEl", b.ancestor());
      this._setupEl();
      a.on("domready", this.refresh, this);
      this._resizeEvent = a.on("resize", function() {
        this._timeout && this._timeout.cancel();
        this._timeout = a.later(100, this, this.refresh)
      }, a.config.win, this);
      this._tweakChange = a.Global.on("tweak:change", this._reset, this);
      this._tweakSaveResetClose = a.Global.on(["tweak:save", "tweak:reset", "tweak:close"], this.refresh, this)
    },
    refresh: function() {
      this.get("host");
      this._reset();
      this._setupEl();
      this._adjust()
    },
    isOverflowing: function() {
      var a = this._getWidths();
      3 >= Math.abs(a.el - a.parentEl) && (a.el = a.parentEl = Math.min(a.el, a.parentEl));
      return a.el > a.parentEl
    },
    _adjust: function() {
      var a = this.get("host"),
        b = this._getWidths();
      this.isOverflowing() && (a = this._getStyleValue(a, "fontSize"), a *= b.parentEl / b.el, this._setFontSize(Math.floor(a)));
      return !0
    },
    _setFontSize: function(a) {
      var b = this.get("host"),
        f = this.get("minFontSize");
      f && a < f && (a = f);
      isNaN(a) || b.setStyle("fontSize", a + "px")
    },
    _getStyleValue: function(a, b) {
      return parseInt(a.getStyle(b), 10)
    },
    _getWidths: function() {
      var b = this.get("host"),
        e = this.get("parentEl"),
        f = b.get("scrollWidth"),
        g = this._getStyleValue(e, "paddingLeft") + this._getStyleValue(e, "paddingRight"),
        e = e.get("offsetWidth") - g;
      if (0 == f || !a.Lang.isValue(f)) f = b.get("offsetWidth");
      return {
        parentEl: e,
        el: f
      }
    },
    _setupEl: function() {
      var a = this.get("host");
      a.setAttribute("data-shrink-original-size", this._getStyleValue(a, "fontSize"));
      this.letterSpacing = this._getStyleValue(a, "letterSpacing") / a.getAttribute("data-shrink-original-size") + "em";
      a.setStyle("letterSpacing", this.letterSpacing)
    },
    _reset: function() {
      this.get("host").setStyles({
        letterSpacing: null,
        fontSize: null
      })
    },
    destructor: function() {
      this._resizeEvent && this._resizeEvent.detach();
      this._tweakChange && this._tweakChange.detach();
      this._tweakSaveResetClose && this._tweakSaveResetClose.detach()
    }
  }, {
    ATTRS: {
      minFontSize: {
        value: 11
      },
      parentEl: {
        value: null
      }
    },
    NS: "TextShrink"
  });
  a.Squarespace.SimpleFlexibleGrid = a.Base.create("SimpleFlexibleGrid", a.Plugin.Base, [], {
    initializer: function() {
      this._stylesheetEl = a.Node.create("<style></style>");
      this.get("host").append(this._stylesheetEl);
      this._resizeEvent = a.on("resize", this.syncUI, a.config.win, this);
      this.syncUI()
    },
    syncUI: function() {
      var a;
      a = this.get("minWidth") ? Math.floor(this.get("container").get("offsetWidth") / this.get("minWidth")) : Math.ceil(this.get("container").get("offsetWidth") / this.get("maxWidth"));
      this._stylesheetEl.set("innerHTML", this.get("selector") + "{width:" + 100 / a + "% !important;}");
      this.get("host").fire("simpleFlexibleGridSyncUI")
    },
    destructor: function() {
      this._stylesheetEl.remove();
      this._resizeEvent.detach()
    }
  }, {
    ATTRS: {
      container: {},
      selector: {},
      maxWidth: {},
      minWidth: {}
    },
    NS: "simple-flexible-grid"
  });
  a.Squarespace.Mouse = {
    lastX: 100,
    lastY: 100,
    client: {
      lastX: 100,
      lastY: 100
    },
    debug: function() {
      this.isDebugging = !0;
      this._debugNode || (this._debugNode = a.one(a.config.doc.body).appendChild("<div></div>"), this._debugNode.setStyles({
        position: "fixed",
        width: 50,
        height: 50,
        borderRadius: "50%",
        background: "rgba(20, 170, 255, 0.5)",
        marginLeft: -25,
        marginTop: -25,
        zIndex: Math.pow(10, 5),
        pointerEvents: "none"
      }));
      this._debugNode.setStyles({
        top: a.Squarespace.Mouse.lastY,
        left: a.Squarespace.Mouse.lastX
      })
    }
  };
  a.on(a.UA.mobile ? "touchmove" : "mousemove", function(b) {
    a.Squarespace.Mouse.lastX = b.pageX;
    a.Squarespace.Mouse.lastY = b.pageY;
    a.Squarespace.Mouse.client.lastX = b.clientX;
    a.Squarespace.Mouse.client.lastY = b.clientY;
    a.Squarespace.Mouse.isDebugging && a.Squarespace.Mouse.debug()
  }, a.one("html"));
  a.Squarespace.Image = {
    loadAndFit: function(b, e) {
      var f = new Image;
      f.src = e;
      a.one(f).on("load",

      function(a, b, c) {
        b.set("src", c.src);
        b.resizeToParent({
          scale: "cover"
        })
      }, this, b, f)
    },
    rotate: function(b, e, f) {
      var g = b.get("parentNode").get("offsetWidth"),
        l = b.get("parentNode").get("offsetHeight"),
        k = b.get("offsetWidth"),
        m = b.get("offsetHeight"),
        n = a.Squarespace.LoaderUtils.evaluateModeDimensions({
          mode: "fit",
          containerWidth: g,
          containerHeight: l,
          data: {
            dimensions: {
              width: k,
              height: m
            }
          }
        }),
        m = a.Squarespace.LoaderUtils.evaluateModeDimensions({
          mode: "fit",
          containerWidth: l,
          containerHeight: g,
          data: {
            dimensions: {
              width: k,
              height: m
            }
          }
        });
      0 === f % 180 ? (k = n, n = m) : k = m;
      (new a.Anim({
        node: b,
        from: {
          rotate: f,
          width: k.width,
          height: k.height,
          left: (g - k.width) / 2,
          top: (l - k.height) / 2
        },
        to: {
          rotate: e,
          width: n.width,
          height: n.height,
          top: (l - n.height) / 2,
          left: (g - n.width) / 2
        },
        easing: a.Easing.easeBothStrong,
        duration: 0.3
      })).run()
    },
    straighten: function(a, b, f, g) {
      var l = (0 > g ? 360 - g : g) % 360,
        k = l;
      90 <= l && (k = l % 90 - 90);
      180 <= l && (k = -1 * l % 180 - 180);
      270 <= l && (k = l % 270 - 90);
      l = Math.abs(k) * (Math.PI / 180);
      b = f > b ? (b * Math.cos(l) + f * Math.sin(l)) / b : (f * Math.cos(l) + b * Math.sin(l)) / f;
      a.setStyle("transform", "rotate(" + g + "deg) scale(" + Math.abs(b) + ")")
    }
  };
  a.Squarespace.Position = Class.create({
    initialize: function(a) {
      this.EDGE_MARGIN = 20;
      this.avoidElX = a.avoidElX;
      this.avoidElY = a.avoidElY;
      this.xdir = a.xdir;
      this.ydir = a.ydir;
      this.x = a.x;
      this.y = a.y;
      this.xo = a.xo ? a.xo : 0;
      this.yo = a.yo ? a.yo : 0;
      this.w = a.w;
      this.h = a.h;
      this.initialX = this.getX();
      this.initialY = this.getY()
    },
    setX: function(a) {
      this.x = a
    },
    setY: function(a) {
      this.y = a
    },
    getX: function() {
      return this.x + this.getXO()
    },
    getY: function() {
      return this.y + this.getYO()
    },
    getXY: function() {
      return [this.getX(),
      this.getY()]
    },
    getXAdj: function() {
      return this.initialX - this.getX()
    },
    getYAdj: function() {
      return this.initialY - this.getY()
    },
    getXO: function() {
      return (this.avoidElX && "right" == this.xdir ? this.avoidElX.get("offsetWidth") : 0) + this.xo
    },
    getYO: function() {
      return (this.avoidElY && "top" == this.ydir ? -this.avoidElY.get("offsetHeight") : 0) + this.yo
    },
    isRightViolation: function() {
      return this.x + this.w - Math.abs(this.getXO()) + this.EDGE_MARGIN > a.one(document.body).get("winWidth")
    },
    isLeftViolation: function() {
      return 0 > this.x - Math.abs(this.getXO()) - this.EDGE_MARGIN
    },
    isTopViolation: function() {
      return this.y - Math.abs(this.getYO()) - this.EDGE_MARGIN < a.one(document.body).get("docScrollY")
    },
    isBottomViolation: function() {
      return this.y + this.h - Math.abs(this.getYO()) + this.EDGE_MARGIN > a.one(document.body).get("winHeight") + a.one(document.body).get("docScrollY")
    },
    reflectFix: function() {
      "right" == this.xdir && this.isRightViolation() ? (this.xdir = "left", this.getX = function() {
        return this.x - this.w - this.getXO() + 11
      }) : "left" == this.xdir && this.isLeftViolation() && (this.xdir = "right", this.getX = function() {
        return this.x + this.w + this.getXO()
      });
      "bottom" == this.ydir && this.isBottomViolation() ? (this.ydir = "top", this.getY = function() {
        return this.y - this.h - this.getYO()
      }, console.log("bottom violation .. now " + this.getY())) : "top" == this.ydir && this.isTopViolation() && (this.ydir = "bottom", this.getY = function() {
        return this.y + this.h + this.getYO()
      }, console.log("top violation"));
      0 > this.getY() - this.EDGE_MARGIN ? (this.getY = function() {
        return a.one(document.body).get("winHeight") - this.h - this.EDGE_MARGIN
      },
      this.ydir = "bottom") : this.getY() + this.h + this.EDGE_MARGIN > a.one(document.body).get("winHeight") + a.one(document.body).get("docScrollY") && (this.getY = function() {
        return a.one(document.body).get("winHeight") + a.one(document.body).get("docScrollY") - this.EDGE_MARGIN - this.h
      }, this.ydir = "top");
      0 > this.getX() - this.EDGE_MARGIN ? (this.getX = function() {
        return this.EDGE_MARGIN
      }, this.ydir = "left") : this.getX() + this.w + this.EDGE_MARGIN > a.one(document.body).get("winWidth") && (this.getX = function() {
        return a.one(document.body).get("winWidth") - this.w - this.EDGE_MARGIN
      }, this.ydir = "right");
      this.getY() < a.one(document.body).get("docScrollY") && (console.log("fixing y offscreen issues."), this.yo = a.one(document.body).get("docScrollY") + this.EDGE_MARGIN - this.y)
    },
    nudgeFix: function() {
      this.isRightViolation() ? this.getX = function() {
        return a.one(document.body).get("winWidth") + a.one(document.body).get("docScrollX") - this.w - this.EDGE_MARGIN
      } : this.isLeftViolation() && (this.getX = function() {
        return this.EDGE_MARGIN
      });
      this.isBottomViolation() ? this.getY = function() {
        return a.one(document.body).get("winHeight") + a.one(document.body).get("docScrollY") - this.h - this.EDGE_MARGIN
      } : this.isTopViolation() && (this.getY = function() {
        return this.EDGE_MARGIN
      })
    },
    overflowFix: function() {
      this.isRightViolation() ? this.x = a.one(document.body).get("winWidth") + a.one(document.body).get("docScrollX") - this.w - this.EDGE_MARGIN : this.isLeftViolation() && (this.x = this.EDGE_MARGIN);
      this.isBottomViolation() ? this.y = a.one(document.body).get("winHeight") + a.one(document.body).get("docScrollY") - this.h - this.EDGE_MARGIN : 0 > this.y - Math.abs(this.getXO()) - this.EDGE_MARGIN && (this.y = this.EDGE_MARGIN)
    }
  });
  a.Squarespace.ToolTipManager = {
    canShow: !0,
    disableTooltips: function() {
      this.canShow = !1;
      this.currentTip && (this.currentTip.hide(), this.currentTip = null)
    },
    enableTooltips: function() {
      this.canShow = !0
    }
  };
  a.Squarespace.ToolTip = Class.create({
    initialize: function(b) {
      this.params = b;
      b = a.all(this.params.target);
      0 === b.size() ? console.warn("Couldn't find ToolTip target: " + this.params.target) : (void 0 === this.params.showTimeout && (this.params.showTimeout = 1200), void 0 === this.params.width && (this.params.width = 250), void 0 === this.params.style && (this.params.style = "info"), this.mouseOffset = 15, this.events = [], b.each(function(b) {
        this.events.push(b.on("mousemove", function(b) {
          this.lastX = b.pageX;
          this.lastY = b.pageY;
          this.move();
          this.showTimer || (this.showTimer = a.later(this.params.showTimeout, this, this.show))
        }, this));
        this.events.push(b.on("mouseout", function(a) {
          this.showTimer && (this.showTimer.cancel(), this.showTimer = null);
          this.hide()
        }, this));
        this.events.push(b.on("click", function(a) {
          this.params.clickToShow ? (this.show(), a.halt()) : this.hide()
        }, this))
      }, this), this.events.push(a.Global.on("manager:change-mode", function(a) {
        this.hide()
      }, this)))
    },
    destroy: function() {
      for (var a = 0; a < this.events.length; ++a) this.events[a].detach();
      this.el && (this.el.remove(), this.el = null);
      this.events = [];
      this.destroyed = !0;
      this.shown = !1
    },
    move: function() {
      this.el && (this.position.x = this.lastX, this.position.y = this.lastY, this.a ? this.el.setStyles({
        left: this.position.getX() + "px"
      }) : this.el.setStyles({
        left: this.position.getX() + "px",
        top: this.position.getY() + "px"
      }))
    },
    show: function() {
      if (!this.el && (!this.destroyed && !this.shown) && (a.Squarespace.ToolTipManager.canShow || this.params.dialogTooltip)) this.el = a.DB.DIV("sqsp-tooltip " + this.params.style, a.DB.DIV("title", {
        html: this.params.title
      }), this.params.body ? a.DB.DIV("description", {
        html: this.params.body
      }) : null), a.one(document.body).append(this.el), this.position = new a.Squarespace.Position({
        xdir: "right",
        ydir: "bottom",
        x: this.lastX,
        y: this.lastY,
        xo: this.mouseOffset,
        yo: this.mouseOffset,
        w: this.el.get("offsetWidth"),
        h: this.el.get("offsetHeight")
      }), this.position.reflectFix(), this.el.setStyles({
        left: this.position.getX() + "px",
        top: this.position.getY() - this.position.yo + "px",
        width: this.params.width + "px",
        zIndex: 2000000001,
        opacity: 0
      }), this.params.icon && this.el.setStyle(backgroundImage, "url(" + this.params.icon + ")"), this.shown = !0, this.a = new a.Anim({
        node: this.el,
        to: {
          top: this.position.getY(),
          opacity: 1
        },
        duration: 0.3,
        easing: a.Easing.easeOutStrong
      }), this.a.on("end", function() {
        this.a = null
      }, this), this.a.run(), a.Squarespace.ToolTipManager.currentTip = this
    },
    hide: function() {
      if (this.el) {
        var b = new a.Anim({
          node: this.el,
          to: {
            top: this.position.getY() + 15,
            opacity: 0
          },
          duration: 0.3,
          easing: a.Easing.easeOutStrong
        });
        b.on("end", function() {
          this.get("node").remove()
        });
        b.run();
        this.a = this.el = null;
        this.shown = !1
      }
    }
  });
  a.Squarespace.CURRENT_CONFIRMATION_DIALOG = null;
  a.Squarespace.ConfirmationDialog = Class.create({
    defaultOpts: {
      width: 230,
      className: "question",
      position: "mouse",
      extreme: !1,
      escToCancel: !0,
      style: "proceedOrCancel",
      confirmText: "Confirm",
      cancelText: "Cancel",
      showSaveOverlay: !0,
      screenOverlayOpacity: 0.5,
      showScreenOverlay: !0
    },
    initialize: function(b) {
      console.warn("[ConfirmationDialog] DEPRECATED: Please use Y.Squarespace.Widgets.Confirmation (or an appropriate subclass) instead.");
      this.params = a.merge(this.defaultOpts, b);
      this.finished = !1;
      this.ignoreBodyClicks = !0;
      this.params.zIndex ? this.zIndex = this.params.zIndex : (a.Squarespace.DIALOG_ZINDEX_BASE += 10, this.zIndex = a.Squarespace.DIALOG_ZINDEX_BASE)
    },
    getFields: function() {
      return this.params.fields ? this.params.fields : []
    },
    getButtons: function() {
      if ("confirmOrReject" == this.params.style) {
        var b = [];
        this.params.hideCancel || b.push(a.DB.DIV("sqs-button no-frame cancel", {
          html: this.params.cancelText
        }));
        b.push(a.DB.DIV("sqs-button no-frame reject", {
          html: this.params.rejectText
        }));
        b.push(a.DB.DIV("sqs-button no-frame proceed", {
          html: this.params.confirmText
        }));
        return b
      }
      if ("proceedOrCancel" == this.params.style) return [a.DB.DIV("sqs-button no-frame cancel", {
        html: this.params.cancelText
      }), a.DB.DIV("sqs-button no-frame proceed", {
        html: this.params.confirmText
      })];
      if ("confirmOnly" == this.params.style) return [a.DB.DIV("sqs-button no-frame proceed", {
        html: this.params.confirmText
      })]
    },
    showChoice: function(a, b, f, g, l, k, m) {
      this.params.style = "confirmOrReject";
      this.params.confirmText = f;
      this.params.rejectText = l;
      this.params.onReject = k;
      this.show(a, b, g, m)
    },
    showScreenOverlay: function() {
      if (this.overlayEl) this.fire("overlay-shown");
      else {
        var b = a.one(a.config.doc.body).get("winWidth"),
          e = a.one(a.config.doc.body).get("winHeight");
        this.overlayEl = a.DB.DIV("dialog-screen-overlay " + (this.params.extreme ? "extreme" : ""));
        this.overlayEl.setStyles({
          height: e + "px",
          width: b + "px"
        });
        this.overlayEl.setStyle("zIndex", this.zIndex + 10);
        a.one(a.config.doc.body).append(this.overlayEl);
        b = new a.Anim({
          node: this.overlayEl,
          to: {
            opacity: this.params.screenOverlayOpacity
          },
          duration: 0.1,
          easing: a.Easing.easeOutStrong
        });
        b.on("end", function() {
          this.fire("overlay-shown")
        }, this);
        b.run()
      }
    },
    hideScreenOverlay: function() {
      if (this.overlayEl) {
        var b = new a.Anim({
          node: this.overlayEl,
          to: {
            opacity: 0
          },
          duration: 0.1,
          easing: a.Easing.easeOutStrong
        });
        b.on("end", function() {
          this.fire("overlay-hidden");
          this.overlayEl && (this.overlayEl.remove(), delete this.overlayEl)
        }, this);
        b.run()
      } else this.fire("overlay-hidden")
    },
    show: function(b, e, f, g) {
      this.finished || (f || (f = this.params.onSuccess || function() {}), g || (g = this.params.scope || this), this.params.confirmText = this.params.confirmText || b, a.Squarespace.CURRENT_CONFIRMATION_DIALOG && a.Squarespace.CURRENT_CONFIRMATION_DIALOG.hide(), this.params.escToCancel && (a.Squarespace.CURRENT_CONFIRMATION_DIALOG = this), b && (this.params.title = b), e && (this.params.message = e), g && (this.params.scope = g), f && (this.params.onSuccess = f), this.params.showSaveOverlay && (this.params.scope && this.params.scope.on && this.params.scope.showSaveOverlay) && (this.params.scope.on("close", this.answer, this, null, !1), this.params.scope.on("cancel", this.answer, this, null, !1), this.params.scope.showSaveOverlay(!0)), b = a.bind(function() {
        a.Squarespace.EscManager.addTarget(this);
        this.el = a.DB.DIV("sqsp-tooltip clear " + this.params.className, {
          style: "width: " + this.params.width + "px"
        }, void 0 !== this.params.spinner ? a.DB.DIV("spinner") : "", a.DB.DIV("title", {
          html: this.params.title
        }), void 0 !== this.params.message ? a.DB.DIV("description", {
          html: this.params.message
        }) : "", this.getFields() ? a.DB.DIV("fields", this.getFields()) : null, this.getButtons() ? a.DB.DIV("buttons", this.getButtons()) : null);
        this.el.on("click", function(a) {
          a.stopPropagation()
        }, this);
        var b = this.el.one(".cancel");
        if (b) b.on("click", this.answer, this, !1);
        if (this.getButtons()) {
          if (this.el.one(".proceed")) this.el.one(".proceed").on("click", this.answer, this, !0, "proceed");
          if (this.el.one(".reject")) this.el.one(".reject").on("click",
          this.answer, this, !0, "reject")
        }
        if (this.params.clickToClose) this.el.once("click", this.hide, this, !0);
        a.one(a.config.doc.body).append(this.el);
        var c;
        "mouse" == this.params.position ? (c = a.Squarespace.Mouse.lastX, b = a.Squarespace.Mouse.lastY, this.position = new a.Squarespace.Position({
          xdir: "right",
          ydir: "bottom",
          x: c,
          y: b,
          xo: -150,
          yo: -80,
          w: this.el.get("offsetWidth"),
          h: this.el.get("offsetHeight")
        }), this.position.nudgeFix(), this.el.setStyles({
          position: "absolute",
          left: this.position.getX() + "px",
          top: this.position.getY() + "px",
          zIndex: 2000000001,
          opacity: 0
        })) : "anchor" == this.params.position && this.params.anchorEl ? (b = a.one(this.params.anchorEl), c = b.getX(), b = b.getY(), this.position = new a.Squarespace.Position({
          xdir: "right",
          ydir: "bottom",
          x: c,
          y: b,
          xo: -150,
          yo: -80,
          w: this.el.get("offsetWidth"),
          h: this.el.get("offsetHeight")
        }), this.position.nudgeFix(), this.el.setStyles({
          position: "absolute",
          left: this.position.getX() + "px",
          top: this.position.getY() + "px",
          zIndex: 1E6,
          opacity: 0
        })) : "center" == this.params.position ? (b = a.one(a.config.doc.body).get("winHeight") / 2 - this.el.get("offsetHeight") / 2, c = a.one(a.config.doc.body).get("winWidth") / 2 - this.el.get("offsetWidth") / 2, this.el.setStyles({
          position: "fixed",
          left: c + "px",
          top: b + "px",
          zIndex: 1E6,
          opacity: 0
        })) : (b = -1 != this.params.position.indexOf("top") ? 20 : a.one(a.config.doc.body).get("winHeight") - this.el.get("offsetHeight") - 20, - 1 != this.params.position.indexOf("right") ? c = a.one(a.config.doc.body).get("winWidth") - this.el.get("offsetWidth") - 20 : (c = 20, a.all(".config-panel").each(function(a) {
          c += a.get("offsetWidth")
        })), "lower-left" == this.params.position ? this.el.setStyles({
          position: "fixed",
          left: parseInt(a.one(".config-panel.root").getComputedStyle("width"), 10) + 10 + "px",
          bottom: "20px",
          zIndex: 1E6,
          opacity: 0
        }) : "top-center" == this.params.position ? (c = a.one(a.config.doc.body).get("winWidth") / 2 - this.el.get("offsetWidth") / 2, this.el.setStyles({
          position: "fixed",
          left: c + "px",
          top: "20px",
          zIndex: 1E6,
          opacity: 0
        })) : -1 != this.params.position.indexOf("bottom") ? this.el.setStyles({
          position: "fixed",
          left: c + "px",
          bottom: "20px",
          zIndex: 1E6,
          opacity: 0
        }) : this.el.setStyles({
          position: "fixed",
          left: c + "px",
          top: b + "px",
          zIndex: 1E6,
          opacity: 0
        }));
        b = a.Squarespace.Transitions.getTransition({
          el: this.el,
          name: "scale",
          direction: "in"
        });
        this.el.one(".proceed") && this.el.one(".proceed").focus();
        b.run();
        this.params.autoHide && (this.hideTimer = a.later(this.params.autoHide, this, this.hide))
      }, this), this.params.showScreenOverlay ? (this.showScreenOverlay(), this.once("overlay-shown", b)) : b())
    },
    setCenter: function(a) {
      this.el.setStyles({
        left: a.left - this.el.get("offsetWidth") / 2,
        top: a.top - this.el.get("offsetHeight") / 2
      })
    },
    answer: function(a, b, f) {
      if (!this.finished) if (a && a.halt(), this.hide(b), b) if ("proceed" == f) if (this.params.scope) this.params.onSuccess.apply(this.params.scope);
      else this.params.onSuccess();
      else if (this.params.scope) this.params.onReject.apply(this.params.scope);
      else this.params.onReject();
      else this.params.onCancel && this.params.onCancel.apply(this.params.scope || this)
    },
    close: function() {
      this.hide(!1)
    },
    hide: function(b) {
      this.finished = !0;
      this.pulseAnim && this.pulseAnim.stop();
      this.hideTimer && (this.hideTimer.cancel(),
      this.hideTimer = null);
      this.params.showSaveOverlay && this.params.scope && (this.params.scope.on && this.params.scope.hideSaveOverlay) && this.params.scope.hideSaveOverlay(0.3);
      b = a.bind(function() {
        a.Squarespace.EscManager && a.Squarespace.EscManager.removeTarget(this);
        var b = a.Squarespace.Transitions.getTransition({
          el: this.el,
          name: "scale",
          direction: "out"
        });
        b.on("end", function(a, b) {
          b && b.remove();
          this.fire("hidden")
        }, this, this.el);
        b.run();
        this.a = this.el = null;
        this.params.escToCancel && (a.Squarespace.CURRENT_CONFIRMATION_DIALOG = null)
      }, this);
      this.once("overlay-hidden", b);
      this.hideScreenOverlay()
    }
  });
  a.augment(a.Squarespace.ConfirmationDialog, a.EventTarget);
  a.Squarespace.Alert = Class.extend(a.Squarespace.ConfirmationDialog, {
    initialize: function(b) {
      b || (b = {});
      b.className = "alert";
      b.showScreenOverlay = !1;
      a.Squarespace.Alert.prototype.superclass.initialize.call(this, b)
    },
    getButtons: function() {
      return [a.DB.INPUT("proceed", {
        type: "button",
        value: "Ok"
      })]
    }
  });
  a.Squarespace.Notice = Class.extend(a.Squarespace.ConfirmationDialog, {
    initialize: function(b) {
      b || (b = {});
      b.className = "okay";
      b.showScreenOverlay = !1;
      a.Squarespace.Alert.prototype.superclass.initialize.call(this, b)
    },
    getButtons: function() {
      return [a.DB.INPUT("proceed", {
        type: "button",
        value: "Ok"
      })]
    }
  });
  a.Squarespace.Information = Class.extend(a.Squarespace.ConfirmationDialog, {
    initialize: function(b) {
      b || (b = {});
      b = a.merge({
        className: "okay",
        autoHide: 2E3,
        clickToClose: !0,
        escToCancel: !1,
        showScreenOverlay: !1
      }, b);
      a.Squarespace.Alert.prototype.superclass.initialize.call(this, b)
    },
    getButtons: function() {
      return null
    }
  });
  a.Squarespace.Loading = Class.extend(a.Squarespace.ConfirmationDialog, {
    initialize: function(b) {
      b || (b = {});
      b.className = "loading";
      b.clickToClose = !1;
      b.escToCancel = !1;
      b.spinner = !0;
      a.Squarespace.Loading.prototype.superclass.initialize.call(this, b)
    },
    show: function(a, b, f, g) {
      this._super(a, b, f, g)
    },
    hide: function(b) {
      void 0 === b && (b = 0);
      setTimeout(a.bind(this._super, this), b)
    },
    getButtons: function() {
      return null
    }
  });
  a.Squarespace.OptionConfirmationDialog = Class.extend(a.Squarespace.ConfirmationDialog, {
    initialize: function(b) {
      b || (b = {});
      b.clickToClose = !1;
      b.escToCancel = !1;
      a.Squarespace.Loading.prototype.superclass.initialize.call(this, b)
    },
    getFields: function() {
      this.active = !0;
      var b = this.params.optionConfig;
      this.checkEl = a.DB.DIV("field-wrapper check-field-wrapper clear thin", b.padding ? {
        style: "padding-top: " + b.padding[0] + "; padding-bottom: " + b.padding[1] + ";"
      } : null, a.DB.DIV("check-element " + (this.active ? "active" : ""), b.title ? a.DB.DIV("field-title", {
        html: b.title
      }) : null, b.description ? a.DB.DIV("field-description-wrapper", a.DB.DIV("field-description", {
        html: b.description
      })) : null));
      this.checkEl.on("click", this.onClick, this);
      return [this.checkEl]
    },
    onClick: function(a) {
      this.setValue(!this.active)
    },
    getValue: function() {
      return this.active
    },
    setValue: function(a) {
      (this.active = a) ? this.checkEl.one(".check-element").addClass("active") : this.checkEl.one(".check-element").removeClass("active")
    }
  });
  a.Squarespace.Lightbox = Class.create({
    defaultOpts: {
      overlayShowDuration: 0.35,
      contentShowDuration: 0.6,
      margin: 0,
      opacity: 1,
      transition: "fade",
      clickAnywhereToExit: !0,
      name: null,
      content: "<div>&nbsp;</div>",
      theme: "black",
      overlayStyle: "orb"
    },
    name: "Lightbox",
    initialize: function(b) {
      this.enabled = !0;
      this.params = a.merge(this.defaultOpts, b);
      this.params.containerNode || (this.params.containerNode = a.one("body"));
      this.params.transition || (this.params.transition = "fade");
      this.params.zIndex || (a.Squarespace.DIALOG_ZINDEX_BASE += 10, this.params.zIndex = a.Squarespace.DIALOG_ZINDEX_BASE);
      this.events = []
    },
    enable: function() {
      this.enabled = !0;
      this.overlayEl.setStyle("display", "block")
    },
    disable: function() {
      this.enabled = !1;
      this.overlayEl.setStyle("display", "none")
    },
    getContentEl: function() {
      return this.contentEl
    },
    show: function() {
      a.one(document).get("winWidth");
      a.one(document).get("winHeight");
      this.contentEl = a.DB.DIV("sqs-lightbox" + (this.params.name ? " sqs-lightbox-" + this.params.name : ""), a.Lang.isString(this.params.content) ? {
        html: this.params.content
      } : this.params.content);
      this.contentEl.setStyles({
        position: "fixed",
        opacity: "0",
        overflow: "hidden",
        zIndex: this.params.zIndex
      });
      this.events.push(a.on("resize", this.position, a.one(window),
      this));
      this.params.disableNormalClose || a.Squarespace.EscManager.addTarget(this);
      this.params.containerNode.append(this.contentEl);
      if (this.params.contentOnly) this._showContent();
      else {
        var b = "sqs-lightbox-overlay" + (this.params.name ? " sqs-lightbox-overlay-" + this.params.name : "") + " " + this.params.theme;
        this.params.name && (b += " sqs-lightbox-overlay-" + this.params.name);
        this.params.overlayStyle && (b += " sqs-lightbox-overlay-style-" + this.params.overlayStyle);
        this.overlayEl = a.DB.DIV(b);
        this.overlayEl.setStyles({
          zIndex: this.params.zIndex - 1
        });
        this.params.containerNode.append(this.overlayEl);
        this.fire("showing");
        this.a = a.Squarespace.Transitions.getTransition({
          el: this.overlayEl,
          opacity: this.params.opacity,
          name: "fade",
          direction: "in",
          duration: this.params.overlayShowDuration
        });
        this.a.on("end", function() {
          this.fire("overlay-visible");
          this.a = null;
          this._showContent()
        }, this);
        this.a.run();
        this.params.disableNormalClose ? this.events.push(a.on("click", function(a) {
          a.halt()
        }, this.overlayEl, this)) : this.events.push(a.on("click", this.close, this.overlayEl,
        this))
      }
      this.params.clickAnywhereToExit && this.events.push(a.on("click", this.hide, this.contentEl, this))
    },
    position: function() {
      if (this.enabled) {
        var b = a.one(document).get("winWidth"),
          e = a.one(document).get("winHeight"),
          f, g;
        f = b < this.naturalW + 2 * this.params.margin ? b - 2 * this.params.margin : this.naturalW;
        g = e < this.naturalH + 2 * this.params.margin ? e - 2 * this.params.margin : this.naturalH;
        var l = (b - f) / 2,
          k = (e - g) / 2;
        this.contentAttached && (this.contentEl.setStyles({
          left: l + "px",
          top: k + "px",
          width: f + "px"
        }), this.params.noHeightConstrain || this.contentEl.setStyles({
          height: g + "px"
        }), this.resizeTarget && this.resizeTarget.resizeToParent({
          scale: "contain"
        }));
        this.fire("position", {
          width: f,
          height: g,
          verticalWidth: b,
          verticalHeight: e,
          maxWidth: b - 2 * this.params.margin,
          maxHeight: e - 2 * this.params.margin
        })
      }
    },
    _showContent: function() {
      this.contentAttached = !0;
      this.resizeTarget = this.contentEl.one(".resize-target");
      this.naturalW = this.contentEl.one("*").get("offsetWidth");
      this.naturalH = this.params.height || this.contentEl.one("*").get("offsetHeight");
      this.position();
      this.fire("content-ready");
      var b = a.Squarespace.Transitions.getTransition({
        el: this.contentEl,
        name: this.params.transition,
        direction: "in",
        duration: this.params.contentShowDuration
      });
      b.on("end", function() {
        this.fire("content-visible")
      }, this);
      b.run()
    },
    close: function(a) {
      (this.params.clickAnywhereToExit || a && !this.overlayEl.compareTo(a.target)) && this.hide()
    },
    hide: function() {
      if (this.enabled) {
        this.a && this.a.stop();
        this.a = null;
        this.fire("hiding");
        a.Squarespace.EscManager.removeTarget(this);
        if (this.overlayEl) {
          var b = a.Squarespace.Transitions.getTransition({
            el: this.overlayEl,
            name: "fade",
            direction: "out",
            duration: this.params.overlayShowDuration
          });
          this.params.overlayShowDuration > this.params.contentShowDuration && (this.a = b);
          b.run()
        }
        b = a.Squarespace.Transitions.getTransition({
          el: this.contentEl,
          name: this.params.transition,
          direction: "out",
          duration: this.params.contentShowDuration
        });
        this.a || (this.a = b);
        b.run();
        this.a.on("end", function() {
          this.destroy();
          this.fire("hidden")
        }, this)
      }
    },
    destroy: function() {
      for (var a = 0; a < this.events.length; ++a) this.events[a].detach();
      this.contentEl && this.contentEl.remove();
      this.overlayEl && this.overlayEl.remove();
      this.overlayEl = this.contentEl = null;
      this.events = []
    }
  });
  a.augment(a.Squarespace.Lightbox, a.EventTarget);
  a.Squarespace.CustomAnim = Class.create({
    initialize: function(a) {
      this.params = a
    },
    cancel: function() {},
    stop: function() {}
  });
  a.augment(a.Squarespace.CustomAnim, a.EventTarget);
  a.augment(a.Squarespace.CustomAnim, a.Attribute);
  a.Squarespace.Transitions = {
    STANDARD_DURATION: 0.3,
    getTransition: function(b) {
      if (!b.el || !b.el._node) return console.warn("ui-base: [Transitions] You're trying to animate a non-existent element, returning blank animation"),
      new a.Anim;
      b.duration || (b.duration = a.Squarespace.Transitions.STANDARD_DURATION);
      return a.Squarespace.Transitions.transitionsByName[b.name](b)
    },
    transitionsByName: {
      fade: function(b) {
        return new a.Anim({
          node: b.el,
          to: {
            opacity: null == b.opacity ? "in" == b.direction ? 1 : 0 : b.opacity
          },
          duration: a.Squarespace.Transitions.STANDARD_DURATION,
          easing: a.Easing.easeOutStrong
        })
      },
      scale: function(b) {
        return new(Class.extend(a.Squarespace.CustomAnim, {
          run: function() {
            b.opacity || (b.opacity = 1);
            null == b.duration && (b.duration = a.Squarespace.Transitions.STANDARD_DURATION);
            var e = this.params.el;
            "in" == this.params.direction ? (e.setStyles({
              transform: "scale(.95)",
              opacity: 0
            }), a.later(10, e, e.setStyles, {
              transitionProperty: "transform, opacity",
              transitionDuration: b.duration + "s",
              transitionTimingFunction: "ease-out",
              "backface-visibility": "hidden"
            }), a.later(20, e, e.setStyles, {
              transform: "scale(1)",
              opacity: b.opacity
            })) : (e.setStyles({
              transform: "scale(1)",
              opacity: b.opacity
            }), a.later(10, e, e.setStyles, {
              transitionProperty: "transform, opacity",
              transitionDuration: b.duration + "s",
              transitionTimingFunction: "ease-out",
              backfaceVisibility: "hidden"
            }), a.later(20, e, e.setStyles, {
              transform: "scale(.95)",
              opacity: 0
            }));
            a.later(1E3 * b.duration + 100, this, function() {
              this.fire("end", {
                _event: !0
              })
            })
          }
        }))(b)
      },
      none: function(b) {
        return new(Class.extend(a.Squarespace.CustomAnim, {
          run: function() {
            "in" == this.params.direction ? this.el.setStyle("opacity", 1) : this.el.setStyle("opacity", 0);
            this.fire("end")
          }
        }))(b)
      }
    }
  };
  a.Squarespace.Effects = {
    bounce: function(b) {
      b.setStyles({
        transform: "scale(1)"
      });
      a.later(10, b, b.setStyles, {
        transitionProperty: "transform, opacity",
        transitionDuration: ".2s",
        transitionTimingFunction: "ease-out",
        backfaceVisibility: "hidden"
      });
      a.later(20, b, b.setStyles, {
        transform: "scale(1.3)"
      });
      a.later(200, b, b.setStyles, {
        transform: "scale(1)"
      })
    },
    focus: function(b) {
      b.setStyles({
        boxShadow: "0px 0px 0px rgb(20, 170, 255)"
      });
      a.later(10, b, b.setStyles, {
        transitionProperty: "boxShadow",
        transitionDuration: ".2s",
        transitionTimingFunction: "ease-out"
      });
      a.later(20, b, b.setStyles, {
        boxShadow: "0px 0px 10px rgb(20, 170, 255)"
      });
      a.later(200, b, b.setStyles, {
        boxShadow: null
      })
    },
    blink: function(b) {
      b = new a.Anim({
        node: b,
        to: {
          opacity: 0
        },
        duration: 0.6,
        easing: a.Easing.easeOutStrong
      });
      b.on("end", function() {
        var b = new a.Anim({
          node: this.get("node"),
          to: {
            opacity: 1
          },
          duration: 0.6,
          easing: a.Easing.easeOutStrong
        });
        b.on("end", function() {});
        b.run()
      });
      b.run()
    },
    shimmy: function(b) {
      b.setStyles({
        transform: "translateX(0px)"
      });
      a.later(10, b, b.setStyles, {
        transitionProperty: "transform",
        transitionDuration: ".3s",
        transitionTimingFunction: "cubic-bezier(0.175, 0.885, 0.32, 1.275)"
      });
      a.later(20, b, b.setStyles, {
        transform: "translateX(-33px)"
      });
      a.later(200, b, b.setStyles, {
        transform: null
      })
    }
  };
  a.Squarespace.NodeDestroyNotifier = a.Base.create("NodeDestroyNotifier", a.Plugin.Base, [], {
    destructor: function() {
      this.get("onDestroy") && this.get("onDestroy").call(this.get("context") || this)
    }
  }, {
    NS: "nodedestroynotifier",
    ATTRS: {
      onDestroy: {},
      context: {}
    }
  });
  a.augment(a.Node, Class.create({
    intersectXY: function(a, b) {
      var f = this.get("region");
      return f.left < a && a < f.right && f.top < b && b < f.bottom
    },
    forceClass: function(a, b) {
      this.toggleClass(a, !! b)
    },
    data: function(a) {
      var b = this._node;
      if (a) for (; b;) {
        if (b.data && -1 != b.className.indexOf(a)) return b.data;
        b = b.parentNode
      } else for (; b;) {
        if (b.data) return b.data;
        b = b.parentNode
      }
      return null
    },
    setNodeData: function(a) {
      this._node.data = a
    }
  }));
  a.Squarespace.RelativeTimeDisplay = a.Base.create("RelativeTimeDisplay", a.Plugin.Base, [], {
    initializer: function() {
      this.timer = a.later(this.get("interval"), this, this.syncUI, {}, !0);
      this.syncUI()
    },
    syncUI: function() {
      var b = Math.floor(((new Date).getTime() - this.get("date").getTime()) / 1E3);
      60 > b ? 0 === b ? this.get("host").setContent("just now") : this.get("host").setContent("about " + b + " seconds ago") : this.get("host").setContent(a.Squarespace.DateUtils.humanizeDate(this.get("date"), !0))
    },
    destructor: function() {
      this.timer.cancel()
    }
  }, {
    NS: "RelativeTimeDisplay",
    CSS_NAMESPACE: "sqs-action-overlay",
    ATTRS: {
      date: {
        valueFn: function() {
          return new Date
        }
      },
      interval: {
        value: 5E3
      }
    }
  });
  a.Squarespace.PositionAnimator = a.Base.create("PositionAnimator", a.Plugin.Base, [], {
    hold: function() {
      this.set("originalTop", this.get("host").get("offsetTop"));
      this.set("originalLeft", this.get("host").get("offsetLeft"));
      this.previousPosition = this.get("host").getStyle("position")
    },
    release: function(b) {
      var e = this.get("host").get("offsetTop"),
        f = this.get("host").get("offsetLeft"),
        g = this.get("baseSpeed") + (b ? 0 : 0.2 * Math.random());
      b = b ? 0 : 200 * Math.random();
      this.get("host").setStyles({
        position: "relative",
        top: this.get("originalTop") - e,
        left: this.get("originalLeft") - f
      });
      var l = this,
        e = this.get("host").anim({
          top: 0,
          left: 0
        }, {
          duration: g,
          end: function() {
            this.get("node")._node && (this.get("node").setStyles({
              position: this.previousPosition,
              top: null,
              left: null
            }), l.get("releasedFn") && l.get("releasedFn")(), l.fire("released"))
          }
        });
      a.later(b, e, e.run)
    },
    destructor: function() {}
  }, {
    NS: "positionAnimator",
    ATTRS: {
      originalTop: {},
      originalLeft: {},
      releasedFn: {
        value: !1
      },
      baseSpeed: {
        value: 0.2
      }
    }
  })
}, "1.0", {
  requires: "node base plugin anim event-custom attribute squarespace-date-utils squarespace-dombuilder squarespace-spinner".split(" ")
});
YUI.add("base-build", function(a, f) {
  function b(a, b, c) {
    c[a] && (b[a] = (b[a] || []).concat(c[a]))
  }
  function c(a, c, g) {
    g._ATTR_CFG && (c._ATTR_CFG_HASH = null, b.apply(null, arguments))
  }
  function e(a, b, c) {
    h.modifyAttrs(b, c.ATTRS)
  }
  var h = a.BaseCore,
    g = a.Base,
    l = a.Lang,
    k = ["_PLUG", "_UNPLUG"],
    m;
  g._build = function(b, c, e, f, h, l) {
    var k = g._build,
      m = k._ctor(c, l);
    l = k._cfg(c, l, e);
    var s = k._mixCust,
      x = m._yuibuild.dynamic,
      C, z, A, E, B, D;
    C = 0;
    for (z = e.length; C < z; C++) A = e[C], E = A.prototype, B = E.initializer, D = E.destructor, delete E.initializer, delete E.destructor,
    a.mix(m, A, !0, null, 1), s(m, A, l), B && (E.initializer = B), D && (E.destructor = D), m._yuibuild.exts.push(A);
    f && a.mix(m.prototype, f, !0);
    h && (a.mix(m, k._clean(h, l), !0), s(m, h, l));
    m.prototype.hasImpl = k._impl;
    x && (m.NAME = b, m.prototype.constructor = m, m.modifyAttrs = c.modifyAttrs);
    return m
  };
  m = g._build;
  a.mix(m, {
    _mixCust: function(b, c, g) {
      var e, f, h, k;
      g && (e = g.aggregates, f = g.custom, h = g.statics);
      h && a.mix(b, c, !0, h);
      if (e) {
        k = 0;
        for (h = e.length; k < h; k++) g = e[k], !b.hasOwnProperty(g) && c.hasOwnProperty(g) && (b[g] = l.isArray(c[g]) ? [] : {}), a.aggregate(b,
        c, !0, [g])
      }
      if (f) for (k in f) if (f.hasOwnProperty(k)) f[k](k, b, c)
    },
    _tmpl: function(b) {
      function c() {
        c.superclass.constructor.apply(this, arguments)
      }
      a.extend(c, b);
      return c
    },
    _impl: function(a) {
      var b = this._getClasses(),
        c, g, e, f, h;
      c = 0;
      for (g = b.length; c < g; c++) if (e = b[c], e._yuibuild) {
        e = e._yuibuild.exts;
        f = e.length;
        for (h = 0; h < f; h++) if (e[h] === a) return !0
      }
      return !1
    },
    _ctor: function(a, b) {
      var c = b && !1 === b.dynamic ? !1 : !0,
        g = c ? m._tmpl(a) : a,
        e = g._yuibuild;
      e || (e = g._yuibuild = {});
      e.id = e.id || null;
      e.exts = e.exts || [];
      e.dynamic = c;
      return g
    },
    _cfg: function(b, c, g) {
      for (var e = [], f = {}, h = [], l = c && c.aggregates, k = c && c.custom, m = c && c.statics, x = b, C, z; x && x.prototype;) {
        if (b = x._buildCfg) b.aggregates && (e = e.concat(b.aggregates)), b.custom && a.mix(f, b.custom, !0), b.statics && (h = h.concat(b.statics));
        x = x.superclass ? x.superclass.constructor : null
      }
      if (g) {
        C = 0;
        for (z = g.length; C < z; C++) if (x = g[C], b = x._buildCfg) b.aggregates && (e = e.concat(b.aggregates)), b.custom && a.mix(f, b.custom, !0), b.statics && (h = h.concat(b.statics))
      }
      l && (e = e.concat(l));
      k && a.mix(f, c.cfgBuild, !0);
      m && (h = h.concat(m));
      return {
        aggregates: e,
        custom: f,
        statics: h
      }
    },
    _clean: function(b, c) {
      var g, e, f, h = a.merge(b),
        l = c.aggregates;
      e = c.custom;
      for (g in e) h.hasOwnProperty(g) && delete h[g];
      e = 0;
      for (f = l.length; e < f; e++) g = l[e], h.hasOwnProperty(g) && delete h[g];
      return h
    }
  });
  g.build = function(a, b, c, g) {
    return m(a, b, c, null, null, g)
  };
  g.create = function(a, b, c, g, e) {
    return m(a, b, c, g, e)
  };
  g.mix = function(a, b) {
    a._CACHED_CLASS_DATA && (a._CACHED_CLASS_DATA = null);
    return m(null, a, b, null, null, {
      dynamic: !1
    })
  };
  h._buildCfg = {
    aggregates: k.concat(),
    custom: {
      ATTRS: e,
      _ATTR_CFG: c,
      _NON_ATTRS_CFG: b
    }
  };
  g._buildCfg = {
    aggregates: k.concat(),
    custom: {
      ATTRS: e,
      _ATTR_CFG: c,
      _NON_ATTRS_CFG: b
    }
  }
}, "3.17.2", {
  requires: ["base-base"]
});
YUI.add("squarespace-models-audio", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.Audio = a.Base.create("Audio", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "Audio",
        validator: function(a) {
          return "Audio" === a
        },
        readOnly: !0
      },
      embed: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      audioAssetUrl: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      artistName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      lengthInMilliSeconds: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      },
      bitRate: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      },
      sampleRate: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("async-queue", function(a, f) {
  a.AsyncQueue = function() {
    this._init();
    this.add.apply(this, arguments)
  };
  var b = a.AsyncQueue,
    c = a.Lang.isObject,
    e = a.Lang.isFunction;
  b.defaults = a.mix({
    autoContinue: !0,
    iterations: 1,
    timeout: 10,
    until: function() {
      this.iterations |= 0;
      return 0 >= this.iterations
    }
  }, a.config.queueDefaults || {});
  a.extend(b, a.EventTarget, {
    _running: !1,
    _init: function() {
      a.EventTarget.call(this, {
        prefix: "queue",
        emitFacade: !0
      });
      this._q = [];
      this.defaults = {};
      this._initEvents()
    },
    _initEvents: function() {
      this.publish({
        execute: {
          defaultFn: this._defExecFn,
          emitFacade: !0
        },
        shift: {
          defaultFn: this._defShiftFn,
          emitFacade: !0
        },
        add: {
          defaultFn: this._defAddFn,
          emitFacade: !0
        },
        promote: {
          defaultFn: this._defPromoteFn,
          emitFacade: !0
        },
        remove: {
          defaultFn: this._defRemoveFn,
          emitFacade: !0
        }
      })
    },
    next: function() {
      for (var a; this._q.length;) if ((a = this._q[0] = this._prepare(this._q[0])) && a.until()) this.fire("shift", {
        callback: a
      }), a = null;
      else break;
      return a || null
    },
    _defShiftFn: function(a) {
      0 === this.indexOf(a.callback) && this._q.shift()
    },
    _prepare: function(c) {
      if (e(c) && c._prepared) return c;
      c = a.merge(b.defaults, {
        context: this,
        args: [],
        _prepared: !0
      }, this.defaults, e(c) ? {
        fn: c
      } : c);
      var g = a.bind(function() {
        g._running || g.iterations--;
        e(g.fn) && g.fn.apply(g.context || a, a.Array(g.args))
      }, this);
      return a.mix(g, c)
    },
    run: function() {
      var a, b = !0;
      if (this._executing) return this._running = !0, this;
      for (a = this.next(); a && !this.isRunning() && !(b = 0 > a.timeout ? this._execute(a) : this._schedule(a), !b); a = this.next());
      a || this.fire("complete");
      return this
    },
    _execute: function(a) {
      this._running = a._running = !0;
      this._executing = a;
      a.iterations--;
      this.fire("execute", {
        callback: a
      });
      var b = this._running && a.autoContinue;
      this._executing = this._running = a._running = !1;
      return b
    },
    _schedule: function(b) {
      this._running = a.later(b.timeout, this, function() {
        this._execute(b) && this.run()
      });
      return !1
    },
    isRunning: function() {
      return !!this._running
    },
    _defExecFn: function(a) {
      a.callback()
    },
    add: function() {
      this.fire("add", {
        callbacks: a.Array(arguments, 0, !0)
      });
      return this
    },
    _defAddFn: function(b) {
      var g = this._q,
        e = [];
      a.Array.each(b.callbacks, function(a) {
        c(a) && (g.push(a),
        e.push(a))
      });
      b.added = e
    },
    pause: function() {
      this._running && c(this._running) && this._running.cancel();
      this._running = !1;
      return this
    },
    stop: function() {
      this._q = [];
      this._running && c(this._running) && (this._running.cancel(), this._running = !1);
      this._executing || this.run();
      return this
    },
    indexOf: function(a) {
      for (var b = 0, c = this._q.length, e; b < c; ++b) if (e = this._q[b], e === a || e.id === a) return b;
      return -1
    },
    getCallback: function(a) {
      a = this.indexOf(a);
      return -1 < a ? this._q[a] : null
    },
    promote: function(a) {
      var b = {
        callback: a
      }, c;
      this.isRunning() ? c = this.after("shift", function() {
        this.fire("promote", b);
        c.detach()
      }, this) : this.fire("promote", b);
      return this
    },
    _defPromoteFn: function(a) {
      var b = this.indexOf(a.callback),
        b = -1 < b ? this._q.splice(b, 1)[0] : null;
      (a.promoted = b) && this._q.unshift(b)
    },
    remove: function(a) {
      var b = {
        callback: a
      }, c;
      this.isRunning() ? c = this.after("shift", function() {
        this.fire("remove", b);
        c.detach()
      }, this) : this.fire("remove", b);
      return this
    },
    _defRemoveFn: function(a) {
      var b = this.indexOf(a.callback);
      a.removed = -1 < b ? this._q.splice(b, 1)[0] : null
    },
    size: function() {
      this.isRunning() || this.next();
      return this._q.length
    }
  })
}, "3.17.2", {
  requires: ["event-custom"]
});
YUI.add("base-core", function(a, f) {
  function b(a) {
    this._BaseInvoked || (this._BaseInvoked = !0, this._initBase(a))
  }
  var c = a.Object,
    e = a.Lang,
    h = Object.prototype.constructor,
    g = a.AttributeCore,
    l = function(a, b, c) {
      for (var g in b) c[g] && (a[g] = b[g]);
      return a
    };
  b._ATTR_CFG = g._ATTR_CFG.concat("cloneDefaultValue");
  b._NON_ATTRS_CFG = ["plugins"];
  b.NAME = "baseCore";
  b.ATTRS = {
    initialized: {
      readOnly: !0,
      value: !1
    },
    destroyed: {
      readOnly: !0,
      value: !1
    }
  };
  b.modifyAttrs = function(b, c) {
    "function" !== typeof b && (c = b, b = this);
    var g, e, f;
    g = b.ATTRS || (b.ATTRS = {});
    if (c) for (f in b._CACHED_CLASS_DATA = null, c) c.hasOwnProperty(f) && (e = g[f] || (g[f] = {}), a.mix(e, c[f], !0))
  };
  b.prototype = {
    _initBase: function(b) {
      a.stamp(this);
      this._initAttribute(b);
      var c = a.Plugin && a.Plugin.Host;
      this._initPlugins && c && c.call(this);
      !1 !== this._lazyAddAttrs && (this._lazyAddAttrs = !0);
      this.name = this.constructor.NAME;
      this.init.apply(this, arguments)
    },
    _initAttribute: function() {
      g.call(this)
    },
    init: function(a) {
      this._baseInit(a);
      return this
    },
    _baseInit: function(a) {
      this._initHierarchy(a);
      this._initPlugins && this._initPlugins(a);
      this._set("initialized", !0)
    },
    destroy: function() {
      this._baseDestroy();
      return this
    },
    _baseDestroy: function() {
      this._destroyPlugins && this._destroyPlugins();
      this._destroyHierarchy();
      this._set("destroyed", !0)
    },
    _getClasses: function() {
      this._classes || this._initHierarchyData();
      return this._classes
    },
    _getAttrCfgs: function() {
      this._attrs || this._initHierarchyData();
      return this._attrs
    },
    _getInstanceAttrCfgs: function(a) {
      var b = {}, g, e, f, h, u, v = a._subAttrs,
        w = this._attrCfgHash();
      for (u in a) if (a.hasOwnProperty(u) && "_subAttrs" !== u && (g = a[u], g = b[u] = l({}, g, w), (e = g.value) && "object" === typeof e && this._cloneDefaultValue(u, g), v && v.hasOwnProperty(u))) for (h in f = a._subAttrs[u], f) e = f[h], e.path && c.setValue(g.value, e.path, e.value);
      return b
    },
    _filterAdHocAttrs: function(a, b) {
      var c, g = this._nonAttrs,
        e;
      if (b) for (e in c = {}, b)!a[e] && (!g[e] && b.hasOwnProperty(e)) && (c[e] = {
        value: b[e]
      });
      return c
    },
    _initHierarchyData: function() {
      var a = this.constructor,
        b = a._CACHED_CLASS_DATA,
        c, g, e, f, h = !a._ATTR_CFG_HASH,
        l = {}, w = [],
        y = [];
      c = a;
      if (!b) {
        for (; c;) {
          w[w.length] = c;
          c.ATTRS && (y[y.length] = c.ATTRS);
          if (h && (e = c._ATTR_CFG, f = f || {}, e)) {
            b = 0;
            for (g = e.length; b < g; b += 1) f[e[b]] = !0
          }
          if (e = c._NON_ATTRS_CFG) {
            b = 0;
            for (g = e.length; b < g; b++) l[e[b]] = !0
          }
          c = c.superclass ? c.superclass.constructor : null
        }
        h && (a._ATTR_CFG_HASH = f);
        b = a._CACHED_CLASS_DATA = {
          classes: w,
          nonAttrs: l,
          attrs: this._aggregateAttrs(y)
        }
      }
      this._classes = b.classes;
      this._attrs = b.attrs;
      this._nonAttrs = b.nonAttrs
    },
    _attrCfgHash: function() {
      return this.constructor._ATTR_CFG_HASH
    },
    _cloneDefaultValue: function(b, c) {
      var g = c.value,
        f = c.cloneDefaultValue;
      if ("deep" === f || !0 === f) c.value = a.clone(g);
      else if ("shallow" === f) c.value = a.merge(g);
      else if (void 0 === f && (h === g.constructor || e.isArray(g))) c.value = a.clone(g)
    },
    _aggregateAttrs: function(a) {
      var b, c, g, e, f, h, v = this._attrCfgHash(),
        w = {};
      if (a) for (h = a.length - 1; 0 <= h; --h) for (b in c = a[h], c) c.hasOwnProperty(b) && (e = l({}, c[b], v), f = null, - 1 !== b.indexOf(".") && (f = b.split("."), b = f.shift()), g = w[b], f && g && g.value ? (g = w._subAttrs, g || (g = w._subAttrs = {}), g[b] || (g[b] = {}), g[b][f.join(".")] = {
        value: e.value,
        path: f
      }) : f || (g ? (g.valueFn && "value" in e && (g.valueFn = null), l(g, e, v)) : w[b] = e));
      return w
    },
    _initHierarchy: function(a) {
      var b = this._lazyAddAttrs,
        c, g, e, f, h, l, w = [],
        y = this._getClasses();
      e = this._getAttrCfgs();
      for (f = y.length - 1; 0 <= f; f--) if (c = y[f], g = c.prototype, c = c._yuibuild && c._yuibuild.exts, g.hasOwnProperty("initializer") && (w[w.length] = g.initializer), c) {
        g = 0;
        for (h = c.length; g < h; g++) l = c[g], l.apply(this, arguments), l = l.prototype, l.hasOwnProperty("initializer") && (w[w.length] = l.initializer)
      }
      f = this._getInstanceAttrCfgs(e);
      this._preAddAttrs && this._preAddAttrs(f,
      a, b);
      this._allowAdHocAttrs && this.addAttrs(this._filterAdHocAttrs(e, a), a, b);
      this.addAttrs(f, a, b);
      b = 0;
      for (e = w.length; b < e; b++) w[b].apply(this, arguments)
    },
    _destroyHierarchy: function() {
      var a, b, c, g, e, f, h, l = this._getClasses();
      c = 0;
      for (g = l.length; c < g; c++) {
        a = l[c];
        b = a.prototype;
        if (f = a._yuibuild && a._yuibuild.exts) {
          a = 0;
          for (e = f.length; a < e; a++) h = f[a].prototype, h.hasOwnProperty("destructor") && h.destructor.apply(this, arguments)
        }
        b.hasOwnProperty("destructor") && b.destructor.apply(this, arguments)
      }
    },
    toString: function() {
      return this.name + "[" + a.stamp(this, !0) + "]"
    }
  };
  a.mix(b, g, !1, null, 1);
  b.prototype.constructor = b;
  a.BaseCore = b
}, "3.17.2", {
  requires: ["attribute-core"]
});
YUI.add("anim-base", function(a, f) {
  var b = Number,
    c = {}, e;
  a.Anim = function() {
    a.Anim.superclass.constructor.apply(this, arguments);
    a.Anim._instances[a.stamp(this)] = this
  };
  a.Anim.NAME = "anim";
  a.Anim._instances = {};
  a.Anim.RE_DEFAULT_UNIT = /^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i;
  a.Anim.DEFAULT_UNIT = "px";
  a.Anim.DEFAULT_EASING = function(a, b, c, e) {
    return c * a / e + b
  };
  a.Anim._intervalTime = 20;
  a.Anim.behaviors = {
    left: {
      get: function(a, b) {
        return a._getOffset(b)
      }
    }
  };
  a.Anim.behaviors.top = a.Anim.behaviors.left;
  a.Anim.DEFAULT_SETTER = function(c, g, e, f, m, n, p, q) {
    c = c._node;
    var r = c._node;
    e = p(m, b(e), b(f) - b(e), n);
    r ? "style" in r && (g in r.style || g in a.DOM.CUSTOM_STYLES) ? c.setStyle(g, e + (q || "")) : "attributes" in r && g in r.attributes ? c.setAttribute(g, e) : g in r && (r[g] = e) : c.set ? c.set(g, e) : g in c && (c[g] = e)
  };
  a.Anim.DEFAULT_GETTER = function(b, c) {
    var e = b._node,
      f = e._node,
      m = "";
    f ? "style" in f && (c in f.style || c in a.DOM.CUSTOM_STYLES) ? m = e.getComputedStyle(c) : "attributes" in f && c in f.attributes ? m = e.getAttribute(c) : c in f && (m = f[c]) : e.get ? m = e.get(c) : c in e && (m = e[c]);
    return m
  };
  a.Anim.ATTRS = {
    node: {
      setter: function(b) {
        if (b && ("string" === typeof b || b.nodeType)) b = a.one(b);
        return this._node = b
      }
    },
    duration: {
      value: 1
    },
    easing: {
      value: a.Anim.DEFAULT_EASING,
      setter: function(b) {
        if ("string" === typeof b && a.Easing) return a.Easing[b]
      }
    },
    from: {},
    to: {},
    startTime: {
      value: 0,
      readOnly: !0
    },
    elapsedTime: {
      value: 0,
      readOnly: !0
    },
    running: {
      getter: function() {
        return !!c[a.stamp(this)]
      },
      value: !1,
      readOnly: !0
    },
    iterations: {
      value: 1
    },
    iterationCount: {
      value: 0,
      readOnly: !0
    },
    direction: {
      value: "normal"
    },
    paused: {
      readOnly: !0,
      value: !1
    },
    reverse: {
      value: !1
    }
  };
  a.Anim.run = function() {
    var b = a.Anim._instances,
      c;
    for (c in b) b[c].run && b[c].run()
  };
  a.Anim.pause = function() {
    for (var b in c) c[b].pause && c[b].pause();
    a.Anim._stopTimer()
  };
  a.Anim.stop = function() {
    for (var b in c) c[b].stop && c[b].stop();
    a.Anim._stopTimer()
  };
  a.Anim._startTimer = function() {
    e || (e = setInterval(a.Anim._runFrame, a.Anim._intervalTime))
  };
  a.Anim._stopTimer = function() {
    clearInterval(e);
    e = 0
  };
  a.Anim._runFrame = function() {
    var b = !0,
      g;
    for (g in c) c[g]._runFrame && (b = !1, c[g]._runFrame());
    b && a.Anim._stopTimer()
  };
  a.Anim.RE_UNITS = /^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;
  a.extend(a.Anim, a.Base, {
    run: function() {
      this.get("paused") ? this._resume() : this.get("running") || this._start();
      return this
    },
    pause: function() {
      this.get("running") && this._pause();
      return this
    },
    stop: function(a) {
      (this.get("running") || this.get("paused")) && this._end(a);
      return this
    },
    _added: !1,
    _start: function() {
      this._set("startTime", new Date - this.get("elapsedTime"));
      this._actualFrames = 0;
      this.get("paused") || this._initAnimAttr();
      c[a.stamp(this)] = this;
      a.Anim._startTimer();
      this.fire("start")
    },
    _pause: function() {
      this._set("startTime", null);
      this._set("paused", !0);
      delete c[a.stamp(this)];
      this.fire("pause")
    },
    _resume: function() {
      this._set("paused", !1);
      c[a.stamp(this)] = this;
      this._set("startTime", new Date - this.get("elapsedTime"));
      a.Anim._startTimer();
      this.fire("resume")
    },
    _end: function(b) {
      var g = 1E3 * this.get("duration");
      b && this._runAttrs(g, g, this.get("reverse"));
      this._set("startTime", null);
      this._set("elapsedTime",
      0);
      this._set("paused", !1);
      delete c[a.stamp(this)];
      this.fire("end", {
        elapsed: this.get("elapsedTime")
      })
    },
    _runFrame: function() {
      var a = this._runtimeAttr.duration,
        b = new Date - this.get("startTime"),
        c = this.get("reverse"),
        e = b >= a;
      this._runAttrs(b, a, c);
      this._actualFrames += 1;
      this._set("elapsedTime", b);
      this.fire("tween");
      e && this._lastFrame()
    },
    _runAttrs: function(b, c, e) {
      var f = this._runtimeAttr,
        m = a.Anim.behaviors,
        n = f.easing,
        p = c,
        q = !1,
        r, u;
      b >= c && (q = !0);
      e && (b = c - b, p = 0);
      for (u in f) f[u].to && (e = f[u], r = u in m && "set" in m[u] ? m[u].set : a.Anim.DEFAULT_SETTER, q ? r(this, u, e.from, e.to, p, c, n, e.unit) : r(this, u, e.from, e.to, b, c, n, e.unit))
    },
    _lastFrame: function() {
      var a = this.get("iterations"),
        b = this.get("iterationCount"),
        b = b + 1;
      "infinite" === a || b < a ? ("alternate" === this.get("direction") && this.set("reverse", !this.get("reverse")), this.fire("iteration")) : (b = 0, this._end());
      this._set("startTime", new Date);
      this._set("iterationCount", b)
    },
    _initAnimAttr: function() {
      var b = this.get("from") || {}, c = this.get("to") || {}, e = {
        duration: 1E3 * this.get("duration"),
        easing: this.get("easing")
      }, f = a.Anim.behaviors,
        m = this.get("node"),
        n, p, q;
      a.each(c, function(c, g) {
        "function" === typeof c && (c = c.call(this, m));
        p = b[g];
        void 0 === p ? p = g in f && "get" in f[g] ? f[g].get(this, g) : a.Anim.DEFAULT_GETTER(this, g) : "function" === typeof p && (p = p.call(this, m));
        var v = a.Anim.RE_UNITS.exec(p),
          w = a.Anim.RE_UNITS.exec(c);
        p = v ? v[1] : p;
        q = w ? w[1] : c;
        n = w ? w[2] : v ? v[2] : "";
        !n && a.Anim.RE_DEFAULT_UNIT.test(g) && (n = a.Anim.DEFAULT_UNIT);
        !p || !q ? a.error('invalid "from" or "to" for "' + g + '"', "Anim") : e[g] = {
          from: a.Lang.isObject(p) ? a.clone(p) : p,
          to: q,
          unit: n
        }
      }, this);
      this._runtimeAttr = e
    },
    _getOffset: function(a) {
      var b = this._node,
        c = b.getComputedStyle(a),
        e = "left" === a ? "getX" : "getY";
      a = "left" === a ? "setX" : "setY";
      "auto" === c && (c = b.getStyle("position"), "absolute" === c || "fixed" === c ? (c = b[e](), b[a](c)) : c = 0);
      return c
    },
    destructor: function() {
      delete a.Anim._instances[a.stamp(this)]
    }
  })
}, "3.17.2", {
  requires: ["base-base", "node-style", "color-base"]
});
YUI.add("squarespace-form-rendering-utils", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.FormRenderingUtils = {
    renderBlockWithLightbox: function(f) {
      if (f.one(".form-wrapper")) {
        var b = f.one(".form-wrapper").remove().removeClass("hidden");
        f = f.one(".lightbox-handle");
        if (!f.getData("lightbox")) {
          var c = b.cloneNode(!0),
            e = new a.Squarespace.Widgets.ModalLightbox({
              content: c,
              render: a.one("body")
            });
          a.Squarespace.FormRenderingUtils.checkPreSubmit(c);
          e.on("close", function() {
            var c = b.cloneNode(!0);
            e.set("content",
            c);
            a.Squarespace.FormRenderingUtils.checkPreSubmit(c)
          }, this);
          f.setData("lightbox", e)
        }
        f.detach("click");
        f.on("click", function(a) {
          a.halt();
          e.open()
        }, this)
      }
    },
    checkPreSubmit: function(f) {
      (f = f.one(".form-pre-submit")) && (new a.Squarespace.Widgets.FormPreSubmitFlow({
        srcNode: f
      })).render()
    }
  }
}, "1.0", {
  requires: ["squarespace-modal-lightbox", "squarespace-form-pre-submit-flow"]
});
YUI.add("transition", function(a, f) {
  var b = "",
    c = "",
    e = a.config.doc,
    h = e.documentElement.style,
    g = "transition",
    l = "transitionProperty",
    k, m, n, p, q, r = {}, u = ["Webkit", "Moz"],
    v = function() {
      this.init.apply(this, arguments)
    };
  v._TRANSFORM = "transform";
  v._toCamel = function(a) {
    return a = a.replace(/-([a-z])/gi, function(a, b) {
      return b.toUpperCase()
    })
  };
  v._toHyphen = function(a) {
    return a = a.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g, function(a, b, c, g) {
      a = (b ? "-" + b.toLowerCase() : "") + c;
      g && (a += "-" + g.toLowerCase());
      return a
    })
  };
  v.SHOW_TRANSITION = "fadeIn";
  v.HIDE_TRANSITION = "fadeOut";
  v.useNative = !1;
  "transition" in h && "transitionProperty" in h && "transitionDuration" in h && "transitionTimingFunction" in h && "transitionDelay" in h ? (v.useNative = !0, v.supported = !0) : a.Array.each(u, function(a) {
    a + "Transition" in e.documentElement.style && (b = a, c = v._toHyphen(a) + "-", v.useNative = !0, v.supported = !0, v._VENDOR_PREFIX = a)
  });
  "undefined" === typeof h.transform && a.Array.each(u, function(a) {
    a += "Transform";
    "undefined" !== typeof h[a] && (v._TRANSFORM = a)
  });
  b && (g = b + "Transition", l = b + "TransitionProperty");
  k = c + "transition-property";
  m = c + "transition-duration";
  n = c + "transition-timing-function";
  p = c + "transition-delay";
  q = "transitionend";
  b.toLowerCase();
  q = {
    Webkit: "webkitTransitionEnd"
  }[b] || q;
  v.fx = {};
  v.toggles = {};
  v._hasEnd = {};
  v._reKeywords = /^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i;
  a.Node.DOM_EVENTS[q] = 1;
  v.NAME = "transition";
  v.DEFAULT_EASING = "ease";
  v.DEFAULT_DURATION = 0.5;
  v.DEFAULT_DELAY = 0;
  v._nodeAttrs = {};
  v.prototype = {
    constructor: v,
    init: function(a, b) {
      this._node = a;
      !this._running && b && (this._config = b, a._transition = this, this._duration = "duration" in b ? b.duration : this.constructor.DEFAULT_DURATION, this._delay = "delay" in b ? b.delay : this.constructor.DEFAULT_DELAY, this._easing = b.easing || this.constructor.DEFAULT_EASING, this._count = 0, this._running = !1);
      return this
    },
    addProperty: function(b, c) {
      var g = this,
        e = this._node,
        f = a.stamp(e),
        h = a.one(e),
        l = v._nodeAttrs[f],
        k, m;
      l || (l = v._nodeAttrs[f] = {});
      f = l[b];
      c && void 0 !== c.value ? m = c.value : void 0 !== c && (m = c, c = r);
      "function" === typeof m && (m = m.call(h, h));
      f && f.transition && f.transition !== g && f.transition._count--;
      g._count++;
      k = ("undefined" !== typeof c.duration ? c.duration : g._duration) || 1E-4;
      l[b] = {
        value: m,
        duration: k,
        delay: "undefined" !== typeof c.delay ? c.delay : g._delay,
        easing: c.easing || g._easing,
        transition: g
      };
      h = a.DOM.getComputedStyle(e, b);
      h = "string" === typeof m ? h : parseFloat(h);
      v.useNative && h === m && setTimeout(function() {
        g._onNativeEnd.call(e, {
          propertyName: b,
          elapsedTime: k
        })
      }, 1E3 * k)
    },
    removeProperty: function(b) {
      var c = v._nodeAttrs[a.stamp(this._node)];
      c && c[b] && (delete c[b], this._count--)
    },
    initAttrs: function(b) {
      var c, g = this._node;
      b.transform && !b[v._TRANSFORM] && (b[v._TRANSFORM] = b.transform, delete b.transform);
      for (c in b) b.hasOwnProperty(c) && !v._reKeywords.test(c) && (this.addProperty(c, b[c]), "" === g.style[c] && a.DOM.setStyle(g, c, a.DOM.getComputedStyle(g, c)))
    },
    run: function(b) {
      var c = this._node,
        g = this._config,
        e = {
          type: "transition:start",
          config: g
        };
      this._running || (this._running = !0, g.on && g.on.start && g.on.start.call(a.one(c), e), this.initAttrs(this._config), this._callback = b, this._start());
      return this
    },
    _start: function() {
      this._runNative()
    },
    _prepDur: function(a) {
      a = 1E3 * parseFloat(a);
      return a + "ms"
    },
    _runNative: function() {
      var b = this._node,
        c = a.stamp(b),
        g = b.style,
        e = b.ownerDocument.defaultView.getComputedStyle(b),
        f = v._nodeAttrs[c],
        h = "",
        l = e[v._toCamel(k)],
        r = k + ": ",
        u = m + ": ",
        w = n + ": ",
        F = p + ": ",
        G;
      "all" !== l && (r += l + ",", u += e[v._toCamel(m)] + ",", w += e[v._toCamel(n)] + ",", F += e[v._toCamel(p)] + ",");
      for (G in f) if (e = v._toHyphen(G), l = f[G], (l = f[G]) && l.transition === this) G in b.style ? (u += this._prepDur(l.duration) + ",", F += this._prepDur(l.delay) + ",", w += l.easing + ",", r += e + ",", h += e + ": " + l.value + "; ") : this.removeProperty(G);
      r = r.replace(/,$/, ";");
      u = u.replace(/,$/, ";");
      w = w.replace(/,$/, ";");
      F = F.replace(/,$/, ";");
      v._hasEnd[c] || (b.addEventListener(q, this._onNativeEnd, ""), v._hasEnd[c] = !0);
      g.cssText += r + u + w + F + h
    },
    _end: function(b) {
      var c = this._node,
        g = this._callback,
        e = this._config,
        f = {
          type: "transition:end",
          config: e,
          elapsedTime: b
        }, h = a.one(c);
      this._running = !1;
      this._callback = null;
      c && (e.on && e.on.end ? setTimeout(function() {
        e.on.end.call(h, f);
        g && g.call(h, f)
      }, 1) : g && setTimeout(function() {
        g.call(h, f)
      }, 1))
    },
    _endNative: function(a) {
      var b = this._node,
        c = b.ownerDocument.defaultView.getComputedStyle(b, "")[v._toCamel(k)];
      a = v._toHyphen(a);
      "string" === typeof c && (c = c.replace(RegExp("(?:^|,\\s)" + a + ",?"), ","), c = c.replace(/^,|,$/, ""), b.style[g] = c)
    },
    _onNativeEnd: function(b) {
      var c = a.stamp(this),
        g = v._toCamel(b.propertyName);
      b = b.elapsedTime;
      var c = (c = v._nodeAttrs[c][g]) ? c.transition : null,
        e;
      c && (c.removeProperty(g), c._endNative(g), e = c._config[g], g = {
        type: "propertyEnd",
        propertyName: g,
        elapsedTime: b,
        config: e
      }, e && (e.on && e.on.end) && e.on.end.call(a.one(this), g), 0 >= c._count && (c._end(b), this.style[l] = ""))
    },
    destroy: function() {
      var a = this._node;
      a && (a.removeEventListener(q, this._onNativeEnd, !1), this._node = null)
    }
  };
  a.Transition = v;
  a.TransitionNative = v;
  a.Node.prototype.transition = function(b, c, g) {
    var e = v._nodeAttrs[a.stamp(this._node)],
      e = e ? e.transition || null : null,
      f;
    if ("string" === typeof b) if ("function" === typeof c && (g = c, c = null), b = v.fx[b], c && "object" === typeof c) for (f in c = a.clone(c), b) b.hasOwnProperty(f) && (f in c || (c[f] = b[f]));
    else c = b;
    else g = c, c = b;
    e && !e._running ? e.init(this, c) : e = new v(this._node, c);
    e.run(g);
    return this
  };
  a.Node.prototype.show = function(b, c, g) {
    this._show();
    b && a.Transition && ("string" !== typeof b && !b.push && ("function" === typeof c && (g = c, c = b), b = v.SHOW_TRANSITION), this.transition(b, c, g));
    return this
  };
  a.NodeList.prototype.show = function(b, c, g) {
    for (var e = this._nodes, f = 0, h; h = e[f++];) a.one(h).show(b, c, g);
    return this
  };
  var w = function(a, b, c) {
    return function() {
      b && b.call(a);
      c && "function" === typeof c && c.apply(a._node, arguments)
    }
  };
  a.Node.prototype.hide = function(b, c, g) {
    b && a.Transition ? ("function" === typeof c && (g = c, c = null), g = w(this, this._hide, g), "string" !== typeof b && !b.push && ("function" === typeof c && (g = c, c = b), b = v.HIDE_TRANSITION), this.transition(b, c, g)) : this._hide();
    return this
  };
  a.NodeList.prototype.hide = function(b, c, g) {
    for (var e = this._nodes, f = 0, h; h = e[f++];) a.one(h).hide(b, c, g);
    return this
  };
  a.NodeList.prototype.transition = function(b, c, g) {
    var e = this._nodes,
      f = this.size(),
      h = 0;
    g = !0 === g;
    for (var l; l = e[h++];) h < f && g ? a.one(l).transition(b) : a.one(l).transition(b, c);
    return this
  };
  a.Node.prototype.toggleView = function(b, c, g) {
    this._toggles = this._toggles || [];
    g = arguments[arguments.length - 1];
    if ("string" !== typeof b) this._toggleView(b, g);
    else return "function" === typeof c && (c = void 0), "undefined" === typeof c && b in this._toggles && (c = !this._toggles[b]), (c = c ? 1 : 0) ? this._show() : g = w(this, this._hide, g), this._toggles[b] = c, this.transition(a.Transition.toggles[b][c], g), this
  };
  a.NodeList.prototype.toggleView = function(b, c, g) {
    for (var e = this._nodes, f = 0, h; h = e[f++];) h = a.one(h), h.toggleView.apply(h, arguments);
    return this
  };
  a.mix(v.fx, {
    fadeOut: {
      opacity: 0,
      duration: 0.5,
      easing: "ease-out"
    },
    fadeIn: {
      opacity: 1,
      duration: 0.5,
      easing: "ease-in"
    },
    sizeOut: {
      height: 0,
      width: 0,
      duration: 0.75,
      easing: "ease-out"
    },
    sizeIn: {
      height: function(a) {
        return a.get("scrollHeight") + "px"
      },
      width: function(a) {
        return a.get("scrollWidth") + "px"
      },
      duration: 0.5,
      easing: "ease-in",
      on: {
        start: function() {
          var a = this.getStyle("overflow");
          "hidden" !== a && (this.setStyle("overflow", "hidden"),
          this._transitionOverflow = a)
        },
        end: function() {
          this._transitionOverflow && (this.setStyle("overflow", this._transitionOverflow), delete this._transitionOverflow)
        }
      }
    }
  });
  a.mix(v.toggles, {
    size: ["sizeOut", "sizeIn"],
    fade: ["fadeOut", "fadeIn"]
  })
}, "3.17.2", {
  requires: ["node-style"]
});
YUI.add("attribute-complex", function(a, f) {
  var b = a.Attribute;
  b.Complex = function() {};
  b.Complex.prototype = {
    _normAttrVals: b.prototype._normAttrVals,
    _getAttrInitVal: b.prototype._getAttrInitVal
  };
  a.AttributeComplex = b.Complex
}, "3.17.2", {
  requires: ["attribute-base"]
});
var SQUARESPACE_SIZES = [1500, 1E3, 750, 500, 300, 100],
  IMAGE_LOADING_CLASS = "loading",
  ImageLoader = new function() {
    this.load = function(a, f) {
      function b(a, b, c) {
        var g = new Image;
        g.onload = b;
        g.onerror = c;
        g.src = a
      }
      a.getDOMNode && (a = a.getDOMNode());
      var c = this._getDataFromNode(a, f),
        e = !(!c.dimensions || !c.dimensions.width || !c.dimensions.height),
        h = c.load + "";
      if ("false" === h) return !1;
      var g = c.mode;
      if (e && ("fit" == g || "fill" == g)) {
        g = a.parentNode;
        if (!g) return console.error("Not doing anything, parentNode not found."), !1;
        if (!this.refresh(a,
        f, g)) return !1
      }
      var l = this._intendToLoad(a, c);
      if ("string" == typeof l && "viewport" !== h) {
        var k = this.getUrl(l, c),
          c = a.getAttribute("data-image-resolution");
        a.getAttribute("src") !== k && this.isValidResolution(l, c) && (a.onload = function() {
          a.className = a.className.replace(IMAGE_LOADING_CLASS, " ").trim();
          a.setAttribute("data-image-resolution", l)
        }, !a.getAttribute("src") && -1 === a.className.indexOf(IMAGE_LOADING_CLASS) && (a.className += (a.className ? " " : "") + IMAGE_LOADING_CLASS), !a.getAttribute("src") && e ? a.setAttribute("src",
        k) : b(k, function() {
          e ? a.setAttribute("src", k) : (a.setAttribute("data-image-dimensions", this.width + "x" + this.height), ImageLoader.load(a, f))
        }, function() {
          a.className = a.className.replace(IMAGE_LOADING_CLASS, " ").trim();
          a.setAttribute("src", k)
        }));
        return !0
      }
      return l
    };
    this.refresh = function(a, f, b) {
      a.getDOMNode && (a = a.getDOMNode());
      b && b.getDOMNode && (b = b.getDOMNode());
      b = b || a.parentNode;
      if (!b) return console.error("Not doing anything, parentNode not found."), !1;
      var c = this._getDataFromNode(a, f),
        e = b.offsetWidth,
        h = b.offsetHeight;
      f = c.mode;
      if ("none" != f) {
        var g = c.dimensions.width,
          l = c.dimensions.height,
          k = g / l,
          m = e / h;
        if (c.fixedRatio) "fill" == f && m > k || "fit" == f && m < k ? (p = 100, q = 100 * (m / k), u = (100 - q) * c.focalPoint.y, r = 0) : (p = 100 * (k / m), q = 100, u = 0, r = (100 - p) * c.focalPoint.x), a.style.top = u + "%", a.style.left = r + "%", a.style.width = p + "%", a.style.height = q + "%";
        else {
          var n;
          "fill" === f ? n = k > m ? h / l : e / g : "fit" === f && (n = k < m ? h / l : e / g);
          !c.stretch && ("fit" == f && 1 < n) && (n = 1);
          var p = Math.ceil(g * n),
            q = Math.ceil(l * n);
          if (0 === p || 0 === q) return !1;
          var r, u;
          "fill" === f ? (r = Math.min(Math.max(e / 2 - p * c.focalPoint.x, e - p), 0), u = Math.min(Math.max(h / 2 - q * c.focalPoint.y, h - q), 0)) : "fit" === f && (n = c.fitAlignment, r = n.left ? 0 : n.right ? e - p : p < e ? (e - p) / 2 : 0, u = n.top ? 0 : n.bottom ? h - q : q < h ? (h - q) / 2 : 0, "inline" == this._getStyle(a, "display") && (a.style.fontSize = "0px"), this._resetAlt(a, function() {
            p -= a.offsetHeight - a.clientHeight;
            q -= a.offsetWidth - a.clientWidth
          }));
          a.style.top = Math.ceil(u) + "px";
          a.style.left = Math.ceil(r) + "px";
          a.style.width = Math.ceil(p) + "px";
          a.style.height = Math.ceil(q) + "px"
        }
        r = this._getStyle(b, "position");
        a.style.position = "relative" == r ? "absolute" : "relative";
        if ("fill" == f && (f = this._getStyle(b, "overflow"), !f || "hidden" != f)) b.style.overflow = "hidden";
        return !0
      }
    };
    this._intendToLoad = function(a, f) {
      function b(b, c) {
        "none" === f.mode && (a.style.width = null, a.style.height = null);
        var e = parseFloat(a.getAttribute(b)),
          n = parseFloat(e);
        if (!n || isNaN(n)) e = g._getStyle(a, b), n = parseFloat(e);
        if (!n || isNaN(n)) e = g._getStyle(a, "max-" + b, "max" + (b.substr(0, 1).toUpperCase() + b.substr(1))), n = parseFloat(e);
        if (0 === c || e) switch (g._stringType(e)) {
        case "percentage":
          c = parseInt(e, 10) / 100 * h["offset" + b.substr(0, 1).toUpperCase() + b.substr(1)];
          break;
        case "number":
          c = parseInt(e, 10)
        }!n && (0 !== c && !a.getAttribute("src")) && (c = 0);
        return c
      }
      f = f || this._getDataFromNode(a);
      if (!f.source) return !1;
      var c = a.offsetWidth,
        e = a.offsetHeight,
        h = a.parentNode,
        g = this;
      this._resetAlt(a, function() {
        c = b("width", c);
        e = b("height", e)
      });
      0 === c && 0 === e ? (c = f.dimensions.width, e = f.dimensions.height) : 0 === c ? c = this.getDimensionForValue("width", e, f) : 0 === e && (e = this.getDimensionForValue("height", c, f));
      "viewport" === f.load && (a.style.width = Math.floor(c) + "px", a.style.height = Math.floor(e) + "px");
      return this.getSquarespaceSize(c, e, f)
    };
    this._getDataFromNode = function(a, f) {
      f = f || {};
      var b = {
        focalPoint: {
          x: 0.5,
          y: 0.5
        },
        dimensions: {
          width: null,
          height: null
        },
        mode: "none",
        fitAlignment: {
          center: !0
        },
        load: "true",
        stretch: !0,
        fixedRatio: !1
      };
      if (f.focalPoint) b.focalPoint = f.focalPoint;
      else {
        var c = a.getAttribute("data-image-focal-point");
        if (c && (c = c.split(",")) && 2 == c.length) b.focalPoint = {
          x: parseFloat(c[0]),
          y: parseFloat(c[1])
        }
      }
      if (f.dimensions) b.dimensions = f.dimensions;
      else if ((c = a.getAttribute("data-image-dimensions")) && (c = c.split("x")) && 2 == c.length) b.dimensions = {
        width: parseInt(c[0], 10),
        height: parseInt(c[1], 10)
      };
      f.mode ? b.mode = f.mode : a.parentNode && (c = a.parentNode.className, - 1 !== c.indexOf("content-fill") ? b.mode = "fill" : -1 !== c.indexOf("content-fit") && (b.mode = "fit"));
      if ("fit" === b.mode && a.parentNode && (c = f.fitAlignment || a.getAttribute("data-alignment") || a.parentNode.getAttribute("data-alignment"))) b.fitAlignment = {
        top: -1 !== c.indexOf("top"),
        left: -1 !== c.indexOf("left"),
        center: -1 !== c.indexOf("center"),
        right: -1 !== c.indexOf("right"),
        bottom: -1 !== c.indexOf("bottom")
      };
      if (f.load) b.load = f.load;
      else if (c = a.getAttribute("data-load")) b.load = c;
      if ("undefined" !== typeof f.stretch) b.stretch = f.stretch;
      else if (c = a.getAttribute("data-image-stretch")) b.stretch = "true" === c ? !0 : !1;
      b.source = f.source ? f.source : a.getAttribute("data-src");
      if (b.source && (-1 !== b.source.indexOf("squarespace.com") || -1 !== b.source.indexOf("squarespace.net")) && "http:" === b.source.substr(0, 5) && "https" === window.location.protocol.substr(0,
      5)) b.source = b.source.replace("http://", "https://");
      if (f.fixedRatio) b.fixedRatio = f.fixedRatio;
      else if (c = a.getAttribute("data-fixed-ratio")) b.fixedRatio = "true" == c;
      return b
    };
    this._stringType = function(a) {
      return "string" === typeof a && -1 !== a.indexOf("%") ? "percentage" : isNaN(parseInt(a, 10)) ? NaN : "number"
    };
    this._getStyle = function(a, f, b) {
      var c;
      a.currentStyle ? c = a.currentStyle[b || f] : window.getComputedStyle && (c = document.defaultView.getComputedStyle(a, null).getPropertyValue(f));
      return c
    };
    this._isVisible = function(a) {
      a = a.getBoundingClientRect();
      return 0 <= a.left && 0 <= a.top || 0 <= a.bottom && 0 <= a.right || 0 <= a.left && 0 <= a.bottom || 0 <= a.right && 0 <= a.top
    };
    this.getSquarespaceSize = function(a, f, b) {
      a = Math.max(f / (b.dimensions.height / b.dimensions.width), a);
      "number" == typeof window.devicePixelRatio && (a *= window.devicePixelRatio);
      for (f = 1; f < SQUARESPACE_SIZES.length && !(a > SQUARESPACE_SIZES[f]); f++);
      return SQUARESPACE_SIZES[f - 1] + "w"
    };
    this.getDimensionForValue = function(a, f, b) {
      var c = b.dimensions.width;
      b = b.dimensions.height;
      return "width" == a ? c / b * f : "height" == a ? b / c * f : NaN
    };
    this.getUrl = function(a, f) {
      var b = f.source;
      return a && ("/" == b[0] || -1 != b.indexOf("squarespace.com") || -1 != b.indexOf("squarespace.net")) ? (-1 === b.indexOf("format=" + a) && (b = b + (-1 !== b.indexOf("?") ? "&" : "?") + "format=" + a), window.Static && (window.Static.IN_BACKEND && -1 === b.indexOf("storage=local")) && (b += "&storage=local"), b) : f.source
    };
    this.isValidResolution = function(a, f) {
      a = parseInt(a, 10);
      f = parseInt(f, 10);
      return isNaN(a) || isNaN(f) ? !0 : a > f
    };
    this._resetAlt = function(a, f) {
      var b = a.getAttribute("alt"),
        c = b && 0 < b.length && !a.getAttribute("src");
      if (c) {
        var e = a.style.display;
        a.removeAttribute("alt");
        a.style.display = "none";
        a.offsetHeight + 0;
        a.style.display = e
      }
      f.call(this);
      c && a.setAttribute("alt", b)
    }
  };
window.ImageLoader = ImageLoader;
var siteCSSHandle, loopHandle, imagesTimer = 50;

function ancestorHasClass(a, f) {
  return "undefined" !== typeof a.className && -1 !== a.className.indexOf(f) ? !0 : a.parentNode ? ancestorHasClass(a.parentNode, f) : !1
}
var hasAttr = function(a, f) {
  return a.hasAttribute ? a.hasAttribute(f) : !! a.attributes[f]
}, getAttr = function(a, f) {
  return a.getAttribute ? a.getAttribute(f) : a.attributes[f]
};

function init() {
  var a = document.images;
  if (0 < a.length) for (var f = 0, b = a.length; f < b; f++)(hasAttr(a[f], "data-image") || hasAttr(a[f], "data-src")) && "false" !== getAttr(a[f], "data-load") + "" && ImageLoader.load(a[f])
}
init();
window.YUI && YUI.add("squarespace-imageloader", function(a) {});
YUI.add("attribute-base", function(a, f) {
  function b() {
    a.AttributeCore.apply(this, arguments);
    a.AttributeObservable.apply(this, arguments);
    a.AttributeExtras.apply(this, arguments)
  }
  a.mix(b, a.AttributeCore, !1, null, 1);
  a.mix(b, a.AttributeExtras, !1, null, 1);
  a.mix(b, a.AttributeObservable, !0, null, 1);
  b.INVALID_VALUE = a.AttributeCore.INVALID_VALUE;
  b._ATTR_CFG = a.AttributeCore._ATTR_CFG.concat(a.AttributeObservable._ATTR_CFG);
  b.protectAttrs = a.AttributeCore.protectAttrs;
  a.Attribute = b
}, "3.17.2", {
  requires: ["attribute-core",
    "attribute-observable", "attribute-extras"]
});
YUI.add("squarespace-events-calendar", function(a) {
  a.Squarespace.EventCollectionCalendar || (a.Squarespace.EventCollectionCalendar = {});
  a.Squarespace.EventCollectionCalendar = a.Base.create("EventCollectionCalendar", a.Calendar, [], {
    initializer: function() {
      this.contentBox = this.get("contentBox");
      this.bindEvents()
    },
    calendarUrl: function(f) {
      return a.config.win.location.pathname + "?view=calendar&month=" + a.DataType.Date.format(f, {
        format: "%B-%Y",
        locale: "en"
      })
    },
    bindEvents: function() {
      this.before("render", this.createSpinner,
      this);
      this.on("render", this.getEventDataForMonth, this);
      this.after("render", this.saveHistoryStates, this);
      this.after("dateChange", this.getEventDataForMonth, this)
    },
    getEventDataForMonth: function() {
      var f = this.calendarUrl(this.get("date")) + "&format=json",
        f = f + ("&time=" + (new Date).getTime());
      a.Data.get({
        url: f,
        success: a.bind(function(a) {
          this.ajaxSuccess(a)
        }, this)
      })
    },
    ajaxSuccess: function(a) {
      this.buildCalendar(a.items)
    },
    buildCalendar: function(f) {
      this.set("customRenderer", {
        rules: {
          all: "event-select"
        },
        filterFunction: function(b,
        c) {
          this.buildIndividualDay = new a.Squarespace.BuildIndividualDay({
            date: b,
            node: c,
            events: f
          })
        }
      });
      this.formatOverflowingEvents();
      this.fadeInCalendar();
      a.on("windowresize", function() {
        this.formatOverflowingEvents()
      }, a.config.win, this)
    },
    formatOverflowingEvents: function() {
      this.contentBox.all(".eventcal-list-has-event").each(function(f) {
        var b = f.get("parentNode"),
          c = parseInt(b.get("clientHeight"), 10),
          e = parseInt(b.get("offsetWidth"), 10),
          h = b.one(".eventcal-viewall"),
          g = parseInt(h.get("offsetHeight"), 10),
          l = parseInt(f.getY(),
          10),
          k = 0;
        f.all(".eventcal-item").each(function(m) {
          var n = parseInt(m.getY(), 10) - l,
            p = parseInt(m.get("offsetHeight"), 10);
          n + p >= c - g / 2 || a.one("body").hasClass(".event-calendar-compact-view") ? (m.addClass("eventcal-item-hidden"), m.get("parentNode").addClass("eventcal-list-overflow"), (100 > e || a.one("body").hasClass(".event-calendar-compact-view")) && f.addClass("eventcal-list-overflow-fixedwidth"), h.addClass("eventcal-viewall-show"), k++, b.one(".eventcal-hiddencount-num").setHTML(k)) : (m.removeClass("eventcal-item-hidden"),
          m.get("parentNode").removeClass("eventcal-list-overflow"), f.removeClass("eventcal-list-overflow-fixedwidth"), h.removeClass("eventcal-viewall-show"))
        }, this)
      }, this);
      a.delegate(["mouseover", "mouseout"], a.bind(function(a) {
        "touchstart" === a.type ? (this.showOverflowTouch(a.currentTarget.one(".eventcal-list"), a), this.showOverflow(a.currentTarget.one(".eventcal-list"))) : "mouseover" === a.type ? this.showOverflow(a.currentTarget.one(".eventcal-list")) : "mouseout" === a.type && this.hideOverflow(a.currentTarget.one(".eventcal-list"))
      },
      this), this.contentBox, ".eventcal-node-has-event")
    },
    showOverflow: function(a) {
      a.hasClass("eventcal-list-overflow") && a.addClass("eventcal-list-overflow-show");
      if (a.hasClass("eventcal-list-overflow-fixedwidth")) {
        var b = -1 * ((120 - parseInt(a.get("parentNode").get("offsetWidth"), 10)) / 2);
        a.setStyle("left", b);
        a.getX() < this.contentBox.getX() ? a.addClass("eventcal-edge-left") : a.getX() + a.get("offsetWidth") > this.contentBox.getX() + this.contentBox.get("offsetWidth") && a.addClass("eventcal-edge-right")
      }
    },
    showOverflowTouch: function(a,
    b) {
      if (!a.hasClass("eventcal-list-overflow-show") && a.hasClass("eventcal-list-overflow")) {
        a.setData("clickedOnce", !1);
        if (a.getData("clickedOnce")) return !0;
        b.preventDefault();
        a.setData("clickedOnce", !0)
      }
      this.contentBox.all(".eventcal-list-overflow-show").each(function(b) {
        this.hideOverflow(b);
        a.setData("clickedOnce", !1)
      }, this)
    },
    hideOverflow: function(a) {
      a.removeClass("eventcal-list-overflow-show");
      a.setStyle("left", "")
    },
    createSpinner: function() {
      this.spinner = new a.Squarespace.Spinner({
        color: "dark",
        size: "extra-large",
        render: document.getElementById(this.contentBox.getAttribute("id"))
      })
    },
    fadeInCalendar: function() {
      this.spinner && (this.contentBox.one(".yui3-calendar-header").append(this.contentBox.one(".yui3-calendarnav-prevmonth")), this.contentBox.all(".yui3-calendarnav-prevmonth, .yui3-calendarnav-nextmonth").set("text", ""), this.spinner.destroy(), this.contentBox.removeClass("eventcal-preheight"), this.contentBox.one(".yui3-calendar-grid").addClass("eventcal-show"), this.contentBox.all(".yui3-calendarnav-prevmonth, .yui3-calendarnav-nextmonth").addClass("eventcal-show"))
    },
    saveHistoryStates: function() {
      this.yHistory = new a.History;
      this.yHistory.replaceValue("month", this.get("date"), {
        url: this.calendarUrl(this.get("date"))
      });
      a.delegate("click", a.bind(function() {
        this.yHistory.addValue("month", this.get("date"), {
          url: this.calendarUrl(this.get("date"))
        })
      }, this), this.contentBox, ".yui3-calendarnav-prevmonth, .yui3-calendarnav-nextmonth");
      a.on("history:change", function(f) {
        f.src == a.HistoryHTML5.SRC_POPSTATE && f.newVal.month && this.set("date", f.newVal.month)
      }, this)
    }
  }, {
    ATTRS: {
      contentBox: {
        getter: function(f) {
          return a.one(f)
        }
      },
      date: {
        valueFn: function() {
          var f = a.Squarespace.DateUtils.shiftForWebsiteTimezoneDisplay(new Date);
          if (a.Squarespace.Utils.isInDamaskFrame()) return f;
          var b = a.QueryString.parse(location.search.substring(1)).month;
          return (b = b ? a.Date.parse(b.split("-")[0] + " 1, " + b.split("-")[1]) : null) ? b : f
        }
      },
      showPrevMonth: !1,
      showNextMonth: !1
    }
  });
  a.Squarespace.BuildIndividualDay = a.Base.create("BuildIndividualDay", a.Base, [], {
    initializer: function() {
      var a = this.getTodaysEvents(this.get("events")),
        a = this.sortEvents(a);
      this.set("events",
      a);
      this.buildDay()
    },
    getTodaysEvents: function(f) {
      var b = this.get("date"),
        c = a.DataType.Date.format(b, {
          format: "%Y-%m-%d"
        });
      return a.Lang.isArray(f) && 0 < f.length ? a.Array.filter(f, function(b) {
        var f = b.structuredContent;
        b = a.Squarespace.DateUtils.dateFormat(f.startDate, {
          format: "%Y-%m-%d"
        });
        f = a.Squarespace.DateUtils.dateFormat(f.endDate, {
          format: "%Y-%m-%d"
        });
        return c == b || c == f || new Date(c) > new Date(b) && new Date(c) < new Date(f) ? !0 : !1
      }) : []
    },
    buildDay: function() {
      var f = this.get("date"),
        b = this.get("node");
      b.setHTML(a.one(".eventcal-clone").cloneNode(!0).getHTML());
      b.all(".eventcal-dayname").append(a.DataType.Date.format(f, {
        format: "%a"
      }));
      b.all(".eventcal-daynumber").append(a.DataType.Date.format(f, {
        format: "%e"
      }));
      var c = new Date,
        c = new Date(c.setMinutes(c.getMinutes() + a.Squarespace.DateUtils.getTimeOffsetToWebsiteTimezone(c)));
      f.setHours(0, 0, 0, 0) === c.setHours(0, 0, 0, 0) && b.addClass("eventcal-today");
      this.populateDay()
    },
    populateDay: function() {
      var f = this.get("node"),
        b = f.one(".eventcal-list"),
        c = this.get("events"),
        e = a.Squarespace.DateUtils.dateFormat(this.get("date"), {
          format: "%Y-%m-%d"
        });
      0 < c.length && a.Array.each(c, function(h) {
        var g = new Date(h.structuredContent.startDate),
          l = "PM" == a.Squarespace.DateUtils.dateFormat(g, {
            format: "%p"
          }) ? "p" : "a",
          k = 0 === g.getMinutes() ? a.Squarespace.DateUtils.dateFormat(g, {
            format: "%l"
          }) + l : a.Squarespace.DateUtils.dateFormat(g, {
            format: "%l:%M"
          }) + l,
          m = a.Squarespace.DateUtils.dateFormat(g, {
            format: "%H:%M"
          }),
          n = e > a.Squarespace.DateUtils.dateFormat(g, {
            format: "%Y-%m-%d"
          }),
          p = this._isMultidayEvent(h),
          g = function(a) {
            var b = a.one(".eventcal-link");
            b.setAttribute("href",
            h.fullUrl + "?view=calendar");
            a.one(".eventcal-time-12hr").setHTML(k);
            a.one(".eventcal-time-24hr").setHTML(m);
            a.one(".eventcal-title").setHTML(h.title);
            f.one(".eventcal-eventcount").setHTML(c.length);
            p ? (b.addClass("eventcal-multiday"), n ? b.addClass("eventcal-multiday-subsequent") : b.removeClass("eventcal-multiday-subsequent")) : b.removeClass("eventcal-multiday").removeClass("eventcal-multiday-subsequent")
          };
        b.hasClass("eventcal-list-has-event") ? (l = b.one(".eventcal-item").cloneNode(!0), b.append(l), g.call(this,
        l)) : g.call(this, b);
        b.addClass("eventcal-list-has-event");
        f.addClass("eventcal-node-has-event")
      }, this)
    },
    _isMultidayEvent: function(f) {
      var b = f.structuredContent;
      f = a.Squarespace.DateUtils.dateFormat(b.startDate, {
        format: "%d%m%Y"
      });
      b = a.Squarespace.DateUtils.dateFormat(b.endDate, {
        format: "%d%m%Y"
      });
      return f != b
    },
    sortEvents: function(f) {
      f.sort(function(a, b) {
        return b.structuredContent.startDate <= a.structuredContent.startDate ? 1 : -1
      });
      var b = [],
        c = [];
      a.Array.each(f, function(a) {
        this._isMultidayEvent(a) ? c.push(a) : b.push(a)
      },
      this);
      return b.concat(c)
    }
  }, {
    ATTRS: {
      date: {
        value: null
      },
      node: {
        value: null
      },
      events: {
        value: null
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-date-utils", "calendar", "history", "squarespace-spinner"]
});
YUI.add("autocomplete-plugin", function(a, f) {
  function b(a) {
    a.inputNode = a.host;
    !a.render && !1 !== a.render && (a.render = !0);
    b.superclass.constructor.apply(this, arguments)
  }
  var c = a.Plugin;
  a.extend(b, a.AutoCompleteList, {}, {
    NAME: "autocompleteListPlugin",
    NS: "ac",
    CSS_PREFIX: a.ClassNameManager.getClassName("aclist")
  });
  c.AutoComplete = b;
  c.AutoCompleteList = b
}, "3.17.2", {
  requires: ["autocomplete-list", "node-pluginhost"]
});
YUI.add("event-mousewheel", function(a, f) {
  var b = function(b) {
    b = a.Array(b, 0, !0);
    var e;
    a.UA.gecko ? (b[0] = "DOMMouseScroll", e = a.config.win) : e = a.config.doc;
    3 > b.length ? b[2] = e : b.splice(2, 0, e);
    return b
  };
  a.Env.evt.plugins.mousewheel = {
    on: function() {
      return a.Event._attach(b(arguments))
    },
    detach: function() {
      return a.Event.detach.apply(a.Event, b(arguments))
    }
  }
}, "3.17.2", {
  requires: ["node-base"]
});
YUI.add("event-move", function(a, f) {
  var b = a.Event._GESTURE_MAP,
    c = {
      start: b.start,
      end: b.end,
      move: b.move
    }, e = a.config.win && "msPointerEnabled" in a.config.win.navigator,
    h = function(b, c, g) {
      g = g ? 4 : 3;
      c = c.length > g ? a.merge(c.splice(g, 1)[0]) : {};
      "preventDefault" in c || (c.preventDefault = b.PREVENT_DEFAULT);
      return c
    }, g = function(a, b) {
      return b._extra.root || 9 === a.get("nodeType") ? a : a.get("ownerDocument")
    }, l = function(b) {
      var c = b.getDOMNode();
      return b.compareTo(a.config.doc) && c.documentElement ? c.documentElement : !1
    }, k = function(a,
    b, c) {
      a.pageX = b.pageX;
      a.pageY = b.pageY;
      a.screenX = b.screenX;
      a.screenY = b.screenY;
      a.clientX = b.clientX;
      a.clientY = b.clientY;
      a.target = a.target || b.target;
      a.currentTarget = a.currentTarget || b.currentTarget;
      a.button = c && c.button || 1
    }, m = function(b) {
      var c = l(b) || b.getDOMNode(),
        g = b.getData("msTouchActionCount");
      e && (g || (g = 0, b.setData("msInitTouchAction", c.style.msTouchAction)), c.style.msTouchAction = a.Event._DEFAULT_TOUCH_ACTION, g++, b.setData("msTouchActionCount", g))
    }, n = function(a) {
      var b = l(a) || a.getDOMNode(),
        c = a.getData("msTouchActionCount"),
        g = a.getData("msInitTouchAction");
      e && (c--, a.setData("msTouchActionCount", c), 0 === c && b.style.msTouchAction !== g && (b.style.msTouchAction = g))
    }, p = function(a, b) {
      b && (!b.call || b(a)) && a.preventDefault()
    }, b = a.Event.define;
  a.Event._DEFAULT_TOUCH_ACTION = "none";
  b("gesturemovestart", {
    on: function(a, b, g) {
      m(a);
      b._msh = a.on(c.start, this._onStart, this, a, b, g)
    },
    delegate: function(a, b, g, e) {
      var f = this;
      b._dmsh = a.delegate(c.start, function(c) {
        f._onStart(c, a, b, g, !0)
      }, e)
    },
    detachDelegate: function(a, b, c, g) {
      if (c = b._dmsh) c.detach(),
      b._dmsh = null;
      n(a)
    },
    detach: function(a, b, c) {
      if (c = b._msh) c.detach(), b._msh = null;
      n(a)
    },
    processArgs: function(a, b) {
      var c = h(this, a, b);
      "minTime" in c || (c.minTime = this.MIN_TIME);
      "minDistance" in c || (c.minDistance = this.MIN_DISTANCE);
      return c
    },
    _onStart: function(b, e, f, h, l) {
      l && (e = b.currentTarget);
      var m = f._extra;
      l = !0;
      var n = m.minTime,
        x = m.minDistance,
        C = m.button,
        z = m.preventDefault;
      f = g(e, f);
      var A;
      b.touches ? 1 === b.touches.length ? k(b, b.touches[0], m) : l = !1 : l = void 0 === C || C === b.button;
      l && (p(b, z), 0 === n || 0 === x ? this._start(b,
      e, h, m) : (A = [b.pageX, b.pageY], 0 < n && (m._ht = a.later(n, this, this._start, [b, e, h, m]), m._hme = f.on(c.end, a.bind(function() {
        this._cancel(m)
      }, this))), 0 < x && (m._hm = f.on(c.move, a.bind(function(a) {
        (Math.abs(a.pageX - A[0]) > x || Math.abs(a.pageY - A[1]) > x) && this._start(b, e, h, m)
      }, this)))))
    },
    _cancel: function(a) {
      a._ht && (a._ht.cancel(), a._ht = null);
      a._hme && (a._hme.detach(), a._hme = null);
      a._hm && (a._hm.detach(), a._hm = null)
    },
    _start: function(a, b, c, g) {
      g && this._cancel(g);
      a.type = "gesturemovestart";
      b.setData("_ms", a);
      c.fire(a)
    },
    MIN_TIME: 0,
    MIN_DISTANCE: 0,
    PREVENT_DEFAULT: !1
  });
  b("gesturemove", {
    on: function(a, b, e) {
      m(a);
      a = g(a, b, c.move).on(c.move, this._onMove, this, a, b, e);
      b._mh = a
    },
    delegate: function(a, b, g, e) {
      var f = this;
      b._dmh = a.delegate(c.move, function(c) {
        f._onMove(c, a, b, g, !0)
      }, e)
    },
    detach: function(a, b, c) {
      if (c = b._mh) c.detach(), b._mh = null;
      n(a)
    },
    detachDelegate: function(a, b, c, g) {
      if (c = b._dmh) c.detach(), b._dmh = null;
      n(a)
    },
    processArgs: function(a, b) {
      return h(this, a, b)
    },
    _onMove: function(a, b, c, g, e) {
      e && (b = a.currentTarget);
      b = c._extra.standAlone || b.getData("_ms");
      c = c._extra.preventDefault;
      b && (a.touches && (1 === a.touches.length ? k(a, a.touches[0]) : b = !1), b && (p(a, c), a.type = "gesturemove", g.fire(a)))
    },
    PREVENT_DEFAULT: !1
  });
  b("gesturemoveend", {
    on: function(a, b, e) {
      m(a);
      a = g(a, b).on(c.end, this._onEnd, this, a, b, e);
      b._meh = a
    },
    delegate: function(a, b, g, e) {
      var f = this;
      b._dmeh = a.delegate(c.end, function(c) {
        f._onEnd(c, a, b, g, !0)
      }, e)
    },
    detachDelegate: function(a, b, c, g) {
      if (c = b._dmeh) c.detach(), b._dmeh = null;
      n(a)
    },
    detach: function(a, b, c) {
      if (c = b._meh) c.detach(), b._meh = null;
      n(a)
    },
    processArgs: function(a,
    b) {
      return h(this, a, b)
    },
    _onEnd: function(a, b, c, g, e) {
      e && (b = a.currentTarget);
      e = c._extra.standAlone || b.getData("_m") || b.getData("_ms");
      c = c._extra.preventDefault;
      e && (a.changedTouches && (1 === a.changedTouches.length ? k(a, a.changedTouches[0]) : e = !1), e && (p(a, c), a.type = "gesturemoveend", g.fire(a), b.clearData("_ms"), b.clearData("_m")))
    },
    PREVENT_DEFAULT: !1
  })
}, "3.17.2", {
  requires: ["node-base", "event-touch", "event-synthetic"]
});
YUI.add("squarespace-gallery-stacked", function(a) {
  a.namespace("Squarespace.GalleryDesigns");
  a.Squarespace.GalleryDesigns.stacked = a.Squarespace.GalleryDesigns.off.extend({
    gallery: null,
    options: {
      speed: 0.3,
      easing: a.Easing.easeOutStrong,
      transition: "fade"
    },
    setup: function() {
      var f = this.gallery.elems.container,
        b = this.gallery.elems.slides,
        c;
      c = "absolute" != f.getStyle("position") && "fixed" != f.getStyle("position") ? "relative" : f.getStyle("position");
      f.setStyles({
        position: c,
        width: f.get("outerWidth"),
        height: f.get("outerHeight"),
        overflow: "hidden"
      });
      b.setStyles({
        position: "absolute",
        top: 0,
        left: 0,
        zIndex: -1
      });
      if (!a.Squarespace.StackedGalleryTransitions[this.options.transition]) {
        var f = [],
          e;
        for (e in a.Squarespace.StackedGalleryTransitions) f.push(e);
        throw Error("Transition '" + this.options.transition + "' not found. Currently loaded transitions: [" + f.join(", ") + "].");
      }
      this.transition = new a.Squarespace.StackedGalleryTransitions[this.options.transition];
      this.transition.setup(f, b);
      this.gallery.on("change", this.change, this);
      a.on("resize",

      function() {
        this.getGallery().getSlides().each(function(a) {
          a.test("img") ? a.fire("refresh") : a.one("img") && a.one("img").fire("refresh")
        })
      }, a.config.win, this)
    },
    change: function(f) {
      f = a.merge(f, {
        slides: this.gallery.elems.slides,
        container: this.gallery.elems.container
      });
      var b = {
        duration: this.options.speed,
        easing: this.options.easing,
        increment: f.direction ? f.direction : "fwd"
      }, c;
      f.fromIndex != f.toIndex && a.Lang.isNumber(f.fromIndex) && (c = f.slides.item(f.fromIndex), c = this.transition.animOut(a.merge(b, {
        node: c
      })), c.run());
      a.Lang.isNumber(f.toIndex) && (c = f.slides.item(f.toIndex), c = this.transition.animIn(a.merge(b, {
        node: c
      })), c.run())
    }
  });
  a.Squarespace.StackedGalleryTransitions = a.Squarespace.StackedGalleryTransitions || {};
  a.Squarespace.StackedGalleryTransitions.base = Class.create({
    setup: function(a, b) {},
    animIn: function(a) {
      this.animInTransition && this.animInTransition.cancel();
      this.animInTransition = new this.transition(a);
      this.animInTransition.set("direction", "in");
      return this.animInTransition
    },
    animOut: function(a) {
      this.animOutTransition && this.animOutTransition.cancel();
      this.animOutTransition = new this.transition(a);
      this.animOutTransition.set("direction", "out");
      return this.animOutTransition
    }
  });
  a.Squarespace.StackedGalleryTransitions.fade = a.Squarespace.StackedGalleryTransitions.base.extend({
    setup: function(a, b) {
      b.setStyles({
        opacity: 0
      })
    },
    transition: a.Squarespace.GalleryTransitions.fade,
    animIn: function(a) {
      this.superclass.animIn.call(this, a);
      this.animInTransition.get("node").setStyle("zIndex", 101);
      return this.animInTransition
    },
    animOut: function(a) {
      this.superclass.animOut.call(this,
      a);
      this.animOutTransition.get("node").setStyle("zIndex", 100);
      this.animOutTransition.get("node").anim({
        opacity: 0
      }).run();
      return this.animOutTransition
    }
  });
  a.Squarespace.StackedGalleryTransitions.scrollHorz = a.Squarespace.StackedGalleryTransitions.base.extend({
    transition: a.Squarespace.GalleryTransitions.scroll,
    setup: function(a, b) {
      b.setStyles({
        left: a.get("offsetWidth")
      })
    },
    animIn: function(a) {
      this.superclass.animIn.call(this, a);
      return this.animInTransition
    },
    animOut: function(a) {
      this.superclass.animOut.call(this,
      a);
      return this.animOutTransition
    }
  });
  a.Squarespace.StackedGalleryTransitions.scrollVert = a.Squarespace.StackedGalleryTransitions.base.extend({
    transition: a.Squarespace.GalleryTransitions.scroll,
    setup: function(a, b) {
      b.setStyles({
        top: a.get("offsetHeight")
      })
    },
    animIn: function(a) {
      this.superclass.animIn.call(this, a);
      this.animInTransition.set("movement", "vertical");
      return this.animInTransition
    },
    animOut: function(a) {
      this.superclass.animOut.call(this, a);
      this.animOutTransition.set("movement", "vertical");
      return this.animOutTransition
    }
  });
  a.Squarespace.StackedGalleryTransitions.puff = a.Squarespace.StackedGalleryTransitions.base.extend({
    transition: a.Squarespace.GalleryTransitions.puff,
    setup: function(a, b) {
      b.setStyles({
        opacity: 0
      });
      a.setStyles({
        overflow: "visible"
      })
    }
  });
  a.Squarespace.StackedGalleryTransitions.flip = a.Squarespace.StackedGalleryTransitions.base.extend({
    transition: a.Squarespace.GalleryTransitions.flip
  })
}, "1.0", {
  requires: ["anim", "squarespace-gallery", "squarespace-gallery-transitions"]
});
YUI.add("datatype-date-format", function(a, f) {
  var b = function(a, b, c) {
    "undefined" === typeof c && (c = 10);
    for (b += ""; parseInt(a, 10) < c && 1 < c; c /= 10) a = b + a;
    return a.toString()
  }, c = {
    formats: {
      a: function(a, b) {
        return b.a[a.getDay()]
      },
      A: function(a, b) {
        return b.A[a.getDay()]
      },
      b: function(a, b) {
        return b.b[a.getMonth()]
      },
      B: function(a, b) {
        return b.B[a.getMonth()]
      },
      C: function(a) {
        return b(parseInt(a.getFullYear() / 100, 10), 0)
      },
      d: ["getDate", "0"],
      e: ["getDate", " "],
      g: function(a) {
        return b(parseInt(c.formats.G(a) % 100, 10), 0)
      },
      G: function(a) {
        var b = a.getFullYear(),
          g = parseInt(c.formats.V(a), 10);
        a = parseInt(c.formats.W(a), 10);
        a > g ? b++ : 0 === a && 52 <= g && b--;
        return b
      },
      H: ["getHours", "0"],
      I: function(a) {
        a = a.getHours() % 12;
        return b(0 === a ? 12 : a, 0)
      },
      j: function(a) {
        var c = new Date("" + a.getFullYear() + "/1/1 GMT");
        a = new Date("" + a.getFullYear() + "/" + (a.getMonth() + 1) + "/" + a.getDate() + " GMT") - c;
        a = parseInt(a / 6E4 / 60 / 24, 10) + 1;
        return b(a, 0, 100)
      },
      k: ["getHours", " "],
      l: function(a) {
        a = a.getHours() % 12;
        return b(0 === a ? 12 : a, " ")
      },
      m: function(a) {
        return b(a.getMonth() + 1, 0)
      },
      M: ["getMinutes",
        "0"],
      p: function(a, b) {
        return b.p[12 <= a.getHours() ? 1 : 0]
      },
      P: function(a, b) {
        return b.P[12 <= a.getHours() ? 1 : 0]
      },
      s: function(a, b) {
        return parseInt(a.getTime() / 1E3, 10)
      },
      S: ["getSeconds", "0"],
      u: function(a) {
        a = a.getDay();
        return 0 === a ? 7 : a
      },
      U: function(a) {
        var f = parseInt(c.formats.j(a), 10);
        a = 6 - a.getDay();
        f = parseInt((f + a) / 7, 10);
        return b(f, 0)
      },
      V: function(a) {
        var f = parseInt(c.formats.W(a), 10),
          g = (new Date("" + a.getFullYear() + "/1/1")).getDay(),
          f = f + (4 < g || 1 >= g ? 0 : 1);
        53 === f && 4 > (new Date("" + a.getFullYear() + "/12/31")).getDay() ? f = 1 : 0 === f && (f = c.formats.V(new Date("" + (a.getFullYear() - 1) + "/12/31")));
        return b(f, 0)
      },
      w: "getDay",
      W: function(a) {
        var f = parseInt(c.formats.j(a), 10);
        a = 7 - c.formats.u(a);
        f = parseInt((f + a) / 7, 10);
        return b(f, 0, 10)
      },
      y: function(a) {
        return b(a.getFullYear() % 100, 0)
      },
      Y: "getFullYear",
      z: function(a) {
        a = a.getTimezoneOffset();
        var c = b(parseInt(Math.abs(a / 60), 10), 0),
          g = b(Math.abs(a % 60), 0);
        return (0 < a ? "-" : "+") + c + g
      },
      Z: function(a) {
        var b = a.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/, "$2").replace(/[a-z ]/g, "");
        4 < b.length && (b = c.formats.z(a));
        return b
      },
      "%": function(a) {
        return "%"
      }
    },
    aggregates: {
      c: "locale",
      D: "%m/%d/%y",
      F: "%Y-%m-%d",
      h: "%b",
      n: "\n",
      r: "%I:%M:%S %p",
      R: "%H:%M",
      t: "\t",
      T: "%H:%M:%S",
      x: "locale",
      X: "locale"
    },
    format: function(e, f) {
      f = f || {};
      if (!a.Lang.isDate(e)) return a.Lang.isValue(e) ? e : "";
      var g, l;
      g = f.format || "%Y-%m-%d";
      l = a.Intl.get("datatype-date-format");
      for (var k = function(a, b) {
        var g = c.aggregates[b];
        return "locale" === g ? l[b] : g
      }, m = function(g, f) {
        var h = c.formats[f];
        switch (a.Lang.type(h)) {
        case "string":
          return e[h]();
        case "function":
          return h.call(e, e, l);
        case "array":
          if ("string" === a.Lang.type(h[0])) return b(e[h[0]](), h[1]);
        default:
          return f
        }
      }; g.match(/%[cDFhnrRtTxX]/);) g = g.replace(/%([cDFhnrRtTxX])/g, k);
      g = g.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g, m);
      k = m = void 0;
      return g
    }
  };
  a.mix(a.namespace("Date"), c);
  a.namespace("DataType");
  a.DataType.Date = a.Date
}, "3.17.2", {
  lang: "ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")
});
YUI.add("datatype-xml-parse", function(a, f) {
  a.mix(a.namespace("XML"), {
    parse: function(b) {
      var c = null,
        e;
      "string" === typeof b && (e = a.config.win, void 0 !== e.ActiveXObject ? (c = new ActiveXObject("Microsoft.XMLDOM"), c.async = !1, c.loadXML(b)) : void 0 !== e.DOMParser ? c = (new DOMParser).parseFromString(b, "text/xml") : void 0 !== e.Windows && (c = new Windows.Data.Xml.Dom.XmlDocument, c.loadXml(b)));
      return c
    }
  });
  a.namespace("Parsers").xml = a.XML.parse;
  a.namespace("DataType");
  a.DataType.XML = a.XML
}, "3.17.2");
YUI.add("squarespace-models-member-website-settings", function(a) {
  var f = a.namespace("Squarespace.Models").MemberWebsiteSettings = a.Base.create("MemberWebsiteSettings", a.Model, [a.Squarespace.ModelSync.REST], {
    root: "/api/member-website-settings"
  }, {
    ATTRS: {
      previewInstallationId: {}
    }
  });
  Static && (Static.SQUARESPACE_CONTEXT && Static.SQUARESPACE_CONTEXT.authenticatedAccountWebsiteSettings) && (a.namespace("Squarespace.Singletons").AuthenticatedMemberWebsiteSettings = new f(Static.SQUARESPACE_CONTEXT.authenticatedAccountWebsiteSettings))
}, "1.0", {
  requires: ["model", "base", "promise", "squarespace-model-sync-rest"]
});
YUI.add("squarespace-models-embed", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.Embed = a.Base.create("Embed", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "Embed",
        validator: function(a) {
          return "Embed" === a
        },
        readOnly: !0
      },
      embed: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      oembed: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrObject
      },
      overlay: {
        value: !0,
        validator: a.Squarespace.AttrValidators.isBoolean
      }
    }
  })
}, "1.0", {
  requires: ["base",
    "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("json-parse", function(a, f) {
  var b = a.config.global.JSON;
  a.namespace("JSON").parse = function(a, e, f) {
    return b.parse("string" === typeof a ? a : a + "", e, f)
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("node-scroll-info", function(a, f) {
  var b = a.config.doc,
    c = a.config.win;
  a.Plugin.ScrollInfo = a.Base.create("scrollInfoPlugin", a.Plugin.Base, [], {
    initializer: function(a) {
      this._host = a.host;
      this._hostIsBody = "body" === this._host.get("nodeName").toLowerCase();
      this._scrollDelay = this.get("scrollDelay");
      this._scrollMargin = this.get("scrollMargin");
      this._scrollNode = this._getScrollNode();
      this.refreshDimensions();
      this._lastScroll = this.getScrollInfo();
      this._bind()
    },
    destructor: function() {
      (new a.EventHandle(this._events)).detach();
      this._events = null
    },
    getOffscreenNodes: function(b, c) {
      "undefined" === typeof c && (c = this._scrollMargin);
      var g = a.Selector.query(b || "*", this._host._node);
      return new a.NodeList(a.Array.filter(g, function(a) {
        return !this._isElementOnscreen(a, c)
      }, this))
    },
    getOnscreenNodes: function(b, c) {
      "undefined" === typeof c && (c = this._scrollMargin);
      var g = a.Selector.query(b || "*", this._host._node);
      return new a.NodeList(a.Array.filter(g, function(a) {
        return this._isElementOnscreen(a, c)
      }, this))
    },
    getScrollInfo: function() {
      var a = this._scrollNode,
        b = this._lastScroll,
        c = this._scrollMargin,
        f = a.scrollLeft,
        k = a.scrollHeight,
        m = a.scrollTop,
        a = a.scrollWidth,
        n = m + this._height,
        p = f + this._width;
      return {
        atBottom: n > k - c,
        atLeft: f < c,
        atRight: p > a - c,
        atTop: m < c,
        isScrollDown: b && m > b.scrollTop,
        isScrollLeft: b && f < b.scrollLeft,
        isScrollRight: b && f > b.scrollLeft,
        isScrollUp: b && m < b.scrollTop,
        scrollBottom: n,
        scrollHeight: k,
        scrollLeft: f,
        scrollRight: p,
        scrollTop: m,
        scrollWidth: a
      }
    },
    isNodeOnscreen: function(b, c) {
      b = a.one(b);
      return !(!b || !this._isElementOnscreen(b._node, c))
    },
    refreshDimensions: function() {
      var e = b.documentElement;
      a.UA.ios || a.UA.android && a.UA.chrome ? (this._winHeight = c.innerHeight, this._winWidth = c.innerWidth) : (this._winHeight = e.clientHeight, this._winWidth = e.clientWidth);
      this._hostIsBody ? (this._height = this._winHeight, this._width = this._winWidth) : (this._height = this._scrollNode.clientHeight, this._width = this._scrollNode.clientWidth);
      this._refreshHostBoundingRect()
    },
    _bind: function() {
      var b = a.one("win");
      this._events = [this.after({
        scrollDelayChange: this._afterScrollDelayChange,
        scrollMarginChange: this._afterScrollMarginChange
      }),
        b.on("windowresize", this._afterResize, this)];
      this._hostIsBody ? this._events.push(b.after("scroll", this._afterHostScroll, this)) : this._events.push(b.after("scroll", this._afterWindowScroll, this), this._host.after("scroll", this._afterHostScroll, this))
    },
    _getScrollNode: function() {
      return this._hostIsBody && !a.UA.webkit ? b.documentElement : a.Node.getDOMNode(this._host)
    },
    _isElementOnscreen: function(a, b) {
      var c = this._hostRect,
        f = a.getBoundingClientRect();
      "undefined" === typeof b && (b = this._scrollMargin);
      return !(f.top > c.bottom + b || f.bottom < c.top - b || f.right < c.left - b || f.left > c.right + b)
    },
    _refreshHostBoundingRect: function() {
      var a = this._winHeight,
        b = this._winWidth;
      this._hostIsBody ? (a = {
        bottom: a,
        height: a,
        left: 0,
        right: b,
        top: 0,
        width: b
      }, this._isHostOnscreen = !0) : a = this._scrollNode.getBoundingClientRect();
      this._hostRect = a
    },
    _triggerScroll: function(b) {
      var c = this.getScrollInfo();
      b = a.merge(b, c);
      var g = this._lastScroll;
      this._lastScroll = c;
      this.fire("scroll", b);
      c.isScrollLeft ? this.fire("scrollLeft", b) : c.isScrollRight && this.fire("scrollRight",
      b);
      c.isScrollUp ? this.fire("scrollUp", b) : c.isScrollDown && this.fire("scrollDown", b);
      c.atBottom && (!g.atBottom || c.scrollHeight > g.scrollHeight) && this.fire("scrollToBottom", b);
      c.atLeft && !g.atLeft && this.fire("scrollToLeft", b);
      c.atRight && (!g.atRight || c.scrollWidth > g.scrollWidth) && this.fire("scrollToRight", b);
      c.atTop && !g.atTop && this.fire("scrollToTop", b)
    },
    _afterHostScroll: function(a) {
      var b = this;
      clearTimeout(this._scrollTimeout);
      this._scrollTimeout = setTimeout(function() {
        b._triggerScroll(a)
      }, this._scrollDelay)
    },
    _afterResize: function() {
      this.refreshDimensions()
    },
    _afterScrollDelayChange: function(a) {
      this._scrollDelay = a.newVal
    },
    _afterScrollMarginChange: function(a) {
      this._scrollMargin = a.newVal
    },
    _afterWindowScroll: function() {
      this._refreshHostBoundingRect()
    }
  }, {
    NS: "scrollInfo",
    ATTRS: {
      scrollDelay: {
        value: 50
      },
      scrollMargin: {
        value: 50
      }
    }
  })
}, "3.17.2", {
  requires: "array-extras base-build event-resize node-pluginhost plugin selector".split(" ")
});
YUI.add("datatype-date-math", function(a, f) {
  var b = a.Lang;
  a.mix(a.namespace("Date"), {
    isValidDate: function(a) {
      return b.isDate(a) && isFinite(a) && "Invalid Date" != a && !isNaN(a) && null != a ? !0 : !1
    },
    areEqual: function(a, b) {
      return this.isValidDate(a) && this.isValidDate(b) && a.getTime() == b.getTime()
    },
    isGreater: function(a, b) {
      return this.isValidDate(a) && this.isValidDate(b) && a.getTime() > b.getTime()
    },
    isGreaterOrEqual: function(a, b) {
      return this.isValidDate(a) && this.isValidDate(b) && a.getTime() >= b.getTime()
    },
    isInRange: function(a,
    b, f) {
      return this.isGreaterOrEqual(a, b) && this.isGreaterOrEqual(f, a)
    },
    addDays: function(a, b) {
      return new Date(a.getTime() + 864E5 * b)
    },
    addMonths: function(a, b) {
      var f = a.getFullYear(),
        g = a.getMonth() + b,
        f = Math.floor(f + g / 12),
        g = (g % 12 + 12) % 12,
        l = new Date(a.getTime());
      l.setFullYear(f);
      l.setMonth(g);
      return l
    },
    addYears: function(a, b) {
      var f = a.getFullYear() + b,
        g = new Date(a.getTime());
      g.setFullYear(f);
      return g
    },
    listOfDatesInMonth: function(a) {
      if (!this.isValidDate(a)) return [];
      var b = this.daysInMonth(a),
        f = a.getFullYear();
      a = a.getMonth();
      for (var g = [], l = 1; l <= b; l++) g.push(new Date(f, a, l, 12, 0, 0));
      return g
    },
    daysInMonth: function(a) {
      if (!this.isValidDate(a)) return 0;
      var b = a.getMonth(),
        f = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
      if (1 != b) return f[b];
      a = a.getFullYear();
      return 0 === a % 400 ? 29 : 0 === a % 100 ? 28 : 0 === a % 4 ? 29 : 28
    }
  });
  a.namespace("DataType");
  a.DataType.Date = a.Date
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("squarespace-anim-raf", function(a) {
  var f = a.config.win,
    b = f.requestAnimationFrame,
    c = f.cancelAnimationFrame || f.cancelRequestAnimationFrame,
    e = ["moz", "webkit"],
    h;
  for (h = 0; h < e.length && !b; h++) b = f[e[h] + "RequestAnimationFrame"], c = f[e[h] + "CancelAnimationFrame"] || f[e[h] + "CancelRequestAnimationFrame"];
  if (c && b) {
    var g = null;
    a.Anim._startTimer = function() {
      g || (g = b(a.Anim._runAnimFrame))
    };
    a.Anim._stopTimer = function() {
      g && (c(g), g = null)
    };
    a.Anim._runAnimFrame = function() {
      g && (g = b(a.Anim._runAnimFrame), a.Anim._runFrame())
    }
  }
}, "1.0", {
  requires: ["anim"]
});
YUI.add("attribute-extras", function(a, f) {
  function b() {}
  var c = {
    readOnly: 1,
    writeOnce: 1,
    getter: 1,
    broadcast: 1
  };
  b.prototype = {
    modifyAttr: function(a, b) {
      var g, f;
      if (this.attrAdded(a)) for (g in this._isLazyAttr(a) && this._addLazyAttr(a), f = this._state, b) c[g] && b.hasOwnProperty(g) && (f.add(a, g, b[g]), "broadcast" === g && f.remove(a, "published"))
    },
    removeAttr: function(a) {
      this._state.removeAll(a)
    },
    reset: function(b) {
      var c = this;
      b ? (c._isLazyAttr(b) && c._addLazyAttr(b), c.set(b, c._state.get(b, "initValue"))) : a.Object.each(c._state.data,

      function(a, b) {
        c.reset(b)
      });
      return c
    },
    _getAttrCfg: function(b) {
      var c, g = this._state;
      b ? c = g.getAll(b) || {} : (c = {}, a.each(g.data, function(a, b) {
        c[b] = g.getAll(b)
      }));
      return c
    }
  };
  a.AttributeExtras = b
}, "3.17.2", {
  requires: ["oop"]
});
YUI.add("selector-native", function(a, f) {
  (function(a) {
    a.namespace("Selector");
    var c = {
      _types: {
        esc: {
          token: "\ue000",
          re: /\\[:\[\]\(\)#\.\'\>+~"]/gi
        },
        attr: {
          token: "\ue001",
          re: /(\[[^\]]*\])/g
        },
        pseudo: {
          token: "\ue002",
          re: /(\([^\)]*\))/g
        }
      },
      useNative: !0,
      _escapeId: function(a) {
        a && (a = a.replace(/([:\[\]\(\)#\.'<>+~"])/g, "\\$1"));
        return a
      },
      _compare: "sourceIndex" in a.config.doc.documentElement ? function(a, b) {
        var c = a.sourceIndex,
          f = b.sourceIndex;
        return c === f ? 0 : c > f ? 1 : -1
      } : a.config.doc.documentElement.compareDocumentPosition ? function(a, b) {
        return a.compareDocumentPosition(b) & 4 ? -1 : 1
      } : function(a, b) {
        var c, f;
        a && b && (c = a.ownerDocument.createRange(), c.setStart(a, 0), f = b.ownerDocument.createRange(), f.setStart(b, 0), c = c.compareBoundaryPoints(1, f));
        return c
      },
      _sort: function(e) {
        e && (e = a.Array(e, 0, !0), e.sort && e.sort(c._compare));
        return e
      },
      _deDupe: function(a) {
        var b = [],
          c, f;
        for (c = 0; f = a[c++];) f._found || (b[b.length] = f, f._found = !0);
        for (c = 0; f = b[c++];) f._found = null, f.removeAttribute("_found");
        return b
      },
      query: function(e, f, g, l) {
        f = f || a.config.doc;
        var k = [],
          m = a.Selector.useNative && a.config.doc.querySelector && !l,
          n = [[e, f]],
          p = m ? a.Selector._nativeQuery : a.Selector._bruteQuery;
        if (e && p) {
          if (!l && (!m || f.tagName)) n = c._splitQueries(e, f);
          for (e = 0; f = n[e++];) f = p(f[0], f[1], g), g || (f = a.Array(f, 0, !0)), f && (k = k.concat(f));
          1 < n.length && (k = c._sort(c._deDupe(k)))
        }
        return g ? k[0] || null : k
      },
      _replaceSelector: function(e) {
        var f = a.Selector._parse("esc", e),
          g, l;
        e = a.Selector._replace("esc", e);
        l = a.Selector._parse("pseudo", e);
        e = c._replace("pseudo", e);
        g = a.Selector._parse("attr", e);
        e = a.Selector._replace("attr", e);
        return {
          esc: f,
          attrs: g,
          pseudos: l,
          selector: e
        }
      },
      _restoreSelector: function(c) {
        var f = c.selector,
          f = a.Selector._restore("attr", f, c.attrs),
          f = a.Selector._restore("pseudo", f, c.pseudos);
        return f = a.Selector._restore("esc", f, c.esc)
      },
      _replaceCommas: function(c) {
        var f = a.Selector._replaceSelector(c);
        if (c = f.selector) c = c.replace(/,/g, "\ue007"), f.selector = c, c = a.Selector._restoreSelector(f);
        return c
      },
      _splitQueries: function(c, f) {
        -1 < c.indexOf(",") && (c = a.Selector._replaceCommas(c));
        var g = c.split("\ue007"),
          l = [],
          k = "",
          m, n;
        if (f) {
          1 === f.nodeType && (k = a.Selector._escapeId(a.DOM.getId(f)), k || (k = a.guid(), a.DOM.setId(f, k)), k = '[id="' + k + '"] ');
          m = 0;
          for (n = g.length; m < n; ++m) c = k + g[m], l.push([c, f])
        }
        return l
      },
      _nativeQuery: function(c, f, g) {
        if ((a.UA.webkit || a.UA.opera) && -1 < c.indexOf(":checked") && a.Selector.pseudos && a.Selector.pseudos.checked) return a.Selector.query(c, f, g, !0);
        try {
          return f["querySelector" + (g ? "" : "All")](c)
        } catch (l) {
          return a.Selector.query(c, f, g, !0)
        }
      },
      filter: function(c, f) {
        var g = [],
          l, k;
        if (c && f) for (l = 0; k = c[l++];) a.Selector.test(k,
        f) && (g[g.length] = k);
        return g
      },
      test: function(c, f, g) {
        var l = !1,
          k = !1,
          m, n, p, q, r, u;
        if (c && c.tagName) if ("function" == typeof f) l = f.call(c, c);
        else {
          f = f.split(",");
          !g && !a.DOM.inDoc(c) && (g = c.parentNode, g || (p = c.ownerDocument.createDocumentFragment(), p.appendChild(c), g = p, k = !0));
          g = g || c.ownerDocument;
          q = a.Selector._escapeId(a.DOM.getId(c));
          q || (q = a.guid(), a.DOM.setId(c, q));
          for (r = 0; m = f[r++];) {
            m += '[id="' + q + '"]';
            n = a.Selector.query(m, g);
            for (u = 0; m = n[u++];) if (m === c) {
              l = !0;
              break
            }
            if (l) break
          }
          k && p.removeChild(c)
        }
        return l
      },
      ancestor: function(c,
      f, g) {
        return a.DOM.ancestor(c, function(c) {
          return a.Selector.test(c, f)
        }, g)
      },
      _parse: function(c, f) {
        return f.match(a.Selector._types[c].re)
      },
      _replace: function(c, f) {
        var g = a.Selector._types[c];
        return f.replace(g.re, g.token)
      },
      _restore: function(c, f, g) {
        if (g) {
          c = a.Selector._types[c].token;
          var l, k;
          l = 0;
          for (k = g.length; l < k; ++l) f = f.replace(c, g[l])
        }
        return f
      }
    };
    a.mix(a.Selector, c, !0)
  })(a)
}, "3.17.2", {
  requires: ["dom-base"]
});
YUI.add("datatype-date-parse", function(a, f) {
  a.mix(a.namespace("Date"), {
    parse: function(b) {
      b = new Date(+b || b);
      return a.Lang.isDate(b) ? b : null
    }
  });
  a.namespace("Parsers").date = a.Date.parse;
  a.namespace("DataType");
  a.DataType.Date = a.Date
}, "3.17.2");
YUI.add("datasource-textschema", function(a, f) {
  var b = function() {
    b.superclass.constructor.apply(this, arguments)
  };
  a.mix(b, {
    NS: "schema",
    NAME: "dataSourceTextSchema",
    ATTRS: {
      schema: {}
    }
  });
  a.extend(b, a.Plugin.Base, {
    initializer: function(a) {
      this.doBefore("_defDataFn", this._beforeDefDataFn)
    },
    _beforeDefDataFn: function(b) {
      var e = this.get("schema"),
        f = b.details[0];
      b = b.data.responseText || b.data;
      f.response = a.DataSchema.Text.apply.call(this, e, b) || {
        meta: {},
        results: b
      };
      this.get("host").fire("response", f);
      return new a.Do.Halt("DataSourceTextSchema plugin halted _defDataFn")
    }
  });
  a.namespace("Plugin").DataSourceTextSchema = b
}, "3.17.2", {
  requires: ["datasource-local", "plugin", "dataschema-text"]
});
YUI.add("squarespace-simple-liking", function(a) {
  var f = a.config.win.Static;
  a.Squarespace.SimpleLike = {
    TEXT_LIKE_VERB_NONE: "No Likes",
    TEXT_LIKE_VERB_SINGULAR: "Like",
    TEXT_LIKE_VERB_PLURAL: "Likes",
    TEXT_LIKE_ACTIVATED: "You like this",
    TEXT_LIKE_SUGGEST: "Click to like",
    attached: !1,
    attach: function() {
      if (!this.attached) {
        this.attached = !0;
        var b;
        try {
          localStorage && ((b = a.JSON.parse(localStorage.getItem("squarespace-likes"))) || (b = {}), localStorage.setItem("squarespace-likes", a.JSON.stringify(b)))
        } catch (c) {
          b = {}
        }
        a.delegate("click",

        function(c) {
          c = c.currentTarget;
          var f = c.getAttribute("data-item-id");
          if (f) {
            for (var g = 0; 5 > g; ++g) a.Squarespace.SimpleLike.burst(c);
            if (!c.hasClass("clicked") && !c.hasClass("float")) {
              g = parseInt(c.getAttribute("data-like-count"), 10);
              c.setAttribute("data-like-count", g + 1);
              a.Squarespace.SimpleLike.renderLikeCount(c);
              c.addClass("clicked");
              try {
                localStorage && (b[f] = !0, localStorage.setItem("squarespace-likes", a.JSON.stringify(b)))
              } catch (l) {
                console.warn("Unable to save like to local storage: ", l)
              }(new a.Squarespace.Models.ContentItem({
                id: f
              })).like(function(b,
              c) {
                c.commited && console.log("Like was counted!");
                a.Lang.isValue(b) && b.crumbFail && !a.Squarespace.Utils.areCookiesEnabled() && alert("You need to enable cookies to be able to like something.")
              })
            }
          }
        }, "body", ".sqs-simple-like");
        a.all(".sqs-simple-like").each(function(c) {
          var h = c.getAttribute("data-item-id");
          h && (f.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled || c.remove(), b[h] && c.addClass("clicked"), a.Squarespace.SimpleLike.renderLikeCount(c))
        })
      }
    },
    renderLikeCount: function(b) {
      var c = b.getAttribute("data-item-id"),
        e = b.getAttribute("data-like-count");
      b = b.one(".like-count");
      c && b && (c = "", c = 0 === e ? a.Squarespace.SimpleLike.TEXT_LIKE_VERB_NONE : 1 == e ? "1 " + a.Squarespace.SimpleLike.TEXT_LIKE_VERB_SINGULAR : e + " " + a.Squarespace.SimpleLike.TEXT_LIKE_VERB_PLURAL, b.setContent(c))
    },
    burst: function(b) {
      var c = b.cloneNode(!0);
      c.one(".like-count") && c.one(".like-count").remove();
      var e = b.one(".like-icon");
      if (!e || "none" === e.getStyle("display")) e = b;
      c.setStyles({
        position: "absolute",
        left: e.getX() + "px",
        top: e.getY() + "px"
      });
      a.one(a.config.doc.body).append(c);
      b = new a.Anim({
        node: c,
        duration: 2,
        easing: a.Easing.easeOut
      });
      b.set("to", {
        curve: a.Squarespace.SimpleLike.randomCurve(c)
      });
      b.on("end", function() {
        this.get("node").remove()
      });
      b.run();
      c.removeClass("clicked");
      c.addClass("float")
    },
    randomCurve: function(a) {
      var c = [],
        e = Math.floor(2 * Math.random()) ? 1 : -1,
        f = Math.floor(2 * Math.random()) ? 1 : -1,
        g = a.getX();
      a = a.getY();
      for (var l = 0; 3 > l; ++l) g += Math.floor(30 * Math.random()) * e, a += Math.floor(30 * Math.random()) * f, c.push([g, a]);
      return c
    }
  };
  a.config.win.Squarespace.onInitialize(a, function() {
    f.SQUARESPACE_CONTEXT.websiteSettings.simpleLikingEnabled && a.Squarespace.SimpleLike.attach()
  })
}, 1, {
  requires: ["anim", "node", "json", "squarespace-models-content-item"]
});
YUI.add("squarespace-follow-button", function(a) {
  a.namespace("Squarespace.Widgets").FollowButton = a.Base.create("followButton", a.Widget, [], {
    renderUI: function() {
      this.get("contentBox").setContent('<a href="https://twitter.com/' + this.get("username") + '" class="twitter-follow-button" data-show-count="false">Follow @' + this.get("username") + "</a>")
    },
    syncUI: function() {
      var f = function() {
        console.warn("Twitter Follow Button JS failed to load")
      };
      a.Get.script("//platform.twitter.com/widgets.js", {
        onSuccess: function() {
          this.show()
        },
        onFailure: f,
        onTimeout: f,
        timeout: 1E4,
        context: this,
        win: a.config.win
      })
    }
  }, {
    ATTRS: {
      username: {
        value: ""
      },
      visible: {
        value: !1
      }
    },
    CSS_PREFIX: "sqs-follow-button"
  })
}, "1.0", {
  requires: ["widget", "base-build"]
});
YUI.add("querystring-stringify-simple", function(a, f) {
  var b = a.namespace("QueryString"),
    c = encodeURIComponent;
  b.stringify = function(b, f) {
    var g = [],
      l = f && f.arrayKey ? !0 : !1,
      k, m, n;
    for (k in b) if (b.hasOwnProperty(k)) if (a.Lang.isArray(b[k])) {
      m = 0;
      for (n = b[k].length; m < n; m++) g.push(c(l ? k + "[]" : k) + "=" + c(b[k][m]))
    } else g.push(c(k) + "=" + c(b[k]));
    return g.join("&")
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("selector-css3", function(a, f) {
  a.Selector._reNth = /^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/;
  a.Selector._getNth = function(b, c, e, f) {
    a.Selector._reNth.test(c);
    c = parseInt(RegExp.$1, 10);
    var g = RegExp.$2,
      l = RegExp.$3,
      k = parseInt(RegExp.$4, 10) || 0;
    e = a.DOM._children(b.parentNode, e);
    l ? (c = 2, k = "odd" === l ? 1 : 0) : isNaN(c) && (c = g ? 1 : 0);
    if (0 === c) return f && (k = e.length - k + 1), e[k - 1] === b ? !0 : !1;
    0 > c && (f = !! f, c = Math.abs(c));
    if (f) {
      f = e.length - k;
      for (g = e.length; 0 <= f; f -= c) if (f < g && e[f] === b) return !0
    } else {
      f = k - 1;
      for (g = e.length; f < g; f += c) if (0 <= f && e[f] === b) return !0
    }
    return !1
  };
  a.mix(a.Selector.pseudos, {
    root: function(a) {
      return a === a.ownerDocument.documentElement
    },
    "nth-child": function(b, c) {
      return a.Selector._getNth(b, c)
    },
    "nth-last-child": function(b, c) {
      return a.Selector._getNth(b, c, null, !0)
    },
    "nth-of-type": function(b, c) {
      return a.Selector._getNth(b, c, b.tagName)
    },
    "nth-last-of-type": function(b, c) {
      return a.Selector._getNth(b, c, b.tagName, !0)
    },
    "last-child": function(b) {
      var c = a.DOM._children(b.parentNode);
      return c[c.length - 1] === b
    },
    "first-of-type": function(b) {
      return a.DOM._children(b.parentNode,
      b.tagName)[0] === b
    },
    "last-of-type": function(b) {
      var c = a.DOM._children(b.parentNode, b.tagName);
      return c[c.length - 1] === b
    },
    "only-child": function(b) {
      var c = a.DOM._children(b.parentNode);
      return 1 === c.length && c[0] === b
    },
    "only-of-type": function(b) {
      var c = a.DOM._children(b.parentNode, b.tagName);
      return 1 === c.length && c[0] === b
    },
    empty: function(a) {
      return 0 === a.childNodes.length
    },
    not: function(b, c) {
      return !a.Selector.test(b, c)
    },
    contains: function(a, c) {
      return -1 < (a.innerText || a.textContent || "").indexOf(c)
    },
    checked: function(a) {
      return !0 === a.checked || !0 === a.selected
    },
    enabled: function(a) {
      return void 0 !== a.disabled && !a.disabled
    },
    disabled: function(a) {
      return a.disabled
    }
  });
  a.mix(a.Selector.operators, {
    "^=": "^{val}",
    "$=": "{val}$",
    "*=": "{val}"
  });
  a.Selector.combinators["~"] = {
    axis: "previousSibling"
  }
}, "3.17.2", {
  requires: ["selector-native", "selector-css2"]
});
YUI.add("squarespace-enum", function(a) {
  a.namespace("Squarespace").ShippingCarriers = {
    UNKNOWN: -1,
    USPS: 1,
    FEDEX: 2,
    UPS: 3,
    DHL: 4
  };
  a.namespace("Squarespace").ShippingPriceRequestStatus = {
    SUCCESS: 1,
    DESTINATION_MISSING: 2,
    DESTINATION_INVALID: 3,
    WEIGHT_MISSING: 4,
    SERVICE_UNAVAILABLE_FOR_PACKAGE: 5,
    CARRIER_UNAVAILABLE: 6
  };
  a.namespace("Squarespace").AccessPermissions = {
    AUTHENTICATED: 0,
    CONFIG: 1,
    ADMIN: 2,
    CONFIG_CONTENT_MANAGER: 11,
    CONFIG_SETTINGS: 12,
    CONFIG_ACTIVITY: 13,
    CONFIG_COMMERCE: 14,
    CONFIG_NEWSLETTER: 15,
    CONFIG_DAMASK: 17,
    CONFIG_CHANGE_STRUCTURE: 1110,
    CONFIG_TRUSTED_COMMENTER: 1111,
    CONFIG_SETTINGS_GENERAL: 1210,
    CONFIG_SETTINGS_LOCALE: 1211,
    CONFIG_SETTINGS_SOCIAL_ACCOUNT: 1212,
    CONFIG_SETTINGS_FACEBOOK: 1213,
    CONFIG_SETTINGS_SOCIAL_SETTINGS: 1214,
    CONFIG_SETTINGS_MEMBER_ACCOUNTS: 1215,
    CONFIG_SETTINGS_DOMAIN: 1216,
    CONFIG_SETTINGS_TEMPLATE: 1217,
    CONFIG_SETTINGS_IMPORT: 1218,
    CONFIG_SETTINGS_CODEINJECT: 1219,
    CONFIG_SETTINGS_ADVANCED: 1220,
    CONFIG_SETTINGS_DEVELOPER: 1221,
    CONFIG_SETTINGS_SESSIONS: 1222,
    CONFIG_SETTINGS_MOBILE: 1223,
    CONFIG_SETTINGS_BILLING: 1224,
    CONFIG_SETTINGS_SUPPORT: 1225,
    CONFIG_SETTINGS_SITE: 1226,
    CONFIG_SETTINGS_LABS: 1227,
    CONFIG_ACTIVITY_STATS: 1310,
    CONFIG_ACTIVITY_COMMENTS: 1311,
    CONFIG_COMMERCE_ORDERS: 1410,
    CONFIG_COMMERCE_STORE_SETTINGS: 1411,
    CONFIG_COMMERCE_SHIPPING: 1412,
    CONFIG_COMMERCE_COUPONS: 1413,
    CONFIG_COMMERCE_TAXES: 1414,
    CONFIG_COMMERCE_EMAIL_NOTIFICATIONS: 1415,
    CONFIG_COMMERCE_INVENTORY: 1416,
    CONFIG_COMMERCE_DONATIONS: 1417,
    CONFIG_COMMERCE_ACCOUNTING: 1418,
    CONFIG_NEWSLETTER_READ_SUBSCRIBER: 1510,
    CONFIG_NEWSLETTER_WRITE_SUBSCRIBER: 1511,
    CONFIG_NEWSLETTER_READ_GROUP: 1512,
    CONFIG_NEWSLETTER_WRITE_GROUP: 1513,
    CONFIG_NEWSLETTER_READ_MESSAGE: 1514,
    CONFIG_NEWSLETTER_WRITE_MESSAGE: 1515,
    CONFIG_NEWSLETTER_READ_SETTINGS: 1516,
    CONFIG_NEWSLETTER_WRITE_SETTINGS: 1517,
    CONFIG_ACCEPT_TOS: 1610,
    ADMIN_GRANT_ACCESS: 2010,
    ADMIN_BILLING_READ: 2011,
    ADMIN_BILLING_WRITE: 2012,
    ADMIN_READ_CUSTOMER_DATA: 2013,
    ADMIN_WRITE_CUSTOMER_DATA: 2014,
    ADMIN_DEV_SETTINGS: 2015,
    ADMIN_MARKETING_READ: 2016,
    ADMIN_MARKETING_WRITE: 2017,
    ADMIN_LOGINAS: 2018,
    ADMIN_TEMPLATE_SETTINGS: 2019,
    ADMIN_SYSTEM_JSON_VIEW: 2020,
    ADMIN_TAXONOMY: 2021,
    ADMIN_CHANGE_USER_EMAIL: 2022,
    ADMIN_ADD_NOTE: 2023,
    ADMIN_EDIT_OTHER_NOTES: 2024,
    ADMIN_EXTEND_TRIAL: 2025,
    ADMIN_BIZPIPE_STATS_MOBILE_ACCESS: 2026,
    ADMIN_REFERRALS: 2027
  };
  a.namespace("Squarespace").MemberAccountRole = {
    SUPERADMIN: 1,
    BILLING: 2,
    SUPPORT: 3,
    DEV: 4,
    MARKETING: 5,
    SUPPORT_SUPERVISOR: 6,
    INTERNAL_REPORTING: 7,
    EXTERNAL_BETA_ACCESS: 8
  };
  a.namespace("Squarespace").WebsiteRole = {
    ADMIN: 1,
    BILLING: 2,
    REPORTING: 3,
    EDITOR: 4,
    MODERATOR: 6,
    COMMENTER: 7,
    STORE_MANAGER: 8
  };
  a.namespace("Squarespace").RecoveryBufferType = {
    PAGE_COLLECTION_DATA: 1,
    CONTENT_ITEM: 2
  };
  a.namespace("Squarespace").SSBadgePosition = {
    TOP_LEFT: 1,
    TOP_CENTER: 2,
    TOP_RIGHT: 3,
    BOTTOM_LEFT: 4,
    BOTTOM_CENTER: 5,
    BOTTOM_RIGHT: 6
  };
  a.namespace("Squarespace").MediaProcessingState = {
    QUEUED: 1,
    PROCESSING: 2,
    READY: 3,
    ERROR: 4,
    DOWNLOAD_ERROR: 5,
    ERROR_TOO_LARGE: 6,
    ERROR_FILE_NOT_FOUND: 7,
    ERROR_UNSUPPORTED_IMAGE_TYPE: 8,
    ERROR_UNSUPPORTED_AUDIO_TYPE: 9
  };
  a.namespace("Squarespace").TemplateErrorType = {
    JSON_DESERIALIZE: 1,
    JSON_PROPERTY_MAP: 2,
    CSS_COMPILE: 3,
    JSON_TEMPLATE: 4,
    CSS_TWEAK_PARSE: 5
  };
  a.namespace("Squarespace").CollectionOrdering = {
    USER: 1,
    CHRONOLOGICAL: 2,
    CUSTOM: 3,
    CALENDAR: 4,
    MUSIC_ALBUM: 5,
    KNOWLEDGE_BASE: 6
  };
  a.namespace("Squarespace").ExternalServiceProviders = {
    FOURSQUARE: 1,
    FACEBOOK: 2,
    FLICKR: 3,
    TWITTER: 4,
    GOOGLE: 5,
    GOOGLE_SPREADSHEET: 6,
    TUMBLR: 8,
    DROPBOX: 9,
    INSTAGRAM: 10,
    YOUTUBE: 11,
    VIMEO: 12,
    MAILCHIMP: 13,
    LINKEDIN: 14,
    STRIPE: 15,
    FIVEHUNDREDPIX: 16,
    SMUGMUG: 17,
    DRIBBBLE: 18,
    PINTEREST: 19,
    EMAIL: 20,
    GOOGLEAUTH2: 21,
    GOOGLEDOCS2: 22,
    GITHUB: 23,
    XERO: 24,
    SOUNDCLOUD: 25,
    SPOTIFY: 26,
    ITUNES: 27,
    GOOGLE_PLAY: 28
  };
  a.namespace("Squarespace").TaxScopes = {
    COUNTRY: 1,
    STATE: 2,
    LOCAL: 3
  };
  a.namespace("Squarespace").SocialIconSizes = {
    SMALL: "small",
    DEFAULT: "default",
    LARGE: "large"
  };
  a.namespace("Squarespace").IndexType = {
    SINGLE_PAGE: "single-page",
    GRID: "grid"
  };
  a.namespace("Squarespace").SocialIconColors = {
    BLACK: "black",
    WHITE: "white",
    STANDARD: "standard"
  };
  a.namespace("Squarespace").StatusConstants = {
    EXPIRED: 1,
    PASTDUE: 2,
    TRIAL: 3,
    BETA: 4,
    REMOVED: 5,
    INTERNAL: 6,
    COMPED: 7,
    ACTIVE: 8
  };
  a.namespace("Squarespace").SocialIconAlignments = {
    LEFT: "left",
    RIGHT: "right",
    CENTER: "center"
  };
  a.namespace("Squarespace").CensusDataType = {
    TOTAL: 1,
    PAGE_URL: 2,
    PAGE_TITLE: 3,
    BROWSER: 4,
    OS: 5,
    COUNTRY: 6,
    REFERRER: 7,
    SEARCH_TERM: 8,
    SEARCH_ENGINE: 9,
    SUBSCRIBER: 10,
    DEVICE: 11,
    CATEGORY_PURCHASE: 30,
    PRODUCT_PURCHASE: 31,
    SITE_SEARCH: 32
  };
  a.namespace("Squarespace").FocalPointSources = {
    HUMAN: 1,
    MACHINE: 2,
    DEFAULT: 3
  };
  a.namespace("Squarespace").OrderPaymentStates = {
    NOT_CHARGED: 1,
    AUTHORIZED: 2,
    PAID: 3,
    REFUNDED: 4
  };
  a.namespace("Squarespace").ImportingSources = {
    V5: 1,
    WORDPRESS: 2,
    TUMBLR: 3,
    BLOGGER: 5,
    FLICKR: 6,
    ETSY: 7,
    SHOPIFY: 8,
    BIG_CARTEL: 9
  };
  a.namespace("Squarespace").CommentTargetTypes = {
    ITEM: 1,
    COLLECTION: 2
  };
  a.namespace("Squarespace").PlanViolationErrors = {
    PAGE_LIMIT_EXCEEDED: 1,
    STORAGE_LIMIT_EXCEEDED: 2
  };
  a.namespace("Squarespace").SocialIconStyles = {
    ROUND: "round",
    SQUARE: "square",
    ICON_ONLY: "icon-only"
  };
  a.namespace("Squarespace").OrderStates = {
    PENDING: 1,
    SHIPPED: 2,
    REFUNDED: 3,
    CANCELLED: 4
  };
  a.namespace("Squarespace").MobileInfoBarStyle = {
    NONE: 1,
    LIGHT: 2,
    DARK: 3
  };
  a.namespace("Squarespace").CommerceDiscountType = {
    FLAT: 1,
    PERCENTAGE: 2,
    FREE_SHIPPING: 3
  };
  a.namespace("Squarespace").LicensedAssetSource = {
    GETTY: 1
  };
  a.namespace("Squarespace").SSBadgeType = {
    NONE: 1,
    BLACK: 2,
    WHITE: 3
  };
  a.namespace("Squarespace").TweakTypes = {
    COLOR: 1,
    HUE: 2,
    FONT: 3,
    IMAGE: 4,
    VALUE: 5,
    MARGIN: 6,
    PADDING: 7,
    DROPDOWN: 8,
    CHECKBOX: 9,
    COLORPALETTE: 10
  };
  a.namespace("Squarespace").InvoiceProvider = {
    STRIPE: 1,
    ZUORA: 2
  };
  a.namespace("Squarespace").CurrencySymbol = {
    USD: "$",
    CAD: "$",
    GBP: "\u00a3",
    AUD: "$",
    EUR: "\u20ac",
    CHF: "CHF"
  };
  a.namespace("Squarespace").EventView = {
    CALENDAR: 0,
    LIST: 1
  };
  a.namespace("Squarespace").FormType = {
    FORM_BLOCK: 1,
    PRODUCT: 2,
    DONATION: 3,
    SLIDE: 4,
    NEWSLETTER_BLOCK: 5,
    CHECKOUT_PAGE: 6
  };
  a.namespace("Squarespace").DomainTypes = {
    APPLICATION: 1,
    LINKED: 2,
    SQUARESPACE: 3,
    GOOGLE: 4
  };
  a.namespace("Squarespace").ReferralState = {
    AWAITING_MATCH: "AWAITING_MATCH",
    PENDING_REFERREE_UPGRADE: "PENDING_REFERREE_UPGRADE",
    APPLIED_TO_PAID_REFERREE: "APPLIED_TO_PAID_REFERREE",
    PENDING_REFERRER_UPGRADE: "PENDING_REFERRER_UPGRADE",
    APPLIED_TO_PAID_REFERRER: "APPLIED_TO_PAID_REFERRER",
    REMOVED: "REMOVED"
  };
  a.namespace("Squarespace").ShippingRateTypes = {
    FLAT: 1,
    WEIGHT_RANGE: 3,
    USPS: 6
  };
  a.namespace("Squarespace").SSBadgeVisibility = {
    ALWAYS: 1,
    SCROLL: 2
  };
  a.namespace("Squarespace").MeasurementStandard = {
    IMPERIAL: 1,
    METRIC: 2
  };
  a.namespace("Squarespace").FormBackendConnectionType = {
    GOOGLE: 1,
    MAILCHIMP: 2,
    EMAIL: 3,
    SITE_USER: 4
  };
  a.namespace("Squarespace").RecordType = {
    TEXT: 1,
    IMAGE: 2,
    QUOTE: 4,
    LINK: 5,
    CHAT: 6,
    AUDIO: 7,
    VIDEO: 8,
    VIDEO_DEPRECATED: 9,
    REVIEW: 10,
    STORE_ITEM: 11,
    EVENT: 12,
    THREAD: 13,
    GALLERY: 14,
    BINARY: 15,
    CSSASSET: 16,
    TWEAKASSET: 17,
    DIGITALGOOD: 18,
    ATTACHMENT: 19,
    EXPORT_WORDPRESS: 20,
    EXPORT_INTERNAL: 21,
    SITE_SEARCH: 30,
    TWEET: 50,
    RSS: 51,
    CHECKIN: 52,
    DELICIOUS: 53,
    KBARTICLE: 54
  };
  a.namespace("Squarespace").CommentSortTypes = {
    OLDEST_FIRST: 1,
    NEWEST_FIRST: 2,
    MOST_LIKED: 3,
    LEAST_LIKED: 4,
    MOST_FLAGGED: 5
  };
  a.namespace("Squarespace").ReferralSource = {
    GOOGLE: 1
  };
  a.namespace("Squarespace").ConfigurationMenuItemType = {
    HOME: 1,
    CONTENT: 2,
    DASHBOARD: 3,
    SETTINGS: 4,
    COMMERCE: 5,
    FOLDER: 6,
    HELP: 7,
    NEWSLETTERS: 8,
    NOTIFICATIONS: 9
  };
  a.namespace("Squarespace").WorkflowStates = {
    PUBLISHED: 1,
    SCHEDULED: 2,
    NEEDS_REVIEW: 3,
    DRAFT: 4,
    PRIVATE: 5
  };
  a.namespace("Squarespace").PageAction = {
    PREVIOUS: 1,
    NEXT: 2
  };
  a.namespace("Squarespace").SSBadgeDevices = {
    ALL: 1,
    DESKTOP_ONLY: 2
  };
  a.namespace("Squarespace").PlanGenus = {
    STANDARD: 1,
    UNLIMITED: 2,
    BUSINESS: 3
  };
  a.namespace("Squarespace").SocialServices = {
    TWITTER: 1,
    FACEBOOK: 2,
    GOOGLE: 3,
    LINKEDIN: 4,
    STUMBLE: 5,
    REDDIT: 6,
    PINTEREST: 7,
    TUMBLR: 8
  };
  a.namespace("Squarespace").PageFeatures = {
    EDITABLE: 1,
    TWEAKABLE: 2,
    FULL_PAGE_CART: 3
  };
  a.namespace("Squarespace").CensusGranularity = {
    HOURLY: 1,
    DAILY: 2,
    WEEKLY: 3,
    MONTHLY: 4
  };
  a.namespace("Squarespace").BillingError = {
    CARD_DECLINED: 1,
    FULFILLMENT_FAILED: 2
  };
  a.namespace("Squarespace").CensusDataMetric = {
    VIEWS: 1,
    VISITS: 2,
    VISITORS: 3,
    COUNT: 4,
    SUBS: 5,
    BOTS: 6,
    REVENUE: 7,
    QUANTITY: 8,
    QUERIES: 9
  };
  a.namespace("Squarespace").PageTypes = {
    MAIN_CONTENT: 1,
    CONTENT_COLLECTION: 1,
    PAGE: 2,
    SPLASH_PAGE: 3,
    CONTENT_ITEM: 50,
    NOT_FOUND: 100,
    ERROR: 101,
    SEARCH: 102,
    SHOW_CART: 200,
    CHECKOUT: 201,
    ORDER_CONFIRMED: 202,
    DONATE: 203,
    CONTRIBUTION_CONFIRMED: 204,
    NEWSLETTER_UNSUBSCRIBE: 300
  };
  a.namespace("Squarespace").OrderDirection = {
    ASCENDING: 1,
    DESCENDING: 2
  };
  a.namespace("Squarespace").ReferralSearchResultStatus = {
    NO_MATCH: 0,
    SINGLE_MATCH: 1,
    MULTI_MATCH: 2
  };
  a.namespace("Squarespace").JobStatuses = {
    WAITING: 1,
    PROCESSING: 2,
    SUCCESS: 3,
    FAILURE: 4,
    CANCELLED: 5,
    SCHEDULED: 6
  };
  a.namespace("Squarespace").Countries = {
    AFG: "AF",
    ALA: "AX",
    ALB: "AL",
    DZA: "DZ",
    ASM: "AS",
    AND: "AD",
    AGO: "AO",
    AIA: "AI",
    ATA: "AQ",
    ATG: "AG",
    ARG: "AR",
    ARM: "AM",
    ABW: "AW",
    AUS: "AU",
    AUT: "AT",
    AZE: "AZ",
    BHS: "BS",
    BHR: "BH",
    BGD: "BD",
    BRB: "BB",
    BLR: "BY",
    BEL: "BE",
    BLZ: "BZ",
    BEN: "BJ",
    BMU: "BM",
    BTN: "BT",
    BOL: "BO",
    BIH: "BA",
    BWA: "BW",
    BVT: "BV",
    BRA: "BR",
    IOT: "IO",
    BRN: "BN",
    BGR: "BG",
    BFA: "BF",
    BDI: "BI",
    KHM: "KH",
    CMR: "CM",
    CAN: "CA",
    CPV: "CV",
    CYM: "KY",
    CAF: "CF",
    TCD: "TD",
    CHL: "CL",
    CHN: "CN",
    CXR: "CX",
    CCK: "CC",
    COL: "CO",
    COM: "KM",
    COG: "CG",
    COD: "CD",
    COK: "CK",
    CRI: "CR",
    CIV: "CI",
    HRV: "HR",
    CUB: "CU",
    CYP: "CY",
    CZE: "CZ",
    DNK: "DK",
    DJI: "DJ",
    DMA: "DM",
    DOM: "DO",
    ECU: "EC",
    EGY: "EG",
    SLV: "SV",
    GNQ: "GQ",
    ERI: "ER",
    EST: "EE",
    ETH: "ET",
    FLK: "FK",
    FRO: "FO",
    FJI: "FJ",
    FIN: "FI",
    FRA: "FR",
    GUF: "GF",
    PYF: "PF",
    ATF: "TF",
    GAB: "GA",
    GMB: "GM",
    GEO: "GE",
    DEU: "DE",
    GHA: "GH",
    GIB: "GI",
    GRC: "GR",
    GRL: "GL",
    GRD: "GD",
    GLP: "GP",
    GUM: "GU",
    GTM: "GT",
    GGY: "GG",
    GIN: "GN",
    GNB: "GW",
    GUY: "GY",
    HTI: "HT",
    HMD: "HM",
    VAT: "VA",
    HND: "HN",
    HKG: "HK",
    HUN: "HU",
    ISL: "IS",
    IND: "IN",
    IDN: "ID",
    IRN: "IR",
    IRQ: "IQ",
    IRL: "IE",
    IMN: "IM",
    ISR: "IL",
    ITA: "IT",
    JAM: "JM",
    JPN: "JP",
    JEY: "JE",
    JOR: "JO",
    KAZ: "KZ",
    KEN: "KE",
    KIR: "KI",
    KOS: "KV",
    PRK: "KP",
    KOR: "KR",
    KWT: "KW",
    KGZ: "KG",
    LAO: "LA",
    LVA: "LV",
    LBN: "LB",
    LSO: "LS",
    LBR: "LR",
    LBY: "LY",
    LIE: "LI",
    LTU: "LT",
    LUX: "LU",
    MAC: "MO",
    MKD: "MK",
    MDG: "MG",
    MWI: "MW",
    MYS: "MY",
    MDV: "MV",
    MLI: "ML",
    MLT: "MT",
    MHL: "MH",
    MTQ: "MQ",
    MRT: "MR",
    MUS: "MU",
    MYT: "YT",
    MEX: "MX",
    FSM: "FM",
    MDA: "MD",
    MCO: "MC",
    MNG: "MN",
    MNE: "ME",
    MSR: "MS",
    MAR: "MA",
    MOZ: "MZ",
    MMR: "MM",
    NAM: "NA",
    NRU: "NR",
    NPL: "NP",
    NLD: "NL",
    ANT: "AN",
    NCL: "NC",
    NZL: "NZ",
    NIC: "NI",
    NER: "NE",
    NGA: "NG",
    NIU: "NU",
    NFK: "NF",
    MNP: "MP",
    NOR: "NO",
    OMN: "OM",
    PAK: "PK",
    PLW: "PW",
    PSE: "PS",
    PAN: "PA",
    PNG: "PG",
    PRY: "PY",
    PER: "PE",
    PHL: "PH",
    PCN: "PN",
    POL: "PL",
    PRT: "PT",
    PRI: "PR",
    QAT: "QA",
    REU: "RE",
    ROU: "RO",
    RUS: "RU",
    RWA: "RW",
    BLM: "BL",
    SHN: "SH",
    KNA: "KN",
    LCA: "LC",
    SPM: "PM",
    VCT: "VC",
    WSM: "WS",
    SMR: "SM",
    STP: "ST",
    SAU: "SA",
    SEN: "SN",
    SRB: "RS",
    SYC: "SC",
    SLE: "SL",
    SGP: "SG",
    SVK: "SK",
    SVN: "SI",
    SLB: "SB",
    SOM: "SO",
    ZAF: "ZA",
    SGS: "GS",
    ESP: "ES",
    LKA: "LK",
    SDN: "SD",
    SUR: "SR",
    SJM: "SJ",
    SWZ: "SZ",
    SYR: "SY",
    SWE: "SE",
    CHE: "CH",
    TWN: "TW",
    TJK: "TJ",
    TZA: "TZ",
    THA: "TH",
    TLS: "TL",
    TGO: "TG",
    TKL: "TK",
    TON: "TO",
    TTO: "TT",
    TUN: "TN",
    TUR: "TR",
    TKM: "TM",
    TCA: "TC",
    TUV: "TV",
    UGA: "UG",
    UKR: "UA",
    ARE: "AE",
    GBR: "GB",
    USA: "US",
    UMI: "UM",
    URY: "UY",
    UZB: "UZ",
    VUT: "VU",
    VEN: "VE",
    VNM: "VN",
    VGB: "VG",
    VIR: "VI",
    WLF: "WF",
    ESH: "EH",
    YEM: "YE",
    ZMB: "ZM",
    ZWE: "ZW"
  };
  a.namespace("Squarespace").CommentStates = {
    ENABLED: 1,
    DISABLED: 2
  };
  a.namespace("Squarespace").CommerceCouponType = {
    SINGLE_PRODUCT: 4,
    CATEGORIES: 3,
    ORDERS_OVER: 2,
    ALL_ORDERS: 1
  };
  a.namespace("Squarespace").StoreStates = {
    LIVE: 1,
    TEST_MODE: 2,
    NOT_CONNECTED: 3
  };
  a.namespace("Squarespace").AccountStates = {
    ACTIVE: 1,
    UNAUTHORIZED: 2
  };
  a.namespace("Squarespace").OrderEventType = {
    STATE_CHANGE: 1,
    PAYMENT_STATE_CHANGE: 2
  };
  a.namespace("Squarespace").CommentStatuses = {
    APPROVED: 1,
    AWAITING_MODERATION: 2,
    DELETED: 3,
    SPAM: 4,
    POSSIBLY_SPAM: 5
  };
  a.namespace("Squarespace").DomainVerificationStatus = {
    VERIFIED: 1,
    PENDING: 2,
    SUSPENDED: 3,
    UNVERIFIED: 4
  };
  a.namespace("Squarespace").CommerceEmailTypes = {
    ORDER_CONFIRMED: 1,
    ORDER_SHIPPED: 2,
    ORDER_REFUNDED: 3,
    DIGITAL_GOODS_DELIVERY: 4,
    CONTRIBUTION_CONFIRMED: 5,
    CUSTOM_MESSAGE: 50
  };
  a.namespace("Squarespace").ReferralMatchType = {
    WEBSITE: 1,
    EMAIL_ADDRESS: 2,
    FACEBOOK: 3,
    TWITTER: 4,
    LINKEDIN: 5,
    FACEBOOK_ID: 6
  };
  a.namespace("Squarespace").SystemWebsiteSubjects = {
    FAITH: "faith",
    FASHION: "fashion",
    FINE_ART: "fine_art",
    FITNESS: "fitness",
    FOOD: "food",
    GRAPHIC_DESIGN: "design",
    HEALTH_CARE: "health",
    MUSIC: "music",
    PHOTOGRAPHY: "photo",
    TECHNOLOGY: "tech",
    VIDEOGRAPHY: "video",
    WEDDING_COUPLE: "wedding_couple",
    WEDDING_SERVICES: "wedding_services",
    OTHER: "other"
  };
  a.namespace("Squarespace").JobTypes = {
    IMAGE_PROCESSING: 2,
    IMPORTING: 3,
    PUSH: 4,
    S3: 6,
    SMTP: 7,
    DESK_TICKET: 8,
    SEARCH_REINDEX: 9,
    INSTAGRAM: 10,
    SOCIAL_PULL: 11,
    FOURSQUARE: 12,
    DYNECT: 13,
    BETAEND: 14,
    BULK_IMAGE_PROCESSING: 15,
    EXPORTING_WORDPRESS: 16,
    EXPORTING_INTERNAL: 17,
    COLLECTION_SYNC: 18,
    CONTENT_STATS_REGENERATION: 19,
    SEARCH_REALTIME: 20,
    GENERATE_SITEMAP: 21,
    IMAGE_FOCAL_POINT: 22,
    MIGRATE_CONTENT_STATS: 23,
    DELETE_WEBSITE: 24,
    RESTORE_DELETED_WEBSITE: 25,
    STATS_MIGRATION: 26,
    STATS_COPY: 27,
    AUDIO_PROCESSING: 28,
    SEND_NEWSLETTER_MESSAGE: 29,
    PUBLISH_SCHEDULED_POST: 30,
    DISABLE_COMMENTS: 31,
    XERO_MANUAL_EXPORT: 32,
    SIGNUP: 33,
    GOOGLE_APPS_REGISTRATION: 34,
    DELINQUENT_BILLING_MAIL: 35
  };
  a.namespace("Squarespace").ProductTypes = {
    PHYSICAL: 1,
    DIGITAL: 2,
    SERVICE: 3
  };
  a.namespace("Squarespace").AnnouncementBarStyle = {
    NONE: 1,
    CUSTOM: 2
  };
  a.namespace("Squarespace").XeroAccountTypes = {
    BANK: "BANK",
    CURRENT_ASSET: "CURRENT",
    CURRENT_LIABILITY: "CURRLIAB",
    DEPRECIATION: "DEPRECIATN",
    DIRECT_COSTS: "DIRECTCOSTS",
    EQUITY: "EQUITY",
    EXPENSE: "EXPENSE",
    FIXED_ASSET: "FIXED",
    LIABILITY: "LIABILITY",
    NON_CURRENT_ASSET: "NONCURRENT",
    OTHER_INCOME: "OTHERINCOME",
    OVERHEAD: "OVERHEADS",
    PRE_PAYMENT: "PREPAYMENT",
    REVENUE: "REVENUE",
    SALES: "SALES",
    TERM_LIABILITY: "TERMLIAB"
  };
  a.namespace("Squarespace").XeroInvoiceStatuses = {
    DRAFT: "DRAFT",
    SUBMITTED: "SUBMITTED",
    DELETED: "DELETED",
    AUTHORISED: "AUTHORISED",
    PAID: "PAID",
    VOIDED: "VOIDED"
  };
  a.namespace("Squarespace").GoogleAppsPlanType = {
    FLEXIBLE: 1,
    TRIAL: 2
  };
  a.namespace("Squarespace").GoogleAppsSubscriptionStatus = {
    ACTIVE: 1,
    PENDING: 2,
    CANCELLED: 3,
    SUSPENDED: 4
  };
  a.namespace("Squarespace").BlockType = {
    NAVIGATION: 1,
    HTML: 2,
    LOGO: 3,
    MAP: 4,
    IMAGE: 5,
    TWITTER: 6,
    JOURNAL: 7,
    GALLERY: 8,
    FORM: 9,
    GEO: 10,
    INDEX: 11,
    COLLECTION_LINK: 12,
    LINK: 13,
    TAGCLOUD: 14,
    COMMENTS: 16,
    FOLDER: 17,
    MENU: 18,
    SOCIAL_LINKS: 19,
    SUMMARY: 20,
    SPACER: 21,
    EMBED: 22,
    CODE: 23,
    FOURSQUARE: 24,
    INSTAGRAM: 25,
    CALENDAR: 26,
    POSTS_BY_AUTHOR: 27,
    POSTS_BY_TAG: 28,
    POSTS_BY_CATEGORY: 29,
    POSTS_BY_MONTH: 30,
    QUOTE: 31,
    VIDEO: 32,
    SEARCH: 33,
    AUDIO: 41,
    FIVEHUNDREDPIX: 42,
    PRODUCT: 43,
    MARKDOWN: 44,
    FLICKR: 45,
    AMAZON: 46,
    HORIZONTAL_RULE: 47,
    SOCIAL_ACCOUNT_LINKS: 48,
    RSS: 49,
    OPENTABLE: 50,
    NEWSLETTER: 51,
    DONATION: 52,
    BUTTON: 53,
    SOCIAL_ACCOUNT_LINKS_V2: 54,
    SUMMARY_V2: 55,
    SOUNDCLOUD: 56,
    EMAIL_FOOTER: 57,
    IN_BROWSER_MESSAGE_LINK: 58,
    TOURDATES: 59,
    ALBUM: 60
  };
  a.namespace("Squarespace").SliceType = {
    HEADING: 1,
    SUB_HEADING: 2,
    BODY: 3,
    IMAGE: 4,
    GALLERY: 5,
    VIDEO: 6,
    SOCIAL_ICONS: 7,
    BUTTONS: 8,
    NAVIGATION: 9,
    CUSTOM_FORM: 10,
    NEWSLETTER: 11,
    ALBUM: 12,
    MAP: 13,
    LOGO: 14,
    ACTION: 15,
    FORM: 16
  };
  a.namespace("Squarespace").SlideLayoutCategory = {
    LANDING: 1,
    PROFILE: 2,
    AUDIO: 3,
    VIDEO: 4,
    LOCATION: 5
  };
  a.namespace("Squarespace").XeroTaxSyncStatuses = {
    IN_SYNC: 1,
    MISSING_RATES: 2,
    OUT_OF_SYNC: 3,
    MISSING_AND_OUT_OF_SYNC: 4
  };
  a.namespace("Squarespace").USPSServiceTypes = {
    FIRST_CLASS: 1,
    PRIORITY: 2,
    EXPRESS: 3,
    STANDARD: 4
  };
  a.namespace("Squarespace").NewsletterMessageStatus = {
    DRAFT: 1,
    TEST_SEND: 2,
    TEST_SENDING: 3,
    TEST_SENT: 4,
    TEST_ERROR: 5,
    CONFIRMED: 6,
    SEND: 7,
    PENDING: 11,
    SENDING: 8,
    SENT: 9,
    ERROR: 10
  };
  a.namespace("Squarespace").BillingStatus = {
    FREE: 1,
    LINKED: 2,
    SUBSCRIBED: 3,
    TRIAL: 4
  }
}, "1.0", {
  requires: []
});
YUI.add("node-style", function(a, f) {
  (function(a) {
    a.mix(a.Node.prototype, {
      setStyle: function(c, e) {
        a.DOM.setStyle(this._node, c, e);
        return this
      },
      setStyles: function(c) {
        a.DOM.setStyles(this._node, c);
        return this
      },
      getStyle: function(c) {
        return a.DOM.getStyle(this._node, c)
      },
      getComputedStyle: function(c) {
        return a.DOM.getComputedStyle(this._node, c)
      }
    });
    a.NodeList.importMethod(a.Node.prototype, ["getStyle", "getComputedStyle", "setStyle", "setStyles"])
  })(a);
  a.mix(a.Node.prototype, {
    show: function(a) {
      a = arguments[arguments.length - 1];
      this.toggleView(!0, a);
      return this
    },
    _show: function() {
      this.removeAttribute("hidden");
      this.setStyle("display", "")
    },
    _isHidden: function() {
      return this.hasAttribute("hidden") || "none" === a.DOM.getComputedStyle(this._node, "display")
    },
    toggleView: function(a, c) {
      this._toggleView.apply(this, arguments);
      return this
    },
    _toggleView: function(a, c) {
      c = arguments[arguments.length - 1];
      "boolean" != typeof a && (a = this._isHidden() ? 1 : 0);
      a ? this._show() : this._hide();
      "function" == typeof c && c.call(this);
      return this
    },
    hide: function(a) {
      a = arguments[arguments.length - 1];
      this.toggleView(!1, a);
      return this
    },
    _hide: function() {
      this.setAttribute("hidden", "hidden");
      this.setStyle("display", "none")
    }
  });
  a.NodeList.importMethod(a.Node.prototype, ["show", "hide", "toggleView"])
}, "3.17.2", {
  requires: ["dom-style", "node-base"]
});
YUI.add("squarespace-timezone-tools", function(a) {
  var f = {
    Jan: 0,
    Feb: 1,
    Mar: 2,
    Apr: 3,
    May: 4,
    Jun: 5,
    Jul: 6,
    Aug: 7,
    Sep: 8,
    Oct: 9,
    Nov: 10,
    Dec: 11
  }, b = {
    Sun: 0,
    Mon: 1,
    Tue: 2,
    Wed: 3,
    Thu: 4,
    Fri: 5,
    Sat: 6
  }, c = function(a) {
    var b = a.search(/[sguzw]/);
    a.substr(0, b);
    var c = a.split(":"),
      e = c[0] ? parseInt(c[0], 10) : 0,
      c = c[1] ? parseInt(c[1], 10) : 0;
    return {
      hour: e,
      min: c,
      totalMins: 60 * e + c,
      type: -1 === b ? "w" : a.substr(-1, 1)
    }
  }, e = function(a, b) {
    for (var c = Array(b); 0 <= --b;) c[b] = a;
    return c
  };
  a.namespace("Squarespace").TimezoneTools = a.Base.create("dateInfo", a.Base, [], {
    initializer: function() {
      var b = this.get("tzData");
      a.Lang.isValue(b) ? (b = this._decompact(b), this.setAttrs({
        _allZones: b.zones,
        _allRules: b.rules,
        validData: !0
      })) : console.warn("No timezone data loaded.")
    },
    _findActiveZone: function() {
      var b = this.get("_allZones"),
        b = a.Array.find(b, function(b) {
          return !a.Lang.isValue(b.until) || 1E3 * b.until >= this.get("time")
        }, this);
      if (null !== b) return b;
      throw "All the zones loaded ended before this time. This should not happen - check that zones were loaded.";
    },
    _findActiveRule: function() {
      var b = this.get("_activeZoneData");
      if (!a.Lang.isValue(b) || !a.Lang.isValue(b.rules)) return null;
      var c = new Date(this.get("time")),
        f = c.getUTCFullYear(),
        k = this.get("_allRules")[b.rules],
        b = this._findRulesForYear(f, k),
        b = this._filterRulesRough(b, c);
      if (0 < b.length) {
        b.sort(this._getRuleComparator(f));
        var m = this._getRuleExactStartTime(f, b[b.length - 1]);
        if (c.getTime() > m + 864E5) return b[b.length - 1]
      }
      var n = e(f, b.length);
      2 > b.length && (k = this._findRulesForYear(f - 1, k), k.sort(this._getRuleComparator(f - 1)), f = e(f - 1, k.length), b = k.concat(b), n = f.concat(n));
      b = a.Array.filter(b, function(a, b, e) {
        return 0 === b ? !0 : this._getRuleExactStartTime(n[b], a, e[b - 1]) <= c.getTime()
      }, this);
      return 0 === b.length ? null : b[b.length - 1]
    },
    _findRulesForYear: function(b, c) {
      return a.Array.filter(c, function(a) {
        return a.from > b ? !1 : "number" === typeof a.to ? a.to >= b : "string" === typeof a.to && ("max" === a.to || "only" === a.to && a.from == b) ? !0 : !1
      }, this)
    },
    _filterRulesRough: function(b, c) {
      return a.Array.filter(b, function(a, b, e) {
        return -1 > c.getUTCMonth() - f[a["in"]] ? !1 : this._getRuleExactStartTime(c.getUTCFullYear(),
        a) - 864E5 <= this.get("time")
      }, this)
    },
    _compareRules: function(a, b, c) {
      var e = f[a["in"]] - f[b["in"]];
      return 0 !== e ? e : this._getRuleExactStartTime(c, a, null) - this._getRuleExactStartTime(c, b)
    },
    _getRuleComparator: function(b) {
      return a.bind(function(a, c) {
        return this._compareRules(a, c, b)
      }, this)
    },
    _getRuleExactStartTime: function(b, g, e) {
      var f = c(g.at);
      e = this._getClockOffset(f.type, this.get("_activeZoneData"), e);
      return a.Lang.isNumber(g.on) ? this._getDateRuleStartTime(b, g) - e : "last" === g.on.substr(0, 4) ? this._getLastDayRuleStartTime(b,
      g) - e : this._getBeforeAfterDateRuleStartTime(b, g) - e
    },
    _getDateRuleStartTime: function(a, b) {
      var e = c(b.at);
      return (new Date(Date.UTC(a, f[b["in"]], b.on, e.hour, e.min))).getTime()
    },
    _getLastDayRuleStartTime: function(a, g) {
      var e = c(g.at),
        k = b[g.on.substr(4, 3)],
        m = f[g["in"]],
        n = new Date(Date.UTC(a, m + 1, 1, e.hour - 24, e.min)),
        p = n.getUTCDate();
      n.getUTCDay() < k && (p -= 7);
      p -= n.getUTCDay() - k;
      n = new Date(Date.UTC(a, m, p, e.hour, e.min));
      return n.getTime()
    },
    _getBeforeAfterDateRuleStartTime: function(a, g) {
      var e = c(g.at),
        k = g.on.substr(3,
        2),
        m = b[g.on.substr(0, 3)],
        n = parseInt(g.on.substr(5, 2), 10),
        p = f[g["in"]],
        q = new Date(Date.UTC(a, p, n, e.hour, e.min));
      if ("<=" === k) q.getUTCDay() < m && (n -= 7), n -= q.getUTCDay() - m, q = new Date(Date.UTC(a, p, n, e.hour, e.min));
      else if (">=" === k) n += m - q.getUTCDay(), q.getUTCDay() > m && (n += 7), q = new Date(Date.UTC(a, p, n, e.hour, e.min));
      else throw date.on + " did not match a valid on string";
      return q.getTime()
    },
    _getClockOffset: function(b, g, e) {
      if ("u" === b || "g" === b || "z" === b) b = 0;
      else if ("s" === b) b = g.off;
      else if ("w" === b || !b) b = a.Lang.isValue(e) ? g.off + c(e.save).totalMins : g.off;
      else throw "Unknown clock type " + b;
      return 6E4 * b
    },
    _findAbbr: function() {
      var b = this.get("_activeZoneData");
      if (!a.Lang.isValue(b.format)) return null;
      var c = this.get("_activeRule");
      return -1 !== b.format.indexOf("/") ? (b = b.format.split("/"), 0 === this.get("saveMins") ? b[0] : b[1]) : a.Lang.isValue(c) && a.Lang.isValue(c) ? b.format.replace("%s", this.get("_activeRule").letter) : b.format
    },
    _decompact: function(b) {
      var c = {
        zones: [],
        rules: {}
      };
      c.zones = b.zones.map(function(b) {
        return a.Array.hash(["off",
          "rules", "format", "until"], b)
      });
      a.Object.each(b.rules, function(b, e) {
        var f = b.map(function(b) {
          return a.Array.hash("from to type in on at save letter".split(" "), b)
        });
        c.rules[e] = f
      });
      return c
    }
  }, {
    ATTRS: {
      validData: {
        value: !1,
        validator: a.Lang.isBoolean
      },
      _activeZoneData: {
        getter: function(b) {
          return a.Lang.isValue(b) ? b : this._findActiveZone()
        }
      },
      _activeRule: {
        getter: function(b) {
          return a.Lang.isValue(b) ? b : this._findActiveRule()
        }
      },
      time: {
        writeOnce: "initOnly",
        setter: function(b) {
          if (a.Lang.isDate(b)) return b.getTime()
        },
        validator: a.Lang.isNumber
      },
      utcOffset: {
        getter: function() {
          return !this.get("validData") ? (new Date).getTimezoneOffset() : this.get("standardUTCOffset") + this.get("saveMins")
        },
        readonly: !0
      },
      standardUTCOffset: {
        getter: function() {
          return !this.get("validData") ? (new Date).getTimezoneOffset() : this.get("_activeZoneData").off
        },
        readonly: !0
      },
      saveMins: {
        getter: function(b) {
          if (a.Lang.isValue(b)) return b;
          b = this.get("_activeRule");
          return a.Lang.isValue(b) ? c(b.save).totalMins : 0
        },
        readonly: !0
      },
      abbreviation: {
        getter: function(b) {
          return !a.Lang.isValue(b) ? this._findAbbr() : b
        },
        readonly: !0
      },
      timezone: {
        writeOnce: "initOnly",
        validator: a.Lang.isString
      },
      tzData: {
        writeOnce: "initOnly",
        validator: function(b) {
          return a.Lang.isObject(b) && a.Lang.isValue(b.zones) && a.Lang.isValue(b.rules)
        }
      },
      _allZones: {
        writeOnce: !0,
        validator: a.Lang.isArray
      },
      _allRules: {
        writeOnce: !0
      }
    }
  })
}, "1.0", {
  requires: ["base", "array-extras"]
});
YUI.add("widget-base", function(a, f) {
  function b(a) {
    var c, e = this.constructor;
    this._strs = {};
    this._cssPrefix = e.CSS_PREFIX || g(e.NAME.toLowerCase());
    a = a || {};
    b.superclass.constructor.call(this, a);
    if (a = this.get(m)) a !== p && (c = a), this.render(c)
  }
  var c = a.Lang,
    e = a.Node,
    h = a.ClassNameManager,
    g = h.getClassName,
    l, k = a.cached(function(a) {
      return a.substring(0, 1).toUpperCase() + a.substring(1)
    }),
    m = "render",
    n = function() {}, p = !0,
    q, r = {}, u = "visible disabled height width focused tabIndex".split(" "),
    v = a.UA.webkit,
    w = {};
  b.NAME = "widget";
  q = b.UI_SRC = "ui";
  b.ATTRS = r;
  r.id = {
    valueFn: "_guid",
    writeOnce: p
  };
  r.rendered = {
    value: !1,
    readOnly: p
  };
  r.boundingBox = {
    valueFn: "_defaultBB",
    setter: "_setBB",
    writeOnce: p
  };
  r.contentBox = {
    valueFn: "_defaultCB",
    setter: "_setCB",
    writeOnce: p
  };
  r.tabIndex = {
    value: null,
    validator: "_validTabIndex"
  };
  r.focused = {
    value: !1,
    readOnly: p
  };
  r.disabled = {
    value: !1
  };
  r.visible = {
    value: p
  };
  r.height = {
    value: ""
  };
  r.width = {
    value: ""
  };
  r.strings = {
    value: {},
    setter: "_strSetter",
    getter: "_strGetter"
  };
  r[m] = {
    value: !1,
    writeOnce: p
  };
  b.CSS_PREFIX = g(b.NAME.toLowerCase());
  b.getClassName = function() {
    return g.apply(h, [b.CSS_PREFIX].concat(a.Array(arguments), !0))
  };
  l = b.getClassName;
  b.getByNode = function(b) {
    var c, g = l();
    if (b = e.one(b))(b = b.ancestor("." + g, !0)) && (c = w[a.stamp(b, !0)]);
    return c || null
  };
  a.extend(b, a.Base, {
    getClassName: function() {
      return g.apply(h, [this._cssPrefix].concat(a.Array(arguments), !0))
    },
    initializer: function(b) {
      b = this.get("boundingBox");
      b instanceof e && this._mapInstance(a.stamp(b))
    },
    _mapInstance: function(a) {
      w[a] = this
    },
    destructor: function() {
      var b = this.get("boundingBox");
      b instanceof e && (b = a.stamp(b, !0), b in w && delete w[b], this._destroyBox())
    },
    destroy: function(a) {
      this._destroyAllNodes = a;
      return b.superclass.destroy.apply(this)
    },
    _destroyBox: function() {
      var a = this.get("boundingBox"),
        b = this.get("contentBox"),
        c = this._destroyAllNodes,
        g;
      g = a && a.compareTo(b);
      this.UI_EVENTS && this._destroyUIEvents();
      this._unbindUI(a);
      b && (c && b.empty(), b.remove(p));
      g || (c && a.empty(), a.remove(p))
    },
    render: function(a) {
      !this.get("destroyed") && !this.get("rendered") && (this.publish(m, {
        queuable: !1,
        fireOnce: p,
        defaultTargetOnly: p,
        defaultFn: this._defRenderFn
      }), this.fire(m, {
        parentNode: a ? e.one(a) : null
      }));
      return this
    },
    _defRenderFn: function(a) {
      this._parentNode = a.parentNode;
      this.renderer();
      this._set("rendered", p);
      this._removeLoadingClassNames()
    },
    renderer: function() {
      this._renderUI();
      this.renderUI();
      this._bindUI();
      this.bindUI();
      this._syncUI();
      this.syncUI()
    },
    bindUI: n,
    renderUI: n,
    syncUI: n,
    hide: function() {
      return this.set("visible", !1)
    },
    show: function() {
      return this.set("visible", p)
    },
    focus: function() {
      return this._set("focused",
      p)
    },
    blur: function() {
      return this._set("focused", !1)
    },
    enable: function() {
      return this.set("disabled", !1)
    },
    disable: function() {
      return this.set("disabled", p)
    },
    _uiSizeCB: function(a) {
      this.get("contentBox").toggleClass(l("content", "expanded"), a)
    },
    _renderBox: function(a) {
      var b = this.get("contentBox"),
        c = this.get("boundingBox"),
        g = this.get("srcNode"),
        f = this.DEF_PARENT_NODE,
        h = g && g.get("ownerDocument") || c.get("ownerDocument") || b.get("ownerDocument");
      g && (!g.compareTo(b) && !b.inDoc(h)) && g.replace(b);
      !c.compareTo(b.get("parentNode")) && !c.compareTo(b) && (b.inDoc(h) && b.replace(c), c.appendChild(b));
      (a = a || f && e.one(f)) ? a.appendChild(c) : c.inDoc(h) || e.one("body").insert(c, 0)
    },
    _setBB: function(a) {
      return this._setBox(this.get("id"), a, this.BOUNDING_TEMPLATE, !0)
    },
    _setCB: function(a) {
      return null === this.CONTENT_TEMPLATE ? this.get("boundingBox") : this._setBox(null, a, this.CONTENT_TEMPLATE, !1)
    },
    _defaultBB: function() {
      var a = this.get("srcNode"),
        b = null === this.CONTENT_TEMPLATE;
      return a && b ? a : null
    },
    _defaultCB: function(a) {
      return this.get("srcNode") || null
    },
    _setBox: function(b, c, g, f) {
      c = e.one(c);
      c || (c = e.create(g), f ? this._bbFromTemplate = !0 : this._cbFromTemplate = !0);
      c.get("id") || c.set("id", b || a.guid());
      return c
    },
    _renderUI: function() {
      this._renderBoxClassNames();
      this._renderBox(this._parentNode)
    },
    _renderBoxClassNames: function() {
      var a = this._getClasses(),
        b, c = this.get("boundingBox"),
        e;
      c.addClass(l());
      for (e = a.length - 3; 0 <= e; e--) b = a[e], c.addClass(b.CSS_PREFIX || g(b.NAME.toLowerCase()));
      this.get("contentBox").addClass(this.getClassName("content"))
    },
    _removeLoadingClassNames: function() {
      var a = this.get("boundingBox"),
        b = this.get("contentBox"),
        c = this.getClassName("loading"),
        g = l("loading");
      a.removeClass(g).removeClass(c);
      b.removeClass(g).removeClass(c)
    },
    _bindUI: function() {
      this._bindAttrUI(this._UI_ATTRS.BIND);
      this._bindDOM()
    },
    _unbindUI: function(a) {
      this._unbindDOM(a)
    },
    _bindDOM: function() {
      var c = this.get("boundingBox").get("ownerDocument"),
        g = b._hDocFocus;
      g || (g = b._hDocFocus = c.on("focus", this._onDocFocus, this), g.listeners = {
        count: 0
      });
      g.listeners[a.stamp(this, !0)] = !0;
      g.listeners.count++;
      v && (this._hDocMouseDown = c.on("mousedown", this._onDocMouseDown, this))
    },
    _unbindDOM: function(c) {
      c = b._hDocFocus;
      var g = a.stamp(this, !0),
        e, f = this._hDocMouseDown;
      c && (e = c.listeners, e[g] && (delete e[g], e.count--), 0 === e.count && (c.detach(), b._hDocFocus = null));
      v && f && f.detach()
    },
    _syncUI: function() {
      this._syncAttrUI(this._UI_ATTRS.SYNC)
    },
    _uiSetHeight: function(a) {
      this._uiSetDim("height", a);
      this._uiSizeCB("" !== a && "auto" !== a)
    },
    _uiSetWidth: function(a) {
      this._uiSetDim("width", a)
    },
    _uiSetDim: function(a, b) {
      this.get("boundingBox").setStyle(a, c.isNumber(b) ? b + this.DEF_UNIT : b)
    },
    _uiSetVisible: function(a) {
      this.get("boundingBox").toggleClass(this.getClassName("hidden"), !a)
    },
    _uiSetDisabled: function(a) {
      this.get("boundingBox").toggleClass(this.getClassName("disabled"), a)
    },
    _uiSetFocused: function(a, b) {
      var c = this.get("boundingBox");
      c.toggleClass(this.getClassName("focused"), a);
      b !== q && (a ? c.focus() : c.blur())
    },
    _uiSetTabIndex: function(a) {
      var b = this.get("boundingBox");
      c.isNumber(a) ? b.set("tabIndex", a) : b.removeAttribute("tabIndex")
    },
    _onDocMouseDown: function(a) {
      this._domFocus && this._onDocFocus(a)
    },
    _onDocFocus: function(a) {
      a = b.getByNode(a.target);
      var c = b._active;
      c && c !== a && (c._domFocus = !1, c._set("focused", !1, {
        src: q
      }), b._active = null);
      a && (a._domFocus = !0, a._set("focused", !0, {
        src: q
      }), b._active = a)
    },
    toString: function() {
      return this.name + "[" + this.get("id") + "]"
    },
    DEF_UNIT: "px",
    DEF_PARENT_NODE: null,
    CONTENT_TEMPLATE: "<div></div>",
    BOUNDING_TEMPLATE: "<div></div>",
    _guid: function() {
      return a.guid()
    },
    _validTabIndex: function(a) {
      return c.isNumber(a) || c.isNull(a)
    },
    _bindAttrUI: function(a) {
      var b,
      c = a.length;
      for (b = 0; b < c; b++) this.after(a[b] + "Change", this._setAttrUI)
    },
    _syncAttrUI: function(a) {
      var b, c = a.length,
        g;
      for (b = 0; b < c; b++) g = a[b], this["_uiSet" + k(g)](this.get(g))
    },
    _setAttrUI: function(a) {
      if (a.target === this) this["_uiSet" + k(a.attrName)](a.newVal, a.src)
    },
    _strSetter: function(b) {
      return a.merge(this.get("strings"), b)
    },
    getString: function(a) {
      return this.get("strings")[a]
    },
    getStrings: function() {
      return this.get("strings")
    },
    _UI_ATTRS: {
      BIND: u,
      SYNC: u
    }
  });
  a.Widget = b
}, "3.17.2", {
  requires: "attribute base-base base-pluginhost classnamemanager event-focus node-base node-style".split(" "),
  skinnable: !0
});
YUI.add("squarespace-announcement-bar", function(a) {
  a.namespace("Squarespace.Widgets");
  var f = a.Squarespace.Widgets.AnnouncementBar = a.Base.create("AnnouncementBar", a.Squarespace.Widgets.SSWidget, [], {
    initializer: function() {
      this._bb = this.get("boundingBox");
      this._cb = this.get("contentBox");
      this.publish("closed", {
        emitFacade: !0
      })
    },
    render: function(a) {
      a || this._checkIfNewMessage() ? (a = this._getDropzone(), f.superclass.render.call(this, a)) : this._bindTweakEvents()
    },
    bindUI: function() {
      f.superclass.bindUI.call(this);
      this.get("boundingBox").delegate("click",
      this._closeBar, "." + this.getClassName("close"), this);
      this._bindTweakEvents();
      this._resizeEvent = this._registerEvent(a.one(a.config.win).after("resize", this._updateBarHeight, this));
      this.after(["textChange", "clickthroughUrlChange"], function() {
        this.get("contentBox").empty();
        this.get("contentBox").prepend(this.renderTemplate());
        this._updateBarHeight()
      });
      this.on("visibleChange", this._checkIfNewMessage, this)
    },
    syncUI: function() {
      f.superclass.syncUI.call(this);
      this._updateBarHeight()
    },
    getHeight: function() {
      return this._bb.get("clientHeight")
    },
    _bindTweakEvents: function() {
      a.Global.on("tweak:beforeopen", this._onTweakOpen, this);
      a.Global.on("tweak:change", this._updateBarHeight, this)
    },
    _onTweakOpen: function() {
      this.get("rendered") || this.render(!0);
      this.show();
      this._updateBarHeight()
    },
    _updateBarHeight: function() {
      this._bb.setStyle("height", null);
      this._bb.setStyle("height", this.getHeight())
    },
    _closeBar: function(a) {
      a.preventDefault();
      this.hide();
      this._recordClose();
      this._resizeEvent && this._resizeEvent.detach();
      this.fire("closed")
    },
    _getDropzone: function() {
      var b = a.one(this.get("dropzone"));
      if (!a.Lang.isNull(b)) {
        var c = a.Node.create('<div class="sqs-announcement-bar-custom-location"></div>');
        b.insert(c, 0);
        b = c;
        this.set("isCustomPositioned", !0)
      }
      return b
    },
    _checkIfNewMessage: function() {
      var b = !0,
        c = !1;
      if (localStorage) {
        var e = {
          text: this.get("text"),
          clickthroughUrl: this.get("clickthroughUrl")
        }, f = this._getLocalStorageData();
        if (f) {
          var g = f.closed;
          delete f.closed;
          null === e.clickthroughUrl && delete e.clickthroughUrl;
          var l = a.JSON.stringify(e),
            f = a.JSON.stringify(f);
          l === f && !0 === g ? b = !1 : c = !0
        } else c = !0;
        !0 === c && (e.closed = !1, this._saveToLocalStorage(e))
      }
      return b
    },
    _getLocalStorageData: function() {
      var b = null;
      if (localStorage) try {
        var c = localStorage.getItem("squarespace-announcement-bar"),
          b = a.JSON.parse(c)
      } catch (e) {
        b = null
      }
      return b
    },
    _saveToLocalStorage: function(b) {
      if (localStorage) {
        "string" !== typeof b && (b = a.JSON.stringify(b));
        try {
          localStorage.setItem("squarespace-announcement-bar", b)
        } catch (c) {
          console.warn(c)
        }
      }
    },
    _recordClose: function() {
      var a = this._getLocalStorageData();
      a && (a.closed = !0,
      this._saveToLocalStorage(a))
    }
  }, {
    CSS_PREFIX: "sqs-announcement-bar",
    HANDLEBARS_TEMPLATE: "announcement-bar.html",
    ATTRS: {
      text: {
        value: null
      },
      isCustomPositioned: {
        value: !1
      },
      clickthroughUrl: {
        value: null
      },
      dropzone: {
        value: ".sqs-announcement-bar-dropzone"
      }
    }
  });
  a.namespace("Squarespace.Widgets.AnnouncementBar").resetVisibility = function() {
    if (localStorage) try {
      localStorage.removeItem("squarespace-announcement-bar")
    } catch (a) {
      console.warn(a)
    }
  };
  a.namespace("Squarespace.Widgets.AnnouncementBar").isClosed = function() {
    var b = !1;
    if (localStorage) try {
      var c = localStorage.getItem("squarespace-announcement-bar");
      output = a.JSON.parse(c);
      a.Lang.isNull(output) || (b = output.closed)
    } catch (e) {
      console.warn(e)
    }
    return b
  }
}, "1.0", {
  requires: ["base", "node", "json", "squarespace-ss-widget", "squarespace-announcement-bar-template"]
});
YUI.add("event-simulate", function(a, f) {
  (function() {
    var b = a.Lang,
      c = a.config.win,
      e = b.isFunction,
      f = b.isString,
      g = b.isBoolean,
      l = b.isObject,
      k = b.isNumber,
      m = {
        click: 1,
        dblclick: 1,
        mouseover: 1,
        mouseout: 1,
        mousedown: 1,
        mouseup: 1,
        mousemove: 1,
        contextmenu: 1
      }, n = c && c.PointerEvent ? {
        pointerover: 1,
        pointerout: 1,
        pointerdown: 1,
        pointerup: 1,
        pointermove: 1
      } : {
        MSPointerOver: 1,
        MSPointerOut: 1,
        MSPointerDown: 1,
        MSPointerUp: 1,
        MSPointerMove: 1
      }, p = {
        keydown: 1,
        keyup: 1,
        keypress: 1
      }, q = {
        submit: 1,
        blur: 1,
        change: 1,
        focus: 1,
        resize: 1,
        scroll: 1,
        select: 1
      },
      r = {
        scroll: 1,
        resize: 1,
        reset: 1,
        submit: 1,
        change: 1,
        select: 1,
        error: 1,
        abort: 1
      }, u = {
        touchstart: 1,
        touchmove: 1,
        touchend: 1,
        touchcancel: 1
      }, v = {
        gesturestart: 1,
        gesturechange: 1,
        gestureend: 1
      };
    a.mix(r, m);
    a.mix(r, p);
    a.mix(r, u);
    a.Event.simulate = function(b, c, s) {
      s = s || {};
      if (m[c] || n[c]) {
        var x = s.bubbles,
          C = s.cancelable,
          z = s.view,
          A = s.detail,
          E = s.screenX,
          B = s.screenY,
          D = s.clientX,
          I = s.clientY,
          F = s.ctrlKey,
          G = s.altKey,
          J = s.shiftKey,
          K = s.metaKey,
          L = s.button;
        s = s.relatedTarget;
        b || a.error("simulateMouseEvent(): Invalid target.");
        f(c) ? !m[c.toLowerCase()] && !n[c] && a.error("simulateMouseEvent(): Event type '" + c + "' not supported.") : a.error("simulateMouseEvent(): Event type must be a string.");
        g(x) || (x = !0);
        g(C) || (C = "mousemove" !== c);
        l(z) || (z = a.config.win);
        k(A) || (A = 1);
        k(E) || (E = 0);
        k(B) || (B = 0);
        k(D) || (D = 0);
        k(I) || (I = 0);
        g(F) || (F = !1);
        g(G) || (G = !1);
        g(J) || (J = !1);
        g(K) || (K = !1);
        k(L) || (L = 0);
        s = s || null;
        var H = null;
        if (e(a.config.doc.createEvent)) H = a.config.doc.createEvent("MouseEvents"), H.initMouseEvent ? H.initMouseEvent(c, x, C, z, A, E, B, D, I, F, G, J, K, L, s) : (H = a.config.doc.createEvent("UIEvents"),
        H.initEvent(c, x, C), H.view = z, H.detail = A, H.screenX = E, H.screenY = B, H.clientX = D, H.clientY = I, H.ctrlKey = F, H.altKey = G, H.metaKey = K, H.shiftKey = J, H.button = L, H.relatedTarget = s), s && !H.relatedTarget && ("mouseout" === c ? H.toElement = s : "mouseover" === c && (H.fromElement = s)), b.dispatchEvent(H);
        else if (l(a.config.doc.createEventObject)) {
          H = a.config.doc.createEventObject();
          H.bubbles = x;
          H.cancelable = C;
          H.view = z;
          H.detail = A;
          H.screenX = E;
          H.screenY = B;
          H.clientX = D;
          H.clientY = I;
          H.ctrlKey = F;
          H.altKey = G;
          H.metaKey = K;
          H.shiftKey = J;
          switch (L) {
          case 0:
            H.button = 1;
            break;
          case 1:
            H.button = 4;
            break;
          case 2:
            break;
          default:
            H.button = 0
          }
          H.relatedTarget = s;
          b.fireEvent("on" + c, H)
        } else a.error("simulateMouseEvent(): No event simulation framework present.")
      } else if (p[c]) {
        x = c;
        c = s.bubbles;
        C = s.cancelable;
        z = s.view;
        A = s.ctrlKey;
        E = s.altKey;
        B = s.shiftKey;
        D = s.metaKey;
        I = s.keyCode;
        s = s.charCode;
        b || a.error("simulateKeyEvent(): Invalid target.");
        if (f(x)) switch (x = x.toLowerCase(), x) {
        case "textevent":
          x = "keypress";
          break;
        case "keyup":
        case "keydown":
        case "keypress":
          break;
        default:
          a.error("simulateKeyEvent(): Event type '" + x + "' not supported.")
        } else a.error("simulateKeyEvent(): Event type must be a string.");
        g(c) || (c = !0);
        g(C) || (C = !0);
        l(z) || (z = a.config.win);
        g(A) || (A = !1);
        g(E) || (E = !1);
        g(B) || (B = !1);
        g(D) || (D = !1);
        k(I) || (I = 0);
        k(s) || (s = 0);
        F = null;
        if (e(a.config.doc.createEvent)) {
          try {
            F = a.config.doc.createEvent("KeyEvents"), F.initKeyEvent(x, c, C, z, A, E, B, D, I, s)
          } catch (T) {
            try {
              F = a.config.doc.createEvent("Events")
            } catch (S) {
              F = a.config.doc.createEvent("UIEvents")
            } finally {
              F.initEvent(x, c, C), F.view = z, F.altKey = E, F.ctrlKey = A, F.shiftKey = B,
              F.metaKey = D, F.keyCode = I, F.charCode = s
            }
          }
          b.dispatchEvent(F)
        } else l(a.config.doc.createEventObject) ? (F = a.config.doc.createEventObject(), F.bubbles = c, F.cancelable = C, F.view = z, F.ctrlKey = A, F.altKey = E, F.shiftKey = B, F.metaKey = D, F.keyCode = 0 < s ? s : I, b.fireEvent("on" + x, F)) : a.error("simulateKeyEvent(): No event simulation framework present.")
      } else if (q[c]) x = c, c = s.bubbles, C = s.cancelable, z = s.view, s = s.detail, b || a.error("simulateUIEvent(): Invalid target."), f(x) ? (x = x.toLowerCase(), q[x] || a.error("simulateUIEvent(): Event type '" + x + "' not supported.")) : a.error("simulateUIEvent(): Event type must be a string."), A = null, g(c) || (c = x in r), g(C) || (C = "submit" === x), l(z) || (z = a.config.win), k(s) || (s = 1), e(a.config.doc.createEvent) ? (A = a.config.doc.createEvent("UIEvents"), A.initUIEvent(x, c, C, z, s), b.dispatchEvent(A)) : l(a.config.doc.createEventObject) ? (A = a.config.doc.createEventObject(), A.bubbles = c, A.cancelable = C, A.view = z, A.detail = s, b.fireEvent("on" + x, A)) : a.error("simulateUIEvent(): No event simulation framework present.");
      else if (u[c]) if (a.config.win && "ontouchstart" in a.config.win && !a.UA.phantomjs && !(a.UA.chrome && 6 > a.UA.chrome)) {
        var C = s.bubbles,
          z = s.cancelable,
          A = s.view,
          E = s.detail,
          B = s.screenX,
          D = s.screenY,
          I = s.clientX,
          F = s.clientY,
          G = s.ctrlKey,
          J = s.altKey,
          K = s.shiftKey,
          L = s.metaKey,
          H = s.touches,
          O = s.targetTouches,
          M = s.changedTouches,
          N = s.scale;
        s = s.rotation;
        b || a.error("simulateTouchEvent(): Invalid target.");
        a.Lang.isString(c) ? (c = c.toLowerCase(), u[c] || a.error("simulateTouchEvent(): Event type '" + c + "' not supported.")) : a.error("simulateTouchEvent(): Event type must be a string.");
        "touchstart" === c || "touchmove" === c ? 0 === H.length && a.error("simulateTouchEvent(): No touch object in touches") : "touchend" === c && 0 === M.length && a.error("simulateTouchEvent(): No touch object in changedTouches");
        a.Lang.isBoolean(C) || (C = !0);
        a.Lang.isBoolean(z) || (z = "touchcancel" !== c);
        a.Lang.isObject(A) || (A = a.config.win);
        a.Lang.isNumber(E) || (E = 1);
        a.Lang.isNumber(B) || (B = 0);
        a.Lang.isNumber(D) || (D = 0);
        a.Lang.isNumber(I) || (I = 0);
        a.Lang.isNumber(F) || (F = 0);
        a.Lang.isBoolean(G) || (G = !1);
        a.Lang.isBoolean(J) || (J = !1);
        a.Lang.isBoolean(K) || (K = !1);
        a.Lang.isBoolean(L) || (L = !1);
        a.Lang.isNumber(N) || (N = 1);
        a.Lang.isNumber(s) || (s = 0);
        a.Lang.isFunction(a.config.doc.createEvent) ? (a.UA.android ? 4 > a.UA.android ? (x = a.config.doc.createEvent("MouseEvents"), x.initMouseEvent(c, C, z, A, E, B, D, I, F, G, J, K, L, 0, b), x.touches = H, x.targetTouches = O, x.changedTouches = M) : (x = a.config.doc.createEvent("TouchEvent"), x.initTouchEvent(H, O, M, c, A, B, D, I, F, G, J, K, L)) : a.UA.ios ? 2 <= a.UA.ios ? (x = a.config.doc.createEvent("TouchEvent"), x.initTouchEvent(c, C, z, A, E, B, D, I, F, G, J, K, L, H, O, M, N,
        s)) : a.error("simulateTouchEvent(): No touch event simulation framework present for iOS, " + a.UA.ios + ".") : a.error("simulateTouchEvent(): Not supported agent yet, " + a.UA.userAgent), b.dispatchEvent(x)) : a.error("simulateTouchEvent(): No event simulation framework present.")
      } else a.error("simulate(): Event '" + c + "' can't be simulated. Use gesture-simulate module instead.");
      else a.UA.ios && 2 <= a.UA.ios && v[c] ? (x = c, c = s.bubbles, C = s.cancelable, z = s.view, A = s.detail, E = s.screenX, B = s.screenY, D = s.clientX, I = s.clientY,
      F = s.ctrlKey, G = s.altKey, J = s.shiftKey, K = s.metaKey, L = s.scale, s = s.rotation, (!a.UA.ios || 2 > a.UA.ios) && a.error("simulateGestureEvent(): Native gesture DOM eventframe is not available in this platform."), b || a.error("simulateGestureEvent(): Invalid target."), a.Lang.isString(x) ? (x = x.toLowerCase(), v[x] || a.error("simulateTouchEvent(): Event type '" + x + "' not supported.")) : a.error("simulateGestureEvent(): Event type must be a string."), a.Lang.isBoolean(c) || (c = !0), a.Lang.isBoolean(C) || (C = !0), a.Lang.isObject(z) || (z = a.config.win), a.Lang.isNumber(A) || (A = 2), a.Lang.isNumber(E) || (E = 0), a.Lang.isNumber(B) || (B = 0), a.Lang.isNumber(D) || (D = 0), a.Lang.isNumber(I) || (I = 0), a.Lang.isBoolean(F) || (F = !1), a.Lang.isBoolean(G) || (G = !1), a.Lang.isBoolean(J) || (J = !1), a.Lang.isBoolean(K) || (K = !1), a.Lang.isNumber(L) || (L = 1), a.Lang.isNumber(s) || (s = 0), H = a.config.doc.createEvent("GestureEvent"), H.initGestureEvent(x, c, C, z, A, E, B, D, I, F, G, J, K, b, L, s), b.dispatchEvent(H)) : a.error("simulate(): Event '" + c + "' can't be simulated.")
    }
  })()
}, "3.17.2", {
  requires: ["event-base"]
});
YUI.add("squarespace-models-plan", function(a) {
  var f = ["bsnss", "unltd", "std"],
    b = a.namespace("Squarespace.Models");
  b.Plan = a.Base.create("plan", a.Model, [], {
    equals: function(b) {
      return !a.Lang.isValue(b) ? !1 : this.get("planLevel.value") === b.get("planLevel.value") && this.get("planPeriod.value") === b.get("planPeriod.value")
    }
  }, {
    ATTRS: {
      planLevel: {},
      planPeriod: {},
      price: {},
      annualPriceWithMarketingDiscount: {
        getter: function() {
          return 0.625 * this.get("price")
        }
      }
    }
  });
  b.PlanList = a.Base.create("planList", a.ModelList, [a.Squarespace.ModelSync.REST], {
    model: b.Plan,
    initializer: function(b) {
      this._productIndex = [];
      b.items && a.Array.each(b.items, function(b) {
        b instanceof a.Model && this._addToIndex(b)
      }, this);
      this.after("add", this._afterAdd, this);
      this.after("remove", this._afterRemove, this);
      this.after("reset", this._afterReset, this)
    },
    getProduct: function(b, e) {
      var f = this._productIndex[this._getProductKey(b, e)];
      return a.Lang.isValue(f) ? f : null
    },
    getProductsForPlanLevel: function(a) {
      return this.filter(this._filterByPlan(a))
    },
    getProductsForPlanPeriod: function(a) {
      return this.filter(this._filterByPeriod(a))
    },
    getByName: function(b) {
      return a.Array.find(this._items, function(a) {
        return a.get("name") === b
      })
    },
    comparator: function(a) {
      return f.indexOf(a.get("name"))
    },
    _filterByPeriod: function(a) {
      return function(b) {
        return b.get("planPeriod.value") === a
      }
    },
    _filterByPlan: function(a) {
      return function(b) {
        return b.get("planLevel.value") === a
      }
    },
    _hashPlan: function(a) {
      return this._getProductKey(a.get("planLevel.value"), a.get("planPeriod.value"))
    },
    _getProductKey: function(a, b) {
      return [a, b].join("-")
    },
    _afterReset: function(b) {
      this._resetIndex();
      a.Array.each(b.models, this._addToIndex, this)
    },
    _afterRemove: function(a) {
      this._removeFromIndex(a.model)
    },
    _afterAdd: function(a) {
      this._addToIndex(a.model)
    },
    _resetIndex: function() {
      this._productIndex = {}
    },
    _addToIndex: function(a) {
      this._productIndex[this._hashPlan(a)] = a
    },
    _removeFromIndex: function(a) {
      delete this._productIndex[this._hashPlan(a)]
    }
  })
}, "1.0", {
  requires: ["base", "model", "model-list", "squarespace-model-sync-rest"]
});
YUI.add("squarespace-gallery-ng", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.Gallery2 = a.Base.create("Gallery", a.Squarespace.Widgets.Gismo, [], {
    initializer: function() {
      this.get("slides").isEmpty() ? console.warn("Did not find any slides, not instantiating gallery.") : (this._debugger = new a.Squarespace.Debugger({
        name: "Gallery2",
        output: !1,
        uid: !0
      }), this._images = this.get("container").all("img[data-src]"), this._imagesByMedia = {}, this._slidesByMedia = {}, a.Squarespace.GalleryManager.registerGallery(this),
      this.get("slides").each(function(a) {
        a.getAttribute("data-type") || a.setAttribute("data-type", a.one(".sqs-video-wrapper") ? "video" : "image")
      }), this._setupHistory(), this.plug(this.get("design"), this.get("designOptions")), this.bindUI(), this.get("container").plug(a.Squarespace.NodeDestroyNotifier, {
        onDestroy: function() {
          this.destroy()
        },
        context: this
      }), this.get("container").setData("gallery", this))
    },
    getProperty: function(f) {
      for (var b = this.constructor, c = this.constructor[f]; a.Lang.isUndefined(c);) {
        if (b.superclass) b = b.superclass.constructor;
        else break;
        if (a.Lang.isUndefined(b)) break;
        c = b[f]
      }
      return c
    },
    destructor: function() {
      this._autoplayHandle && this._autoplayHandle.cancel();
      this._wrapperEl && (this.get("slides").each(function(a) {
        this.get("container").append(a)
      }, this), this._wrapperEl.remove());
      var f = this.getImages();
      this.get("lazyLoad") && (a.Lang.isArray(f) && 0 < f.length) && a.Squarespace.GalleryManager.removeImageQueue();
      this.get("container").clearData("gallery")
    },
    bindUI: function() {
      this._flushEvents("refreshOnResize");
      this.get("refreshOnResize") && (this.get("resizeEmitter") || this.set("resizeEmitter", new a.Squarespace.ResizeEmitter({
        timeout: 100
      })), this._event(this.get("resizeEmitter").on("resize:end", this.refresh, this), "refreshOnResize"));
      this._flushEvents("refreshOnOrientationChange");
      this.get("refreshOnOrientationChange") && this._event(a.one(window).on("orientationchange", this.refresh, this), "refreshOnOrientationChange");
      if (this.get("keyboard")) {
        var f = a.bind(function() {
          if (this.get("inMotion") || document.activeElement.hasAttribute("contenteditable")) return !1;
          for (var b = a.Squarespace.GalleryManager.getGalleries(), c = 0; c < b.length; c++) {
            var e = b[c].get("container");
            if (e.inRegion(a.one(a.config.win).get("region")) && e.get("offsetHeight")) return b[c]
          }
          return !1
        }, this);
        this.get("keys.previous") && this._event(a.on("key", function(a) {
          if (!a.target.ancestor("textarea,input,[contenteditable]", !0)) {
            var c = f();
            c && (a.preventDefault(), c.previousSlide())
          }
        }, window, this.get("keys.previous"), this), "keyboard");
        this.get("keys.next") && this._event(a.on("key", function(a) {
          if (!a.target.ancestor("textarea,input,[contenteditable]", !0)) {
            var c = f();
            c && (a.preventDefault(), c.nextSlide())
          }
        }, window, this.get("keys.next"), this), "keyboard")
      }
      this._bindUIAutoplay();
      this.after("currentIndexChange", this._bindUIAutoplay, this);
      this.after("autoplayChange", this._bindUIAutoplay, this);
      this.after("autoplayOptionsChange", this._bindUIAutoplay, this);
      this._bindUIElements();
      this.after("elementsChange", this._bindUIElements, this);
      this.fire("bindUI")
    },
    syncUI: function() {
      this.getSlides().filter("." + this.getProperty("ACTIVE_CLASS")).removeClass(this.getProperty("ACTIVE_CLASS"));
      var a = this._currentSlide();
      a && a.addClass(this.getProperty("ACTIVE_CLASS"));
      this.get("loop") || (this.get("elements.next") && (this.get("currentIndex") >= this.get("numberOfSlides") - 1 ? this.get("elements.next").addClass(this.getProperty("DISABLED_PAGINATION_CLASS")) : this.get("elements.next").removeClass(this.getProperty("DISABLED_PAGINATION_CLASS"))), this.get("elements.previous") && (0 >= this.get("currentIndex") ? this.get("elements.previous").addClass(this.getProperty("DISABLED_PAGINATION_CLASS")) : this.get("elements.previous").removeClass(this.getProperty("DISABLED_PAGINATION_CLASS"))));
      this.get("elements.currentIndex") && this.get("elements.currentIndex").setContent(this.get("currentIndex") + 1);
      this.get("elements.totalSlides") && this.get("elements.totalSlides").setContent(this.get("numberOfSlides"));
      this.fire("syncUI")
    },
    _safari5HeightFix: function(f) {
      if (this.get("design") === a.Squarespace.GalleryDesigns2.strip && 0 < a.UA.webkit && 536 > a.UA.webkit) {
        var b = this._wrapperEl.getComputedStyle("height");
        f.setStyle("height", b + " !important")
      }
    },
    refresh: function(a) {
      this.syncUI();
      this.get("lazyLoad") ? this.getImages().each(function(a, c) {
        a.loader && a.get("complete") && a.fire("refresh")
      }, this) : this.getImages().each(function(a) {
        a.fire("refresh")
      }, this);
      (!a || !a.type || !a.type.startsWith("resize")) && this.getSlides("video").each(function(a) {
        a = a.one(".sqs-video-wrapper");
        !1 === a.videoloader.get("showingVideo") && a.videoloader.reload()
      });
      this.fire("refresh")
    },
    refreshContentMode: function(a) {
      this.getImages("image").each(function(b) {
        b.loader.set("mode", a)
      });
      this.getSlides("video").each(function(b) {
        b.one(".sqs-video-wrapper").videoloader.set("mode",
        a)
      })
    },
    plugLoaders: function() {
      var f = {};
      this.get("lazyLoad") && (f.load = "viewport", a.Squarespace.GalleryManager.addImageQueue(this.getImages()));
      f = a.merge(f, this.get("loaderOptions"));
      this.getSlides("video").each(function(b) {
        b = b.one(".sqs-video-wrapper");
        b.plug(a.Squarespace.VideoLoader, a.merge(this.get("videoLoaderOptions"), {
          mode: this.get("loaderOptions.mode")
        }));
        b.videoloader.after("showingVideoChange", function(a) {
          this.set("autoplay", !a.newVal)
        }, this)
      }, this);
      this.getImages().each(function(b) {
        b.plug(a.Squarespace.Loader2,
        f);
        this._event(b.once("load", function() {
          this._safari5HeightFix(b);
          this.fire("image-loaded")
        }, this))
      }, this)
    },
    loadImages: function(f) {
      this.get("lazyLoad") ? a.Squarespace.GalleryManager.promoteImageQueue(f) : f.each(function(a) {
        a.loader.set("load", !0);
        a.fire("refresh")
      })
    },
    previousSlide: function(a) {
      a && a.preventDefault();
      a = this._currentSlide();
      this.setVideoState(a);
      a = this.get("currentIndex") - 1;
      0 > a && !this.get("loop") ? this.fire("reachedBeginning") : this.set("currentIndex", a % this.get("numberOfSlides"), {
        direction: -1
      })
    },
    nextSlide: function(a) {
      a && a.preventDefault();
      a = this._currentSlide();
      this.setVideoState(a);
      a = this.get("currentIndex") + 1;
      a >= this.get("numberOfSlides") && !this.get("loop") ? this.fire("reachedEnd") : this.set("currentIndex", a % this.get("numberOfSlides"), {
        direction: 1
      })
    },
    renderWrapper: function() {
      if (!this._wrapperEl) {
        var f = a.Node.create('<div class="sqs-wrapper"></div>');
        this.get("slides").each(function(a) {
          f.append(a)
        }, this);
        this._wrapperEl = f;
        this.get("container").append(this._wrapperEl)
      }
    },
    addChild: function(f) {
      var b = this.get("linkedGalleries"),
        c = a.bind(function(a) {
          if (!a.calledFromSync) for (var c = 0; c < b.length; c++) a.calledFromChild != b[c] && b[c].set("currentIndex", this.get("currentIndex"), {
            calledFromSync: !0
          })
        }, this);
      this._linkedGalleryBinding || (this._linkedGalleryBinding = this.after("currentIndexChange", function(a) {
        c(a)
      }, this));
      this.get("keyboard") && f.set("keyboard", !1);
      f.after("currentIndexChange", function(a) {
        a.calledFromSync || this.set("currentIndex", a.newVal, {
          calledFromChild: f
        })
      }, this);
      b.push(f);
      f.get("linkedGalleries").push(this);
      f.syncUI()
    },
    setVideoState: function(a) {
      "video" == this._slideType(a) && (a = a.one(".sqs-video-wrapper").videoloader, a.get("overlay") ? a.showOverlay() : a.get("apiFriendly") ? a.pause() : -1 != ["object", "iframe"].indexOf(a.get("type")) && a.refreshVideo())
    },
    getSlides: function(a) {
      return a ? this._slidesByType(a) : this.get("slides")
    },
    getImages: function(a) {
      return a ? this._imagesByType(a) : this._images
    },
    _bindUIAutoplay: function() {
      var f = this.get("autoplay");
      this._autoplayHandle && (this._autoplayHandle.cancel(), this._flushEvents("autoplay"));
      if (f && (a.Squarespace.Utils.isDamaskEnabled() || !this.get("container").ancestor(".sqs-block-editable"))) {
        var b = !1;
        this._autoplayHandle = a.later(this.get("autoplayOptions.timeout"), this, function() {
          if (!b && a.Env) if (this.get("autoplayOptions.interval")) for (var c = Math.ceil(Math.random() * this.get("numberOfSlides")); c == this.get("currentIndex");) this.set("currentIndex", c);
          else this.nextSlide()
        }, null, !0);
        f = [this.get("container"), this.get("elements.previous"), this.get("elements.next")];
        if (this.get("autoplayOptions.pauseOnMouseover")) for (var c = this.get("autoplayOptions.pauseOnMouseover"), e = 0; e < c.length; e++) f.push(a.one(c[e]));
        for (e = 0; e < f.length; e++) c = f[e], a.Lang.isString(c) && (c = this.get(c)), c && !a.Squarespace.GalleryManager.isMobile() && (this._event(c.on(["mouseenter", "mousemove"], function() {
          b = !0
        }), "autoplay"), this._event(c.on("mouseout", function() {
          b = !1
        }), "autoplay"))
      }
    },
    _bindUIElements: function() {
      a.bind(function(a) {
        for (var b = 0; b < a.length; b++) element = a[b], this._flushEvents("controls-" + element), this.get("elements." + element) && this.get("elements." + element).each(function(a) {
          this._event(a.on("click", this[element + "Slide"], this), "controls-" + element)
        }, this)
      }, this)(["previous", "next"]);
      this._flushEvents("controls-controls");
      this.get("elements.controls") && (this.get("elements.controls").each(function(a) {
        var b = a.get("children");
        b.each(function(a, b) {
          this._event(a.on("click", function() {
            this.set("currentIndex", b)
          }, this), "controls-controls")
        }, this);
        this.after("currentIndexChange", function(a) {
          b.filter("." + this.getProperty("ACTIVE_CLASS")).removeClass(this.getProperty("ACTIVE_CLASS"));
          (a = b.item(a.newVal)) && a.addClass(this.getProperty("ACTIVE_CLASS"))
        });
        (a = b.item(this.get("currentIndex"))) && a.addClass(this.getProperty("ACTIVE_CLASS"))
      }, this), 1 >= this.getSlides().size() && this.get("elements.controls").addClass("sqs-gallery-controls-disabled"))
    },
    _setupHistory: function() {
      if (!Static.IN_BACKEND && (this._history = new a.History, this.get("historyHash"))) {
        this.on("currentIndexChange", function(a) {
          if (a = this.get("slides").item(a.newVal)) {
            var c = a.getAttribute("data-slide-id");
            Modernizr.history && (c = a.getAttribute("data-slide-url") || c);
            this._history.replaceValue("itemId", c, {
              url: Static.SQUARESPACE_CONTEXT.collection.fullUrl + c
            })
          }
        }, this);
        var f = (new a.HistoryHash).get("itemId");
        f && (this._history.replaceValue("itemId", null), this.get("slides").some(function(a, c) {
          if (a.getAttribute("data-slide-id") == f) return this.set("currentIndex", c), !0
        }, this))
      }
    },
    _currentSlide: function() {
      return this.get("slides").item(this.get("currentIndex"))
    },
    _slidesByType: function(a) {
      this._slidesByMedia[a] || (this._slidesByMedia[a] = this.get("slides").filter('[data-type="' + a + '"]'));
      return this._slidesByMedia[a]
    },
    _imagesByType: function(f) {
      this._imagesByMedia[f] || (this._imagesByMedia[f] = new a.NodeList, this._slidesByType(f).each(function(a) {
        (a = a.test("img") ? a : a.one("img[data-src]")) && this._imagesByMedia[f].push(a)
      }, this));
      return this._imagesByMedia[f]
    },
    _slideType: function(a) {
      return "image" == a.getAttribute("data-type") ? "image" : "video" == a.getAttribute("data-type") ? "video" : "image"
    },
    _getContainer: function(f) {
      a.Lang.isString(f) && (f = a.one(f));
      return f
    },
    _cleanCurrentIndex: function(a) {
      0 > a && (a = this.get("numberOfSlides") + a);
      return a % this.get("numberOfSlides")
    },
    _getDesign: function(f) {
      var b = a.Squarespace.GalleryDesigns2[f];
      if (!b) throw Error("These aren't the gallery designs you're looking for. (We couldn't find a design by the name '" + f + "')");
      return b
    },
    _getElements: function(f) {
      for (var b in f) f[b] instanceof a.NodeList || (f[b] = a.all(f[b]));
      return f
    },
    _setElements: function(a, b) {
      this._bindUIElements()
    },
    _setLoaderOptions: function(a) {
      a.hasOwnProperty("fit") && a.fit ? a.mode = "fit" : a.hasOwnProperty("fill") && a.fill && (a.mode = "fill");
      return a
    },
    _getNumberOfSlides: function() {
      return this.get("slides").size()
    },
    _getSlides: function(f) {
      var b = this._wrapperEl || this.get("container");
      f || (f = b.get("children"));
      a.Lang.isString(f) && (f = b.all(f));
      return f
    },
    _getWrapper: function(f) {
      a.Lang.isString(f) && (f = a.one(f));
      return f
    },
    _validateCurrentIndex: function(a) {
      if (this.get("inMotion")) return !1;
      for (var b = 0; b < this.get("linkedGalleries").length; b++) {
        var c = this.get("linkedGalleries")[b];
        if (c.get("inMotion") && a != c.get("currentIndex")) return !1
      }
      return !0
    }
  }, {
    NS: "gallery",
    ACTIVE_CLASS: "sqs-active-slide",
    DISABLED_PAGINATION_CLASS: "sqs-disabled",
    ATTRS: {
      autoplay: {
        value: !1
      },
      autoplayOptions: {
        value: {
          randomize: !0,
          timeout: 5E3,
          pauseOnMouseover: []
        }
      },
      container: {
        getter: "_getContainer"
      },
      currentIndex: {
        value: 0,
        getter: "_cleanCurrentIndex",
        setter: "_cleanCurrentIndex",
        validator: "_validateCurrentIndex"
      },
      design: {
        value: "base",
        getter: "_getDesign"
      },
      designOptions: {
        value: {}
      },
      elements: {
        value: {
          next: null,
          previous: null,
          currentIndex: null,
          totalSlides: null,
          controls: null
        },
        getter: "_getElements",
        setter: "_setElements",
        lazyAdd: !1
      },
      historyHash: {
        value: !1
      },
      inMotion: {
        value: !1
      },
      keyboard: {
        value: !0
      },
      keys: {
        value: {
          previous: "down:37",
          next: "down:39"
        }
      },
      lazyLoad: {
        value: !1
      },
      linkedGalleries: {
        value: []
      },
      loaderOptions: {
        value: {},
        setter: "_setLoaderOptions"
      },
      loop: {
        value: !1
      },
      numberOfSlides: {
        getter: "_getNumberOfSlides"
      },
      refreshOnResize: {
        value: !1
      },
      refreshOnOrientationChange: {
        value: !1
      },
      resizeEmitter: {
        value: null
      },
      slides: {
        getter: "_getSlides"
      },
      videoLoaderOptions: {
        value: {}
      }
    }
  })
}, "1.0", {
  requires: "async-queue base dom-style-ie event-key event-mouseenter history node plugin squarespace-animations squarespace-common squarespace-debugger squarespace-gallery-manager squarespace-gallery-ng-designs squarespace-image-loader squarespace-touch-event-listener squarespace-util squarespace-video-loader squarespace-widgets-gismo widget".split(" ")
});
YUI.add("classnamemanager", function(a, f) {
  var b = a.config;
  b.classNamePrefix = b.classNamePrefix || "yui3";
  b.classNameDelimiter = b.classNameDelimiter || "-";
  a.ClassNameManager = function() {
    var c = b.classNamePrefix,
      e = b.classNameDelimiter;
    return {
      getClassName: a.cached(function() {
        var b = a.Array(arguments);
        !0 !== b[b.length - 1] ? b.unshift(c) : b.pop();
        return b.join(e)
      })
    }
  }()
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("squarespace-dombuilder", function(a) {
  a.DB = {
    unpackData: function(a, b) {
      a._node && (a = a._node);
      if (b) for (; a;) {
        if (a.data && -1 != a.className.indexOf(b)) return a.data;
        a = a.parentNode
      } else for (; a;) {
        if (a.data) return a.data;
        a = a.parentNode
      }
      return null
    },
    DIV: function() {
      return a.DB._gen("DIV", Array.prototype.slice.call(arguments))
    },
    PARAGRAPH: function() {
      return a.DB._gen("P", Array.prototype.slice.call(arguments))
    },
    LI: function() {
      return a.DB._gen("LI", Array.prototype.slice.call(arguments))
    },
    SPAN: function() {
      return a.DB._gen("SPAN",
      Array.prototype.slice.call(arguments))
    },
    A: function() {
      return a.DB._gen("A", Array.prototype.slice.call(arguments))
    },
    UL: function() {
      return a.DB._gen("UL", Array.prototype.slice.call(arguments))
    },
    LABEL: function() {
      return a.DB._gen("LABEL", Array.prototype.slice.call(arguments))
    },
    INPUT: function() {
      return a.DB._gen("INPUT", Array.prototype.slice.call(arguments))
    },
    TEXTAREA: function() {
      return a.DB._gen("TEXTAREA", Array.prototype.slice.call(arguments))
    },
    SELECT: function() {
      return a.DB._gen("SELECT", Array.prototype.slice.call(arguments))
    },
    OPTION: function() {
      return a.DB._gen("OPTION", Array.prototype.slice.call(arguments))
    },
    IMG: function() {
      return a.DB._gen("IMG", Array.prototype.slice.call(arguments))
    },
    TABLE: function() {
      return a.DB._gen("TABLE", Array.prototype.slice.call(arguments))
    },
    TBODY: function() {
      return a.DB._gen("TBODY", Array.prototype.slice.call(arguments))
    },
    THEAD: function() {
      return a.DB._gen("THEAD", Array.prototype.slice.call(arguments))
    },
    TH: function() {
      return a.DB._gen("TH", Array.prototype.slice.call(arguments))
    },
    TR: function() {
      return a.DB._gen("TR",
      Array.prototype.slice.call(arguments))
    },
    TD: function() {
      return a.DB._gen("TD", Array.prototype.slice.call(arguments))
    },
    VIDEO: function() {
      return a.DB._gen("VIDEO", Array.prototype.slice.call(arguments))
    },
    PARAM: function() {
      return a.DB._gen("PARAM", Array.prototype.slice.call(arguments))
    },
    OBJECT: function() {
      return a.DB._gen("OBJECT", Array.prototype.slice.call(arguments))
    },
    SOURCE: function() {
      return a.DB._gen("SOURCE", Array.prototype.slice.call(arguments))
    },
    SUP: function() {
      return a.DB._gen("SUP", Array.prototype.slice.call(arguments))
    },
    BUTTON: function() {
      return a.DB._gen("BUTTON", Array.prototype.slice.call(arguments))
    },
    _gen: function(f, b) {
      var c = document.createElement(f),
        e = 0;
      b.length > e && "string" == typeof b[e] && (c.className = b[e], ++e);
      if (b.length > e && null != b[e] && "object" == typeof b[e] && !(b[e] instanceof Array) && null == b[e].getAttribute && null == b[e]._node) {
        var h = b[e];
        ++e;
        for (var g in h) if ("html" == g) c.innerHTML = h[g];
        else if ("data" == g) c.data = h[g];
        else if ("style" == g && "object" == typeof h[g]) for (var l in h[g]) c.style[l] = h[g][l];
        else c.setAttribute(g,
        h[g]);
        "A" == f && !h.href && (c.href = "javascript:noop();")
      }
      c = a.one(c);
      c.data && c.data() && (c._data = c.data());
      for (; e < b.length; ++e) if (b[e] instanceof Array) for (h = 0; h < b[e].length; ++h) g = b[e][h], c.append(g);
      else g = b[e], c.append(g);
      return c
    }
  }
}, "1.0", {
  requires: ["node"]
});
YUI.add("squarespace-context", function(a) {
  function f(a) {
    return function(b) {
      return b instanceof a ? b : new a(b)
    }
  }
  a.namespace("Squarespace");
  var b = a.Base.create("squarespaceContext", a.Model, [], {}, {
    ATTRS: {
      authenticatedAccount: {
        setter: f(a.Squarespace.Models.MemberAccount)
      },
      website: {
        setter: f(a.Squarespace.Models.Website)
      },
      websiteSettings: {
        setter: f(a.Squarespace.Models.WebsiteSettings)
      },
      templateInstallation: {
        setter: f(a.Squarespace.Models.TemplateInstallation)
      }
    }
  });
  a.Squarespace.Context = {
    getInstance: function() {
      var a = null;
      return function(e) {
        null === a && (a = new b(e));
        return a
      }
    }(),
    init: function(a) {
      this.getInstance(a)
    }
  };
  Static.SQUARESPACE_CONTEXT && a.Squarespace.Context.init(Static.SQUARESPACE_CONTEXT)
}, "1.0", {
  requires: "base node model squarespace-models-member-account squarespace-models-website squarespace-models-website-settings squarespace-models-template-installation".split(" ")
});
YUI.add("squarespace-mobile-info-bar", function(a) {
  var f = a.namespace("Squarespace.Widgets").MobileInfoBar = a.Base.create("MobileInfoBar", a.Squarespace.Widgets.SSWidget, [], {
    initializer: function() {
      this._bb = this.get("boundingBox");
      this._cb = this.get("contentBox");
      this._body = a.one("body");
      this._content = {};
      this._activeContent = null
    },
    bindUI: function() {
      f.superclass.bindUI.call(this);
      var b = "." + this.getClassName("trigger[data-overlay]"),
        c = "." + this.getClassName("overlay"),
        e = "." + this.getClassName("overlay", "content"),
        h = "." + this.getClassName("overlay", "close");
      this._overlay = this._cb.one(c);
      this._overlayContent = this._overlay.one(e);
      this._overlayClose = this._overlay.one(h);
      this._cb.delegate("click", this._toggleOverlay, b, this);
      this._overlayClose.on("click", this._toggleOverlay, this);
      b = a.one(a.config.win);
      this._registerEvent(b.on("scroll", this._autoHide, this));
      this._overlay.on("touchmove", this._disableScroll, this);
      if (void 0 !== window.orientation) a.one(a.config.win).on("orientationchange", this._onOrientationChange, this)
    },
    syncUI: function() {
      f.superclass.syncUI.call(this);
      this._addStyleClass(this)
    },
    _onOrientationChange: function() {
      this._updateOverlay()
    },
    _autoHide: function() {
      var a = this._body.get("scrollTop"),
        c = this.getClassName("hide"),
        e = this._bb.hasClass(c),
        a = 0 >= a;
      e && a ? this._bb.removeClass(c) : !e && !a && this._bb.addClass(c)
    },
    _addStyleClass: function(a) {
      this._isBarDark() && a.get("boundingBox").addClass(a.getClassName("dark"))
    },
    _isBarDark: function() {
      return this.get("style") === a.Squarespace.MobileInfoBarStyle.DARK
    },
    _toggleOverlay: function(a) {
      a = a.currentTarget.getAttribute("data-type");
      var c = this.getClassName("show", "overlay");
      this._bb.toggleClass(c);
      this._bb.hasClass(c) ? this._renderOverlay(a) : this._activeContent.setStyle("display", null)
    },
    _renderOverlay: function(a) {
      this._activeContent = this._isContentAvailable(a);
      this._activeContent || (this._activeContent = this._createContent(a), this._content[a] = this._activeContent);
      this._adjustCloseButton(a);
      this._activeContent.setStyle("display", "block");
      this._updateOverlay()
    },
    _adjustCloseButton: function(a) {
      var c = this._isBarDark(),
        e = this.getClassName("overlay", "close", "dark");
      "location" === a && !c ? this._overlayClose.addClass(e) : this._overlayClose.removeClass(e)
    },
    _updateOverlay: function() {
      var a = this.getClassName("show", "overlay");
      if (this._bb.hasClass(a)) {
        var a = this._overlayContent.get("scrollHeight"),
          c = this._overlayContent.get("clientHeight");
        a > c ? this._overlayContent.setStyle("overflow", "scroll") : this._overlayContent.setStyle("overflow", null)
      }
    },
    _createContent: function(a) {
      var c;
      "location" === a ? c = this._renderLocation() : "businessHours" === a && (c = this._renderBusinessHours());
      return c
    },
    _renderLocation: function() {
      var b = this.get("mapTemplate"),
        b = a.Node.create(b);
      this._overlayContent.appendChild(b);
      b = this._renderAddress(b);
      return b = this._renderMap(b)
    },
    _renderAddress: function(a) {
      var c = "." + this.getClassName("address"),
        e = this._getAddress();
      a.one(c).setHTML(e);
      return a
    },
    _getAddress: function() {
      var b = this.get("location"),
        c = "",
        e = "",
        f;
      a.Array.each(["addressTitle", "addressLine1", "addressLine2", "addressCountry"], function(a) {
        if (f = b[a]) e += '<div data-type="' + a + '">' + f + "</div>", c += f + " "
      });
      if (c) var c = encodeURIComponent(c),
        c = "//maps.google.com?q=" + c,
        g = this.getClassName("address", "link"),
        e = e + ('<a target="_blank" class="' + g + '" href="' + c + '"></a>');
      return e
    },
    _renderMap: function(b) {
      var c = a.Squarespace.Damask.ContextGlobals.fromTop("Y"),
        e = "." + this.getClassName("map"),
        f = this.get("location");
      a.Lang.isUndefined(f.mapZoom) && (f.mapZoom = 12);
      var g = b.one(e);
      if (window.google && window.google.maps) g.once("maps-loaded", function() {
        a.soon(function() {
          var a = g._node.__map,
            b = g._node.__marker;
          google.maps.event.trigger(a, "resize");
          a.setCenter(b.getPosition())
        })
      }, this);
      c.Squarespace.Rendering.renderMap(g, {
        location: f
      });
      return b
    },
    _renderBusinessHours: function() {
      var b = new a.Squarespace.Widgets.BusinessHours;
      this._addStyleClass(b);
      b.render(this._overlayContent);
      return b.get("boundingBox")
    },
    _isContentAvailable: function(a) {
      return this._content[a]
    },
    _setDefaultContactEmail: function(b) {
      var c = this.get("websiteSettings"),
        e = this.get("mobileInfoBarSettings");
      a.Lang.isNull(b) && e.isContactEmailEnabled && (b = c.contactEmail);
      return b
    },
    _setDefaultContactPhoneNumber: function(b) {
      var c = this.get("websiteSettings"),
        e = this.get("mobileInfoBarSettings");
      a.Lang.isNull(b) && e.isContactPhoneNumberEnabled && (b = c.contactPhoneNumber);
      return b
    },
    _setDefaultLocation: function(b) {
      var c = this.get("website"),
        e = this.get("mobileInfoBarSettings");
      a.Lang.isNull(b) && e.isLocationEnabled && (b = c.location);
      return b
    },
    _setDefaultBusinessHours: function(b) {
      var c = this.get("websiteSettings"),
        e = this.get("mobileInfoBarSettings");
      a.Lang.isNull(b) && e.isBusinessHoursEnabled && (b = c.businessHours);
      return b
    },
    _disableScroll: function(a) {
      var c = this.getClassName("overlay", "content"),
        e = a.target,
        f = !1;
      (f = e.ancestor("." + c) || e ? "scroll" !== this._overlayContent.getStyle("overflow") : !0) && a.preventDefault()
    }
  }, {
    CSS_PREFIX: "sqs-mobile-info-bar",
    HANDLEBARS_TEMPLATE: "mobile-info-bar.html",
    ATTRS: {
      mobileInfoBarSettings: {
        valueFn: function() {
          return a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "mobileInfoBarSettings"])
        }
      },
      websiteSettings: {
        valueFn: function() {
          return a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings"])
        }
      },
      website: {
        valueFn: function() {
          return a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website"])
        }
      },
      mapTemplate: {
        value: '<div><div class="sqs-mobile-info-bar-map"></div><div class="sqs-mobile-info-bar-address"></div></div>'
      },
      contactEmail: {
        value: null,
        setter: "_setDefaultContactEmail"
      },
      contactPhoneNumber: {
        value: null,
        setter: "_setDefaultContactPhoneNumber"
      },
      location: {
        value: null,
        setter: "_setDefaultLocation"
      },
      businessHours: {
        value: null,
        setter: "_setDefaultBusinessHours"
      },
      style: {
        value: null
      },
      strings: {
        value: {
          labels: {
            email: "Email",
            phone: "Call",
            location: "Map",
            hours: "Hours"
          }
        }
      }
    }
  })
}, "1.0", {
  requires: "base node squarespace-business-hours squarespace-damask-context-globals squarespace-mobile-info-bar-template squarespace-ss-widget".split(" ")
});
YUI.add("squarespace-gallery-transitions", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.GalleryCustomAnim = Class.create({
    defaults: {
      easing: {
        value: a.Easing.easeOutStrong
      },
      duration: {
        value: 0.3
      },
      direction: {
        value: "in",
        validator: function(a, b) {
          return "in" == a || "out" == a
        }
      }
    },
    initialize: function(f) {
      this.addAttrs(this.defaults);
      this.setAttrs(f);
      this.anim = new a.Anim
    },
    run: function() {
      this.anim.setAttrs({
        node: this.get("node"),
        duration: this.get("duration"),
        easing: this.get("easing")
      });
      this.anim.run()
    },
    cancel: function() {
      this.anim.stop(!0);
      this.anim.fire("end")
    }
  });
  a.augment(a.Squarespace.GalleryCustomAnim, a.EventTarget);
  a.augment(a.Squarespace.GalleryCustomAnim, a.Attribute);
  a.Squarespace.GalleryTransitions = {};
  a.Squarespace.GalleryTransitions.fade = a.Squarespace.GalleryCustomAnim.extend({
    run: function() {
      "in" == this.get("direction") ? (this.anim.set("from", {
        opacity: 0
      }), this.anim.set("to", {
        opacity: 1
      })) : "out" == this.get("direction") && (this.anim.set("from", {
        opacity: 1
      }), this.anim.set("to", {
        opacity: 0
      }));
      this.superclass.run.call(this)
    }
  });
  a.Squarespace.GalleryTransitions.scroll = a.Squarespace.GalleryCustomAnim.extend({
    properties: {
      offset: "offsetWidth",
      position: "left"
    },
    run: function() {
      "vertical" == this.get("movement") && (this.properties = {
        offset: "offsetHeight",
        position: "top"
      });
      this.get("container") || this.set("container", this.get("node").get("parentNode"));
      this.get("node").setStyle(this.properties.position, this.get("container").get(this.properties.offset));
      "absolute" != this.get("node").getStyle("position") && this.get("node").setStyle("position", "relative");
      var a = {}, b = {};
      if ("in" == this.get("direction")) {
        var c;
        c = "fwd" == this.get("increment") ? this.get("container").get(this.properties.offset) : -1 * this.get("container").get(this.properties.offset);
        a[this.properties.position] = c;
        b[this.properties.position] = 0;
        this.anim.setAttrs({
          from: a,
          to: b
        })
      } else "out" == this.get("direction") && (c = "fwd" == this.get("increment") ? -1 * this.get("container").get(this.properties.offset) : this.get("container").get(this.properties.offset), a[this.properties.position] = 0, b[this.properties.position] = c, this.anim.setAttrs({
        from: a,
        to: b
      }));
      this.superclass.run.call(this)
    }
  });
  a.Squarespace.GalleryTransitions.puff = a.Squarespace.GalleryCustomAnim.extend({
    run: function() {
      this.get("container") || this.set("container", this.get("node").get("parentNode"));
      this.get("container").setStyles({
        overflow: "visible"
      });
      var a, b, c, e;
      "in" == this.get("direction") ? (a = "fwd" == this.get("increment") ? 0.8 : 1.2, b = 1, c = 0, e = 1) : "out" == this.get("direction") && (a = 1, b = "fwd" == this.get("increment") ? 1.2 : 0.8, c = 1, e = 0);
      this.webkitTransform(this.get("node"), a, b, c, e)
    },
    webkitTransform: function(f,
    b, c, e, h) {
      this.timer_transition && this.timer_transition.cancel();
      this.timer_transitionTo && this.timer_transitionTo.cancel();
      this.timer_end && this.timer_end.cancel();
      var g = this.get("duration");
      this.set("scaleFrom", b);
      this.set("scaleTo", c);
      this.set("opacityFrom", e);
      this.set("opacityTo", h);
      this.set("display", "block");
      f.setStyles({
        transform: "scale(" + this.get("scaleFrom") + ")",
        opacity: this.get("opacityFrom")
      });
      this.timer_transition = a.later(1, f, function() {
        f.setStyles({
          transitionProperty: "transform, opacity",
          transitionDuration: g + "s",
          transitionTimingFunction: "ease-out"
        })
      });
      this.timer_transitionTo = a.later(2, f, function() {
        f.setStyles({
          transform: "scale(" + c + ")",
          opacity: h
        })
      });
      this.timer_end = a.later(1E3 * g, f, function() {
        f.setStyles({
          transform: "scale(" + c + ")",
          transitionProperty: "",
          transitionDuration: "0s",
          transitionTimingFunction: "ease-out"
        })
      }, this)
    },
    cancel: function() {
      this.get("node").setStyles({
        transitionProperty: "",
        transitionDuration: "0s",
        transitionTimingFunction: "ease-out",
        opacity: this.get("opacityTo"),
        transform: "scale(" + this.get("scaleTo") + ")"
      })
    }
  });
  a.Squarespace.GalleryTransitions.flip = a.Squarespace.GalleryCustomAnim.extend({
    run: function() {
      this.get("container") || this.set("container", this.get("node").get("parentNode"));
      var a;
      "in" == this.get("direction") ? ("fwd" == this.get("increment") ? a = 180 : "rev" == this.get("increment") && (a = -180), this.webkitFlip(a, 0, !1)) : "out" == this.get("direction") && ("fwd" == this.get("increment") ? a = -180 : "rev" == this.get("increment") && (a = 180), this.webkitFlip(0, a, !0))
    },
    webkitFlip: function(f, b, c) {
      this.transitionTo && this.transitionTo.cancel();
      this.transitionEnd && this.transitionEnd.cancel();
      var e = this.get("node");
      this.get("container").setStyle("perspective", 1E3);
      e.setStyles({
        transformStyle: "preserve-3d",
        transition: this.get("duration") + "s",
        backfaceVisibility: "hidden",
        transform: "rotateY(" + f + "deg)"
      });
      e.setStyle("display", "block");
      this.transitionTo = a.later(1, e, function() {
        this.setStyle("transform", "rotateY(" + b + "deg)")
      });
      this.transitionEnd = a.later(1E3 * this.get("duration"), e, function() {
        c && e.hide()
      })
    },
    wrapElement: function(f) {
      var b = a.Node.create("<div></div>");
      b.setStyles({
        width: f.get("offsetWidth"),
        height: f.get("offsetHeight")
      });
      b.append(f.cloneNode(!0));
      f.get("parentNode").insert(b, f);
      f.remove();
      return b
    }
  })
}, "1.0", {
  requires: ["node", "anim", "attribute"]
});
YUI.add("datasource-arrayschema", function(a, f) {
  var b = function() {
    b.superclass.constructor.apply(this, arguments)
  };
  a.mix(b, {
    NS: "schema",
    NAME: "dataSourceArraySchema",
    ATTRS: {
      schema: {}
    }
  });
  a.extend(b, a.Plugin.Base, {
    initializer: function(a) {
      this.doBefore("_defDataFn", this._beforeDefDataFn)
    },
    _beforeDefDataFn: function(b) {
      var e = a.DataSource.IO && this.get("host") instanceof a.DataSource.IO && a.Lang.isString(b.data.responseText) ? b.data.responseText : b.data,
        f = a.DataSchema.Array.apply.call(this, this.get("schema"), e);
      b = b.details[0];
      f || (f = {
        meta: {},
        results: e
      });
      b.response = f;
      this.get("host").fire("response", b);
      return new a.Do.Halt("DataSourceArraySchema plugin halted _defDataFn")
    }
  });
  a.namespace("Plugin").DataSourceArraySchema = b
}, "3.17.2", {
  requires: ["datasource-local", "plugin", "dataschema-array"]
});
YUI.add("intl", function(a, f) {
  var b = {}, c = [];
  a.mix(a.namespace("Intl"), {
    _mod: function(a) {
      b[a] || (b[a] = {});
      return b[a]
    },
    setLang: function(a, b) {
      var c = this._mod(a),
        f = c.yuiActiveLang,
        k = !! c[b];
      k && b !== f && (c.yuiActiveLang = b, this.fire("intl:langChange", {
        module: a,
        prevVal: f,
        newVal: "yuiRootLang" === b ? "" : b
      }));
      return k
    },
    getLang: function(a) {
      a = this._mod(a).yuiActiveLang;
      return "yuiRootLang" === a ? "" : a
    },
    add: function(a, b, c) {
      b = b || "yuiRootLang";
      this._mod(a)[b] = c;
      this.setLang(a, b)
    },
    get: function(b, c, g) {
      b = this._mod(b);
      g = g || b.yuiActiveLang;
      g = b[g] || {};
      return c ? g[c] : a.merge(g)
    },
    getAvailableLangs: function(b) {
      var f = a.Env._loader;
      return (b = (b = f && f.moduleInfo[b]) && b.lang) ? b.concat() : c
    }
  });
  a.augment(a.Intl, a.EventTarget);
  a.Intl.publish("intl:langChange", {
    emitFacade: !0
  })
}, "3.17.2", {
  requires: ["intl-base", "event-custom"]
});
YUI.add("squarespace-form-pre-submit-flow", function(a) {
  var f = {
    TOPICS: "topics",
    CONTENT: "content",
    FORM: "form"
  };
  a.namespace("Squarespace.Widgets");
  var b = a.Squarespace.Widgets.FormPreSubmitFlow = a.Base.create("FormPreSubmitFlow", a.Squarespace.Widgets.SSWidget, [], {
    renderUI: function() {
      b.superclass.renderUI.call(this);
      this._initializeTopicNodes()
    },
    bindUI: function() {
      b.superclass.bindUI.call(this);
      var a = this.get("contentBox");
      a.delegate("click", this._onTopicClick, ".topic", this);
      a.delegate("click", this._onSubTopicClick, ".sub-topic", this);
      this.get("backButton").on("click", function() {
        this._set("editMode", this.get("backMode"))
      }, this);
      this.get("advanceButton").on("click", function() {
        this._set("editMode", f.FORM)
      }, this);
      this.after("editModeChange", this.syncUI, this)
    },
    syncUI: function() {
      b.superclass.syncUI.call(this);
      var a = this.get("contentBox"),
        e = this.get("editMode");
      e === f.TOPICS ? a.all(".topic-wrapper").removeClass("open") : e === f.CONTENT && this._populateRelatedContent();
      a.setAttribute("data-edit-mode", e)
    },
    _onTopicClick: function(a) {
      var b = a.target;
      a = b.get("parentNode");
      if (!a.hasClass("open")) {
        this.get("contentBox").all(".topic-wrapper").removeClass("open");
        var b = b.getData("topic"),
          h = b.get("subTopics"),
          g = b.get("relatedContentItems");
        this._set("selection", {
          topic: b,
          subTopic: null
        });
        h.isEmpty() ? g.isEmpty() ? this._set("editMode", f.FORM) : this._set("editMode", f.CONTENT) : a.addClass("open")
      }
    },
    _onSubTopicClick: function(a) {
      a = a.target.getData("subTopic");
      this._set("selection.subTopic", a);
      a.get("relatedContentItems").isEmpty() ? this._set("editMode",
      f.FORM) : this._set("editMode", f.CONTENT)
    },
    _populateRelatedContent: function() {
      var b = this.get("selection"),
        e = this.get("contentItemsNode"),
        b = a.Lang.isValue(b.subTopic) ? b.subTopic.get("relatedContentItems") : b.topic.get("relatedContentItems");
      e.empty();
      b.each(function(b) {
        b = {
          fullUrl: b.get("fullUrl"),
          title: b.get("title"),
          excerpt: b.get("excerpt.html")
        };
        e.append(a.Lang.sub('<div class="related-content-item"><a href="{fullUrl}"><h2>{title}</h2><div class="content-item-excerpt">{excerpt}</div></a></div>', b))
      },
      this)
    },
    _initializeTopicNodes: function() {
      var b = this.get("contentBox").all(".topic-wrapper"),
        e = this.get("topics");
      b.each(function(b) {
        var c = b.one(".topic"),
          f = c.getAttribute("data-title"),
          k;
        e.some(function(a) {
          if (a.get("title") === f) return k = a, !0
        });
        var m = k.get("subTopics");
        if (!m.isEmpty()) {
          var n = a.Node.create('<div class="sub-topics"></div>');
          m.each(function(b) {
            var c = a.Node.create('<div class="sub-topic">' + b.get("title") + "</div>");
            c.setData("subTopic", b);
            n.append(c)
          });
          b.append(n)
        }
        c.setData("topic", k)
      },
      this)
    }
  }, {
    CSS_PREFIX: "sqs-form-pre-submit-flow",
    ATTRS: {
      topics: {
        valueFn: function() {
          return new a.Squarespace.Models.FormPreSubmitTopicList({
            items: a.JSON.parse(this.get("contentBox").getData("topics"))
          })
        },
        validator: a.Squarespace.AttrValidators.isInstanceOf(a.Squarespace.Models.FormPreSubmitTopicList),
        readOnly: !0
      },
      editMode: {
        value: f.TOPICS,
        validator: function(b) {
          if (a.Object.hasValue(f, b)) return !0;
          console.error("FormPreSubmitFlow: Invalid editMode. Must be a value of EDIT_MODES.");
          return !1
        },
        setter: function(a) {
          var b = this.get("editMode"),
            h;
          switch (a) {
          case f.TOPICS:
            this._set("selection", {
              topic: null,
              subTopic: null
            });
            h = null;
            break;
          case f.CONTENT:
            h = f.TOPICS;
            break;
          case f.FORM:
            h = b
          }
          this._set("backMode", h);
          return a
        },
        readOnly: !0
      },
      backMode: {
        value: null,
        validator: function(b) {
          if (a.Lang.isNull(b) || a.Object.hasValue(f, b)) return !0;
          console.error("FormPreSubmitFlow: Invalid backMode. Must be a value of EDIT_MODES.");
          return !1
        }
      },
      selection: {
        value: {
          topic: null,
          subTopic: null
        },
        validator: function(b) {
          var e = a.Object.hasKey(b, "topic");
          b = a.Object.hasKey(b, "subTopic");
          return !e || !b ? (console.error("FormPreSubmitFlow: Invalid selection. Must have both topic and subTopic keys."), !1) : !0
        },
        readOnly: !0
      },
      backButton: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrInstanceOf(a.Node),
        writeOnce: "initOnly"
      },
      contentItemsNode: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrInstanceOf(a.Node),
        writeOnce: "initOnly"
      },
      advanceButton: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrInstanceOf(a.Node),
        writeOnce: "initOnly"
      }
    },
    HTML_PARSER: {
      backButton: ".pre-submit-back",
      contentItemsNode: ".pre-submit-content .content-items",
      advanceButton: ".pre-submit-content .advance-button"
    }
  })
}, "1.0", {
  requires: ["base", "node", "squarespace-ss-widget", "squarespace-attr-validators", "squarespace-models-form-pre-submit-topic"]
});
YUI.add("squarespace-search-fullscreen", function(a) {
  a.namespace("Squarespace");
  var f = a.Base.create("searchContainerFullScreen", a.Squarespace.Widgets.SearchContainer, [], {
    renderUI: function() {
      f.superclass.renderUI.call(this);
      this._open = !0;
      var b = this.get("contentBox");
      b.addClass("sqs-search-ui");
      var c = a.Squarespace.UITemplates.render(f.TEMPLATE_NAME, this._getSearchDataModel()),
        c = a.Node.create(c);
      b.append(c);
      this.get("boundingBox").plug(a.Squarespace.Animations.Fadeable, {
        duration: 0.1,
        opacity: 0.99
      });
      c = new a.Squarespace.Widgets.SearchInputBox({
        queryString: this.get("queryString"),
        inputType: "text",
        withSearchSuggest: !0
      });
      this.set("searchInputBox", c);
      c.render(b.one("#searchInputBox"));
      c.focus();
      a.one("body").addClass("sqs-search-ui-fullscreen");
      b.show();
      a.Squarespace.EscManager.addTarget(this)
    },
    bindUI: function() {
      f.superclass.bindUI.call(this);
      this.scrollTimer = a.later(250, this, this._infiniteScroll, {}, !0);
      this.after("searchFilterChange", this._onSearchFilterChange, this);
      var b = this.get("contentBox");
      b.one(".sqs-search-ui-close").on("click",
      this._closeClick, this);
      b.delegate("click", this._toggleFilter, ".sqs-search-ui-filters-group li", this);
      b.delegate("click", this._clickResult, ".sqs-search-ui-list .search-result", this);
      this.get("boundingBox").on("click", this._onClick, this)
    },
    syncUI: function() {
      var b = this.get("contentBox"),
        c = this.get("page"),
        e = a.Node.create(this._getResultsTemplate());
      if (0 === c) b.one(".sqs-search-ui-result").replace(e.one(".sqs-search-ui-result"));
      else {
        var c = b.one(".sqs-search-ui-list .search-results"),
          f = c.get("children").size(),
          e = e.one(".sqs-search-ui-list .search-results").get("children"),
          e = e.splice(f);
        c.append(e)
      }
      e = b.one(".sqs-search-ui-list");
      a.Lang.isValue(e) && e.plug(a.Squarespace.Plugin.ScrollLock);
      a.Lang.isValue(this.get("loading")) && (this._spinner = new a.Squarespace.Spinner({
        color: "dark",
        size: "large",
        render: b.one(".spinner-wrapper")
      }))
    },
    destructor: function() {
      a.Lang.isValue(this.scrollTimer) || this.scrollTimer.cancel();
      this.get("searchInputBox").destroy();
      a.Squarespace.EscManager.removeTarget(this)
    },
    _getResultsTemplate: function() {
      return a.Squarespace.UITemplates.render(f.TEMPLATE_NAME,
      this._getSearchDataModel())
    },
    removeFilter: function(b) {
      var c = this.get("searchFilter"),
        c = a.Array.filter(c, function(a) {
          return a.name === b
        });
      this.set("searchFilter", c)
    },
    addFilter: function(a) {
      var c = this.get("searchFilter");
      c.push(a);
      this.set("searchFilter", c)
    },
    _closeClick: function(a) {
      a.stopPropagation();
      this._close()
    },
    isOpen: function() {
      return this._open
    },
    close: function() {
      this._close()
    },
    _close: function(b) {
      this._open = !1;
      a.one("body").removeClass("no-scroll");
      a.one("body").removeClass("sqs-search-ui-fullscreen");
      b ? this.destroy(!0) : (b = this.get("boundingBox"), b.once("hidden", function() {
        this.destroy()
      }, this), b.hide(), b.remove())
    },
    _toggleFilter: function(b) {
      b.preventDefault();
      b = b.target.ancestor("li", !0);
      if (a.Lang.isValue(b)) {
        var c = b.getAttribute("filter"),
          e = b.ancestor(".sqs-search-ui-filters-group").getAttribute("name");
        b.hasClass("active") ? this.removeFilter(e) : this.addFilter({
          displayName: b.getAttribute("displayname"),
          value: c,
          name: e
        })
      }
    },
    _onClick: function(a) {
      a.stopPropagation();
      this.get("searchInputBox").focus()
    },
    _clickResult: function(b) {
      b.halt();
      a.Squarespace.Analytics.trackInternal("engagement_search_result_clicked", {
        edit: a.Lang.isValue(b.target.ancestor(".edit", !0))
      });
      var c = b.target.ancestor(".search-result", !0);
      if (a.Lang.isValue(c)) {
        if (a.Lang.isValue(b.target.ancestor(".edit", !0))) {
          b = c.getAttribute("itemid");
          if (!a.Lang.isValue(b)) return;
          b = this._getSearchResultObject(b);
          if (a.Lang.isValue(b.recordType)) {
            var e = new a.Squarespace.Models.ContentItem(b);
            e.load(function() {
              (new(a.Squarespace.ContentItemEditorFactory.getEditor(e))({
                model: e
              })).show()
            })
          } else a.Lang.isValue(CONFIG_PANEL) ? CONFIG_PANEL.getHistory().replace({
            module: "content",
            collectionId: b.collectionId
          }) : a.Squarespace.Management && a.Squarespace.Management.manageSite({
            module: "content",
            collectionId: b.collectionId
          })
        } else this._redirect(this._getSearchItemUrl(c));
        this._close(!0)
      }
    },
    _infiniteScroll: function() {
      var b = this.get("contentBox").one(".sqs-search-ui-list");
      if (a.Lang.isValue(b)) {
        var c = b.get("scrollHeight"),
          e = b.get("scrollTop"),
          b = b.get("offsetHeight"),
          c = c - b - e,
          e = this.get("resultItems"),
          b = this.get("totalCount");
        a.Lang.isValue(e) && 100 > c && b > e.length && this._nextPage()
      }
    }
  }, {
    TEMPLATE_NAME: "SearchContainerFullScreen.html",
    ATTRS: {}
  });
  a.Squarespace.Singletons.Search = new(a.Base.create("searchSingleton", a.Base, [], {
    _onButtonClick: function(b) {
      b.stopPropagation();
      Static.IN_BACKEND && b.preventDefault();
      a.use("widget", "autocomplete", "squarespace-ui-templates", "squarespace-animations", a.bind(function(a) {
        a.Squarespace.Analytics.trackInternal("engagement_search_open", {
          source: b.currentTarget.getAttribute("data-source"),
          type: "overlay"
        });
        this.show()
      },
      this))
    },
    show: function() {
      var b = this.containerWidget;
      if (!a.Lang.isValue(b) || !b.isOpen()) this.containerWidget = new f({
        censusEnabled: !1
      }), this.containerWidget.render(), a.Lang.isValue(this._searchInput) && this._searchInput.set("value", "")
    },
    attach: function(b) {
      "string" === typeof b && (b = a.one(b));
      if (a.Lang.isValue(b)) {
        var c = "";
        a.Array.each(b.get("className").split(" "), function(a) {
          c += "." + a
        });
        this._searchInput = b.one(".search-input");
        a.Lang.isValue(this._searchInput) && (this._searchInput.addClass("disabled"), this._searchInput.on("focus",
        this._searchInput.blur, this._searchInput));
        this._eventHandle = a.one(a.config.doc.body).delegate(a.UA.mobile ? "tap" : "click", this._onButtonClick, c, this)
      }
    }
  }, {
    ATTRS: {
      searchQuery: {
        validator: a.Squarespace.AttrValidators.isString,
        value: ""
      },
      collectionFilter: {
        value: "",
        validator: a.Squarespace.AttrValidators.isNullOrString
      }
    }
  }))
}, "1.0", {
  requires: "base event datasource autocomplete-plugin squarespace-ss-widget squarespace-enum squarespace-animations squarespace-search squarespace-SearchContainerFullScreen-template squarespace-plugin-scroll-lock squarespace-util".split(" ")
});
YUI.add("squarespace-block-utils", function(a) {
  a.namespace("Squarespace.Block").Utils = {
    getValFromClass: function(a, b) {
      return parseInt((a.get("className").match(RegExp("(?:\\s|^)" + b + "(\\d+?)(?:\\s|$)")) || ["", ""])[1], 10)
    },
    getOriginalColumnWidth: function(f) {
      return a.Squarespace.Block.Utils.getValFromAncestralClass(f, "origsize-")
    },
    getColumnWidth: function(f) {
      return a.Squarespace.Block.Utils.getValFromAncestralClass(f, "sqs-col-")
    },
    getWhitelistingFn: function(f) {
      return function(b) {
        return a.Squarespace.Block.Utils.checkWhitelist(f,
        b)
      }
    },
    checkWhitelist: function(f, b) {
      a.Lang.isArray(b) || (b = a.Object.keys(b));
      return a.Array.every(b, function(b) {
        return -1 !== a.Array.indexOf(f, b)
      })
    },
    getValFromAncestralClass: function(f, b) {
      return f.ancestor('[class*="' + b + '"]', !0) ? a.Squarespace.Block.Utils.getValFromClass(f.ancestor('[class*="' + b + '"]', !0), b) : -1
    },
    convertToValueInPixel: function(f) {
      if (a.Lang.isNumber(f)) return f;
      var b = {
        px: 1,
        em: 16,
        pt: 4 / 3,
        "%": 0.16
      }, c = (f.match(/\D+$/) || ["px"])[0];
      return (parseInt(f, 10) || 0) * (b[c] || 1)
    },
    isBlock: function(f) {
      f = f instanceof
      a.Widget ? f.get("boundingBox") : a.one(f);
      return null !== f && f.test(".sqs-block")
    }
  }
}, "1.0", {
  requires: ["base"]
});
YUI.add("querystring-stringify", function(a, f) {
  var b = a.namespace("QueryString"),
    c = [],
    e = a.Lang;
  b.escape = encodeURIComponent;
  b.stringify = function(a, g, f) {
    var k, m, n, p, q, r = g && g.sep ? g.sep : "&";
    q = g && g.eq ? g.eq : "=";
    n = g && g.arrayKey ? g.arrayKey : !1;
    if (e.isNull(a) || e.isUndefined(a) || e.isFunction(a)) return f ? b.escape(f) + q : "";
    if (e.isBoolean(a) || "[object Boolean]" === Object.prototype.toString.call(a)) a = +a;
    if (e.isNumber(a) || e.isString(a)) return b.escape(f) + q + b.escape(a);
    if (e.isArray(a)) {
      q = [];
      f = n ? f + "[]" : f;
      k = a.length;
      for (n = 0; n < k; n++) q.push(b.stringify(a[n], g, f));
      return q.join(r)
    }
    for (n = c.length - 1; 0 <= n; --n) if (c[n] === a) throw Error("QueryString.stringify. Cyclical reference");
    c.push(a);
    q = [];
    k = f ? f + "[" : "";
    m = f ? "]" : "";
    for (n in a) a.hasOwnProperty(n) && (p = k + n + m, q.push(b.stringify(a[n], g, p)));
    c.pop();
    q = q.join(r);
    return !q && f ? f + "=" : q
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("datasource-polling", function(a, f) {
  function b() {
    this._intervals = {}
  }
  b.prototype = {
    _intervals: null,
    setInterval: function(b, e) {
      var f = a.later(b, this, this.sendRequest, [e], !0);
      this._intervals[f.id] = f;
      a.later(0, this, this.sendRequest, [e]);
      return f.id
    },
    clearInterval: function(a, b) {
      a = b || a;
      this._intervals[a] && (this._intervals[a].cancel(), delete this._intervals[a])
    },
    clearAllIntervals: function() {
      a.each(this._intervals, this.clearInterval, this)
    }
  };
  a.augment(a.DataSource.Local, b)
}, "3.17.2", {
  requires: ["datasource-local"]
});
YUI.add("node-base", function(a, f) {
  var b = ["hasClass", "addClass", "removeClass", "replaceClass", "toggleClass"];
  a.Node.importMethod(a.DOM, b);
  a.NodeList.importMethod(a.Node.prototype, b);
  var c = a.Node,
    e = a.DOM;
  c.create = function(b, c) {
    c && c._node && (c = c._node);
    return a.one(e.create(b, c))
  };
  a.mix(c.prototype, {
    create: c.create,
    insert: function(a, b) {
      this._insert(a, b);
      return this
    },
    _insert: function(a, b) {
      var c = this._node,
        f = null;
      "number" == typeof b ? b = this._node.childNodes[b] : b && b._node && (b = b._node);
      a && "string" != typeof a && (a = a._node || a._nodes || a);
      return f = e.addHTML(c, a, b)
    },
    prepend: function(a) {
      return this.insert(a, 0)
    },
    append: function(a) {
      return this.insert(a, null)
    },
    appendChild: function(a) {
      return c.scrubVal(this._insert(a))
    },
    insertBefore: function(b, c) {
      return a.Node.scrubVal(this._insert(b, c))
    },
    appendTo: function(b) {
      a.one(b).append(this);
      return this
    },
    setContent: function(a) {
      this._insert(a, "replace");
      return this
    },
    getContent: function() {
      var a = this;
      11 === a._node.nodeType && (a = a.create("<div/>").append(a.cloneNode(!0)));
      return a.get("innerHTML")
    }
  });
  a.Node.prototype.setHTML = a.Node.prototype.setContent;
  a.Node.prototype.getHTML = a.Node.prototype.getContent;
  a.NodeList.importMethod(a.Node.prototype, "append insert appendChild insertBefore prepend setContent getContent setHTML getHTML".split(" "));
  c = a.Node;
  e = a.DOM;
  c.ATTRS = {
    text: {
      getter: function() {
        return e.getText(this._node)
      },
      setter: function(a) {
        e.setText(this._node, a);
        return a
      }
    },
    "for": {
      getter: function() {
        return e.getAttribute(this._node, "for")
      },
      setter: function(a) {
        e.setAttribute(this._node, "for", a);
        return a
      }
    },
    options: {
      getter: function() {
        return this._node.getElementsByTagName("option")
      }
    },
    children: {
      getter: function() {
        var b = this._node,
          c = b.children,
          e, f;
        if (!c) {
          b = b.childNodes;
          c = [];
          e = 0;
          for (f = b.length; e < f; ++e) b[e].tagName && (c[c.length] = b[e])
        }
        return a.all(c)
      }
    },
    value: {
      getter: function() {
        return e.getValue(this._node)
      },
      setter: function(a) {
        e.setValue(this._node, a);
        return a
      }
    }
  };
  a.Node.importMethod(a.DOM, ["setAttribute", "getAttribute"]);
  c = a.Node;
  b = a.NodeList;
  c.DOM_EVENTS = {
    abort: 1,
    beforeunload: 1,
    blur: 1,
    change: 1,
    click: 1,
    close: 1,
    command: 1,
    contextmenu: 1,
    copy: 1,
    cut: 1,
    dblclick: 1,
    DOMMouseScroll: 1,
    drag: 1,
    dragstart: 1,
    dragenter: 1,
    dragover: 1,
    dragleave: 1,
    dragend: 1,
    drop: 1,
    error: 1,
    focus: 1,
    key: 1,
    keydown: 1,
    keypress: 1,
    keyup: 1,
    load: 1,
    message: 1,
    mousedown: 1,
    mouseenter: 1,
    mouseleave: 1,
    mousemove: 1,
    mousemultiwheel: 1,
    mouseout: 1,
    mouseover: 1,
    mouseup: 1,
    mousewheel: 1,
    orientationchange: 1,
    paste: 1,
    reset: 1,
    resize: 1,
    select: 1,
    selectstart: 1,
    submit: 1,
    scroll: 1,
    textInput: 1,
    unload: 1,
    invalid: 1
  };
  a.mix(c.DOM_EVENTS, a.Env.evt.plugins);
  a.augment(c, a.EventTarget);
  a.mix(c.prototype, {
    purge: function(b, c) {
      a.Event.purgeElement(this._node, b, c);
      return this
    }
  });
  a.mix(a.NodeList.prototype, {
    _prepEvtArgs: function(b, c, e) {
      var f = a.Array(arguments, 0, !0);
      2 > f.length ? f[2] = this._nodes : f.splice(2, 0, this._nodes);
      f[3] = e || this;
      return f
    },
    on: function(b, c, e) {
      return a.on.apply(a, this._prepEvtArgs.apply(this, arguments))
    },
    once: function(b, c, e) {
      return a.once.apply(a, this._prepEvtArgs.apply(this, arguments))
    },
    after: function(b, c, e) {
      return a.after.apply(a, this._prepEvtArgs.apply(this, arguments))
    },
    onceAfter: function(b, c, e) {
      return a.onceAfter.apply(a, this._prepEvtArgs.apply(this, arguments))
    }
  });
  b.importMethod(a.Node.prototype, ["detach", "detachAll"]);
  a.mix(a.Node.ATTRS, {
    offsetHeight: {
      setter: function(b) {
        a.DOM.setHeight(this._node, b);
        return b
      },
      getter: function() {
        return this._node.offsetHeight
      }
    },
    offsetWidth: {
      setter: function(b) {
        a.DOM.setWidth(this._node, b);
        return b
      },
      getter: function() {
        return this._node.offsetWidth
      }
    }
  });
  a.mix(a.Node.prototype, {
    sizeTo: function(b, c) {
      var e;
      2 > arguments.length && (e = a.one(b),
      b = e.get("offsetWidth"), c = e.get("offsetHeight"));
      this.setAttrs({
        offsetWidth: b,
        offsetHeight: c
      })
    }
  });
  a.config.doc.documentElement.hasAttribute || (a.Node.prototype.hasAttribute = function(a) {
    return "value" === a && "" !== this.get("value") ? !0 : !(!this._node.attributes[a] || !this._node.attributes[a].specified)
  });
  a.Node.prototype.focus = function() {
    try {
      this._node.focus()
    } catch (a) {}
    return this
  };
  a.Node.ATTRS.type = {
    setter: function(a) {
      if ("hidden" === a) try {
        this._node.type = "hidden"
      } catch (b) {
        this._node.style.display = "none", this._inputType = "hidden"
      } else try {
        this._node.type = a
      } catch (c) {}
      return a
    },
    getter: function() {
      return this._inputType || this._node.type
    },
    _bypassProxy: !0
  };
  a.config.doc.createElement("form").elements.nodeType && (a.Node.ATTRS.elements = {
    getter: function() {
      return this.all("input, textarea, button, select")
    }
  });
  a.mix(a.Node.prototype, {
    _initData: function() {
      "_data" in this || (this._data = {})
    },
    getData: function(b) {
      this._initData();
      var c = this._data,
        e = c;
      arguments.length ? e = b in c ? c[b] : this._getDataAttribute(b) : "object" == typeof c && null !== c && (e = {}, a.Object.each(c, function(a, b) {
        e[b] = a
      }), e = this._getDataAttributes(e));
      return e
    },
    _getDataAttributes: function(a) {
      a = a || {};
      for (var b = 0, c = this._node.attributes, e = c.length, f = this.DATA_PREFIX, n = f.length, p; b < e;) p = c[b].name, 0 === p.indexOf(f) && (p = p.substr(n), p in a || (a[p] = this._getDataAttribute(p))), b += 1;
      return a
    },
    _getDataAttribute: function(a) {
      a = this.DATA_PREFIX + a;
      var b = this._node.attributes;
      return b && b[a] && b[a].value
    },
    setData: function(a, b) {
      this._initData();
      1 < arguments.length ? this._data[a] = b : this._data = a;
      return this
    },
    clearData: function(a) {
      "_data" in this && ("undefined" != typeof a ? delete this._data[a] : delete this._data);
      return this
    }
  });
  a.mix(a.NodeList.prototype, {
    getData: function(a) {
      return this._invoke("getData", arguments.length ? [a] : [], !0)
    },
    setData: function(a, b) {
      return this._invoke("setData", 1 < arguments.length ? [a, b] : [a])
    },
    clearData: function(a) {
      return this._invoke("clearData", [a])
    }
  })
}, "3.17.2", {
  requires: ["event-base", "node-core", "dom-base", "dom-style"]
});
YUI.add("shim-plugin", function(a, f) {
  function b(a) {
    this.init(a)
  }
  b.CLASS_NAME = "yui-node-shim";
  b.TEMPLATE = '<iframe class="' + b.CLASS_NAME + '" frameborder="0" title="Node Stacking Shim"src="javascript:false" tabindex="-1" role="presentation"style="position:absolute; z-index:-1;"></iframe>';
  b.prototype = {
    init: function(a) {
      this._host = a.host;
      this.initEvents();
      this.insert();
      this.sync()
    },
    initEvents: function() {
      this._resizeHandle = this._host.on("resize", this.sync, this)
    },
    getShim: function() {
      return this._shim || (this._shim = a.Node.create(b.TEMPLATE, this._host.get("ownerDocument")))
    },
    insert: function() {
      var a = this._host;
      this._shim = a.insertBefore(this.getShim(), a.get("firstChild"))
    },
    sync: function() {
      var a = this._shim,
        b = this._host;
      a && a.setAttrs({
        width: b.getStyle("width"),
        height: b.getStyle("height")
      })
    },
    destroy: function() {
      var a = this._shim;
      a && a.remove(!0);
      this._resizeHandle.detach()
    }
  };
  b.NAME = "Shim";
  b.NS = "shim";
  a.namespace("Plugin");
  a.Plugin.Shim = b
}, "3.17.2", {
  requires: ["node-style", "node-pluginhost"]
});
YUI.add("node-event-delegate", function(a, f) {
  a.Node.prototype.delegate = function(b) {
    var c = a.Array(arguments, 0, !0),
      e = a.Lang.isObject(b) && !a.Lang.isArray(b) ? 1 : 2;
    c.splice(e, 0, this._node);
    return a.delegate.apply(a, c)
  }
}, "3.17.2", {
  requires: ["node-base", "event-delegate"]
});
YUI.add("dataschema-array", function(a, f) {
  var b = a.Lang,
    c = {
      apply: function(a, f) {
        var g = {
          results: [],
          meta: {}
        };
        b.isArray(f) ? a && b.isArray(a.resultFields) ? g = c._parseResults.call(this, a.resultFields, f, g) : g.results = f : g.error = Error("Array schema parse failure");
        return g
      },
      _parseResults: function(c, f, g) {
        var l = [],
          k, m, n, p, q, r, u;
        for (r = f.length - 1; - 1 < r; r--) {
          k = {};
          m = f[r];
          n = b.isObject(m) && !b.isFunction(m) ? 2 : b.isArray(m) ? 1 : b.isString(m) ? 0 : -1;
          if (0 < n) for (u = c.length - 1; - 1 < u; u--) n = c[u], p = !b.isUndefined(n.key) ? n.key : n, q = !b.isUndefined(m[p]) ? m[p] : m[u], k[p] = a.DataSchema.Base.parse.call(this, q, n);
          else k = 0 === n ? m : null;
          l[r] = k
        }
        g.results = l;
        return g
      }
    };
  a.DataSchema.Array = a.mix(c, a.DataSchema.Base)
}, "3.17.2", {
  requires: ["dataschema-base"]
});
YUI.add("calendar", function(a, f) {
  function b() {
    b.superclass.constructor.apply(this, arguments)
  }
  var c = a.ClassNameManager.getClassName,
    e = c("calendar", "day-selected"),
    h = c("calendar", "day-highlighted"),
    g = c("calendar", "day"),
    l = c("calendar", "prevmonth-day"),
    k = c("calendar", "nextmonth-day"),
    m = c("calendar", "grid"),
    n = a.DataType.Date,
    p = c("calendar", "pane"),
    q = a.UA.os;
  a.Calendar = a.extend(b, a.CalendarBase, {
    _keyEvents: [],
    _highlightedDateNode: null,
    _lastSelectedDate: null,
    initializer: function() {
      this.plug(a.Plugin.CalendarNavigator);
      this._keyEvents = [];
      this._lastSelectedDate = this._highlightedDateNode = null
    },
    _bindCalendarEvents: function() {
      var a = this.get("contentBox").one("." + p);
      a.on("selectstart", this._preventSelectionStart);
      a.delegate("click", this._clickCalendar, "." + g + ", ." + l + ", ." + k, this);
      a.delegate("keydown", this._keydownCalendar, "." + m, this);
      a.delegate("focus", this._focusCalendarGrid, "." + m, this);
      a.delegate("focus", this._focusCalendarCell, "." + g, this);
      a.delegate("blur", this._blurCalendarGrid, "." + m + ",." + g, this);
      this.after(["minimumDateChange",
        "maximumDateChange"], this._afterCustomRendererChange)
    },
    _preventSelectionStart: function(a) {
      a.preventDefault()
    },
    _highlightDateNode: function(a) {
      this._unhighlightCurrentDateNode();
      a = this._dateToNode(a);
      a.focus();
      a.addClass(h)
    },
    _unhighlightCurrentDateNode: function() {
      var a = this.get("contentBox").all("." + h);
      a && a.removeClass(h)
    },
    _getGridNumber: function(a) {
      a = a.get("id").split("_").reverse();
      return parseInt(a[0], 10)
    },
    _blurCalendarGrid: function() {
      this._unhighlightCurrentDateNode()
    },
    _focusCalendarCell: function(a) {
      this._highlightedDateNode = a.target;
      a.stopPropagation()
    },
    _focusCalendarGrid: function() {
      this._unhighlightCurrentDateNode();
      this._highlightedDateNode = null
    },
    _keydownCalendar: function(a) {
      var b = this._getGridNumber(a.target),
        c = !this._highlightedDateNode ? null : this._nodeToDate(this._highlightedDateNode),
        g = a.keyCode,
        f = 0,
        h;
      switch (g) {
      case 40:
        f = 7;
        break;
      case 38:
        f = -7;
        break;
      case 37:
        f = -1;
        break;
      case 39:
        f = 1;
        break;
      case 32:
      case 13:
        if (a.preventDefault(), this._highlightedDateNode) if (h = this.get("selectionMode"), "single" === h && !this._highlightedDateNode.hasClass(e)) this._clearSelection(!0),
        this._addDateToSelection(c);
        else if ("multiple" === h || "multiple-sticky" === h) this._highlightedDateNode.hasClass(e) ? this._removeDateFromSelection(c) : this._addDateToSelection(c)
      }
      if (40 === g || 38 === g || 37 === g || 39 === g) c || (c = n.addMonths(this.get("date"), b), f = 0), a.preventDefault(), a = n.addDays(c, f), b = this.get("date"), c = n.addMonths(this.get("date"), this._paneNumber - 1), g = new Date(c), c.setDate(n.daysInMonth(c)), n.isInRange(a, b, c) ? this._highlightDateNode(a) : n.isGreater(b, a) ? n.isGreaterOrEqual(this.get("minimumDate"),
      b) || (this.set("date", n.addMonths(b, - 1)), this._highlightDateNode(a)) : n.isGreater(a, c) && !n.isGreaterOrEqual(g, this.get("maximumDate")) && (this.set("date", n.addMonths(b, 1)), this._highlightDateNode(a))
    },
    _clickCalendar: function(a) {
      var b = a.currentTarget,
        c = b.hasClass(g) && !b.hasClass(l) && !b.hasClass(k),
        f = b.hasClass(e);
      switch (this.get("selectionMode")) {
      case "single":
        c && !f && (this._clearSelection(!0), this._addDateToSelection(this._nodeToDate(b)));
        break;
      case "multiple-sticky":
        c && (f ? this._removeDateFromSelection(this._nodeToDate(b)) : this._addDateToSelection(this._nodeToDate(b)));
        break;
      case "multiple":
        c && (!a.metaKey && !a.ctrlKey && !a.shiftKey ? (this._clearSelection(!0), this._lastSelectedDate = this._nodeToDate(b), this._addDateToSelection(this._lastSelectedDate)) : ("macintosh" === q && a.metaKey || "macintosh" !== q && a.ctrlKey) && !a.shiftKey ? f ? (this._removeDateFromSelection(this._nodeToDate(b)), this._lastSelectedDate = null) : (this._lastSelectedDate = this._nodeToDate(b), this._addDateToSelection(this._lastSelectedDate)) : ("macintosh" === q && a.metaKey || "macintosh" !== q && a.ctrlKey) && a.shiftKey ? this._lastSelectedDate ? (a = this._nodeToDate(b), this._addDateRangeToSelection(a, this._lastSelectedDate), this._lastSelectedDate = a) : (this._lastSelectedDate = this._nodeToDate(b), this._addDateToSelection(this._lastSelectedDate)) : a.shiftKey && (this._lastSelectedDate ? (a = this._nodeToDate(b), this._clearSelection(!0), this._addDateRangeToSelection(a, this._lastSelectedDate), this._lastSelectedDate = a) : (this._clearSelection(!0), this._lastSelectedDate = this._nodeToDate(b), this._addDateToSelection(this._lastSelectedDate))))
      }
      c ? this.fire("dateClick", {
        cell: b,
        date: this._nodeToDate(b)
      }) : b.hasClass(l) ? this.fire("prevMonthClick") : b.hasClass(k) && this.fire("nextMonthClick")
    },
    _canBeSelected: function(a) {
      var c = this.get("minimumDate"),
        g = this.get("maximumDate");
      return c && !n.isGreaterOrEqual(a, c) || g && n.isGreater(a, g) ? !1 : b.superclass._canBeSelected.call(this, a)
    },
    _renderCustomRules: function() {
      b.superclass._renderCustomRules.call(this);
      var a = this.get("minimumDate"),
        c = this.get("maximumDate"),
        g = [],
        e, f;
      if (a || c) {
        for (f = 0; f < this._paneNumber; f++) e = n.addMonths(this.get("date"), f), g = g.concat(n.listOfDatesInMonth(e));
        if (a) {
          e = 0;
          for (f = g.length; e < f && !n.isGreaterOrEqual(g[e], a); e++) this._disableDate(g[e])
        }
        if (c) for (e = g.length - 1; 0 <= e; e--) if (n.isGreater(g[e], c)) this._disableDate(g[e]);
        else break
      }
    },
    subtractMonth: function(a) {
      this.set("date", n.addMonths(this.get("date"), - 1));
      a && a.halt();
      return this
    },
    subtractYear: function(a) {
      this.set("date", n.addYears(this.get("date"), - 1));
      a && a.halt();
      return this
    },
    addMonth: function(a) {
      this.set("date", n.addMonths(this.get("date"),
      1));
      a && a.halt();
      return this
    },
    addYear: function(a) {
      this.set("date", n.addYears(this.get("date"), 1));
      a && a.halt();
      return this
    }
  }, {
    NAME: "calendar",
    ATTRS: {
      selectionMode: {
        value: "single"
      },
      date: {
        value: new Date,
        lazyAdd: !1,
        setter: function(a) {
          a = this._normalizeDate(a);
          var b = n.addMonths(a, this._paneNumber - 1),
            c = this.get("minimumDate"),
            g = this.get("maximumDate");
          if ((!c || n.isGreaterOrEqual(a, c)) && (!g || n.isGreaterOrEqual(g, b))) return a;
          if (c && n.isGreater(c, a)) return this._normalizeDate(c);
          if (g && n.isGreater(b, g)) return n.addMonths(this._normalizeDate(g),
          1 - this._paneNumber)
        }
      },
      minimumDate: {
        value: null,
        setter: function(b) {
          if (a.Lang.isDate(b)) {
            var c = this.get("date"),
              g = this._normalizeTime(b);
            c && !n.isGreaterOrEqual(c, g) && this.set("date", b);
            return g
          }
          return null
        }
      },
      maximumDate: {
        value: null,
        setter: function(b) {
          if (a.Lang.isDate(b)) {
            var c = this.get("date");
            c && !n.isGreaterOrEqual(b, n.addMonths(c, this._paneNumber - 1)) && this.set("date", n.addMonths(this._normalizeDate(b), 1 - this._paneNumber));
            return this._normalizeTime(b)
          }
          return null
        }
      }
    }
  })
}, "3.17.2", {
  requires: ["calendar-base",
    "calendarnavigator"],
  skinnable: !0
});
YUI.add("io-xdr", function(a, f) {
  function b(a, b, c) {
    a = '<object id="io_swf" type="application/x-shockwave-flash" data="' + a + '" width="0" height="0"><param name="movie" value="' + a + '"><param name="FlashVars" value="yid=' + b + "&uid=" + c + '"><param name="allowScriptAccess" value="always"></object>';
    b = l.createElement("div");
    l.body.appendChild(b);
    b.innerHTML = a
  }
  function c(b, c, g) {
    "flash" === c && (b.c.responseText = decodeURI(b.c.responseText));
    "xml" === g && (b.c.responseXML = a.DataType.XML.parse(b.c.responseText));
    return b
  }
  var e = a.publish("io:xdrReady", {
    fireOnce: !0
  }),
    h = {}, g = {}, l = a.config.doc,
    k = a.config.win,
    m = k && k.XDomainRequest;
  a.mix(a.IO.prototype, {
    _transport: {},
    _ieEvt: function(a, b) {
      var c = this,
        e = a.id;
      a.c.onprogress = function() {
        g[e] = 3
      };
      a.c.onload = function() {
        g[e] = 4;
        c.xdrResponse("success", a, b)
      };
      a.c.onerror = function() {
        g[e] = 4;
        c.xdrResponse("failure", a, b)
      };
      a.c.ontimeout = function() {
        g[e] = 4;
        c.xdrResponse("timeout", a, b)
      };
      a.c.timeout = b.timeout || 0
    },
    xdr: function(b, c, e) {
      var f = this;
      "flash" === e.xdr.use ? (h[c.id] = e, k.setTimeout(function() {
        try {
          c.c.send(b, {
            id: c.id,
            uid: c.uid,
            method: e.method,
            data: e.data,
            headers: e.headers
          })
        } catch (a) {
          f.xdrResponse("transport error", c, e), delete h[c.id]
        }
      }, a.io.xdr.delay)) : m ? (f._ieEvt(c, e), c.c.open(e.method || "GET", b), setTimeout(function() {
        c.c.send(e.data)
      }, 0)) : c.c.send(b, c, e);
      return {
        id: c.id,
        abort: function() {
          return c.c ? c.c.abort(c.id, e) : !1
        },
        isInProgress: function() {
          return c.c ? m ? 4 !== g[c.id.id] : c.id.c.isInProgress(c.id.id) : !1
        },
        io: f
      }
    },
    xdrResponse: function(a, b, e) {
      e = h[b.id] ? h[b.id] : e;
      var f = m ? g : h,
        l = e.xdr.use,
        k = e.xdr.dataType;
      switch (a) {
      case "start":
        this.start(b,
        e);
        break;
      case "success":
        this.success(c(b, l, k), e);
        delete f[b.id];
        break;
      case "timeout":
      case "abort":
      case "transport error":
        b.c = {
          status: 0,
          statusText: a
        };
      case "failure":
        this.failure(c(b, l, k), e), delete f[b.id]
      }
    },
    _xdrReady: function(b, c) {
      a.fire(e, b, c)
    },
    transport: function(c) {
      "flash" === c.id && (b(a.UA.ie ? c.src + "?d=" + (new Date).valueOf().toString() : c.src, a.id, c.uid), a.IO.transports.flash = function() {
        return l.getElementById("io_swf")
      })
    }
  });
  a.io.xdrReady = function(b, c) {
    var g = a.io._map[c];
    a.io.xdr.delay = 0;
    g._xdrReady.apply(g, [b, c])
  };
  a.io.xdrResponse = function(b, c, g) {
    var e = a.io._map[c.uid];
    e.xdrResponse.apply(e, [b, c, g])
  };
  a.io.transport = function(b) {
    var c = a.io._map["io:0"] || new a.IO;
    b.uid = c._uid;
    c.transport.apply(c, [b])
  };
  a.io.xdr = {
    delay: 100
  }
}, "3.17.2", {
  requires: ["io-base", "datatype-xml-parse"]
});
YUI.add("squarespace-widgets-information", function(a) {
  a.namespace("Squarespace.Widgets");
  var f = a.Squarespace.Widgets.Information = a.Base.create("information", a.Squarespace.Widgets.Confirmation, [], {
    _hideAfterTime: function() {
      this.hide();
      this._handleResponse("confirm")
    },
    _renderOverlay: function() {
      this.get("showOverlay") && f.superclass._renderOverlay.call(this)
    }
  }, {
    CSS_PREFIX: "sqs-widgets-confirmation",
    TYPE: a.Squarespace.Widgets.Confirmation.TYPE,
    ANCHOR: a.Squarespace.Widgets.Confirmation.ANCHOR,
    ATTRS: {
      className: {
        value: "okay"
      },
      style: {
        value: a.Squarespace.Widgets.Confirmation.TYPE.NO_BUTTONS
      },
      position: {
        value: a.Squarespace.Widgets.PositionHelper.ANCHOR.TOP_RIGHT
      },
      hideAfterTime: {
        value: 2E3
      },
      escToCancel: {
        value: !1
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-widgets-confirmation", "squarespace-widgets-position-helper"]
});
YUI.add("squarespace-widgets-confirmation", function(a) {
  a.namespace("Squarespace.Widgets");
  var f = {
    CONFIRM_OR_REJECT: 0,
    CONFIRM_OR_CANCEL: 1,
    CONFIRM_ONLY: 2,
    NO_BUTTONS: 3
  }, b = function() {
    return {
      border: "none",
      "border-radius": 0,
      position: "fixed",
      top: 0,
      left: 0,
      width: "100%",
      "animation-name": "show-confirmation-mobile",
      "-webkit-animation-name": "show-confirmation-mobile",
      "-moz-animation-name": "show-confirmation-mobile",
      "-o-animation-name": "show-confirmation-mobile"
    }
  }, c = a.Squarespace.Widgets.Confirmation = a.Base.create("confirmation",
  a.Squarespace.Widgets.SSWidget, [], {
    initializer: function() {
      this._posHelper = new a.Squarespace.Widgets.PositionHelper(this.get("position"), this.get("padding"));
      this._resizeEmitter = new a.Squarespace.ResizeEmitter;
      this.get("escToCancel") && (a.Squarespace.EscManager.addTarget(this), this.ignoreBodyClicks = !0);
      a.Array.each(["show", "hide", "confirm", "reject", "cancel"], function(a) {
        this.publish(a)
      })
    },
    destructor: function() {
      a.Squarespace.EscManager.removeTarget(this);
      this._resizeEmitter.destroy();
      this._confirmButton = this._rejectButton = this._cancelButton = this._buttonsNode = this._overlay = this._posHelper = this._resizeEmitter = null
    },
    renderUI: function() {
      c.superclass.renderUI.call(this);
      var b = this.get("zIndex"),
        f = this.get("boundingBox"),
        g = this.get("contentBox");
      a.Lang.isValue(b) && f.setStyle("z-index", b);
      f.setStyle("width", this.get("width"));
      g.addClass("clear");
      g.one(".title").setContent(this.get("strings.title"));
      g.one(".message").setContent(this.get("strings.message"));
      this._buttonsNode = g.one(".buttons");
      this._renderButtons();
      this.get("visible") && this.show()
    },
    bindUI: function() {
      var b = a.bind(function(a) {
        return function(b) {
          b.halt();
          this._handleResponse(a)
        }
      }, this),
        c = a.bind(function(a) {
          return function(b) {
            if (32 === b.keyCode || 13 === b.keyCode) b.halt(), this._handleResponse(a)
          }
        }, this);
      a.Lang.isValue(this._confirmButton) && (this._confirmButton.on("click", b("confirm"), this), this._confirmButton.on("keydown", c("confirm"), this));
      a.Lang.isValue(this._cancelButton) && (this._cancelButton.on("click", b("cancel"), this), this._cancelButton.on("keydown",
      c("cancel"), this));
      a.Lang.isValue(this._rejectButton) && (this._rejectButton.on("click", b("reject"), this), this._rejectButton.on("keydown", c("reject"), this));
      if (a.Lang.isValue(this._overlay)) this._overlay.on("click", b("cancel"), this);
      this.after("positionChange", function() {
        this._posHelper = new a.Squarespace.Widgets.PositionHelper(this.get("position"), this.get("padding"))
      }, this);
      this.get("position") !== a.Squarespace.Widgets.PositionHelper.ANCHOR.MOUSE && this._registerEvent(this._resizeEmitter.on("resize",
      this._updatePosition, this));
      b = this.get("hideAfterTime");
      a.Lang.isNumber(b) && this._registerTimer(a.later(b, this, this._hideAfterTime));
      if (this.get("destroyOnHide")) this.onceAfter("hide", this.destroy, this);
      this.before("hide", function() {
        this._returnFocus();
        a.Lang.isValue(this._overlay) && this._overlay.remove(!0)
      }, this);
      this.on("cancel", this.hide, this);
      this.onceAfter("confirm", this.hide, this);
      this.onceAfter("reject", this.hide, this)
    },
    _handleResponse: function(a) {
      this.fire(a)
    },
    _renderButtons: function() {
      var a = this.get("style");
      a !== f.NO_BUTTONS && (a !== f.CONFIRM_ONLY && (this._cancelButton = this._buttonsNode.appendChild(this._createButton("cancel")), this._cancelButton.setAttribute("tabindex", 1)), a === f.CONFIRM_OR_REJECT && (this._rejectButton = this._buttonsNode.appendChild(this._createButton("reject")), this._rejectButton.setAttribute("tabindex", 2)), this._confirmButton = this._buttonsNode.appendChild(this._createButton("confirm")), this._confirmButton.setAttribute("tabindex", 3))
    },
    _createButton: function(b) {
      var c = "a";
      a.Squarespace.Utils.isDamaskEnabled() && (c = "div");
      return a.Node.create(a.Lang.sub('<{element} class="confirmation-button no-frame ' + b + '">' + this.get("strings." + b) + "</{element}>", {
        element: c
      }))
    },
    _updatePosition: function() {
      var a = this.get("boundingBox"),
        b = this._posHelper.fetch(a, this.get("anchor"));
      a.setStyles(b)
    },
    _returnFocus: function() {
      a.Lang.isValue(this._previousFocus) && this._previousFocus.focus()
    },
    _renderOverlay: function() {
      var a = this.get("boundingBox"),
        b = this.get("zIndex") || parseInt(a.getStyle("z-index"),
        10);
      this._overlay = a.insertBefore("<div></div>", a);
      this._overlay.addClass(this.getClassName("overlay"));
      this._overlay.setStyle("z-index", b - 1);
      this.get("showOverlay") || this._overlay.setStyle("opacity", "0")
    },
    show: function() {
      a.Lang.isValue(this._overlay) || this._renderOverlay();
      this._updatePosition();
      this.set("visible", !0);
      this._previousFocus = document.activeElement;
      a.Lang.isValue(this._confirmButton) && this._confirmButton.focus();
      this.fire("show")
    },
    hide: function(b) {
      var c = function(b, c) {
        var g = b.addClass;
        c && (g = b.removeClass);
        a.bind(g, b, "hiding")();
        a.Lang.isValue(a.UA.mobile) && a.bind(g, b, "mobile")()
      }, g = this.get("boundingBox"),
        f = function() {
          a.Lang.isValue(g.getDOMNode()) && g.hasClass("hiding") && (c(g, !0), this.set("visible", !1), this.fire("hide"))
        };
      a.Lang.isBoolean(b) && b ? f.call(this) : (c(g), g.once(["transitionend", "oTransitionEnd", "otransitionend", "webkitTransitionEnd"], f, this), this._registerTimer(a.later(600, this, f)))
    },
    _hideAfterTime: function() {
      this.hide()
    }
  }, {
    CSS_PREFIX: "sqs-widgets-confirmation",
    TEMPLATE: '<div class="title"></div><div class="message"></div><div class="buttons"></div>',
    TYPE: f,
    ANCHOR: a.Squarespace.Widgets.PositionHelper.ANCHOR,
    ATTRS: {
      className: {
        value: "question",
        validator: a.Lang.isString
      },
      escToCancel: {
        value: !0,
        validator: a.Lang.isBoolean
      },
      hideAfterTime: {
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      },
      destroyOnHide: {
        value: !0,
        validator: a.Lang.isBoolean
      },
      position: {
        getter: function(c) {
          return a.Lang.isValue(c) ? c : a.Lang.isValue(a.UA.mobile) ? b : a.Squarespace.Widgets.PositionHelper.ANCHOR.MOUSE
        },
        validator: a.Lang.isFunction
      },
      anchor: {},
      padding: {
        value: 20,
        validator: a.Lang.isNumber
      },
      render: {
        valueFn: function() {
          var b = a.one(a.Squarespace.Damask.ContextGlobals.fromTop("Y.config.doc.body"));
          return a.Lang.isValue(b) ? b : a.one(a.config.doc.body)
        }
      },
      style: {
        value: f.CONFIRM_OR_CANCEL,
        validator: a.Lang.isNumber
      },
      showOverlay: {
        value: !1,
        validator: a.Lang.isBoolean
      },
      strings: {
        value: {
          title: "",
          message: "",
          confirm: "Confirm",
          cancel: "Cancel",
          reject: "Reject"
        }
      },
      width: {
        value: 350
      },
      zIndex: {
        validator: a.Squarespace.AttrValidators.isNullOrNumber
      }
    }
  })
}, "1.0", {
  requires: "base squarespace-damask-context-globals squarespace-escmanager squarespace-ss-widget squarespace-util squarespace-widgets-position-helper".split(" ")
});
YUI.add("datasource-io", function(a, f) {
  var b = function() {
    b.superclass.constructor.apply(this, arguments)
  };
  a.mix(b, {
    NAME: "dataSourceIO",
    ATTRS: {
      io: {
        value: a.io,
        cloneDefaultValue: !1
      },
      ioConfig: {
        value: null
      }
    }
  });
  a.extend(b, a.DataSource.Local, {
    initializer: function(a) {
      this._queue = {
        interval: null,
        conn: null,
        requests: []
      }
    },
    successHandler: function(b, e, f) {
      var g = this.get("ioConfig"),
        l = f.details[0];
      delete a.DataSource.Local.transactions[f.tId];
      l.data = e;
      this.fire("data", l);
      g && (g.on && g.on.success) && g.on.success.apply(g.context || a, arguments)
    },
    failureHandler: function(b, e, f) {
      var g = this.get("ioConfig"),
        l = f.details[0];
      delete a.DataSource.Local.transactions[f.tId];
      l.error = Error("IO data failure");
      l.data = e;
      this.fire("data", l);
      g && (g.on && g.on.failure) && g.on.failure.apply(g.context || a, arguments)
    },
    _queue: null,
    _defRequestFn: function(b) {
      var e = this.get("source"),
        f = this.get("io"),
        g = this.get("ioConfig"),
        l = b.request,
        g = a.merge(g, b.cfg, {
          on: a.merge(g, {
            success: this.successHandler,
            failure: this.failureHandler
          }),
          context: this,
          arguments: b
        });
      a.Lang.isString(l) && (g.method && "POST" === g.method.toUpperCase() ? g.data = g.data ? g.data + l : l : e += l);
      a.DataSource.Local.transactions[b.tId] = f(e, g);
      return b.tId
    }
  });
  a.DataSource.IO = b
}, "3.17.2", {
  requires: ["datasource-local", "io-base"]
});
YUI.add("squarespace-gallery", function(a) {
  a.namespace("Squarespace");
  a.augment(a.Node, Class.create({
    outerWidth: function(a) {
      a = parseFloat(this.getComputedStyle("marginLeft"));
      var b = parseFloat(this.getComputedStyle("marginRight"));
      return this.get("offsetWidth") + a + b
    },
    outerHeight: function(a) {
      a = parseFloat(this.getComputedStyle("marginTop"));
      var b = parseFloat(this.getComputedStyle("marginBottom"));
      return this.get("offsetHeight") + a + b
    }
  }));
  a.Squarespace.Gallery = Class.create({
    defaultOpts: {
      previous: !1,
      next: !1,
      itemSelector: !1,
      startIndex: 0,
      loop: !1,
      design: "off",
      designOptions: {},
      autoplay: !1,
      autoplayOptions: {
        timeout: 1E3,
        resumeAfter: 1E3,
        randomize: !1
      },
      currentIndex: !1,
      totalSlides: !1,
      linked: !1,
      keyboard: {
        previous: "down:37",
        next: "down:39"
      },
      renderWithCanvas: !1,
      nextGeneration: !1,
      loaderOptions: {},
      updateContainerHeight: !1,
      focusOnClick: !1
    },
    getContainer: function() {
      return this.elems.container
    },
    getSlide: function(a) {
      return this.elems.slides.item(a)
    },
    getCurrentSlide: function() {
      return this.elems.slides.item(this.data.currentIndex)
    },
    getCurrentSlideId: function() {
      return this.getCurrentSlide().getAttribute("data-slide-id") || this.data.currentIndex
    },
    getSlides: function() {
      return this.elems.slides
    },
    initialize: function(f) {
      a.Lang.isBoolean(f.keyboard) && f.keyboard && delete f.keyboard;
      this.params = a.merge(this.defaultOpts, f);
      this.elems = {};
      f = a.one(this.params.slideshowElement);
      if (a.Lang.isNull(f)) throw Error("No gallery '" + this.params.slideshowElement + "' container found.");
      var b = this.params.itemSelector ? f.all(this.params.itemSelector) : f.get("children");
      this.elems.container = f;
      this.elems.slides = b;
      if (this.getContainer().getData("galleryInstance")) this.getContainer().getData("galleryInstance")._debug.warn("This node already has a gallery instance binded. Enhance your chill.");
      else {
        this._debug = new a.Squarespace.Debugger({
          name: "Gallery",
          uid: !0
        });
        this.getContainer().setData("galleryInstance", this);
        this.history = new a.HistoryHash;
        if (this.params.historyHash || this.history.get("itemId")) {
          this.history = new a.HistoryHash;
          var c = this.history.get("itemId") || this.history.get(this.params.historyHash),
            e;
          c && (this.elems.slides.each(function(a, b) {
            a.getAttribute("data-slide-id") == c && (e = b)
          }), a.Lang.isNumber(e) || (e = parseInt(this.history.get(this.params.historyHash), 10)), this.history.get("itemId") && this.history.replaceValue("itemId", null), a.Lang.isNumber(e) && (this.params.startIndex = e))
        }
        this.data = {
          currentIndex: this.params.startIndex,
          totalSlides: b.size()
        };
        this.events = [];
        if (0 >= this.data.totalSlides) return !1;
        if (!a.Squarespace.GalleryDesigns[this.params.design]) {
          f = [];
          for (var h in a.Squarespace.GalleryDesigns) f.push(h);
          throw Error("Design '" + this.params.design + "' not found. Currently loaded designs: [" + f.join(", ") + "].");
        }
        this.design = new a.Squarespace.GalleryDesigns[this.params.design];
        this.design.gallery = this;
        this.design.options = a.merge(this.design.options, this.params.designOptions);
        this.params.previous && a.all(this.params.previous).each(function(a) {
          this.events.push(a.on("click", function(a) {
            a.halt();
            this.previousSlide()
          }, this))
        }, this);
        this.params.next && a.all(this.params.next).each(function(a) {
          this.events.push(a.on("click",

          function(a) {
            a.halt();
            this.nextSlide()
          }, this))
        }, this);
        this.params.focusOnClick && b.each(function(a) {
          a.on("click", function() {
            this.fire("changeIndex", b.indexOf(a))
          }, this)
        }, this);
        if (this.params.keyboard) {
          var g = function() {
            return this.params.keyboardWhenInFrame ? this.getContainer().inRegion(a.one(this.params.keyboardWhenInFrame).get("region")) : !0
          };
          this.params.keyboard.previous && this.events.push(a.on("key", function() {
            g.call(this) && this.previousSlide()
          }, window, this.params.keyboard.previous, this));
          this.params.keyboard.next && this.events.push(a.on("key", function() {
            g.call(this) && this.nextSlide()
          }, window, this.params.keyboard.next, this))
        }
        this.params.linked && a.Array.each(this.params.linked, function(a) {
          this.linkGallery(a)
        }, this);
        this.setup();
        this.fire("changeIndex", this.params.startIndex);
        this.isInitialized = !0
      }
    },
    linkGallery: function(f) {
      function b(b, e) {
        b && this._changeIndex(e);
        a.Array.each(this.elems.linked, function(a) {
          b != a && a._changeIndex(e)
        })
      }
      this.elems.linked || (this.on("changeIndex", function(a) {
        b.call(this, !1, a)
      }, this), this.elems.linked = []);
      this.elems.linked.push(f);
      f.on("changeIndex", function(a) {
        b.call(this, f, a)
      }, this)
    },
    setup: function() {
      this.on("changeIndex", this._changeIndex);
      this.loadSlides();
      this.design.setup(this.elems.container, this.elems.slides);
      if (this.params.autoplay) {
        var a = this;
        setInterval(function() {
          if (a.params.autoplayOptions.randomize) {
            for (var b = Math.ceil(Math.random() * a.data.totalSlides); b == a.data.currentIndex;) b = Math.ceil(Math.random() * a.data.totalSlides);
            a.fire("changeIndex", b)
          } else a.nextSlide()
        }, this.params.autoplayOptions.timeout)
      }
      if (this.params.updateContainerHeight) this.on("changeIndex",
      this.updateContainerHeight)
    },
    getSlideDimension: function(a, b) {
      var c = this.elems.slides.item(a),
        e = c;
      c.one("img,canvas") && (e = c.one("img,canvas"));
      e && "inline" == c.getStyle("display") && (c = e);
      var h = "width" == b ? "offsetWidth" : "offsetHeight";
      return e.loader ? e.loader.get("loaded") ? e.loader.get("node").get(h) : e.loader.getDimensionForValue(b, c.get("width" == b ? "offsetHeight" : "offsetWidth")) : c.get(h)
    },
    updateContainerHeight: function() {
      var f = {
        container: this.elems.container
      };
      a.Lang.isObject(this.params.updateContainerHeight) && (f = a.merge(f, this.params.updateContainerHeight));
      var b = this.getSlideDimension(this.data.currentIndex, "height");
      f.maxHeight && b > f.maxHeight && (b = f.maxHeight);
      var c = a.all(f.container);
      f.anim && this._updateContainerHeightRanOnce ? c.each(function(c) {
        c.anim({}, a.merge({
          to: {
            height: b
          },
          duration: 0.3,
          easing: a.Easing.easeOutStrong
        }, f.anim)).run()
      }) : c.setStyles({
        height: b
      });
      this._updateContainerHeightRanOnce = !0
    },
    previousSlide: function() {
      var a = this.data.currentIndex - 1;
      (!(0 > a) || this.params.loop) && this.fire("changeIndex",
      a)
    },
    nextSlide: function() {
      var a = this.data.currentIndex + 1;
      (!(a >= this.data.totalSlides) || this.params.loop) && this.fire("changeIndex", a)
    },
    beforeChange: function(f) {
      this.params.loop || (this.params.next && (f.toIndex >= this.data.totalSlides - 1 ? a.all(this.params.next).addClass("disabled") : a.all(this.params.next).removeClass("disabled")), this.params.previous && (0 >= f.toIndex ? a.all(this.params.previous).addClass("disabled") : a.all(this.params.previous).removeClass("disabled")));
      this.fire("before-change", f)
    },
    afterChange: function(f) {
      if (this.params.currentIndex || this.params.totalSlides) a.all(this.params.currentIndex).each(function(a) {
        a.set("innerHTML", this.data.currentIndex + 1)
      }, this), a.all(this.params.totalSlides).each(function(a) {
        a.set("innerHTML", this.data.totalSlides)
      }, this);
      this.params.historyHash && this.history.replaceValue(this.params.historyHash, this.getCurrentSlideId());
      this.fire("after-change", f)
    },
    changeIndex: function(a) {
      this.fire("changeIndex", a)
    },
    _changeIndex: function(f) {
      if (!a.Lang.isObject(f) && (this.params.loop || (0 > f && (f = 0), f >= this.data.totalSlides && (f = this.data.totalSlides - 1)), 0 > f && (f = this.data.totalSlides + f), !(this.isInitialized && this.data.currentIndex == f))) {
        var b = this.data.currentIndex;
        f %= this.data.totalSlides;
        var c = this.elems.slides,
          e = b === this.data.totalSlides - 1 && 0 === f,
          h = 0 === b && f === this.data.totalSlides - 1,
          g;
        if (b < f && !e && !h || b > f && e && !h) g = "fwd";
        else if (b > f && !h || b < f && h) g = "rev";
        b = {
          fromIndex: b,
          toIndex: f,
          direction: g
        };
        this.beforeChange(b);
        c.filter(".active").removeClass("active");
        c.item(f).addClass("active");
        this.fire("change", b);
        this.data.currentIndex = f;
        this.afterChange(b)
      }
    },
    loadSlides: function(f) {
      this.elems.container.all("img[data-src][data-image-dimensions][data-image-focal-point]").plug(a.Squarespace.Loader2, this.params.loaderOptions)
    }
  });
  a.augment(a.Squarespace.Gallery, a.EventTarget);
  a.Squarespace.GalleryDesigns = {};
  a.Squarespace.GalleryDesigns.off = Class.create({
    gallery: !1,
    options: {},
    beforeChange: function(a) {},
    afterChange: function(a) {},
    change: function(a, b) {},
    setup: function() {},
    getGallery: function() {
      return this.gallery
    },
    events: []
  })
}, "1.0", {
  requires: "node event-key squarespace-image-loader squarespace-common squarespace-ui-base history".split(" ")
});
YUI.add("squarespace-widgets-lightbox2-overlay", function(a) {
  a.namespace("Squarespace.Widgets");
  a.Squarespace.Widgets.Lightbox2Overlay = a.Squarespace.Lightbox2Overlay = a.Base.create("LightboxOverlay", a.Squarespace.Widgets.Gismo, [], {
    destructor: function() {
      a.Lang.isValue(this._overlayEl) && (this._overlayEl.destroy(!0), this._overlayEl = null)
    },
    renderUI: function() {
      this._overlayEl = a.Node.create('<div class="sqs-lightbox-overlay sqs-lightbox-overlay-' + this.get("overlayStyle") + '"></div>');
      this.get("contentBox").appendChild(this._overlayEl);
      this.get("contentBox").plug(a.Squarespace.Plugin.ScrollLock);
      this.show()
    },
    show: function() {
      this._overlayEl.setStyles({
        zIndex: "10000000"
      });
      var a = this._anim(this._overlayEl, {
        opacity: this.get("opacity")
      }, {
        duration: this.get("speed")
      });
      a.on("end", function() {
        this.fire("shown")
      }, this);
      a.run()
    },
    overlayHideAndDestroy: function() {
      this.once("hidden", this.destroy);
      this._hide()
    },
    _hide: function() {
      this.fire("hide");
      var a = this._anim(this._overlayEl, {
        opacity: 0
      }, {
        duration: this.get("speed")
      });
      a.on("end", function() {
        this.fire("hidden")
      },
      this);
      this.get("destroyed") ? this.fire("hidden") : a.run()
    },
    _getContainer: function() {
      return this._overlayEl
    }
  }, {
    NS: "overlay",
    ATTRS: {
      opacity: {
        value: 0.95
      },
      overlayStyle: {
        value: "default"
      },
      container: {
        getter: "_getContainer"
      },
      speed: {
        value: 0.3
      }
    }
  })
}, "1.0", {
  requires: "async-queue base dom-style-ie event-key event-mouseenter node squarespace-animations squarespace-common squarespace-debugger squarespace-gallery-stacked squarespace-image-loader squarespace-touch-event-listener squarespace-util squarespace-video-loader squarespace-plugin-scroll-lock squarespace-widgets-gismo widget".split(" ")
});
YUI.add("event-synthetic", function(a, f) {
  function b(a, b) {
    this.handle = a;
    this.emitFacade = b
  }
  function c(a, b, c) {
    this.handles = [];
    this.el = a;
    this.key = c;
    this.domkey = b
  }
  function e() {
    this._init.apply(this, arguments)
  }
  var h = a.CustomEvent,
    g = a.Env.evt.dom_map,
    l = a.Array,
    k = a.Lang,
    m = k.isObject,
    n = k.isString,
    p = k.isArray,
    q = a.Selector.query,
    k = function() {};
  b.prototype.fire = function(b) {
    var c = l(arguments, 0, !0),
      g = this.handle,
      e = g.evt,
      g = g.sub,
      f = g.context,
      h = g.filter,
      k = b || {};
    if (this.emitFacade) {
      if (!b || !b.preventDefault) k = e._getFacade(),
      m(b) && !b.preventDefault ? (a.mix(k, b, !0), c[0] = k) : c.unshift(k);
      k.type = e.type;
      k.details = c.slice();
      h && (k.container = e.host)
    } else h && (m(b) && b.currentTarget) && c.shift();
    g.context = f || k.currentTarget || e.host;
    h = e.fire.apply(e, c);
    b.prevented && e.preventedFn && e.preventedFn.apply(e, c);
    b.stopped && e.stoppedFn && e.stoppedFn.apply(e, c);
    g.context = f;
    return h
  };
  c.prototype = {
    constructor: c,
    type: "_synth",
    fn: k,
    capture: !1,
    register: function(a) {
      a.evt.registry = this;
      this.handles.push(a)
    },
    unregister: function(b) {
      var c = this.handles,
        e = g[this.domkey],
        f;
      for (f = c.length - 1; 0 <= f; --f) if (c[f].sub === b) {
        c.splice(f, 1);
        break
      }
      c.length || (delete e[this.key], a.Object.size(e) || delete g[this.domkey])
    },
    detachAll: function() {
      for (var a = this.handles, b = a.length; 0 <= --b;) a[b].detach()
    }
  };
  a.mix(e, {
    Notifier: b,
    SynthRegistry: c,
    getRegistry: function(b, e, f) {
      b = b._node;
      var h = a.stamp(b);
      e = "event:" + h + e + "_synth";
      var l = g[h];
      f && (l || (l = g[h] = {}), l[e] || (l[e] = new c(b, h, e)));
      return l && l[e] || null
    },
    _deleteSub: function(a) {
      if (a && a.fn) {
        var b = this.eventDef,
          c = a.filter ? "detachDelegate" : "detach";
        this._subscribers = [];
        h.keepDeprecatedSubs && (this.subscribers = {});
        b[c](a.node, a, this.notifier, a.filter);
        this.registry.unregister(a);
        delete a.fn;
        delete a.node;
        delete a.context
      }
    },
    prototype: {
      constructor: e,
      _init: function() {
        var a = this.publishConfig || (this.publishConfig = {});
        this.emitFacade = "emitFacade" in a ? a.emitFacade : !0;
        a.emitFacade = !1
      },
      processArgs: k,
      on: k,
      detach: k,
      delegate: k,
      detachDelegate: k,
      _on: function(b, c) {
        var g = [],
          e = b.slice(),
          f = this.processArgs(b, c),
          h = b[2],
          k = c ? "delegate" : "on",
          m, p;
        m = n(h) ? q(h) : l(h || a.one(a.config.win));
        if (!m.length && n(h)) return p = a.on("available", function() {
          a.mix(p, a[k].apply(a, e), !0)
        }, h);
        a.Array.each(m, function(e) {
          var h = b.slice(),
            l;
          if (e = a.one(e)) c && (l = h.splice(3, 1)[0]), h.splice(0, 4, h[1], h[3]), (!this.preventDups || !this.getSubs(e, b, null, !0)) && g.push(this._subscribe(e, k, h, f, l))
        }, this);
        return 1 === g.length ? g[0] : new a.EventHandle(g)
      },
      _subscribe: function(c, g, f, h, l) {
        var k = new a.CustomEvent(this.type, this.publishConfig);
        f = k.on.apply(k, f);
        var m = new b(f, this.emitFacade),
          n = e.getRegistry(c,
          this.type, !0),
          p = f.sub;
        p.node = c;
        p.filter = l;
        h && this.applyArgExtras(h, p);
        a.mix(k, {
          eventDef: this,
          notifier: m,
          host: c,
          currentTarget: c,
          target: c,
          el: c._node,
          _delete: e._deleteSub
        }, !0);
        f.notifier = m;
        n.register(f);
        this[g](c, p, m, l);
        return f
      },
      applyArgExtras: function(a, b) {
        b._extra = a
      },
      _detach: function(b) {
        var c = b[2],
          c = n(c) ? q(c) : l(c),
          g, e, f, h;
        b.splice(2, 1);
        e = 0;
        for (f = c.length; e < f; ++e) if (g = a.one(c[e])) if (g = this.getSubs(g, b)) for (h = g.length - 1; 0 <= h; --h) g[h].detach()
      },
      getSubs: function(a, b, c, g) {
        var f = e.getRegistry(a, this.type);
        a = [];
        var h, l, k;
        if (f) {
          f = f.handles;
          c || (c = this.subMatch);
          h = 0;
          for (l = f.length; h < l; ++h) if (k = f[h], c.call(this, k.sub, b)) {
            if (g) return k;
            a.push(f[h])
          }
        }
        return a.length && a
      },
      subMatch: function(a, b) {
        return !b[1] || a.fn === b[1]
      }
    }
  }, !0);
  a.SyntheticEvent = e;
  a.Event.define = function(b, c, g) {
    var f, h;
    b && b.type ? (f = b, g = c) : c && (f = a.merge({
      type: b
    }, c));
    if (f) {
      if (g || !a.Node.DOM_EVENTS[f.type]) b = function() {
        e.apply(this, arguments)
      }, a.extend(b, e, f), h = new b, b = h.type, a.Node.DOM_EVENTS[b] = a.Env.evt.plugins[b] = {
        eventDef: h,
        on: function() {
          return h._on(l(arguments))
        },
        delegate: function() {
          return h._on(l(arguments), !0)
        },
        detach: function() {
          return h._detach(l(arguments))
        }
      }
    } else(n(b) || p(b)) && a.Array.each(l(b), function(b) {
      a.Node.DOM_EVENTS[b] = 1
    });
    return h
  }
}, "3.17.2", {
  requires: ["node-base", "event-custom-complex"]
});
YUI.add("pluginhost-base", function(a, f) {
  function b() {
    this._plugins = {}
  }
  var c = a.Lang;
  b.prototype = {
    plug: function(a, b) {
      var g, f;
      if (c.isArray(a)) {
        g = 0;
        for (f = a.length; g < f; g++) this.plug(a[g])
      } else a && !c.isFunction(a) && (b = a.cfg, a = a.fn), a && a.NS && (g = a.NS, b = b || {}, b.host = this, this.hasPlugin(g) ? this[g].setAttrs && this[g].setAttrs(b) : (this[g] = new a(b), this._plugins[g] = a));
      return this
    },
    unplug: function(a) {
      var b = a,
        g = this._plugins;
      if (a) {
        if (c.isFunction(a) && (b = a.NS) && (!g[b] || g[b] !== a)) b = null;
        b && (this[b] && (this[b].destroy && this[b].destroy(), delete this[b]), g[b] && delete g[b])
      } else for (b in this._plugins) this._plugins.hasOwnProperty(b) && this.unplug(b);
      return this
    },
    hasPlugin: function(a) {
      return this._plugins[a] && this[a]
    },
    _initPlugins: function(a) {
      this._plugins = this._plugins || {};
      this._initConfigPlugins && this._initConfigPlugins(a)
    },
    _destroyPlugins: function() {
      this.unplug()
    }
  };
  a.namespace("Plugin").Host = b
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("history-html5", function(a, f) {
  function b() {
    b.superclass.constructor.apply(this, arguments)
  }
  var c = a.HistoryBase,
    e = a.Lang,
    h = a.config.win,
    g = a.config.useHistoryHTML5,
    l = c.SRC_REPLACE;
  a.extend(b, c, {
    _init: function(c) {
      var g;
      try {
        g = h.history.state
      } catch (f) {
        g = null
      }
      a.Object.isEmpty(g) && (g = null);
      c || (c = {});
      c.initialState && "object" === e.type(c.initialState) && "object" === e.type(g) ? this._initialState = a.merge(c.initialState, g) : this._initialState = g;
      a.on("popstate", this._onPopState, h, this);
      b.superclass._init.apply(this,
      arguments)
    },
    _storeState: function(c, g, e) {
      if ("popstate" !== c) h.history[c === l ? "replaceState" : "pushState"](g, e.title || a.config.doc.title || "", e.url || a.config.doc.URL);
      b.superclass._storeState.apply(this, arguments)
    },
    _onPopState: function(a) {
      this._resolveChanges("popstate", a._event.state || null)
    }
  }, {
    NAME: "historyhtml5",
    SRC_POPSTATE: "popstate"
  });
  a.Node.DOM_EVENTS.popstate || (a.Node.DOM_EVENTS.popstate = 1);
  a.HistoryHTML5 = b;
  if (!0 === g || !1 !== g && c.html5) a.History = b
}, "3.17.2", {
  optional: ["json"],
  requires: ["event-base",
    "history-base", "node-base"]
});
YUI.add("event-tap", function(a, f) {
  function b(b, c) {
    c = c || a.Object.values(g);
    a.Array.each(c, function(a) {
      var c = b[a];
      c && (c.detach(), b[a] = null)
    })
  }
  var c = a.Event._GESTURE_MAP,
    e = c.start,
    h = /pointer/i,
    g = {
      START: "Y_TAP_ON_START_HANDLE",
      END: "Y_TAP_ON_END_HANDLE",
      CANCEL: "Y_TAP_ON_CANCEL_HANDLE"
    };
  a.Event.define("tap", {
    publishConfig: {
      preventedFn: function(a) {
        var b = a.target.once("click", function(a) {
          a.preventDefault()
        });
        setTimeout(function() {
          b.detach()
        }, 100)
      }
    },
    processArgs: function(a, b) {
      if (!b) {
        var c = a[3];
        a.splice(3, 1);
        return c
      }
    },
    on: function(a, b, c) {
      b[g.START] = a.on(e, this._start, this, a, b, c)
    },
    detach: function(a, c, g) {
      b(c)
    },
    delegate: function(b, c, f, h) {
      c[g.START] = a.delegate(e, function(a) {
        this._start(a, b, c, f, !0)
      }, b, h, this)
    },
    detachDelegate: function(a, c, g) {
      b(c)
    },
    _start: function(a, b, e, f, p) {
      var q = {
        canceled: !1,
        eventType: a.type
      }, r = e.preventMouse || !1;
      !(a.button && 3 === a.button) && !(a.touches && 1 !== a.touches.length) && (q.node = p ? a.currentTarget : b, q.startXY = a.touches ? [a.touches[0].pageX, a.touches[0].pageY] : [a.pageX, a.pageY], a.touches ? (e[g.END] = b.once("touchend", this._end, this, b, e, f, p, q), e[g.CANCEL] = b.once("touchcancel", this.detach, this, b, e, f, p, q), e.preventMouse = !0) : -1 !== q.eventType.indexOf("mouse") && !r ? (e[g.END] = b.once("mouseup", this._end, this, b, e, f, p, q), e[g.CANCEL] = b.once("mousecancel", this.detach, this, b, e, f, p, q)) : -1 !== q.eventType.indexOf("mouse") && r ? e.preventMouse = !1 : h.test(q.eventType) && (e[g.END] = b.once(c.end, this._end, this, b, e, f, p, q), e[g.CANCEL] = b.once(c.cancel, this.detach, this, b, e, f, p, q)))
    },
    _end: function(a, c, e, f, h, q) {
      c = q.startXY;
      var r, u = 15;
      e._extra && 0 <= e._extra.sensitivity && (u = e._extra.sensitivity);
      a.changedTouches ? (h = [a.changedTouches[0].pageX, a.changedTouches[0].pageY], r = [a.changedTouches[0].clientX, a.changedTouches[0].clientY]) : (h = [a.pageX, a.pageY], r = [a.clientX, a.clientY]);
      Math.abs(h[0] - c[0]) <= u && Math.abs(h[1] - c[1]) <= u && (a.type = "tap", a.pageX = h[0], a.pageY = h[1], a.clientX = r[0], a.clientY = r[1], a.currentTarget = q.node, f.fire(a));
      b(e, [g.END, g.CANCEL])
    }
  })
}, "3.17.2", {
  requires: ["node-base", "event-base", "event-touch", "event-synthetic"]
});
YUI.add("squarespace-business-hours-utils", function(a) {
  function f(a) {
    var b = !1;
    if (a) {
      a = a.toLowerCase().trim();
      var b = m.open.toLowerCase().trim(),
        c = m.allDay.toLowerCase().trim(),
        b = a === b || a === c
    }
    return b
  }
  function b(b) {
    a.Lang.isUndefined(b) && (b = new Date);
    b = b.getDay();
    return n[b]
  }
  function c(b) {
    var c;
    a.Array.some(n, function(a, g) {
      if (a === b) return c = g - 1, !0
    });
    c = -1 === c ? 6 : c;
    return n[c]
  }
  function e(b, c) {
    var g = a.Squarespace.DateUtils.getTimeOffsetToWebsiteTimezone;
    a.Lang.isUndefined(b) && (b = new Date);
    var e = 60 * b.getHours(),
      f = b.getMinutes();
    a.Lang.isUndefined(c) && (c = g(b));
    return e + f + c
  }
  function h(b, g) {
    var e = g[b],
      f;
    f = a.Lang.isUndefined(e) ? [] : e.ranges.slice(0);
    var h = c(b);
    if (h = g[h]) h = h.ranges[h.ranges.length - 1], h.from > h.to && f.unshift({
      from: 0,
      to: h.to
    });
    e && (h = e.ranges[e.ranges.length - 1], h.from > h.to && f.unshift({
      from: h.from,
      to: k
    }));
    return f
  }
  function g(a, b) {
    var c = Math.floor(a / 60),
      g = a % 60,
      e = "";
    b === l ? (12 <= c ? (c -= 12, e = "pm") : e = "am", g && (g = ("0" + g).slice(-2)), c = (c ? c : 12) + (g ? ":" + g : "") + e) : (c = ("0" + c).slice(-2), g = ("0" + g).slice(-2), c = c + ":" + g);
    return c
  }
  var l = 1,
    k = 1440,
    m = {
      closed: "Closed",
      open: "Open",
      allDay: "All Day"
    }, n = "sunday monday tuesday wednesday thursday friday saturday".split(" ");
  a.namespace("Squarespace.BusinessHoursUtils").parseTime = function(a) {
    var b = !0,
      c, g, e, f;
    try {
      var h = a = a.toLowerCase(),
        h = h.replace(/[0-9]| /g, ""),
        h = h.replace(/:/, "");
      if ("am" === h || "pm" === h) c = h, f = l;
      else if ("" === h) f = 2;
      else throw "Unwanted characters";
      if (2 === f && !a.match(":")) throw "Invalid format";
      var k = a.replace(c, "").split(":");
      g = k[0];
      if (!g) throw "Missing hours";
      g = parseInt(g);
      if (2 === f && (0 > g || 23 < g)) throw "Invalid hour";
      if (f === l && (1 > g || 12 < g)) throw "Invalid hour";
      e = k[1];
      if (void 0 !== e) {
        if (2 !== e.length) throw "Invalid minutes";
        e = parseInt(e);
        if (0 > e || 59 < e) throw "Invalid minutes";
      } else e = 0
    } catch (m) {
      b = !1
    }
    var n;
    if (b) {
      var z;
      f === l ? z = "pm" === c ? 12 === g ? g : g + 12 : 12 === g ? 0 : g : 2 === f && (z = g);
      n = {
        mode: f,
        timestamp: parseInt(60 * z + e)
      }
    }
    return b ? n : !1
  };
  a.namespace("Squarespace.BusinessHoursUtils").parseTimeRange = function(b) {
    var c = !0,
      g = a.Squarespace.BusinessHoursUtils.parseTime,
      e, f;
    try {
      var h = b.split(/ to | till | til | until |-|\u2014/i);
      if (2 !== h.length || !h[0] || !h[1]) throw "Range is not correct";
      e = g(h[0]);
      f = g(h[1]);
      if (!e || !f) throw "Incorrect time";
      if (e.mode !== f.mode) throw "Inconsistent formats";
    } catch (l) {
      c = !1
    }
    var k;
    c && (k = {
      from: e,
      to: f
    });
    return c ? k : !1
  };
  a.namespace("Squarespace.BusinessHoursUtils").parseMultipleTimeRange = function(b) {
    var c = !0,
      g = a.Squarespace.BusinessHoursUtils.parseTimeRange,
      e = {
        text: b,
        ranges: []
      };
    f(b) && (b = "12am to 12am");
    try {
      if (b) {
        var h = b.split(","),
          l, k;
        a.Array.each(h, function(a, b) {
          a = g(a);
          k = b === h.length - 1;
          if (!a) throw "Invalid range";
          if (!k && a.from.timestamp >= a.to.timestamp) throw "Invalid range";
          if (0 < e.ranges.length) {
            l = e.ranges[e.ranges.length - 1];
            if (l.to.timestamp >= a.from.timestamp) throw "Invalid multiple ranges";
            if (l.to.mode !== a.to.mode) throw "Inconsistent formats";
          }
          e.ranges.push(a)
        })
      }
    } catch (m) {
      c = !1
    }
    a.Array.each(e.ranges, function(a) {
      a.to = a.to.timestamp;
      a.from = a.from.timestamp
    });
    return c ? e : !1
  };
  a.namespace("Squarespace.BusinessHoursUtils").plainTextDays = function(b) {
    var c = a.Squarespace.DateUtils.LANG.days.abbreviated,
      g = a.Squarespace.BusinessHoursUtils,
      e = "",
      f = n.slice(),
      f = f.concat(f.shift());
    a.Array.each(f, function(a) {
      e += c[a] + ": ";
      e += g.formatDay(b[a], {
        markup: !1
      });
      e += "<br>"
    });
    return e
  };
  a.namespace("Squarespace.BusinessHoursUtils").formatDay = function(b, c) {
    c = a.merge({
      closed: m.closed,
      allDay: m.allDay,
      delimeter: " - ",
      markup: !0
    }, c);
    var e;
    if (b && b.ranges) {
      var h, k, n = b.text.match(/am|pm/i) ? l : 2;
      e = a.Array.reduce(b.ranges, "", function(a, e, l, m) {
        e.from === e.to ? (a += c.markup ? "<div>" : "", a = f(b.text) ? a + b.text : a + c.allDay, a += c.markup ? "</div>" : "") : (h = g(e.from, n), k = g(e.to,
        n), a += c.markup ? "<div>" : "", a += h + c.delimeter + k, a += c.markup ? "</div>" : "", !c.markup && l < m.length - 1 && (a += ", "));
        return a
      })
    } else e = c.markup ? '<div class="closed">' : "", e += c.closed, e += c.markup ? "</div>" : "";
    return e
  };
  a.namespace("Squarespace.BusinessHoursUtils").isStoreOpen = function(c, g, f) {
    var l = e(g, f),
      k = !1;
    a.Lang.isUndefined(c) && (c = Static.SQUARESPACE_CONTEXT.websiteSettings.businessHours);
    g = b(g);
    c = h(g, c);
    a.Array.some(c, function(a) {
      if (a.from === a.to || l >= a.from && l <= a.to) return k = !0
    });
    return k
  };
  a.Handlebars.registerHelper("isStoreOpen",

  function(b, c) {
    return a.Squarespace.BusinessHoursUtils.isStoreOpen(b) ? c.fn(this) : c.inverse(this)
  });
  a.Handlebars.registerHelper("dailyHours", function(b, c) {
    var g = a.Squarespace.BusinessHoursUtils,
      e = c.hash,
      e = {
        closed: e.closed,
        allDay: e.allDay,
        delimeter: e.delimeter
      };
    a.Lang.isUndefined(e.closed) && delete e.closed;
    a.Lang.isUndefined(e.allDay) && delete e.allDay;
    a.Lang.isUndefined(e.delimeter) && delete e.delimeter;
    g = g.formatDay(b, e);
    return new a.Handlebars.SafeString(g)
  })
}, "1.0", {
  requires: ["base", "node", "squarespace-date-utils",
    "handlebars-base"]
});
YUI.add("array-invoke", function(a, f) {
  a.Array.invoke = function(b, c) {
    var e = a.Array(arguments, 2, !0),
      f = a.Lang.isFunction,
      g = [];
    a.Array.each(a.Array(b), function(a, b) {
      a && f(a[c]) && (g[b] = a[c].apply(a, e))
    });
    return g
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("squarespace-licensed-assets-preview-bar", function(a) {
  a.namespace("Squarespace.LicensedAssets.Widgets");
  a.Squarespace.LicensedAssets.Widgets.PreviewBar = a.Base.create("LicensedAssetPreviewBar", a.Squarespace.Widgets.SSWidget, [], {}, {
    CSS_PREFIX: "sqs-licensed-asset-preview-bar",
    TEMPLATE: "<span>This page is using preview images from Getty Images. Please purchase them to remove the watermark.</span>"
  })
}, "1.0", {
  requires: ["base", "squarespace-ss-widget"]
});
YUI.add("node-pluginhost", function(a, f) {
  a.Node.plug = function() {
    var b = a.Array(arguments);
    b.unshift(a.Node);
    a.Plugin.Host.plug.apply(a.Base, b);
    return a.Node
  };
  a.Node.unplug = function() {
    var b = a.Array(arguments);
    b.unshift(a.Node);
    a.Plugin.Host.unplug.apply(a.Base, b);
    return a.Node
  };
  a.mix(a.Node, a.Plugin.Host, !1, null, 1);
  a.Object.each(a.Node._instances, function(b) {
    a.Plugin.Host.apply(b)
  });
  a.NodeList.prototype.plug = function() {
    var b = arguments;
    a.NodeList.each(this, function(c) {
      a.Node.prototype.plug.apply(a.one(c),
      b)
    });
    return this
  };
  a.NodeList.prototype.unplug = function() {
    var b = arguments;
    a.NodeList.each(this, function(c) {
      a.Node.prototype.unplug.apply(a.one(c), b)
    });
    return this
  }
}, "3.17.2", {
  requires: ["node-base", "pluginhost"]
});
YUI.add("squarespace-ss-widget", function(a) {
  a.namespace("Squarespace.Widgets");
  var f = a.Squarespace.Widgets.SSWidget = a.Squarespace.SSWidget = a.Base.create("ssWidget", a.Widget, [], {
    delegatedEvents: {},
    initializer: function(b) {
      this.LOG = new a.Squarespace.Debugger({
        name: this.name,
        output: !1
      });
      this._destroyAllNodes = !0;
      this._anims = new a.Squarespace.Anims;
      this.on("classNameChange", function(a) {
        var b = this.get("boundingBox");
        b && b.removeClass(a.prevVal).addClass(a.newVal)
      }, this);
      this._events = [];
      this._timers = []
    },
    destructor: function() {
      this._anims.destroy();
      a.detach(this.get("id") + "|*");
      for (this.detach(this.get("id") + "|*"); 0 !== this._events.length;) this._events.shift().detach();
      for (; 0 !== this._timers.length;) this._timers.shift().cancel();
      this._anims = null;
      this._timers = [];
      this._events = [];
      this.LOG = null
    },
    _registerEvent: function() {
      if (a.Lang.isArray(arguments[0])) this._registerEvent.apply(this, arguments[0]);
      else for (var b = 0, c = arguments.length; b < c; b++) a.Lang.isValue(arguments[b]) && this._events.push(arguments[b])
    },
    _registerPointerEvent: function(b, c, e, f) {
      b = a.Squarespace.Utils._attachPointerAction(b,
      c, e, f);
      this._registerEvent(b)
    },
    _registerAnim: function(a) {
      this._anims.add(a)
    },
    _registerCallback: function(b, c) {
      return a.bind(function() {
        this.get("destroyed") || b.apply(c || this, arguments)
      }, this)
    },
    _registerTimer: function(a) {
      this._timers.push(a);
      return a
    },
    renderUI: function() {
      var a = this.get("className");
      this.get("boundingBox").addClass(a);
      this.get("preventRenderTemplate") || this.get("contentBox").prepend(this.renderTemplate())
    },
    bindUI: function() {
      var b = this.get("id");
      this.after(b + "|stringsChange", function(a) {
        a.noSyncUI || this.syncUI()
      }, this);
      var c = this.get("boundingBox");
      a.Object.each(this.delegatedEvents, function(e, f) {
        a.Object.each(e, function(a, e) {
          c.delegate(b + "|" + e, this[a], f, this)
        }, this)
      }, this)
    },
    syncUI: function() {},
    _getTemplateInfo: function() {
      var b = f.TEMPLATE_TYPES,
        c = !1,
        e = this.constructor,
        h, g, l, k;
      h = function() {
        l = e.HANDLEBARS_TEMPLATE;
        g = e.TEMPLATE;
        k = (c = a.Lang.isValue(l)) ? b.HANDLEBARS : b.HTML
      };
      for (h(); a.Lang.isUndefined(l) && a.Lang.isUndefined(g);) e = e.superclass.constructor, h();
      h = c ? a.Squarespace.UITemplates.getCompiledTemplate(l) : function() {
        return a.Node.create(g)
      };
      return {
        type: k,
        template: h
      }
    },
    renderTemplate: function() {
      var a = f.TEMPLATE_TYPES,
        c = this._getTemplateInfo();
      return c.type === a.HANDLEBARS ? (a = this._getHBTemplateContext(), c.template(a)) : c.template()
    },
    getProperty: function(b) {
      for (var c = this.constructor, e = this.constructor[b]; a.Lang.isUndefined(e);) {
        if (c.superclass) c = c.superclass.constructor;
        else break;
        if (a.Lang.isUndefined(c)) break;
        e = c[b]
      }
      return e
    },
    _getHBTemplateContext: function() {
      return this.getAttrs()
    }
  }, {
    CSS_PREFIX: "sqs-widget",
    HANDLEBARS_TEMPLATE: null,
    TEMPLATE: "",
    TEMPLATE_TYPES: {
      HANDLEBARS: "handlebars",
      HTML: "html"
    },
    ATTRS: {
      className: {
        value: null
      },
      preventRenderTemplate: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      }
    }
  })
}, "1.0", {
  requires: "base node widget squarespace-anims squarespace-attr-validators squarespace-ui-templates".split(" ")
});
YUI.add("io-form", function(a, f) {
  var b = encodeURIComponent;
  a.IO.stringify = function(b, e) {
    e = e || {};
    return a.IO.prototype._serialize({
      id: b,
      useDisabled: e.useDisabled
    }, e.extra && "object" === typeof e.extra ? a.QueryString.stringify(e.extra) : e.extra)
  };
  a.mix(a.IO.prototype, {
    _serialize: function(c, e) {
      var f = [],
        g = c.useDisabled || !1,
        l = 0,
        k = "string" === typeof c.id ? c.id : c.id.getAttribute("id"),
        m, n, p, q, r, u, v;
      k || (k = a.guid("io:"), c.id.setAttribute("id", k));
      m = a.config.doc.getElementById(k);
      if (!m || !m.elements) return e || "";
      q = 0;
      for (r = m.elements.length; q < r; ++q) if (k = m.elements[q], p = k.disabled, n = k.name, g ? n : n && !p) switch (n = b(n) + "=", p = b(k.value), k.type) {
      case "select-one":
        -1 < k.selectedIndex && (v = k.options[k.selectedIndex], f[l++] = n + b(v.attributes.value && v.attributes.value.specified ? v.value : v.text));
        break;
      case "select-multiple":
        if (-1 < k.selectedIndex) {
          p = k.selectedIndex;
          for (u = k.options.length; p < u; ++p) v = k.options[p], v.selected && (f[l++] = n + b(v.attributes.value && v.attributes.value.specified ? v.value : v.text))
        }
        break;
      case "radio":
      case "checkbox":
        k.checked && (f[l++] = n + p);
        break;
      case "file":
      case void 0:
      case "reset":
      case "button":
        break;
      default:
        f[l++] = n + p
      }
      e && (f[l++] = e);
      return f.join("&")
    }
  }, !0)
}, "3.17.2", {
  requires: ["io-base", "node-base"]
});
YUI.add("squarespace-models-member-account", function(a) {
  var f = a.namespace("Squarespace.Models").MemberAccount = a.Base.create("MemberAccount", a.Model, [a.Squarespace.ModelSync.REST], {
    root: "/api/member-accounts",
    serialize: function() {
      return a.JSON.stringify(this._getServerRelevantFields())
    },
    _getServerRelevantFields: function() {
      var b = a.Array.reduce("id firstName lastName displayName location websiteUrl bio email siteSubscriptions storeSubscriptions googlePlusProfile avatarId socialOptions developerAccount developerAccountMarketingDetails siteTemplateInstallationPreviews pseudonymAccount notificationsRead".split(" "), {}, function(a, b) {
        a[b] = this.get(b);
        return a
      }, this);
      a.Lang.isObject(b.notificationsRead) && (b.notificationsRead = a.Object.keys(b.notificationsRead));
      return b
    },
    isMe: function() {
      return this.get("id") == Static.SQUARESPACE_CONTEXT.authenticatedAccount.id
    },
    sendVerificationEmail: function() {
      return new a.Promise(a.bind(function(b, c) {
        a.Data.post({
          secure: !0,
          url: this.getURL() + "/verifications",
          success: function(a) {
            a.verificationError ? c(a) : b(a)
          }
        }, this)
      }, this))
    },
    setPassword: function(b, c, e) {
      return new a.Promise(a.bind(function(f,
      g) {
        a.Data.put({
          secure: !0,
          url: this.getURL() + "/password",
          data: {
            newPassword: b,
            newPasswordConfirm: c,
            currentPassword: e
          },
          success: function() {
            this.set("emailAccount", !0);
            f()
          },
          failure: function(a) {
            g(a)
          }
        }, this)
      }, this))
    },
    requestActivation: function(b) {
      a.Data.post({
        url: this.getURL("update") + "/activation-emails",
        success: function(a) {
          b()
        },
        failure: function(a) {
          b(a)
        }
      })
    },
    replaceAuthor: function(b, c) {
      a.Data.post({
        url: this.getURL() + "/replace-author",
        data: {
          replacementId: b
        },
        success: function(a) {
          c()
        },
        failure: function(a) {
          c(a)
        }
      })
    },
    setPreviewInstallationId: function(b) {
      var c = a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "id"]);
      a.Lang.isValue(b) ? this.set("siteTemplateInstallationPreviews." + c, b) : (b = this.get("siteTemplateInstallationPreviews"), delete b[c], this.set("siteTemplateInstallationPreviews", b))
    },
    getPreviewInstallationId: function() {
      return this.get("siteTemplateInstallationPreviews." + a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "id"]))
    },
    getNewTwoFactorAuthInfo: function() {
      return this._getTwoFactorAuthInfo(!0)
    },
    getTwoFactorAuthInfo: function() {
      return this._getTwoFactorAuthInfo(!1)
    },
    _getTwoFactorAuthInfo: function(b) {
      return new a.Squarespace.Promises.create(function(c, e) {
        a.Data.get({
          secure: !0,
          url: this.getURL() + "/two-factor-auth/info?generateNew=" + b,
          success: c,
          failure: e
        }, this)
      }, this)
    },
    enableTwoFactorAuth: function(b) {
      return new a.Squarespace.Promises.create(function(c, e) {
        a.Data.post({
          secure: !0,
          url: this.getURL() + "/two-factor-auth/enable",
          data: b,
          success: function(a) {
            this.set("twoFactorAuthEnabled", !0);
            c(a)
          },
          failure: e
        },
        this)
      }, this)
    },
    disableTwoFactorAuth: function(b) {
      return new a.Squarespace.Promises.create(function(c, e) {
        a.Data.post({
          secure: !0,
          url: this.getURL() + "/two-factor-auth/disable",
          data: b,
          success: function(a) {
            this.set("twoFactorAuthEnabled", !1);
            c(a)
          },
          failure: e
        }, this)
      }, this)
    },
    getNewScratchCodes: function() {
      return new a.Squarespace.Promises.create(function(b, c) {
        a.Data.get({
          secure: !0,
          url: this.getURL() + "/two-factor-auth/new-scratch-codes",
          success: b,
          failure: c
        }, this)
      }, this)
    }
  }, {
    ATTRS: {
      notificationsRead: {
        value: {}
      }
    }
  });
  Static && Static.SQUARESPACE_CONTEXT && Static.SQUARESPACE_CONTEXT.authenticatedAccount ? a.namespace("Squarespace.Singletons").AuthenticatedMemberAccount = new f(Static.SQUARESPACE_CONTEXT.authenticatedAccount) : a.namespace("Squarespace.Singletons").AuthenticatedMemberAccount = new f({})
}, "1.0", {
  requires: ["model", "base", "promise", "squarespace-model-sync-rest"]
});
YUI.add("oop", function(a, f) {
  function b(b, c, g, f, h) {
    if (b && b[h] && b !== a) return b[h].call(b, c, g);
    switch (e.test(b)) {
    case 1:
      return e[h](b, c, g);
    case 2:
      return e[h](a.Array(b, 0, !0), c, g);
    default:
      return a.Object[h](b, c, g, f)
    }
  }
  var c = a.Lang,
    e = a.Array,
    h = Object.prototype,
    g = h.hasOwnProperty,
    l = h.toString;
  a.augment = function(b, c, e, f, h) {
    var r = b.prototype,
      u = r && c,
      v = c.prototype,
      w = r || b,
      y, s, x, C, z;
    h = h ? a.Array(h) : [];
    u && (s = {}, x = {}, C = {}, y = function(a, b) {
      if (e || !(b in r)) "[object Function]" === l.call(a) ? (C[b] = a, s[b] = x[b] = function() {
        return z(this,
        a, arguments)
      }) : s[b] = a
    }, z = function(a, b, e) {
      for (var f in C) g.call(C, f) && a[f] === x[f] && (a[f] = C[f]);
      c.apply(a, h);
      return b.apply(a, e)
    }, f ? a.Array.each(f, function(a) {
      a in v && y(v[a], a)
    }) : a.Object.each(v, y, null, !0));
    a.mix(w, s || v, e, f);
    u || c.apply(w, h);
    return b
  };
  a.aggregate = function(b, c, g, e) {
    return a.mix(b, c, g, e, 0, !0)
  };
  a.extend = function(b, c, g, e) {
    (!c || !b) && a.error("extend failed, verify dependencies");
    var f = c.prototype,
      l = a.Object(f);
    b.prototype = l;
    l.constructor = b;
    b.superclass = f;
    c != Object && f.constructor == h.constructor && (f.constructor = c);
    g && a.mix(l, g, !0);
    e && a.mix(b, e, !0);
    return b
  };
  a.each = function(a, c, g, e) {
    return b(a, c, g, e, "each")
  };
  a.some = function(a, c, g, e) {
    return b(a, c, g, e, "some")
  };
  a.clone = function(b, g, e, f, h, l) {
    var u, v, w;
    if (!c.isObject(b) || a.instanceOf(b, YUI) || b.addEventListener || b.attachEvent) return b;
    v = l || {};
    switch (c.type(b)) {
    case "date":
      return new Date(b);
    case "regexp":
      return b;
    case "function":
      return b;
    case "array":
      u = [];
      break;
    default:
      if (b["_~yuim~_"]) return v[b["_~yuim~_"]];
      w = a.guid();
      u = g ? {} : a.Object(b);
      b["_~yuim~_"] = w;
      v[w] = b
    }
    a.each(b, function(c, l) {
      if ((l || 0 === l) && (!e || !1 !== e.call(f || this, c, l, this, b)) && "_~yuim~_" !== l && "prototype" != l) this[l] = a.clone(c, g, e, f, h || b, v)
    }, u);
    l || (a.Object.each(v, function(a, b) {
      if (a["_~yuim~_"]) try {
        delete a["_~yuim~_"]
      } catch (c) {
        a["_~yuim~_"] = null
      }
    }, this), v = null);
    return u
  };
  a.bind = function(b, g) {
    var e = 2 < arguments.length ? a.Array(arguments, 2, !0) : null;
    return function() {
      var f = c.isString(b) ? g[b] : b,
        h = e ? e.concat(a.Array(arguments, 0, !0)) : arguments;
      return f.apply(g || f, h)
    }
  };
  a.rbind = function(b, g) {
    var e = 2 < arguments.length ? a.Array(arguments, 2, !0) : null;
    return function() {
      var f = c.isString(b) ? g[b] : b,
        h = e ? a.Array(arguments, 0, !0).concat(e) : arguments;
      return f.apply(g || f, h)
    }
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("io-base", function(a, f) {
  function b(b) {
    this._uid = "io:" + g++;
    this._init(b);
    a.io._map[this._uid] = this
  }
  var c = "start complete end success failure progress".split(" "),
    e = ["status", "statusText", "responseText", "responseXML"],
    h = a.config.win,
    g = 0;
  b.prototype = {
    _id: 0,
    _headers: {
      "X-Requested-With": "XMLHttpRequest"
    },
    _timeout: {},
    _init: function(b) {
      var g, e;
      this.cfg = b || {};
      a.augment(this, a.EventTarget);
      g = 0;
      for (e = c.length; g < e; ++g) this.publish("io:" + c[g], a.merge({
        broadcast: 1
      }, b)), this.publish("io-trn:" + c[g], b)
    },
    _create: function(b, c) {
      var g = this,
        e = {
          id: a.Lang.isNumber(c) ? c : g._id++,
          uid: g._uid
        }, f = b.xdr ? b.xdr.use : null,
        l = b.form && b.form.upload ? "iframe" : null;
      "native" === f && (f = a.UA.ie && !n ? "xdr" : null, g.setHeader("X-Requested-With"));
      e = (f = f || l) ? a.merge(a.IO.customTransport(f), e) : a.merge(a.IO.defaultTransport(), e);
      e.notify && (b.notify = function(a, b, c) {
        g.notify(a, b, c)
      });
      !f && (h && h.FormData && b.data instanceof h.FormData) && (e.c.upload.onprogress = function(a) {
        g.progress(e, a, b)
      }, e.c.onload = function(a) {
        g.load(e, a, b)
      }, e.c.onerror = function(a) {
        g.error(e, a, b)
      }, e.upload = !0);
      return e
    },
    _destroy: function(b) {
      h && (!b.notify && !b.xdr) && (l && !b.upload ? b.c.onreadystatechange = null : b.upload ? (b.c.upload.onprogress = null, b.c.onload = null, b.c.onerror = null) : a.UA.ie && !b.e && b.c.abort());
      b.c = null
    },
    _evt: function(b, g, e) {
      var f, h = e.arguments,
        l = this.cfg.emitFacade,
        k = "io:" + b,
        m = "io-trn:" + b;
      this.detach(m);
      g.e && (g.c = {
        status: 0,
        statusText: g.e
      });
      f = [l ? {
        id: g.id,
        data: g.c,
        cfg: e,
        arguments: h
      } : g.id];
      l || (b === c[0] || b === c[2] || (g.evt ? f.push(g.evt) : f.push(g.c)), h && f.push(h));
      f.unshift(k);
      this.fire.apply(this, f);
      e.on && (f[0] = m, this.once(m, e.on[b], e.context || a), this.fire.apply(this, f))
    },
    start: function(a, b) {
      this._evt(c[0], a, b)
    },
    complete: function(a, b) {
      this._evt(c[1], a, b)
    },
    end: function(a, b) {
      this._evt(c[2], a, b);
      this._destroy(a)
    },
    success: function(a, b) {
      this._evt(c[3], a, b);
      this.end(a, b)
    },
    failure: function(a, b) {
      this._evt(c[4], a, b);
      this.end(a, b)
    },
    progress: function(a, b, g) {
      a.evt = b;
      this._evt(c[5], a, g)
    },
    load: function(a, b, g) {
      a.evt = b.target;
      this._evt(c[1], a, g)
    },
    error: function(a, b, g) {
      a.evt = b;
      this._evt(c[4], a, g)
    },
    _retry: function(a, b, c) {
      this._destroy(a);
      c.xdr.use = "flash";
      return this.send(b, c, a.id)
    },
    _concat: function(a, b) {
      return a += (-1 === a.indexOf("?") ? "?" : "&") + b
    },
    setHeader: function(a, b) {
      b ? this._headers[a] = b : delete this._headers[a]
    },
    _setHeaders: function(b, c) {
      c = a.merge(this._headers, c);
      a.Object.each(c, function(a, g) {
        "disable" !== a && b.setRequestHeader(g, c[g])
      })
    },
    _startTimeout: function(a, b) {
      var c = this;
      c._timeout[a.id] = setTimeout(function() {
        c._abort(a, "timeout")
      }, b)
    },
    _clearTimeout: function(a) {
      clearTimeout(this._timeout[a]);
      delete this._timeout[a]
    },
    _result: function(a, b) {
      var c;
      try {
        c = a.c.status
      } catch (g) {
        c = 0
      }
      200 <= c && 300 > c || 304 === c || 1223 === c ? this.success(a, b) : this.failure(a, b)
    },
    _rS: function(a, b) {
      var c = this;
      4 === a.c.readyState && (b.timeout && c._clearTimeout(a.id), setTimeout(function() {
        c.complete(a, b);
        c._result(a, b)
      }, 0))
    },
    _abort: function(a, b) {
      a && a.c && (a.e = b, a.c.abort())
    },
    send: function(b, c, g) {
      var f, h, l, k, m, x = this,
        C = b,
        z = {};
      c = c ? a.Object(c) : {};
      f = x._create(c, g);
      g = c.method ? c.method.toUpperCase() : "GET";
      k = c.sync;
      m = c.data;
      a.Lang.isObject(m) && !m.nodeType && !f.upload && (a.QueryString && a.QueryString.stringify) && (c.data = m = a.QueryString.stringify(m));
      if (c.form) {
        if (c.form.upload) return x.upload(f, b, c);
        m = x._serialize(c.form, m)
      }
      m || (m = "");
      if (m) switch (g) {
      case "GET":
      case "HEAD":
      case "DELETE":
        C = x._concat(C, m);
        m = "";
        break;
      case "POST":
      case "PUT":
        c.headers = a.merge({
          "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
        }, c.headers)
      }
      if (f.xdr) return x.xdr(C, f, c);
      if (f.notify) return f.c.send(f, b, c);
      !k && !f.upload && (f.c.onreadystatechange = function() {
        x._rS(f,
        c)
      });
      try {
        if (f.c.open(g, C, !k, c.username || null, c.password || null), x._setHeaders(f.c, c.headers || {}), x.start(f, c), c.xdr && (c.xdr.credentials && n) && (f.c.withCredentials = !0), f.c.send(m), k) {
          h = 0;
          for (l = e.length; h < l; ++h) z[e[h]] = f.c[e[h]];
          z.getAllResponseHeaders = function() {
            return f.c.getAllResponseHeaders()
          };
          z.getResponseHeader = function(a) {
            return f.c.getResponseHeader(a)
          };
          x.complete(f, c);
          x._result(f, c);
          return z
        }
      } catch (A) {
        if (f.xdr) return x._retry(f, b, c);
        x.complete(f, c);
        x._result(f, c)
      }
      c.timeout && x._startTimeout(f,
      c.timeout);
      return {
        id: f.id,
        abort: function() {
          return f.c ? x._abort(f, "abort") : !1
        },
        isInProgress: function() {
          return f.c ? f.c.readyState % 4 : !1
        },
        io: x
      }
    }
  };
  a.io = function(c, g) {
    var e = a.io._map["io:0"] || new b;
    return e.send.apply(e, [c, g])
  };
  a.io.header = function(c, g) {
    (a.io._map["io:0"] || new b).setHeader(c, g)
  };
  a.IO = b;
  a.io._map = {};
  var l = h && h.XMLHttpRequest,
    k = h && h.XDomainRequest,
    m = h && h.ActiveXObject,
    n = l && "withCredentials" in new XMLHttpRequest;
  a.mix(a.IO, {
    _default: "xhr",
    defaultTransport: function(b) {
      if (b) a.IO._default = b;
      else return {
        c: a.IO.transports[a.IO._default](),
        notify: "xhr" === a.IO._default ? !1 : !0
      }
    },
    transports: {
      xhr: function() {
        return l ? new XMLHttpRequest : m ? new ActiveXObject("Microsoft.XMLHTTP") : null
      },
      xdr: function() {
        return k ? new XDomainRequest : null
      },
      iframe: function() {
        return {}
      },
      flash: null,
      nodejs: null
    },
    customTransport: function(b) {
      var c = {
        c: a.IO.transports[b]()
      };
      c["xdr" === b || "flash" === b ? "xdr" : "notify"] = !0;
      return c
    }
  });
  a.mix(a.IO.prototype, {
    notify: function(a, b, c) {
      switch (a) {
      case "timeout":
      case "abort":
      case "transport error":
        b.c = {
          status: 0,
          statusText: a
        }, a = "failure";
      default:
        this[a].apply(this, [b, c])
      }
    }
  })
}, "3.17.2", {
  requires: ["event-custom-base", "querystring-stringify-simple"]
});
YUI.add("dom-style", function(a, f) {
  var b = a.config.doc,
    c = a.DOM,
    e, h, g = /width|height|top|left|right|bottom|margin|padding/i;
  a.Array.each(["WebkitTransform", "MozTransform", "OTransform", "msTransform", "transform"], function(a) {
    a in b.documentElement.style && (e = a, h = a + "Origin")
  });
  a.mix(c, {
    DEFAULT_UNIT: "px",
    CUSTOM_STYLES: {},
    setStyle: function(a, b, e, f) {
      f = f || a.style;
      var h = c.CUSTOM_STYLES;
      if (f) {
        null === e || "" === e ? e = "" : !isNaN(Number(e)) && g.test(b) && (e += c.DEFAULT_UNIT);
        if (b in h) {
          if (h[b].set) {
            h[b].set(a, e, f);
            return
          }
          "string" === typeof h[b] && (b = h[b])
        } else "" === b && (b = "cssText", e = "");
        f[b] = e
      }
    },
    getStyle: function(a, b, g) {
      g = g || a.style;
      var e = c.CUSTOM_STYLES,
        f = "";
      if (g) {
        if (b in e) {
          if (e[b].get) return e[b].get(a, b, g);
          "string" === typeof e[b] && (b = e[b])
        }
        f = g[b];
        "" === f && (f = c.getComputedStyle(a, b))
      }
      return f
    },
    setStyles: function(b, g) {
      var e = b.style;
      a.each(g, function(a, g) {
        c.setStyle(b, g, a, e)
      }, c)
    },
    getComputedStyle: function(a, b) {
      var c = "",
        g = a.ownerDocument;
      a.style && g.defaultView && g.defaultView.getComputedStyle && (g = g.defaultView.getComputedStyle(a,
      null)) && (c = g[b]);
      return c
    }
  });
  void 0 !== b.documentElement.style.cssFloat ? c.CUSTOM_STYLES["float"] = "cssFloat" : void 0 !== b.documentElement.style.styleFloat && (c.CUSTOM_STYLES["float"] = "styleFloat");
  a.UA.webkit && (c.getComputedStyle = function(a, b) {
    var c = a.ownerDocument.defaultView.getComputedStyle(a, "")[b];
    "rgba(0, 0, 0, 0)" === c && (c = "transparent");
    return c
  });
  a.DOM._getAttrOffset = function(b, c) {
    var g = a.DOM.getComputedStyle(b, c),
      e = b.offsetParent,
      f;
    "auto" === g && (f = a.DOM.getStyle(b, "position"), "static" === f || "relative" === f ? g = 0 : e && e.getBoundingClientRect && (g = e.getBoundingClientRect()[c], e = b.getBoundingClientRect()[c], g = "left" === c || "top" === c ? e - g : g - b.getBoundingClientRect()[c]));
    return g
  };
  a.DOM._getOffset = function(a) {
    var b, g = null;
    a && (b = c.getStyle(a, "position"), g = [parseInt(c.getComputedStyle(a, "left"), 10), parseInt(c.getComputedStyle(a, "top"), 10)], isNaN(g[0]) && (g[0] = parseInt(c.getStyle(a, "left"), 10), isNaN(g[0]) && (g[0] = "relative" === b ? 0 : a.offsetLeft || 0)), isNaN(g[1]) && (g[1] = parseInt(c.getStyle(a, "top"), 10), isNaN(g[1]) && (g[1] = "relative" === b ? 0 : a.offsetTop || 0)));
    return g
  };
  e && (c.CUSTOM_STYLES.transform = {
    set: function(a, b, c) {
      c[e] = b
    },
    get: function(a) {
      return c.getComputedStyle(a, e)
    }
  }, c.CUSTOM_STYLES.transformOrigin = {
    set: function(a, b, c) {
      c[h] = b
    },
    get: function(a) {
      return c.getComputedStyle(a, h)
    }
  })
}, "3.17.2", {
  requires: ["dom-base"]
});
YUI.add("squarespace-util", function(a) {
  a.namespace("Squarespace.Constants");
  a.Squarespace.SmugMugError = {
    INVALID_NICKNAME: 16,
    EXPIRED_TOKEN: 36,
    SERVICE_UNAVAILABLE: 98
  };
  a.Squarespace.Constants = {
    hiddenNavigationName: "_hidden",
    README_PAGE_NAME: "readme",
    MAX_SMUGMUG_GALLERY_COUNT: 20,
    MAX_SMUGMUG_GALLERY_SIZE: 50,
    MAX_BLOCKS_PER_LAYOUT: 60,
    MAX_TRACKS_IN_ALBUM: 60,
    DAMASK_ANIMATION_DURATION: 500,
    SQUARESPACE_SEVEN_PREVIEW_COOKIE: "squarespace_seven_preview"
  };
  a.Squarespace.BetaFAQUrl = "http://www.squarespace.com/beta-faq";
  a.Squarespace.V6FAQUrl = "http://help.squarespace.com/";
  a.Squarespace.MediaProcessingErrors = {
    UPLOAD: 1,
    PROCESSING: 2
  };
  a.Squarespace.FileUploadRequestState = {
    WAITING: 1,
    UPLOADING: 2,
    PROCESSING: 3,
    COMPLETE: 4,
    ERROR: 5
  };
  a.Squarespace.FileUploadErrors = {
    FILE_SIZE: 1,
    FILE_TYPE: 2,
    BATCH_QUANTITY: 3
  };
  a.Squarespace.FolderBehavior = {
    INDEX: 1,
    REDIRECT: 2,
    NONE: 3
  };
  a.Squarespace.ContentStringConstants = {
    text: a.Squarespace.RecordType.TEXT,
    image: a.Squarespace.RecordType.IMAGE,
    quote: a.Squarespace.RecordType.QUOTE,
    gallery: a.Squarespace.RecordType.GALLERY,
    link: a.Squarespace.RecordType.LINK,
    chat: a.Squarespace.RecordType.CHAT,
    audio: a.Squarespace.RecordType.AUDIO,
    video: a.Squarespace.RecordType.VIDEO,
    review: a.Squarespace.RecordType.REVIEW,
    store_item: a.Squarespace.RecordType.STORE_ITEM,
    event: a.Squarespace.RecordType.EVENT,
    thread: a.Squarespace.RecordType.THREAD,
    tweet: a.Squarespace.RecordType.TWEET,
    rss: a.Squarespace.RecordType.RSS,
    geo: a.Squarespace.RecordType.CHECKIN,
    delicious: a.Squarespace.RecordType.DELICIOUS,
    kbarticle: a.Squarespace.RecordType.KBARTICLE
  };
  a.Squarespace.RecordTypeString = {};
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.TEXT] = "text";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.IMAGE] = "image";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.QUOTE] = "quote";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.LINK] = "link";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.CHAT] = "chat";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.AUDIO] = "audio";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.VIDEO] = "video";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.REVIEW] = "review";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.STORE_ITEM] = "store_item";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.EVENT] = "event";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.THREAD] = "thread";
  a.Squarespace.RecordTypeString[a.Squarespace.RecordType.GALLERY] = "gallery";
  a.Squarespace.ProductTypes = {
    PHYSICAL: 1,
    DIGITAL: 2,
    SERVICE: 3
  };
  a.Squarespace.StoreStates = {
    LIVE: 1,
    TEST_MODE: 2,
    NOT_CONNECTED: 3
  };
  a.Squarespace.Variants = {
    SystemAttributes: "sku onSale price pricing stock qtyInStock salePrice unlimited dimensions weight length width height".split(" ")
  };
  a.Squarespace.PlanIds = {
    DOMAIN: "domain",
    STANDARD: "std",
    UNLIMITED: "unltd",
    BUSINESS: "bsnss"
  };
  a.Squarespace.RegionPolicies = {
    ALL_USA: {
      value: 1,
      title: "Entire United States"
    },
    ONLY_CONTIGUOUS: {
      value: 2,
      title: "Only Contiguous 48 States"
    },
    INTERNATIONAL: {
      value: 3,
      title: "International"
    }
  };
  a.Squarespace.ChildGroups = {
    GENERIC: null,
    DIGITAL_GOODS: "digitalGoods"
  };
  a.Squarespace.FileTypes = {
    IMAGE: 1,
    AUDIO: 2,
    VIDEO: 3,
    DOCUMENT: 4,
    BINARY: 5
  };
  a.Squarespace.MessageLevels = {
    TRACE: 1,
    DEBUG: 2,
    INFO: 3,
    WARN: 4,
    ERROR: 5
  };
  a.Squarespace.CollectionTypes = {
    GENERIC: 1,
    SUBSCRIPTION: 2,
    TWITTER: 3,
    FOURSQUARE: 4,
    INSTAGRAM: 5,
    GALLERY_BLOCK: 6,
    TEMPLATE_PAGE: 7,
    SPLASH_PAGE: 8,
    PAGE: 10,
    FIVEHUNDREDPIX: 11,
    FLICKR: 12,
    PRODUCT: 13,
    SLIDE_GALLERY: 15,
    SLIDE_ALBUM: 16,
    SLIDE_VIDEO: 17,
    ALBUM_BLOCK: 18
  };
  a.Squarespace.UploadModes = {
    TRANSIENT: "transient",
    GLOBAL: "global",
    CHILD: "child",
    ITEM: "item"
  };
  a.Squarespace.MaxTagLength = 50;
  a.Squarespace.MaxCategoryLength = 25;
  a.Squarespace.BlockTypeByString = {};
  for (var f in a.Squarespace.BlockType) a.Squarespace.BlockTypeByString[a.Squarespace.BlockType[f]] = f;
  a.Squarespace.CollectionSyncStatus = {
    PENDING: "pending",
    SYNCED: "synced"
  };
  a.Squarespace.CollectionView = {
    LIST: "list",
    GRID: "grid",
    PRODUCT: "product"
  };
  a.Squarespace.DomainStatus = {
    OK_V5: 1,
    OK_V6: 2,
    BAD_DOMAIN: 3,
    NOT_REGISTERED: 4,
    V5_V6_CONFLICT: 5,
    NEED_A_RECORD_ON_TLD: 6,
    NEED_CNAME_RECORD_ON_WWW: 7,
    BAD_MX_DETECTED: 8,
    CHECK_FAILED: 9,
    V6_CNAMED: 10
  };
  a.Squarespace.CommerceCouponTypes = {
    ALL_ORDERS: 1,
    ORDERS_OVER: 2,
    CATEGORIES: 3,
    SINGLE_PRODUCT: 4
  };
  a.Squarespace.CommerceDiscountTypes = {
    FLAT: 1,
    PERCENTAGE: 2,
    FREE_SHIPPING: 3
  };
  a.Squarespace.FacebookExtendedPermissions = "user_checkins,offline_access,manage_pages,publish_stream";
  a.Squarespace.PasswordMask = "__MASKED_FIELD__";
  a.Squarespace.Events = {
    VIEW: "View",
    LIKE: "Like",
    SHARE: "Share",
    CART_ADD: "Cart Add",
    CHECKOUT_STARTED: "Checkout Started",
    CHECKOUT_COMPLETED: "Checkout Completed"
  };
  a.Squarespace.API_ROOT = "/api/";
  a.Squarespace.REST_API_ROOT = "/api/rest/";
  a.Squarespace.API_ROOT = "/api/";
  a.Squarespace.GalleryOptions = {
    design: {
      title: "Gallery Design",
      description: "Gallery designs give you a variety of ways to display images.",
      type: "select",
      defaultValue: "slideshow",
      options: {
        slideshow: {
          title: "Slideshow",
          values: {
            thumbnails: !0
          }
        },
        slider: {
          title: "Slider",
          values: {
            thumbnails: !1
          }
        },
        grid: {
          title: "Grid",
          values: {
            thumbnails: !1,
            autoplay: !1
          }
        },
        stacked: {
          title: "Stacked",
          values: {
            thumbnails: !1,
            autoplay: !1
          }
        }
      }
    },
    autoplay: {
      type: "boolean",
      title: "Autoplay",
      description: "Automatically transition to the next slide after a set duration.",
      defaultValue: !1,
      onlyFor: ["design:slideshow", "design:slider", "design:standard"]
    },
    "autoplay-duration": {
      type: "slider",
      title: "Autoplay Delay (Seconds)",
      description: "Seconds between autoplay transitions.",
      min: 1,
      max: 10,
      defaultValue: 5,
      onlyFor: ["autoplay:true"]
    },
    controls: {
      type: "boolean",
      defaultValue: !1,
      title: "Controls",
      description: "Show the next and previous image controls.",
      onlyFor: ["design:slideshow", "design:slider", "design:standard"]
    },
    "auto-crop": {
      type: "boolean",
      title: "Auto Crop",
      defaultValue: !0,
      description: "Auto crop the images.",
      onlyFor: ["design:slideshow", "design:standard"]
    },
    "aspect-ratio": {
      title: "Aspect Ratio",
      type: "select",
      defaultValue: "square",
      options: {
        square: {
          title: "1:1 Square"
        },
        standard: {
          title: "3:2 Standard"
        },
        "standard-vertical": {
          title: "2:3 Standard (Vertical)"
        },
        "four-three": {
          title: "4:3 Four-Three"
        },
        "three-four-vertical": {
          title: "3:4 Three-Four (Vertical)"
        },
        widescreen: {
          title: "16:9 Widescreen"
        },
        "anamorphic-widescreen": {
          title: "2.40 Anamorphic Widescreen"
        }
      },
      onlyFor: ["design:grid"]
    },
    "square-thumbs": {
      type: "boolean",
      title: "Crop Images",
      description: "Crop images to the aspect ratio.",
      defaultValue: !1,
      onlyFor: ["design:grid", "design:standard"]
    },
    thumbnails: {
      type: "boolean",
      defaultValue: !1,
      title: "Thumbnails",
      description: "Show thumbnails.",
      onlyFor: ["design:slideshow"]
    },
    "thumbnail-strip-height": {
      type: "slider",
      title: "Thumbnail Strip Height",
      description: "Select the thumbnail strip height.",
      min: 0,
      max: 200,
      defaultValue: 80,
      onlyFor: ["thumbnails:true"]
    },
    "thumbnail-strip-margin": {
      type: "slider",
      title: "Thumbnail Strip Margin",
      description: "Select the distance between the main image and the thumbnail strip.",
      min: 0,
      max: 60,
      defaultValue: 20,
      onlyFor: ["thumbnails:true"]
    },
    "show-meta": {
      type: "boolean",
      title: "Show Title and Description",
      defaultValue: !0,
      description: "Display the title and description.",
      onlyFor: ["design:slideshow"]
    },
    "meta-position": {
      title: "Title and Description Position",
      description: "Control the location of the Image's Title and Description.",
      type: "select",
      padding: [10, 0],
      defaultValue: "bottom",
      options: {
        top: {
          title: "Top"
        },
        "top-left": {
          title: "Top Left"
        },
        "top-right": {
          title: "Top Right"
        },
        center: {
          title: "Center"
        },
        bottom: {
          title: "Bottom"
        },
        "bottom-left": {
          title: "Bottom Left"
        },
        "bottom-right": {
          title: "Bottom Right"
        }
      },
      onlyFor: ["show-meta:true"]
    },
    "show-meta-on-hover": {
      type: "boolean",
      title: "Show on Hover",
      defaultValue: !1,
      description: "Show the title and description only on hover.",
      onlyFor: ["show-meta:true"]
    },
    "active-alignment": {
      title: "Active Alignment",
      description: "Where does the active image align to in the slider.",
      type: "select",
      defaultValue: "center",
      options: {
        left: {
          title: "Left"
        },
        center: {
          title: "Center"
        },
        right: {
          title: "Right"
        }
      },
      onlyFor: ["design:slider"]
    },
    "thumbnails-per-row": {
      type: "slider",
      title: "Thumbnails Per Row",
      description: "Choose the thumbnails per row.",
      min: 1,
      max: 10,
      defaultValue: 4,
      onlyFor: ["design:grid", "design:standard"]
    },
    padding: {
      type: "slider",
      title: "Padding",
      description: "Padding around the gridded images.",
      min: 0,
      max: 50,
      defaultValue: 20,
      onlyFor: ["design:grid", "design:autocolumns", "design:standard"]
    },
    lightbox: {
      type: "boolean",
      defaultValue: !1,
      title: "Lightbox",
      description: "Clicking on the images will pop the image up in a lightbox.",
      onlyFor: ["design:grid", "design:autocolumns"]
    },
    "max-width": {
      type: "slider",
      title: "Max Width",
      description: "Maximum width for each column",
      min: 100,
      max: 300,
      defaultValue: 300,
      onlyFor: ["design:autocolumns"]
    }
  };
  a.Squarespace.isSynchronizedCollection = function(a) {
    return a.getType() && 50 <= a.getType() ? !0 : a.getConfiguration()["synchronized"]
  };
  a.Squarespace.Template = Singleton.create({
    getTweakValue: function(b) {
      if (b) return a.config.win.Static.SQUARESPACE_CONTEXT.tweakJSON[b] || a.config.win.Static.SQUARESPACE_CONTEXT.tweakJSON[b.replace("@", "").replace(".", "")]
    }
  });
  a.Squarespace.Utils = {
    drawRegion: function(b) {
      var c = a.one(".sqs-draw-region");
      c || (c = a.Node.create('<div class="sqs-draw-region" style="background:rgba(255,0,0,0.5);display:block;"></div>'), a.one("body").appendChild(c));
      b.hasOwnProperty("x") && b.x !== b.left && console.warn("x and left do not match (x: " + b.x + ", left: " + b.left + ").");
      b.hasOwnProperty("y") && b.y !== b.top && console.warn("y and top do not match (y: " + b.y + ", top: " + b.top + ").");
      b.bottom - b.top !== b.height && console.warn("top -> bottom distance do not match height (diff: " + (b.bottom - b.top) + ", height: " + b.height + ").");
      b.right - b.left !== b.width && console.warn("left -> right distance do not match width  (diff: " + (b.right - b.left) + ", width: " + b.width + ").");
      c.setStyles({
        position: "fixed",
        top: b.top,
        left: b.left,
        width: b.width,
        height: b.height,
        zIndex: Math.pow(10, 6)
      })
    },
    logout: function() {
      !this.LOGGING_OUT && Static.SQUARESPACE_CONTEXT.authenticatedAccount && (this.LOGGING_OUT = !0, a.Data.post({
        url: "/api/auth/Logout",
        secure: !0,
        success: function(b) {
          a.Global.fire("squarespace:logout");
          document.location.href = "http://" + document.location.host + "/?logout=true";
          this.LOGGING_OUT = !1;
          a.Squarespace.Utils.removeSharedSSIdentity()
        }
      }, this))
    },
    getBookmarkletUrl: function(b) {
      return ("javascript:(function () {var%20d = document,w       = window,ud      = 'https://" + a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "identifier"]) + "." + Static.SQUARESPACE_CONTEXT.appDomain + "',s       = '/sharer',l       = d.location,ph      = 612,pw      = 800,cid     = '" + b.get("id") + "',mid     = '" + Static.SQUARESPACE_CONTEXT.authenticatedAccount.id + "',e       = encodeURIComponent,p       = '?src=bm&v=2&u='+e(l.href)+'&t='+e(d.title)+'&cid='+e(cid)+'&mid='+e(mid);try {sel = ((w.getSelection && w.getSelection()) ||(d.getSelection && d.getSelection()) ||(d.selection && d.selection.createRange && d.selection.createRange().text));}catch(e){sel = '';}p += '&sel='+e(sel);a = function () {if (!window.open(ud + s +p, 'sharer', 'status=0,resizable=0,width='+pw+',height='+ph+',top='+parseInt(((screen.height/2)-(ph/2))*.4)+',left='+((screen.width/2)-(pw/2))+',location=0,scrollbars=0,titlebar=0,toolbar=0')) {l.href = ud + s + p;}};if (/Firefox/.test(navigator.userAgent)) {setTimeout(a, 0);}else {a();}})();void(0);").replace(/\s/g, "")
    },
    measureNode: function(b) {
      var c = b.inDoc();
      c || (b.setStyle("visibility", "hidden"), a.one("body").appendChild(b));
      var e = b.cloneNode(!0);
      e.setStyles({
        visibility: "hidden",
        display: "block",
        position: "absolute"
      });
      b.insert(e, "after");
      var f = e.get("offsetHeight"),
        h = e.get("offsetWidth");
      e.remove(!0);
      c || (b.remove(), b.setStyle("visibility", null));
      return {
        height: f,
        width: h
      }
    },
    lightboxAsset: function(b) {
      a.Data.get({
        url: "/api/commondata/GetItem",
        data: {
          itemId: b
        },
        success: function(b) {
          a.use("squarespace-gallery-ng", function(a) {
            (new a.Squarespace.Lightbox2({
              content: a.Node.create('<img data-src="' + b.item.assetUrl + '" data-image-dimensions="' + b.item.originalSize + '" />')
            })).render()
          })
        }
      })
    },
    reverseMap: function(b) {
      return a.Array.hash(a.Object.values(b), a.Object.keys(b))
    },
    preFormatMarkdown: function(b) {
      var c = function(a, b, c) {
        return "\n" === a && "\n" !== c[b - 1] && "\n" !== c[b + 1] ? "<br />" : a
      };
      return b ? a.Array.map(b.split(""), c).join("") : ""
    },
    userHasAccessPermission: function(b) {
      return !a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "accessPermissions"]) ? !1 : 0 <= a.Array.indexOf(Static.SQUARESPACE_CONTEXT.accessPermissions,
      b)
    },
    isSquarespaceAdmin: function() {
      return a.Squarespace.Utils.userHasAccessPermission(a.Squarespace.AccessPermissions.ADMIN)
    },
    isEqual: function(b, c) {
      if (a.Lang.isObject(b) && a.Lang.isObject(c)) {
        if (a.Object.keys(b).length !== a.Object.keys(c).length) return !1;
        var e = !0;
        a.Object.each(b, function(a, b) {
          if (!e) return !1;
          e = e && this.isEqual(a, c[b])
        }, this);
        return e
      }
      return b === c
    },
    slugify: function(a) {
      return this.createUrl(a)
    },
    createUrl: function(a, b) {
      var c = a;
      b && (c += b);
      c = c.replace(/\//g, "");
      return this.createUrlWithSlash(c)
    },
    createUrlWithSlash: function(a) {
      return a = a.trim().replace(RegExp("[ ]+", "g"), " ").replace(RegExp("[ ]", "g"), "-").replace(RegExp("[^a-zA-Z0-9/\\-]", "g"), "").replace(RegExp("[\\.\\-]{2,}", "g"), "-").replace(RegExp("[\\.\\/]{2,}", "g"), "/").toLowerCase()
    },
    getRandomAlphanumericString: function(a) {
      for (var b = "", c = 0; c < a; ++c) var e = Math.floor(62 * Math.random()),
        b = b + "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(e);
      return b
    },
    getGuid: function() {
      var a = function() {
        return (65536 * (1 + Math.random()) | 0).toString(16).substring(1)
      };
      return a() + a() + a() + a() + a()
    },
    getRandomRev: function() {
      return Math.floor(99999999 * Math.random() + 1)
    },
    getDomainFromUrl: function(a) {
      return a.match(/:\/\/(www\.)?(.[^\/:]+)/)[2]
    },
    makeRelativeUrlAbsolute: function(a) {
      if (0 === a.indexOf("/")) {
        var b = document.location.href;
        if (0 === b.indexOf("http://")) return b.substring(0, b.indexOf("/", 8)) + a;
        if (0 === b.indexOf("https://")) return b.substring(0, b.indexOf("/", 9)) + a
      }
      return a
    },
    getInnerTextFromHtml: function(b) {
      var c = a.Node.create("<div>");
      c.set("innerHTML", b);
      return c.get("text")
    },
    humanizeBinarySize: function(a) {
      return 1E3 > a ? "~1KB" : 1E6 > a ? (a / 1E3).toFixed(0) + "KB" : (a / 1E6).toFixed(0) + "MB"
    },
    convertToCents: function(a) {
      a = String(a).replace(/[^\d\.]/g, "");
      if ("" === a) return 0;
      a = a.split(".");
      var b = a[0];
      1 < a.length && (b += "." + a[1].substr(0, 2));
      return Math.round(100 * parseFloat(b, 10))
    },
    advancedBrowserCheck: function() {
      return !a.UA.ie || 9 <= a.UA.ie
    },
    isProductionEnvironment: function() {
      return Static.SQUARESPACE_CONTEXT.appDomain && (-1 != Static.SQUARESPACE_CONTEXT.appDomain.indexOf("sqsp.com") || -1 != Static.SQUARESPACE_CONTEXT.appDomain.indexOf("squarespace.com")) ? !0 : !1
    },
    isDamaskEnabled: function(b) {
      if ("true" === a.Cookie.get(a.Squarespace.Constants.SQUARESPACE_SEVEN_PREVIEW_COOKIE)) return !0;
      var c = a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "damaskEnabled"]) || !1;
      return "imagePicker" == b ? c && !0 : "coverPagesEnabled" == b ? c && !0 : c
    },
    isDeveloperModeEnabled: function() {
      return !!a.Object.getValue(a.config.win, ["Static", "SQUARESPACE_CONTEXT", "website", "developerMode"])
    },
    isDamaskAvailable: function() {
      return !0
    },
    isInDamaskFrame: function() {
      try {
        return window.top.Y && window.top.Y != a
      } catch (b) {
        return !1
      }
    },
    isBetaFeatureEnabled: function(b) {
      var c = a.Cookie.get("betaFeatureActive"),
        c = "false" !== c ? !0 : !1;
      a.Lang.isString(b) && "" !== b && (c = "true" === a.Cookie.get(b));
      return a.Lang.isString(b) && b.startsWith("damask") ? c && a.Squarespace.Utils.userHasAccessPermission(a.Squarespace.AccessPermissions.CONFIG_DAMASK) : c && a.Squarespace.Utils.isSquarespaceAdmin()
    },
    isCKEditorEnabled: function() {
      return !0
    },
    isCKShowSourceEnabled: function() {
      return "true" === a.Cookie.get("CKShowSource") && ( !! Static.SQUARESPACE_CONTEXT.impersonatedSession || a.Squarespace.Utils.isSquarespaceAdmin())
    },
    areCookiesEnabled: function() {
      a.Lang.isUndefined(this._cookiesEnabled) && (a.Cookie.set("pWVMhBGAwMLSLoNIGdAn", !0), this._cookiesEnabled = !! a.Cookie.get("pWVMhBGAwMLSLoNIGdAn"));
      return this._cookiesEnabled
    },
    areServiceProductsAndProductFormsEnabled: function() {
      var b = "lukes-lobster chris-owens tanmanphotography roberto-saldivar mark-lynch-03cg darren-freak orla-sheridan-s51s joanna-breugem nabtest miamidistrict tiara-cloud-xj5c clsacc-trial-1 luke-rutherford-qsqc liana-delaurent-koa6 alix-filer-hkm1 morning-star-ldzi julie-mcbarron computational-thinkers cory-parker amy-monroe laprosette paul-gorman swann-cardot-q7hx jonathan-delarosa jason-james-886j filomena-tasoluk roberto-saldivar-didy mycheckengine thomas-hoover val-wright elitetravive jay-parkin-h8y1 ysu andrew-hunt-l612 justin-sutter-9lxk beer-dreamer".split(" ");
      return a.Squarespace.Utils.isBetaFeatureEnabled() || -1 !== b.indexOf(a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "identifier"]))
    },
    isNewslettersEnabled: function() {
      return a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "newslettersEnabled"]) && this.isBetaFeatureEnabled() ? !0 : !1
    },
    isSmugMugEnabled: function() {
      return !0
    },
    findItemById: function(a) {
      return Static.SQUARESPACE_CONTEXT.item && Static.SQUARESPACE_CONTEXT.item.id == a ? Static.SQUARESPACE_CONTEXT.item : Static.SQUARESPACE_CONTEXT.itemsById ? Static.SQUARESPACE_CONTEXT.itemsById[a] : null
    },
    isSystemVariantOption: function(b) {
      return -1 !== a.Squarespace.Variants.SystemAttributes.indexOf(b)
    },
    isInIframe: function() {
      return window.top !== window.self
    },
    storeSharedSSIdentity: function() {
      try {
        var b = {
          identifier: a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "identifier"])
        }, c = btoa(JSON.stringify(b));
        a.Cookie.set("ss_lastid", c, {
          domain: Static.SQUARESPACE_CONTEXT.appDomain,
          path: "/"
        })
      } catch (e) {
        console.warn("Failed to store ss_lastid", e)
      }
    },
    removeSharedSSIdentity: function() {
      try {
        a.Cookie.remove("ss_lastid", {
          domain: Static.SQUARESPACE_CONTEXT.appDomain,
          path: "/"
        })
      } catch (b) {
        console.warn("Failed to remove ss_lastid", b)
      }
    },
    getSharedSSIdentity: function() {
      var b = a.Cookie.get("ss_lastid");
      return a.Lang.isValue(b) ? JSON.parse(atob(b)) : null
    },
    getMemberAtIdentifier: function(b) {
      return new a.Promise(function(c, e) {
        a.Data.get({
          url: "https://" + b + "." + Static.SQUARESPACE_CONTEXT.appDomain + "/api/auth/CheckAuthentication",
          secure: !0,
          success: function(b) {
            a.Lang.isValue(b.member) ? c(b.member) : e()
          },
          failure: function(a) {
            e()
          }
        })
      })
    },
    onPointerAction: function(b,
    c, e) {
      var f = Array.prototype.slice.call(arguments);
      f.splice(1, 0, "on");
      return a.Squarespace.Utils._attachPointerAction.apply(this, f)
    },
    delegatePointerAction: function(b, c, e, f) {
      var h = Array.prototype.slice.call(arguments);
      h.splice(0, 1, a.UA.mobile ? "tap" : "click");
      return b.delegate.apply(b, h)
    },
    _attachPointerAction: function(b, c, e, f) {
      var h = Array.prototype.slice.call(arguments);
      h.splice(0, 2);
      a.UA.mobile ? (h.splice(1, 0, null), h.splice(0, 0, "tap")) : h.splice(0, 0, "click");
      return b[c].apply(b, h)
    }
  };
  a.Squarespace.Rendering = {
    getWidthForHeight: function(a, b, c) {
      return a / b * c
    },
    getHeightForWidth: function(a, b, c) {
      return b / a * c
    },
    getDimensionsFromNode: function(b) {
      if (b = b.getAttribute("data-image-dimensions")) {
        if (a.Lang.isString(b)) return b = b.split("x"), {
          width: parseInt(b[0], 10),
          height: parseInt(b[1], 10)
        }
      } else return {
        width: null,
        height: null
      }
    },
    getSquarespaceSizeForWidth: function(a) {
      return 1E3 < a ? "1500w" : 750 < a ? "1000w" : 500 < a ? "750w" : 300 < a ? "500w" : 100 < a ? "300w" : "100w"
    },
    splitScriptsAndHTML: function(a) {
      for (var b = a.indexOf("<script>"), c = -1, e = "", f = "", h = 0;;) {
        c = a.indexOf("</script>", h);
        if (-1 == c || -1 == b) return {
          html: a,
          script: ""
        };
        var q = a.substring(b + 8, c),
          f = f + q,
          e = e + a.substring(h, b),
          h = c + 9,
          b = a.indexOf("<script>", h);
        if (-1 == b) return 0 == f.length && (f = null), e += a.substring(h), {
          html: e,
          script: f
        }
      }
    },
    getPixelSize: function(a, b) {
      var c = a.split("x");
      return parseInt(c[0], 10) * parseInt(c[1], 10)
    },
    scaleEmbed: function(a, b) {
      var c = /height="([0-9]+)"/.exec(a);
      if (!c) return a;
      var c = parseInt(c[1], 10),
        e = /width="([0-9]+)"/.exec(a);
      if (!e) return a;
      e = parseInt(e[1], 10);
      return a.replace(/height="([0-9]+)"/, 'height="' + c * (b / e) + '"').replace(/width="([0-9]+)"/, 'width="' + b + '"')
    },
    applyStyleToMap: function(a, b) {
      var c = new google.maps.StyledMapType(b, {
        name: "Custom"
      });
      a.mapTypes.set("custom", c);
      a.setMapTypeId("custom")
    },
    createGrayscaleMap: function(a) {
      this.applyStyleToMap(a, [{
        featureType: "landscape.man_made",
        elementType: "all",
        stylers: [{
          lightness: 51
        }]
      }, {
        featureType: "poi",
        elementType: "all",
        stylers: [{
          visibility: "off"
        }]
      }, {
        featureType: "road.local",
        elementType: "all",
        stylers: [{
          gamma: 2.51
        }]
      }, {
        featureType: "road.arterial",
        elementType: "all",
        stylers: [{
          gamma: 1.9
        }]
      }, {
        featureType: "water",
        elementType: "all",
        stylers: [{
          gamma: 1.36
        }]
      }, {
        featureType: "road.highway",
        elementType: "all",
        stylers: [{
          gamma: 1.33
        }]
      }, {
        featureType: "transit.station.rail",
        elementType: "all",
        stylers: [{
          visibility: "simplified"
        }]
      }, {
        featureType: "transit.station.bus",
        elementType: "all",
        stylers: [{
          visibility: "simplified"
        }]
      }, {
        featureType: "transit",
        elementType: "all",
        stylers: [{
          gamma: 1.2
        }, {
          hue: "#0033ff"
        }]
      }, {
        featureType: "administrative.neighborhood",
        elementType: "labels",
        stylers: [{
          gamma: 1.43
        }]
      },
        {
        featureType: "water",
        elementType: "all",
        stylers: [{
          lightness: -47
        }]
      }, {
        featureType: "all",
        elementType: "all",
        stylers: [{
          saturation: -100
        }]
      }, {
        featureType: "road.arterial",
        elementType: "labels",
        stylers: [{
          lightness: 23
        }]
      }])
    },
    getIconUrl: function(a, b, c) {
      return "/universal/images-v6/icons/icon-" + a + "-" + b + "-" + c + ".png"
    },
    onMapConfigure: function(b) {
      if (b = a.one(b)) {
        var c = b.getAncestorData("layout-engine");
        b = b.getAncestorData("manager");
        c && b && c.lm.configureBlock(null, b.boundingEl)
      }
    },
    renderMap: function(b, c, e, f) {
      c = a.merge({
        location: {
          mapLat: 40.720882,
          mapLng: -74.000988,
          mapZoom: 12
        },
        vSize: 12
      }, c);
      if (b) {
        e = e || {};
        var h = b._node;
        if (h.__map) google.maps.event.trigger(h.__map, "resize");
        else {
          b.addClass("page-map");
          b.set("innerHTML", "&nbsp;");
          var p = a.bind(function() {
            h.__geocoder = new google.maps.Geocoder;
            h.__map = new google.maps.Map(h, {
              zoom: c.location.mapZoom,
              center: new google.maps.LatLng(c.location.mapLat, c.location.mapLng),
              mapTypeId: google.maps.MapTypeId.ROADMAP,
              draggable: !0,
              scrollwheel: !0,
              disableDefaultUI: !0
            });
            a.Lang.isUndefined(f) ? a.Squarespace.Rendering.createGrayscaleMap(h.__map) : this.applyStyleToMap(h.__map, f);
            var b = c.location,
              g;
            b.addressLine1 || b.addressLine2 ? (g = b.addressLine1 + " " + b.addressLine2, b.addressCountry && (g += ", " + b.addressCountry)) : g = c.location.mapLat + "," + c.location.mapLng;
            if (c.location.markerLat && c.location.markerLng) {
              var p = new google.maps.LatLng(c.location.markerLat, c.location.markerLng);
              h.__marker = new google.maps.Marker({
                map: h.__map,
                animation: google.maps.Animation.DROP,
                draggable: !1,
                position: p,
                title: b.addressTitle ? b.addressTitle + " " + g : g,
                icon: {
                  url: "/universal/images-v6/icons/icon-map-marker-2x.png",
                  size: new google.maps.Size(52, 68),
                  scaledSize: new google.maps.Size(26, 34),
                  anchor: new google.maps.Point(13, 34)
                }
              });
              a.Lang.isObject(e.infoWindow) && (h.__infoWindow = new google.maps.InfoWindow(a.merge({
                pixelOffset: new google.maps.Size(-13, 10)
              }, e.infoWindow)), e.infoWindow.autoOpen && h.__infoWindow.open(h.__map, h.__marker));
              google.maps.event.addListener(h.__marker, "click", a.bind(function(b, c) {
                if (h.__infoWindow) h.__infoWindow.open(h.__map, h.__marker);
                else {
                  b = b.toUrlValue();
                  var e = c.getZoom(),
                    e = a.QueryString.stringify({
                      sll: b,
                      q: g,
                      z: e
                    });
                  window.open("http://maps.google.com/maps?" + e)
                }
              }, this, p, h.__map))
            }
            h.startEditing = function() {
              h.__map.setOptions({
                draggable: !0,
                scrollwheel: !0,
                disableDefaultUI: !1
              });
              h.__marker && h.__marker.setOptions({
                draggable: !0
              })
            };
            h.stopEditing = function() {
              h.__map.setOptions({
                draggable: !1,
                scrollwheel: !1,
                disableDefaultUI: !0
              });
              h.__marker && h.__marker.setOptions({
                draggable: !1
              })
            };
            a.one(h).fire("maps-loaded");
            google.maps.event.addListener(h.__map, "rightclick", a.bind(this.onMapConfigure, this, h))
          }, this);
          a.Squarespace.GoogleMap.loaded ? p() : (h.__loadingMap = !0, a.Squarespace.GoogleMap.on("load-success", function() {
            h.__loadingMap = !1;
            p()
          }), a.Squarespace.GoogleMap.load())
        }
      } else console.error("Page map node missing...")
    }
  };
  a.Squarespace.EmailUtils = {
    VALID_EMAIL_REGEX: /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,
    isValid: function(b) {
      return 3 > b.length || 256 < b.length ? !1 : a.Squarespace.EmailUtils.VALID_EMAIL_REGEX.test(b)
    }
  };
  var b = function(b) {
    b = a.Node.create('<iframe width="1" height="1" frameborder="0" scrolling="no" src="//squarespace.7eer.net/ifconv?' + b + '"></iframe>');
    a.one("body").append(b)
  };
  a.Squarespace.Marketing = {
    trackAffiliateSignup: function(c) {
      var e = a.merge({
        cid: 1291,
        irchannel: 2895
      }, c),
        e = a.QueryString.stringify(e);
      c = a.merge({
        cid: 362,
        irchannel: 794
      }, c);
      c = a.QueryString.stringify(c);
      b(e);
      b(c)
    },
    trackAffiliatePurchase: function(c) {
      var e = a.merge({
        cid: 1291,
        irchannel: 2959,
        qty1: 1
      }, c),
        e = a.QueryString.stringify(e);
      c = a.merge({
        cid: 362,
        irchannel: 795,
        qty1: 1
      }, c);
      c = a.QueryString.stringify(c);
      b(e);
      b(c)
    },
    trackLanding: function() {
      var b = a.QueryString.parse(document.location.search.substring(1)),
        c = "source campaign subcampaign channel subchannel refer variation mkwid".split(" "),
        e = {
          landing: document.location.href,
          refer: document.referrer,
          rk: parseInt(99999999 * Math.random(), 10)
        };
      navigator.language ? e.lang = navigator.language.toLowerCase() : navigator.browserLanguage && (e.lang = navigator.browserLanguage.toLowerCase());
      self.screen && (e.screen = screen.width + "x" + screen.height);
      for (var f = 0; f < c.length; ++f) {
        var h = c[f];
        h in b && (e[h] = b[h])
      }(new Image(1, 1)).src = "/api/track/Track?" + a.QueryString.stringify(e)
    }
  };
  a.Squarespace.Analytics = {
    hit: function() {
      Static.SQUARESPACE_CONTEXT.item ? a.Squarespace.Analytics.view("item", Static.SQUARESPACE_CONTEXT.item) : Static.SQUARESPACE_CONTEXT.collection && a.Squarespace.Analytics.view("collection", Static.SQUARESPACE_CONTEXT.collection)
    },
    view: function(b, c) {
      a.Squarespace.Analytics.track(a.Squarespace.Events.VIEW, {
        type: b,
        title: c.title,
        url: c.fullUrl
      })
    },
    track: function(b, c) {
      a.Lang.isValue(window.mixpanel) && a.Lang.isValue(window.mixpanel.track) && mixpanel.track(b, c)
    },
    traceInternal: function(a,
    b) {},
    trackInternal: function(b, c, e) {
      c || (c = {});
      Static.SQUARESPACE_CONTEXT.website && (c.websiteId = a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "id"]));
      Static.SQUARESPACE_CONTEXT.templateId && (c.templateId = Static.SQUARESPACE_CONTEXT.templateId);
      void 0 == c.pagePath && (c.pagePath = window.location ? window.location.pathname : "");
      var f = {};
      void 0 != e && (f.end = e);
      a.io("/api/events/RecordEvent", {
        method: "POST",
        data: {
          crumb: a.Cookie.get("crumb"),
          event: b,
          data: a.JSON.stringify(c)
        },
        on: f
      })
    }
  };
  if (a.io) {
    if (!a.UA.gecko && !(a.UA.webkit || 10 <= a.UA.ie)) a.on("domready", function() {
      a.Data.TRANSPORT_READY = !1;
      a.io.transport({
        id: "flash",
        src: "/universal/flash/yui3-3.10.1-io.swf"
      })
    });
    a.on("io:xdrReady", function(b) {
      a.Data.TRANSPORT_READY = !0
    })
  }
  f = a.Cookie ? "true" == a.Cookie.get("SQUARESPACE_DEBUG") : !1;
  a.Data = {
    DEBUG: f,
    TRANSPORT_READY: !0,
    addCrumb: function(b) {
      var c = a.Cookie.get("crumb");
      if (c) {
        b = b.split("?");
        var e = b[1] ? a.QueryString.parse(b[1]) : {};
        e.crumb = c;
        b = b[0] + "?" + a.QueryString.stringify(e)
      }
      return b
    },
    addResourceDomain: function(a) {
      Static.SQUARESPACE_CONTEXT && Static.SQUARESPACE_CONTEXT.resourceDomain && !a.startsWith("http") && !a.startsWith(Static.SQUARESPACE_CONTEXT.resourceDomain) && (a = Static.SQUARESPACE_CONTEXT.resourceDomain + a);
      return a
    },
    sendForm: function(b, c, e) {
      c.data || (c.data = {});
      var f = b.getData(),
        h;
      for (h in f) {
        var p = f[h];
        if (!a.Lang.isUndefined(p) && !(a.Lang.isNull(p) || a.Lang.isObject(p) && a.Object.isEmpty(p))) a.Lang.isObject(p) && !a.Lang.isArray(p) ? c.data[h] = a.JSON.stringify(p) : c.data[h] = p
      }
      b = {
        dialog: b
      };
      "function" == typeof c.failure && (b.failure = c.failure);
      c.failure = b;
      this.post(c, e)
    },
    cleanObjectForConsole: function(b) {
      var c = {}, e;
      for (e in b) {
        var f = !1;
        if (a.Lang.isString(b[e])) {
          try {
            f = b[e] ? JSON.parse(b[e]) : null
          } catch (h) {}
          f && a.Lang.isObject(f) ? c[e] = f : c[e] = b[e]
        } else c[e] = b[e]
      }
      return c
    },
    get: function(a, b) {
      this._go("GET", a, b)
    },
    post: function(a, b) {
      this._go("POST", a, b)
    },
    put: function(a, b) {
      this._go("PUT", a, b)
    },
    del: function(a, b) {
      this._go("DELETE", a, b)
    },
    _go: function(b, c, e) {
      c.context = e;
      c.method = b;
      a.Data.DEBUG && (c.url.endsWith("/") && console.warn("[Data]: URL ends with a slash, it probably shouldn't: " + c.url), c.data ? console.log("[Data] SEND:  " + c.url + " (" + c.method + "): ", a.clone(c.data)) : console.log("[Data] SEND:  " + c.url + " (" + c.method + ")"));
      c.success || (c.success = this._genericSuccess);
      c.responseFormat || (c.responseFormat = "json");
      if (c.secure && Static.SQUARESPACE_CONTEXT) {
        e = Static.SQUARESPACE_CONTEXT.secureDomain;
        for (var f = ["sqsp.com", "squarespace.com", "squarespace.net", "sqsp6.com"], h = !1, p = 0; p < f.length; p++) - 1 !== window.location.host.indexOf(f[p]) && (h = !0);
        a.Squarespace.UrlUtils.isSecure() || (h = !1);
        !h && !c.url.startsWith("https://") && (c.url = e + c.url);
        h || (c.xdr = {}, c.xdr.credentials = !0)
      }
      for (var q in c.data) a.Lang.isUndefined(c.data[q]) && delete c.data[q];
      c.testResponse ? c.testResponseDelay ? a.later(c.testResponseDelay, this, function() {
        a.Data._connectionSuccessRouter(c, !0, {
          responseText: a.JSON.stringify(c.testResponse)
        })
      }) : a.Data._connectionSuccessRouter(c, !0, {
        responseText: a.JSON.stringify(c.testResponse)
      }) : (q = a.bind(function() {
        c._url = c.url;
        c.url = this.addResourceDomain(this.addCrumb(c.url));
        if ("POST" == b || "PUT" == b) if (c.json) c.data = a.JSON.stringify(c.data), a.Lang.isObject(c.headers) || (c.headers = {}), c.headers["Content-Type"] = "application/json", c.headers.charset = "UTF-8";
        else for (var e in c.data) {
          var f = c.data[e];
          a.Lang.isObject(f) && !a.Lang.isArray(f) && (c.data[e] = a.JSON.stringify(f))
        }
        e = {
          method: b,
          arguments: c.arguments,
          data: c.data,
          on: {
            success: a.bind(a.Data._connectionSuccessRouter, a.Data, c),
            failure: a.bind(a.Data._connectionFailureRouter, a.Data, c)
          }
        };
        f = c.headers;
        a.Lang.isObject(f) && (e.headers = f);
        if (c.xdr) {
          if (a.UA.ie && 10 > a.UA.ie) {
            if (!a.Data.TRANSPORT_READY) {
              a.later(1, this, function() {
                console.error("Flash initialization not done, can not make requests");
                new a.Squarespace.Widgets.Alert({
                  "strings.title": "Server Request Failed",
                  "strings.message": 'It looks like you don\'t have Flash installed. Please <a target="_blank" href="http://get.adobe.com/flashplayer/">download and install the Flash Plugin here</a>'
                })
              });
              return
            }
            c.xdr.use = "flash"
          }
          e.xdr = c.xdr;
          e.headers = {
            "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
          };
          e.data = a.QueryString.stringify(c.data)
        }
        c.queue ? a.io.queue(c.url, e) : a.io(c.url, e)
      }, a.Data), c.testResponseDelay ? a.later(c.testResponseDelay, this, q) : q())
    },
    _genericSuccess: function(a) {},
    _connectionSuccessRouter: function(b, c, e, f) {
      if ("json" == b.responseFormat) {
        c = {};
        if (204 !== e.status) try {
          c = a.JSON.parse(e.responseText)
        } catch (h) {
          this._error(b, {
            error: "Internal Error: Unable to parse server response from (" + b.url + ") as JSON: " + e.responseText
          });
          return
        }
        c.error ? this._error(b, c, f) : (a.Data.DEBUG && console.log("[Data] RECV:  " + b.url + " (" + b.method + "): ", c), b.success.apply(b.context, [c, f]))
      } else "raw" == b.responseFormat && (a.Data.DEBUG && console.log("[Data] RECV:  " + b.url + " (" + b.method + "): ", {
        response: e.responseText
      }), b.success.apply(b.context, [e.responseText, f]))
    },
    _connectionFailureRouter: function(b, c, e, f) {
      if (e && 4 === e.readyState) {
        if ((500 == e.status || 401 == e.status || 400 == e.status) && "json" == b.responseFormat) {
          var h;
          try {
            h = a.JSON.parse(e.responseText)
          } catch (p) {
            this._error(b, {
              error: "Internal Error: Unable to parse server response from (" + b.url + ") as JSON: " + e.responseText
            });
            return
          }
          if (h.error || h.message || h.billingErrorCode) {
            this._error(b, h, f);
            return
          }
        }
        c = "Unable to connect...";
        switch (e.status) {
        case 401:
        case 403:
          c = "Unauthorized request";
          break;
        case 500:
        case 501:
          c = "Internal server error. Please try again later.";
          break;
        case 503:
          c = "This service is temporarily unavailable. Please try again later."
        }
        this._error(b, {
          error: c,
          errorKey: a.Lang.isFunction(window.btoa) ? btoa(b.url) : "",
          network: !0
        })
      }
    },
    _error: function(b, c, e) {
      a.Data.DEBUG && console.error("[Data] ERROR: " + b.url + " (" + b.method + "): ", c);
      if (c.loginRequired) {
        var f = function() {
          window.SQUARESPACE_LOGIN ? window.SQUARESPACE_LOGIN.fire("login-required") : console.error("Session timed out -- login required.")
        };
        a.Lang.isFunction(b.failure) ? (b.loginHasPriorityOnFailure && f(), b.failure.apply(b.context, [c, e])) : f()
      } else c.authorizationFail ? (new a.Squarespace.SystemError(b.url, c, "json")).show() : c.crumbFail && !0 !== b._retry && a.Squarespace.Utils.areCookiesEnabled() ? (a.Cookie.set("crumb", c.crumb, {
        path: "/"
      }), b._retry = !0, b.url = b._url, console.log("crumb check failed, will attemt a retry"), this._go(b.method, b, b.context)) : "function" == typeof b.failure ? b.failure.apply(b.context, [c, e]) : a.Lang.isObject(b.failure) && a.Lang.isFunction(b.failure.failure) ? b.failure.failure.apply(b.context, [c, e]) : b.failure && b.failure.dialog && c.errors ? (b.failure.dialog.showErrors(c.errors), b.failure.failure && b.failure.failure.apply(b.context, [c, e])) : (new a.Squarespace.SystemError(b.url, c, "json")).show()
    }
  };
  a.Squarespace.Escaping = {
    escapeForHtml: function(a) {
      return !a ? a : a.replace(/&/g, "&amp;").replace(/>/g, "&gt;").replace(/</g, "&lt;")
    },
    escapeForHtmlTag: function(a) {
      return !a ? a : a.replace(/&/g, "&amp;").replace(/>/g, "&gt;").replace(/</g, "&lt;").replace(/"/g, "&quot;")
    }
  };
  a.namespace("Squarespace.Lang").isPercentage = function(b) {
    return a.Lang.isString(b) && 0 < b.search("%")
  };
  a.namespace("Squarespace.Lang").sub = function(b, c) {
    return !b.replace ? b : b.replace(/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g, function(b, g) {
      var e = a.Object.getValue(c, g.split("."));
      return a.Lang.isUndefined(e) ? b : e
    })
  };
  a.namespace("Squarespace.Lang").getMaxId = function(a) {
    var b = 0,
      c;
    for (c in a) c = parseInt(c, 10), c > b && (b = c);
    return b
  };
  a.Squarespace.GoogleMap = {
    loadStarted: !1,
    loaded: !1,
    source: "//maps.googleapis.com/maps/api/js",
    sensor: !1,
    timeout: 3E4,
    load: function() {
      this.loaded ? this.fire("load-success") : this.loadStarted || (this.loadStarted = !0, a.jsonp(this.source + "?v=3&libraries=places&callback={callback}&sensor=" + (this.sensor ? "true" : "false"), {
        context: this,
        on: {
          failure: function() {
            this.fire("load-failure")
          },
          success: function() {
            this.loaded = !0;
            this.fire("load-success")
          },
          timeout: function() {
            this.fire("load-timeout")
          }
        },
        timeout: this.timeout
      }))
    }
  };
  a.augment(a.Squarespace.GoogleMap, a.EventTarget);
  if (a.Base) {
    if (a.Color) {
      var c = a.Color.toRGB;
      a.Color.re_RGBA = /^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*(\d+(?:\.\d+)?)\)$/i;
      a.Color.toRGB = function(b) {
        return a.Color.re_RGBA.exec(b) ? "rgb(" + RegExp.$1 + "," + RegExp.$2 + "," + RegExp.$3 + ")" : c(b)
      }
    }
    a.SQSAnim = a.Base.create("SQSAnim", a.Anim, [], {
      run: function() {
        return this.get("destroyed") || null === this.get("node")._node || !this.get("node").inDoc() ? (this.fire("end"), this) : a.Anim.prototype.run.call(this)
      }
    });
    var e = a.Squarespace.Utils.isDamaskEnabled();
    a.augment(a.Node, Class.create({
      getAncestorData: function(a) {
        for (var b = this; b;) {
          var c = b.getData(a);
          if (c) return c;
          b = b.ancestor()
        }
        return null
      },
      anim: function(b, c, f) {
        c = a.merge({
          node: this,
          duration: e ? 0.5 : 0.3,
          easing: e ? a.Squarespace.Easing.easeInOutCubic : a.Easing.easeOutStrong,
          to: b
        }, c);
        this.activeAnim && this.activeAnim.stop(!0);
        this.activeAnim = new a.SQSAnim(c);
        this.activeAnim.on("end",

        function() {
          delete this.activeAnim
        }, this);
        if (c.end) this.activeAnim.on("end", c.end, f || c.context);
        if (c.start) this.activeAnim.on("start", c.start, f || c.context);
        this.nodedestroynotifier || this.plug(a.Squarespace.NodeDestroyNotifier, {
          onDestroy: function() {
            this.activeAnim && this.activeAnim.stop(!0)
          },
          context: this
        });
        return this.activeAnim
      },
      getAdjustedDimensions: function(b) {
        b || (b = {});
        b.scale || (b.scale = "cover");
        b.align || (b.align = "center");
        var c = this.get("parentNode"),
          e = this.getAttribute("data-image-dimensions"),
          f;
        e ? (e = e.split("x"), e = {
          width: parseInt(e[0], 10),
          height: parseInt(e[1], 10)
        }, f = e.width, e = e.height) : (!this.getData("width") && !this.getData("height") && (this.setData("width", b && b.width ? parseInt(b.width, 10) : this.getAttribute("width") || this.get("offsetWidth")), this.setData("height", b && b.height ? parseInt(b.height, 10) : this.getAttribute("height") || this.get("offsetHeight"))), f = a.Squarespace.Lang.isPercentage(this.getData("width")) ? c.get("offsetWidth") * (parseInt(this.getData("width"), 10) / 100) : parseInt(this.getData("width"),
        10), e = a.Squarespace.Lang.isPercentage(this.getData("height")) ? c.get("offsetHeight") * (parseInt(this.getData("height"), 10) / 100) : parseInt(this.getData("height"), 10));
        var h = b.containerWidth || c.get("offsetWidth") - (c.get("offsetWidth") - c.get("clientWidth")),
          p = b.containerHeight || c.get("offsetHeight") - (c.get("offsetHeight") - c.get("clientHeight")),
          q = f / e,
          r = h / p,
          u, v;
        b.scale && "hidden" != c.getStyle("overflow") && c.setStyle("overflow", "hidden");
        c = b.sizeOnly ? h / f : "contain" === b.scale ? q > r ? h / f : p / e : q > r ? p / e : h / f;
        q = f;
        r = e;
        "contain" == b.scale ? (q = f * c, r = e * c, u = r < p ? (p - r) / 2 : 0, v = q < h ? (h - q) / 2 : 0, - 1 != b.align.indexOf("left") ? v = 0 : "-1" != b.align.indexOf("right") && (v = h - q), - 1 != b.align.indexOf("top") ? u = 0 : -1 != b.align.indexOf("bottom") && (u = p - r), q -= this.get("offsetWidth") - this.get("clientWidth"), r -= this.get("offsetHeight") - this.get("clientHeight")) : "cover" == b.scale && (q = f * c, r = e * c, u = r > p ? (r - p) / -2 : 0, v = q > h ? (q - h) / -2 : 0, b.focalPoint && (v = Math.min(Math.max(h / 2 - q * b.focalPoint[0], h - q), 0), u = Math.min(Math.max(p / 2 - r * b.focalPoint[1], p - r), 0)));
        return {
          top: u,
          left: v,
          width: q,
          height: r
        }
      },
      reflow: function() {
        console.warn("reflow is deprecated.")
      },
      resizeToParent: function(a) {
        var b = this.getAdjustedDimensions(a),
          c = this.getStyle("position");
        if (a.sizeOnly) {
          this.setStyles({
            width: b.width,
            height: b.height
          });
          (a = this.one("embed")) && this.one("embed").setStyles({
            width: b.width,
            height: b.height
          });
          if (this.test("iframe") && (b = this.getAttribute("src"))) - 1 != b.indexOf("?") ? (b = b.split("?"), - 1 == b[1].indexOf("wmode=transparent") && this.setAttribute("src", b[0] + "?wmode=transparent&" + b[1])) : this.setAttribute("src", b + "?wmode=transparent");
          a && "transparent" != a.getAttribute("wmode") && this.one("embed").setAttribute("wmode", "transparent")
        } else this.setStyles({
          position: "relative" !== c && "absolute" !== c ? "relative" : c,
          top: b.top.toFixed(5),
          left: b.left.toFixed(5),
          width: b.width.toFixed(5),
          height: b.height.toFixed(5)
        })
      },
      width: function() {
        return this.get("offsetWidth")
      },
      height: function() {
        return this.get("offsetHeight")
      },
      setWidth: function(a) {
        this.setStyle("width", a)
      },
      setHeight: function(a) {
        this.setStyle("height",
        a)
      }
    }));
    var h = "transition transitionProperty transitionDuration backfaceVisibility userSelect borderBottomLeftRadius borderBottomRightRadius".split(" ");
    a.Array.each(["Webkit", "Moz", "O", "ms"], function(b) {
      a.Array.each(h, function(c) {
        var e = b + c.charAt(0).toUpperCase() + c.slice(1);
        e in a.config.doc.documentElement.style && (a.DOM.CUSTOM_STYLES[c] = {
          set: function(a, b, c) {
            c[e] = b
          },
          get: function(b, c) {
            a.DOM.getComputedStyle(b, e)
          }
        })
      })
    });
    a.Squarespace.ResizeEmitter = a.Base.create("ResizeEmitter", a.Base, [], {
      initializer: function() {
        this.resizeEvent = a.on("resize", this._handleResize, a.config.win, this);
        this.after("resizingChange", this._afterResizingChange);
        this._requiresSizeCalculating() && (this.on("resize:end", this._resetSize), this._resetSize())
      },
      destructor: function() {
        this.timer && (this.timer.cancel(), this.timer = null);
        this.resizeEvent.detach();
        this.resizeEvent = null
      },
      _resetSize: function() {
        this.setAttrs({
          width: a.config.win.innerWidth,
          height: a.config.win.innerHeight
        })
      },
      _afterResizingChange: function(a) {
        this.fire(a.newVal ? "resize:start" : "resize:end")
      },
      _getWindowDiff: function(b) {
        var c = a.config.win["inner" + b.capitalize()];
        b = this.get(b);
        return Math.abs(c - b)
      },
      _requiresSizeCalculating: function() {
        return 0 < this.get("threshold") || a.Lang.isValue(this.get("axis"))
      },
      _canEmitResizeEvent: function() {
        var b, c;
        c = this.get("axis");
        b = this.get("threshold");
        a.Lang.isValue(c) ? (c = c === this.constructor.AXES.X ? "width" : "height", b = this._getWindowDiff(c) > b) : b = this._getWindowDiff("width") > b || this._getWindowDiff("height") > b;
        return b
      },
      _handleResize: function() {
        if (!this.get("resizing")) {
          if (this._requiresSizeCalculating() && !this._canEmitResizeEvent()) return;
          this.set("resizing", !0)
        }
        this.timer && this.timer.cancel();
        this.timer = a.later(this.get("timeout"), this, function() {
          a.Env && this.set("resizing", !1)
        });
        this.fire("resize")
      }
    }, {
      AXES: {
        X: "x",
        Y: "y"
      },
      ATTRS: {
        axis: {
          validator: function(b) {
            return a.Object.values(this.constructor.AXES).contains(b)
          }
        },
        height: {},
        resizing: {
          validator: a.Lang.isBoolean,
          value: !1
        },
        threshold: {
          validator: a.Lang.isNumber,
          value: 0
        },
        timeout: {
          value: 300
        },
        width: {}
      }
    });
    a.Squarespace.ScrollEmitter = a.Base.create("ScrollEmitter",
    a.Base, [], {
      initializer: function() {
        var b = !1;
        this.scrollEventHandle = this.get("target").on("scroll", function() {
          b || this.fire("scroll:start");
          b = !0;
          this.timer && this.timer.cancel();
          this.timer = a.later(this.get("timeout"), this, function() {
            a.Env && (this.fire("scroll:end"), b = !1)
          });
          this.fire("scroll")
        }, this)
      },
      destructor: function() {
        this.timer && this.timer.cancel();
        this.scrollEventHandle.detach()
      }
    }, {
      ATTRS: {
        target: {
          valueFn: function() {
            return a.one(a.config.doc)
          }
        },
        timeout: {
          value: 300
        }
      }
    });
    a.IO.prototype._destroy = function(b) {
      a.config.win && (!b.notify && !b.xdr) && (!b.upload && b.c ? b.c.onreadystatechange = null : b.upload ? (b.c.upload.onprogress = null, b.c.onload = null, b.c.onerror = null) : a.UA.ie && 10 > a.UA.ie && !b.e && b.c.abort());
      b.c = null
    };
    a.on("domready", function() {
      if (Static.EU_COOKIE_POLICY) {
        var b = a.Cookie.get("EU_COOKIES");
        if (null == b || !1 == b) a.Cookie.remove("SS_MATTR"), a.Cookie.remove("SS_MID"), a.Cookie.remove("SS_lastvisit"), a.Cookie.remove("user_segment");
        if (null == b) {
          var c = new Date;
          c.setTime((new Date).getTime() + 2592E6);
          b = a.Node.create('<div class="cookie-notice" style="z-index: 300000;padding: 20px; background: #eee; color: #333; font-size: 12px; border: 1px solid #ccc; position: absolute; ' + ("bottom-left" == Static.EU_COOKIE_POLICY ? "bottom: 0px; left: 0px;" : "bottom-right" == Static.EU_COOKIE_POLICY ? "bottom: 0px; right: 0px;" : "top-right" == Static.EU_COOKIE_POLICY ? "top: 0px; right: 0px;" : "top: 0px; left: 0px;") + '">We would like to place cookies on your computer to help us make this website better.<br/><button class="accept" style="padding: 5px; margin-top: 5px;">I wish to accept cookies from this website.</button> <button class="decline" style="padding: 5px; margin-left: 5px;">Decline</button></div>');
          b.one(".accept").on("click", function() {
            a.Cookie.set("EU_COOKIES", !0, {
              expires: c
            });
            a.one(".cookie-notice").remove()
          });
          b.one(".decline").on("click", function() {
            a.Cookie.set("EU_COOKIES", !1, {
              expires: c
            });
            a.one(".cookie-notice").remove()
          });
          a.one(document.body).append(b)
        }
      }
    })
  }
}, "1.0", {
  requires: "event node base selector plugin anim promise squarespace-anim-raf io yui-later json jsonp cookie querystring squarespace-enum squarespace-logger squarespace-url-utils squarespace-easing node-event-delegate squarespace-system-error".split(" ")
});
YUI.add("squarespace-touch-event-listener", function(a) {
  a.Squarespace.TouchEventListener = Class.create({
    el: null,
    captureSettings: null,
    touchStartPoint: null,
    touchEndPoint: null,
    touchStartTime: null,
    isGesture: !1,
    touchStartHandler: null,
    touchMoveHandler: null,
    touchEndHandler: null,
    swipeThreshold: null,
    swipeTimeThreshold: null,
    initialize: function(f, b) {
      this.el = f;
      this.captureSettings = {
        swipe: !1,
        move: !1,
        preventDefaultTouchEvents: !0,
        preventDefaultGestureEvents: !0,
        gesture: !0
      };
      this.captureSettings = a.merge(this.captureSettings,
      b);
      this.swipeThreshold = 50;
      this.swipeTimeThreshold = 250;
      this.touchStartPoint = {
        x: 0,
        y: 0
      };
      this.touchEndPoint = {
        x: 0,
        y: 0
      };
      this.addEventHandlers()
    },
    addEventHandlers: function() {
      this.gestureStartHandler = a.bind(this.onGestureStart, this);
      this.gestureChangeHandler = a.bind(this.onGestureChange, this);
      this.gestureEndHandler = a.bind(this.onGestureEnd, this);
      this.touchStartHandler = a.bind(this.onTouchStart, this);
      this.touchMoveHandler = a.bind(this.onTouchMove, this);
      this.touchEndHandler = a.bind(this.onTouchEnd, this);
      this.el.on("gesturestart",
      this.gestureStartHandler);
      this.el.on("gesturechange", this.gestureChangeHandler);
      this.el.on("gestureend", this.gestureEndHandler);
      this.el.on("touchstart", this.touchStartHandler);
      if (this.captureSettings.move) this.el.on("touchmove", this.touchMoveHandler);
      this.el.on("touchend", this.touchEndHandler)
    },
    removeEventHandlers: function() {
      this.el.detachAll()
    },
    getTouchPoint: function(a) {
      return {
        x: a[0].pageX,
        y: a[0].pageY
      }
    },
    fireTouchEvent: function(f) {
      var b = 0,
        c = 0,
        e = 0,
        h, b = this.touchEndPoint.x - this.touchStartPoint.x,
        c = this.touchEndPoint.y - this.touchStartPoint.y,
        e = Math.sqrt(b * b + c * c);
      if (this.captureSettings.swipe && (h = new Date, h -= this.touchStartTime, h <= this.swipeTimeThreshold)) {
        if (window.Math.abs(b) >= this.swipeThreshold) {
          a.fire("squarespace:ontouch", {
            type: a.Squarespace.TouchEventListener.Types.onTouch,
            target: this,
            point: this.touchEndPoint,
            action: 0 > b ? a.Squarespace.TouchEventListener.ActionTypes.swipeLeft : a.Squarespace.TouchEventListener.ActionTypes.swipeRight,
            targetEl: f.target,
            currentTargetEl: f.currentTarget,
            touchEvent: f
          });
          return
        }
        if (window.Math.abs(c) >= this.swipeThreshold) {
          a.fire("squarespace:ontouch", {
            type: a.Squarespace.TouchEventListener.Types.onTouch,
            target: this,
            point: this.touchEndPoint,
            action: 0 > c ? a.Squarespace.TouchEventListener.ActionTypes.swipeUp : a.Squarespace.TouchEventListener.ActionTypes.swipeDown,
            targetEl: f.target,
            currentTargetEl: f.currentTarget,
            touchEvent: f
          });
          return
        }
      }
      1 < e ? a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.touchMoveEnd,
        point: this.touchEndPoint,
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      }) : a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.tapped,
        point: this.touchEndPoint,
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      })
    },
    onGestureStart: function(f) {
      f.touches = [];
      this.captureSettings.preventDefaultGestureEvents && f.preventDefault();
      this.isGesture = !0;
      a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.gestureStart,
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      })
    },
    onGestureChange: function(f) {
      f.touches = [];
      this.captureSettings.preventDefaultGestureEvents && f.preventDefault();
      a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.gestureChange,
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      })
    },
    onGestureEnd: function(f) {
      f.touches = [];
      this.captureSettings.preventDefaultGestureEvents && f.preventDefault();
      a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.gestureEnd,
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      })
    },
    onTouchStart: function(f) {
      this.captureSettings.preventDefaultTouchEvents && f.preventDefault();
      var b = f.touches;
      this.touchStartTime = new Date;
      this.touchStartPoint = this.getTouchPoint(b);
      a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.touchStart,
        point: this.touchStartPoint,
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      })
    },
    onTouchMove: function(f) {
      this.captureSettings.preventDefaultTouchEvents && f.preventDefault();
      a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.touchMove,
        point: this.getTouchPoint(f.touches),
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      })
    },
    onTouchEnd: function(f) {
      this.isGesture && this.captureSettings.gesture ? this.isGesture = !1 : (this.captureSettings.preventDefaultTouchEvents && f.preventDefault(), this.touchEndPoint = this.getTouchPoint(f.changedTouches ? f.changedTouches : f.touches), a.fire("squarespace:ontouch", {
        type: a.Squarespace.TouchEventListener.Types.onTouch,
        target: this,
        action: a.Squarespace.TouchEventListener.ActionTypes.touchEnd,
        point: this.touchEndPoint,
        targetEl: f.target,
        currentTargetEl: f.currentTarget,
        touchEvent: f
      }), this.fireTouchEvent(f))
    }
  });
  a.Squarespace.TouchEventListener.Types = {
    onTouch: "onTouch"
  };
  a.Squarespace.TouchEventListener.ActionTypes = {
    gestureStart: "gestureStart",
    gestureEnd: "gestureEnd",
    gestureChange: "gestureChange",
    touchStart: "touchStart",
    touchMove: "touchMove",
    touchEnd: "touchEnd",
    touchMoveEnd: "touchMoveEnd",
    swipeLeft: "swipeLeft",
    swipeRight: "swipeRight",
    swipeUp: "swipeUp",
    swipeDown: "swipeDown",
    tapped: "tapped"
  }
});
YUI.add("squarespace-ss-badge", function(a) {
  var f = {};
  f[a.Squarespace.SSBadgeType.BLACK] = "black";
  f[a.Squarespace.SSBadgeType.WHITE] = "white";
  var b = {};
  b[a.Squarespace.SSBadgePosition.TOP_LEFT] = "top-left";
  b[a.Squarespace.SSBadgePosition.TOP_CENTER] = "top-center";
  b[a.Squarespace.SSBadgePosition.TOP_RIGHT] = "top-right";
  b[a.Squarespace.SSBadgePosition.BOTTOM_LEFT] = "bottom-left";
  b[a.Squarespace.SSBadgePosition.BOTTOM_CENTER] = "bottom-center";
  b[a.Squarespace.SSBadgePosition.BOTTOM_RIGHT] = "bottom-right";
  var c = {};
  c[a.Squarespace.SSBadgeDevices.ALL] = "all-devices";
  c[a.Squarespace.SSBadgeDevices.DESKTOP_ONLY] = "desktop-only";
  a.namespace("Squarespace.Widgets");
  var e = a.Squarespace.Widgets.SSBadge = a.Base.create("SSBadge", a.Squarespace.Widgets.SSWidget, [], {
    initializer: function() {
      this._coverNode = a.Node.create('<div class="sqs-ss-badge-cover"></div>')
    },
    destructor: function() {
      this._coverNode.remove(!0)
    },
    renderUI: function() {
      e.superclass.renderUI.call(this);
      a.UA.mobile && this.get("boundingBox").addClass("is-mobile");
      this.get("contentBox").append('<a href="' + this.get("goTo") + '" target="_blank"><div class="badge-closed"><div class="badge-symbol"></div></div><div class="badge-open"><div class="badge-open-inner"><h2>Powered by Squarespace</h2></div></div></a>');
      a.one("body").append(this._coverNode)
    },
    syncUI: function() {
      e.superclass.syncUI.call(this);
      var a = this.get("boundingBox");
      a.setAttribute("data-type", f[this.get("type")]);
      a.setAttribute("data-position", b[this.get("position")]);
      a.setAttribute("data-devices", c[this.get("devices")]);
      this.get("autoHide") ? (a.addClass("badge-auto-hide"), this._checkAutoHide()) : (a.removeClass("badge-auto-hide"), a.addClass("badge-visible"))
    },
    bindUI: function() {
      var b = this.get("contentBox");
      this.after(["typeChange", "positionChange", "autoHideChange"], this.syncUI, this);
      b.on("mouseenter", function() {
        b.addClass("badge-is-open")
      });
      b.on("mouseleave", function() {
        b.removeClass("badge-is-open")
      });
      this._registerEvent(a.one(a.config.win).on("scroll", this._checkAutoHide, this))
    },
    _checkAutoHide: function() {
      if (this.get("autoHide")) {
        var b = this.get("boundingBox"),
          c = a.one("body"),
          e = c.get("scrollTop"),
          c = c.get("scrollHeight"),
          c = e > c - a.config.win.innerHeight - 50;
        this._isPositionTop() && 50 > e || c ? b.addClass("badge-visible") : b.removeClass("badge-visible")
      }
    },
    _isPositionTop: function() {
      return -1 !== [a.Squarespace.SSBadgePosition.TOP_LEFT, a.Squarespace.SSBadgePosition.TOP_CENTER, a.Squarespace.SSBadgePosition.TOP_RIGHT].indexOf(this.get("position"))
    }
  }, {
    CSS_PREFIX: "sqs-ss-badge",
    ATTRS: {
      type: {
        value: a.Squarespace.SSBadgeType.BLACK,
        validator: function(b) {
          return !a.Object.hasValue(a.Squarespace.SSBadgeType,
          b) ? (console.error("SSBadge: Invalid style. Must be a Y.Squarespace.SSBadgeType."), !1) : !0
        }
      },
      position: {
        value: a.Squarespace.SSBadgePosition.BOTTOM_LEFT,
        validator: function(b) {
          return !a.Object.hasValue(a.Squarespace.SSBadgePosition, b) ? (console.error("SSBadge: Invalid position. Must be a Y.Squarespace.SSBadgePosition."), !1) : !0
        }
      },
      autoHide: {
        value: !0,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      devices: {
        value: a.Squarespace.SSBadgeDevices.ALL,
        validator: function(b) {
          return !a.Object.hasValue(a.Squarespace.SSBadgePosition,
          b) ? (console.error("SSBadge: Invalid devices. Must be a Y.Squarespace.SSBadgeDevices."), !1) : !0
        }
      },
      goTo: {
        valueFn: function() {
          return "http://www.squarespace.com?" + a.QueryString.stringify({
            channel: "word_of_mouth",
            subchannel: "customer",
            source: "badge",
            campaign: a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "id"])
          })
        },
        validator: a.Squarespace.AttrValidators.isString,
        readOnly: !0
      }
    }
  })
}, "1.0", {
  requires: ["base", "node", "squarespace-ss-widget", "squarespace-attr-validators", "squarespace-enum"]
});
(function() {
  function a(a) {
    a.Modernizr = function(a, c, e) {
      function f(a, b) {
        return -1 !== ("" + a).indexOf(b)
      }
      function g(a, b) {
        for (var c in a) if (q[a[c]] !== e && (!b || b(a[c], p))) return !0
      }
      function l(a, b) {
        var c = a.charAt(0).toUpperCase() + a.substr(1),
          c = (a + " " + y.join(c + " ") + c).split(" ");
        return !!g(c, b)
      }
      function k() {
        m.input = function(a) {
          for (var b = 0, c = a.length; b < c; b++) C[a[b]] = !! (a[b] in r);
          return C
        }("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));
        m.inputtypes = function(a) {
          for (var b = 0, g, f = a.length; b < f; b++) {
            r.setAttribute("type", a[b]);
            if (g = "text" !== r.type) r.value = u, /^range$/.test(r.type) && r.style.WebkitAppearance !== e ? (n.appendChild(r), g = c.defaultView, g = g.getComputedStyle && "textfield" !== g.getComputedStyle(r, null).WebkitAppearance && 0 !== r.offsetHeight, n.removeChild(r)) : /^(search|tel)$/.test(r.type) || (g = /^(url|email)$/.test(r.type) ? r.checkValidity && !1 === r.checkValidity() : r.value != u);
            x[a[b]] = !! g
          }
          return x
        }("search tel url email datetime date month week time datetime-local number range color".split(" "))
      }
      var m = {}, n = c.documentElement,
        p = c.createElement("modernizr"),
        q = p.style,
        r = c.createElement("input"),
        u = ":)",
        v = Object.prototype.toString,
        w = " -webkit- -moz- -o- -ms- -khtml- ".split(" "),
        y = ["Webkit", "Moz", "O", "ms", "Khtml"],
        s = {}, x = {}, C = {}, z = [],
        A, E = function(a) {
          var b = document.createElement("style"),
            e = c.createElement("div");
          b.textContent = a + "{#modernizr{height:3px}}";
          (c.head || c.getElementsByTagName("head")[0]).appendChild(b);
          e.id = "modernizr";
          n.appendChild(e);
          a = 3 === e.offsetHeight;
          b.parentNode.removeChild(b);
          e.parentNode.removeChild(e);
          return !!a
        }, B = function() {
          var a = {
            select: "input",
            change: "input",
            submit: "form",
            reset: "form",
            error: "img",
            load: "img",
            abort: "img"
          };
          return function(b, c) {
            c = c || document.createElement(a[b] || "div");
            b = "on" + b;
            var g = b in c;
            g || (c.setAttribute || (c = document.createElement("div")), c.setAttribute && c.removeAttribute && (c.setAttribute(b, ""), g = "function" == typeof c[b], "undefined" != typeof c[b] && (c[b] = e), c.removeAttribute(b)));
            return g
          }
        }(),
        D = {}.hasOwnProperty,
        I;
      I = "undefined" !== typeof D && "undefined" !== typeof D.call ? function(a, b) {
        return D.call(a, b)
      } : function(a, b) {
        return b in a && "undefined" === typeof a.constructor.prototype[b]
      };
      s.flexbox = function() {
        var a = c.createElement("div"),
          b = c.createElement("div"),
          e;
        e = "display:";
        a.style.cssText = (e + w.join("box;" + e)).slice(0, - e.length) + "width:42px;padding:0;";
        b.style.cssText = w.join("box-flex:1;") + "width:10px;";
        a.appendChild(b);
        n.appendChild(a);
        e = 42 === b.offsetWidth;
        a.removeChild(b);
        n.removeChild(a);
        return e
      };
      s.canvas = function() {
        var a = c.createElement("canvas");
        return !(!a.getContext || !a.getContext("2d"))
      };
      s.canvastext = function() {
        return !!(m.canvas && "function" == typeof c.createElement("canvas").getContext("2d").fillText)
      };
      s.webgl = function() {
        var a = c.createElement("canvas");
        try {
          if (a.getContext("webgl")) return !0
        } catch (b) {}
        try {
          if (a.getContext("experimental-webgl")) return !0
        } catch (e) {}
        return !1
      };
      s.touch = function() {
        return "ontouchstart" in a || E("@media (" + w.join("touch-enabled),(") + "modernizr)")
      };
      s.geolocation = function() {
        return !!navigator.geolocation
      };
      s.postmessage = function() {
        return !!a.postMessage
      };
      s.websqldatabase = function() {
        return !!a.openDatabase
      };
      s.indexedDB = function() {
        for (var c = -1, e = y.length; ++c < e;) {
          var g = y[c].toLowerCase();
          if (a[g + "_indexedDB"] || a[g + "IndexedDB"]) return !0
        }
        return !1
      };
      s.hashchange = function() {
        return B("hashchange", a) && (document.documentMode === e || 7 < document.documentMode)
      };
      s.history = function() {
        return !(!a.history || !history.pushState)
      };
      s.draganddrop = function() {
        return B("drag") && B("dragstart") && B("dragenter") && B("dragover") && B("dragleave") && B("dragend") && B("drop")
      };
      s.websockets = function() {
        return "WebSocket" in a
      };
      s.rgba = function() {
        q.cssText = "background-color:rgba(150,255,150,.5)";
        return f(q.backgroundColor, "rgba")
      };
      s.hsla = function() {
        q.cssText = "background-color:hsla(120,40%,100%,.5)";
        return f(q.backgroundColor, "rgba") || f(q.backgroundColor, "hsla")
      };
      s.multiplebgs = function() {
        q.cssText = "background:url(//:),url(//:),red url(//:)";
        return /(url\s*\(.*?){3}/.test(q.background)
      };
      s.backgroundsize = function() {
        return l("backgroundSize")
      };
      s.borderimage = function() {
        return l("borderImage")
      };
      s.borderradius = function() {
        return l("borderRadius", "", function(a) {
          return f(a, "orderRadius")
        })
      };
      s.boxshadow = function() {
        return l("boxShadow")
      };
      s.textshadow = function() {
        return "" === c.createElement("div").style.textShadow
      };
      s.opacity = function() {
        var a = w.join("opacity:.5;") + "";
        q.cssText = a;
        return f(q.opacity, "0.5")
      };
      s.cssanimations = function() {
        return l("animationName")
      };
      s.csscolumns = function() {
        return l("columnCount")
      };
      s.cssgradients = function() {
        var a = ("background-image:" + w.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:") + w.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0, - 17);
        q.cssText = a;
        return f(q.backgroundImage, "gradient")
      };
      s.cssreflections = function() {
        return l("boxReflect")
      };
      s.csstransforms = function() {
        return !!g(["transformProperty", "WebkitTransform", "MozTransform", "OTransform", "msTransform"])
      };
      s.csstransforms3d = function() {
        var a = !! g(["perspectiveProperty", "WebkitPerspective", "MozPerspective", "OPerspective", "msPerspective"]);
        a && (a = E("@media (" + w.join("transform-3d),(") + "modernizr)"));
        return a
      };
      s.csstransitions = function() {
        return l("transitionProperty")
      };
      s.fontface = function() {
        var a, b = c.head || c.getElementsByTagName("head")[0] || n,
          e = c.createElement("style"),
          g = c.implementation || {
            hasFeature: function() {
              return !1
            }
          };
        e.type = "text/css";
        b.insertBefore(e, b.firstChild);
        a = e.sheet || e.styleSheet;
        b = g.hasFeature("CSS2", "") ? function(b) {
          if (!a || !b) return !1;
          var c = !1;
          try {
            a.insertRule(b, 0), c = !/unknown/i.test(a.cssRules[0].cssText), a.deleteRule(a.cssRules.length - 1)
          } catch (e) {}
          return c
        } : function(b) {
          if (!a || !b) return !1;
          a.cssText = b;
          return 0 !== a.cssText.length && !/unknown/i.test(a.cssText) && 0 === a.cssText.replace(/\r+|\n+/g, "").indexOf(b.split(" ")[0])
        };
        m._fontfaceready = function(a) {
          a(m.fontface)
        };
        return b('@font-face { font-family: "font"; src: "font.ttf"; }')
      };
      s.video = function() {
        var a = c.createElement("video"),
          b = !! a.canPlayType;
        b && (b = new Boolean(b), b.ogg = a.canPlayType('video/ogg; codecs="theora"'), b.h264 = a.canPlayType('video/mp4; codecs="avc1.42E01E"') || a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'), b.webm = a.canPlayType('video/webm; codecs="vp8, vorbis"'));
        return b
      };
      s.audio = function() {
        var a = c.createElement("audio"),
          b = !! a.canPlayType;
        b && (b = new Boolean(b), b.ogg = a.canPlayType('audio/ogg; codecs="vorbis"'), b.mp3 = a.canPlayType("audio/mpeg;"), b.wav = a.canPlayType('audio/wav; codecs="1"'), b.m4a = a.canPlayType("audio/x-m4a;") || a.canPlayType("audio/aac;"));
        return b
      };
      s.localstorage = function() {
        try {
          return "localStorage" in a && null !== a.localStorage
        } catch (c) {
          return !1
        }
      };
      s.sessionstorage = function() {
        try {
          return "sessionStorage" in a && null !== a.sessionStorage
        } catch (c) {
          return !1
        }
      };
      s.webWorkers = function() {
        return !!a.Worker
      };
      s.applicationcache = function() {
        return !!a.applicationCache
      };
      s.svg = function() {
        return !!c.createElementNS && !! c.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect
      };
      s.inlinesvg = function() {
        var a = document.createElement("div");
        a.innerHTML = "<svg/>";
        return "http://www.w3.org/2000/svg" == (a.firstChild && a.firstChild.namespaceURI)
      };
      s.smil = function() {
        return !!c.createElementNS && /SVG/.test(v.call(c.createElementNS("http://www.w3.org/2000/svg", "animate")))
      };
      s.svgclippaths = function() {
        return !!c.createElementNS && /SVG/.test(v.call(c.createElementNS("http://www.w3.org/2000/svg", "clipPath")))
      };
      for (var F in s) I(s, F) && (A = F.toLowerCase(), m[A] = s[F](), z.push((m[A] ? "" : "no-") + A));
      m.input || k();
      m.crosswindowmessaging = m.postmessage;
      m.historymanagement = m.history;
      m.addTest = function(a, b) {
        a = a.toLowerCase();
        if (!m[a]) return b = !! b(), n.className += " " + (b ? "" : "no-") + a, m[a] = b, m
      };
      q.cssText = "";
      p = r = null;
      a.attachEvent && function() {
        var a = c.createElement("div");
        a.innerHTML = "<elem></elem>";
        return 1 !== a.childNodes.length
      }() && function(a, b) {
        function c(a) {
          for (var b = -1; ++b < f;) a.createElement(g[b])
        }
        function e(a, b) {
          for (var c = a.length, g = -1, f, h = []; ++g < c;) f = a[g], b = f.media || b, h.push(e(f.imports, b)), h.push(f.cssText);
          return h.join("")
        }
        var g = "abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" "),
          f = g.length,
          h = RegExp("<(/*)(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)", "gi"),
          k = RegExp("\\b(abbr|article|aside|audio|canvas|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)\\b(?!.*[;}])", "gi"),
          l = b.createDocumentFragment(),
          m = b.documentElement,
          n = m.firstChild,
          p = b.createElement("style"),
          q = b.createElement("body");
        p.media = "all";
        c(b);
        c(l);
        a.attachEvent("onbeforeprint", function() {
          for (var a = -1; ++a < f;) for (var c = b.getElementsByTagName(g[a]), r = c.length, u = -1; ++u < r;) 0 > c[u].className.indexOf("iepp_") && (c[u].className += " iepp_" + g[a]);
          n.insertBefore(p, n.firstChild);
          p.styleSheet.cssText = e(b.styleSheets, "all").replace(k, ".iepp_$1");
          l.appendChild(b.body);
          m.appendChild(q);
          q.innerHTML = l.firstChild.innerHTML.replace(h, "<$1bdo")
        });
        a.attachEvent("onafterprint", function() {
          q.innerHTML = "";
          m.removeChild(q);
          n.removeChild(p);
          m.appendChild(l.firstChild)
        })
      }(this, document);
      m._enableHTML5 = !0;
      m._version = "1.6";
      n.className = n.className.replace(/\bno-js\b/, "") + " js";
      n.className += " " + z.join(" ");
      return m
    }(a, a.document)
  }
  YUI.add("thirdparty-modernizr",

  function(f) {
    a(f.config.win)
  }, "1.0", {})
})();
YUI.add("node-screen", function(a, f) {
  a.each("winWidth winHeight docWidth docHeight docScrollX docScrollY".split(" "), function(b) {
    a.Node.ATTRS[b] = {
      getter: function() {
        var c = Array.prototype.slice.call(arguments);
        c.unshift(a.Node.getDOMNode(this));
        return a.DOM[b].apply(this, c)
      }
    }
  });
  a.Node.ATTRS.scrollLeft = {
    getter: function() {
      var b = a.Node.getDOMNode(this);
      return "scrollLeft" in b ? b.scrollLeft : a.DOM.docScrollX(b)
    },
    setter: function(b) {
      var c = a.Node.getDOMNode(this);
      c && ("scrollLeft" in c ? c.scrollLeft = b : (c.document || 9 === c.nodeType) && a.DOM._getWin(c).scrollTo(b, a.DOM.docScrollY(c)))
    }
  };
  a.Node.ATTRS.scrollTop = {
    getter: function() {
      var b = a.Node.getDOMNode(this);
      return "scrollTop" in b ? b.scrollTop : a.DOM.docScrollY(b)
    },
    setter: function(b) {
      var c = a.Node.getDOMNode(this);
      c && ("scrollTop" in c ? c.scrollTop = b : (c.document || 9 === c.nodeType) && a.DOM._getWin(c).scrollTo(a.DOM.docScrollX(c), b))
    }
  };
  a.Node.importMethod(a.DOM, "getXY setXY getX setX getY setY swapXY".split(" "));
  a.Node.ATTRS.region = {
    getter: function() {
      var b = this.getDOMNode();
      b && !b.tagName && 9 === b.nodeType && (b = b.documentElement);
      return a.DOM.isWindow(b) ? a.DOM.viewportRegion(b) : a.DOM.region(b)
    }
  };
  a.Node.ATTRS.viewportRegion = {
    getter: function() {
      return a.DOM.viewportRegion(a.Node.getDOMNode(this))
    }
  };
  a.Node.importMethod(a.DOM, "inViewportRegion");
  a.Node.prototype.intersect = function(b, c) {
    var e = a.Node.getDOMNode(this);
    a.instanceOf(b, a.Node) && (b = a.Node.getDOMNode(b));
    return a.DOM.intersect(e, b, c)
  };
  a.Node.prototype.inRegion = function(b, c, e) {
    var f = a.Node.getDOMNode(this);
    a.instanceOf(b,
    a.Node) && (b = a.Node.getDOMNode(b));
    return a.DOM.inRegion(f, b, c, e)
  }
}, "3.17.2", {
  requires: ["dom-screen", "node-base"]
});
YUI.add("squarespace-social-buttons", function(a) {
  a.namespace("Squarespace");
  var f = a.config.win.Static,
    b = a.Squarespace.SocialButton,
    c = a.Squarespace.SocialButtons = a.Base.create("socialButtons", a.Base, [], {
      initializer: function(a) {
        a = this.get("services");
        this._buttonConfigs = {};
        this._buttons = [];
        this._eventHandles = [];
        0 < a.length ? (this._scanForButtons(), this._initializeButtons(), this._bindEvents(), this._renderButtons()) : this._markButtonsAsEmpty()
      },
      _markButtonsAsEmpty: function() {
        a.all(c.SOCIAL_BUTTON_CONTAINER).addClass("empty")
      },
      _scanForButtons: function() {
        var b = a.all(c.SOCIAL_BUTTON_CONTAINER),
          h = this.get("services");
        b.each(function(b) {
          var e = b.getAttribute(c.TITLE),
            k = f.SQUARESPACE_CONTEXT.website.baseUrl + b.getAttribute(c.FULL_URL),
            m = parseInt(b.getAttribute(c.RECORD_TYPE), 10),
            n = b.getAttribute(c.ASSET_URL),
            p = b.getAttribute(c.SYSTEM_DATA_ID),
            q = a.guid(c.ID_PREFIX);
          this._buttonConfigs[q] = {
            id: q,
            title: e,
            url: k,
            recordType: m,
            assetUrl: n,
            systemDataId: p,
            services: h,
            node: b
          }
        }, this)
      },
      _initializeButtons: function() {
        this._buttons = a.Array.map(a.Object.values(this._buttonConfigs),

        function(a) {
          return new b(a)
        })
      },
      _bindEvents: function() {
        this._eventHandles.push(this.after("cleanup", this._defaultDestroy, this))
      },
      _renderButtons: function() {
        this._buttons.filter(this._excludeOnlyPinterest, this).forEach(function(a) {
          var b = a.get("id");
          a.render(this._buttonConfigs[b].node)
        }, this)
      },
      destructor: function() {
        this.fire("cleanup")
      },
      _unbindEvents: function() {
        this._eventHandles.forEach(function(a) {
          a.detach()
        })
      },
      _defaultDestroy: function() {
        this._destroyButtons();
        this._unbindEvents();
        this.fire("destroyed")
      },
      _destroyButtons: function() {
        this._buttons.forEach(function(a) {
          a.destroy()
        }, this)
      },
      _excludeOnlyPinterest: function(b) {
        return b.get("recordType") !== a.Squarespace.RecordType.IMAGE && this._onlyServiceIsPinterest(b) ? !1 : !0
      },
      _onlyServiceIsPinterest: function(b) {
        b = b.get("services");
        return 1 === b.length && b[0] === a.Squarespace.SocialServices.PINTEREST
      }
    }, {
      FULL_URL: "data-full-url",
      ASSET_URL: "data-asset-url",
      SYSTEM_DATA_ID: "data-system-data-id",
      RECORD_TYPE: "data-record-type",
      ID_PREFIX: "social-",
      TITLE: "data-title",
      SOCIAL_BUTTON_CONTAINER: ".squarespace-social-buttons",
      ATTRS: {
        services: {
          valueFn: function() {
            return a.Array.map(a.Object.keys(f.SQUARESPACE_CONTEXT.website.shareButtonOptions || {}), function(a) {
              return parseInt(a, 10)
            })
          }
        }
      }
    });
  a.config.win.Squarespace.onInitialize(a, function() {
    a.all(".squarespace-social-buttons").isEmpty() || new a.Squarespace.SocialButtons
  })
}, "1.0", {
  requires: ["squarespace-social-button", "base", "base-build", "node", "array-extras"]
});
YUI.add("event-outside", function(a, f) {
  a.Event.defineOutside = function(b, c) {
    var e = {
      on: function(c, e, f) {
        e.handle = a.one("doc").on(b, function(a) {
          this.isOutside(c, a.target) && (a.currentTarget = c, f.fire(a))
        }, this)
      },
      detach: function(a, b, c) {
        b.handle.detach()
      },
      delegate: function(c, e, f, k) {
        e.handle = a.one("doc").delegate(b, function(a) {
          this.isOutside(c, a.target) && f.fire(a)
        }, k, this)
      },
      isOutside: function(a, b) {
        return b !== a && !b.ancestor(function(b) {
          return b === a
        })
      }
    };
    e.detachDelegate = e.detach;
    a.Event.define(c || b + "outside",
    e)
  };
  a.Array.each("blur change click dblclick focus keydown keypress keyup mousedown mousemove mouseout mouseover mouseup select submit".split(" "), function(b) {
    a.Event.defineOutside(b)
  })
}, "3.17.2", {
  requires: ["event-synthetic"]
});
YUI.add("history-base", function(a, f) {
  function b() {
    this._init.apply(this, arguments)
  }
  function c(a) {
    return "object" === e.type(a)
  }
  var e = a.Lang,
    h = a.Object,
    g = YUI.namespace("Env.History"),
    l = a.Array,
    k = a.config.doc,
    m = k.documentMode,
    n = a.config.win,
    p = {
      merge: !0
    };
  a.augment(b, a.EventTarget, null, null, {
    emitFacade: !0,
    prefix: "history",
    preventable: !1,
    queueable: !0
  });
  g._state || (g._state = {});
  b.NAME = "historyBase";
  b.SRC_ADD = "add";
  b.SRC_REPLACE = "replace";
  b.html5 = !(!n.history || !n.history.pushState || !n.history.replaceState || !("onpopstate" in n || 2 <= a.UA.gecko) || a.UA.android && !(2.4 <= a.UA.android));
  b.nativeHashChange = ("onhashchange" in n || "onhashchange" in k) && (!m || 7 < m);
  a.mix(b.prototype, {
    _init: function(a) {
      a = this._config = a || {};
      this.force = !! a.force;
      a = this._initialState = this._initialState || a.initialState || null;
      this.publish("change", {
        broadcast: 2,
        defaultFn: this._defChangeFn
      });
      a && this.replace(a)
    },
    add: function() {
      var a = l(arguments, 0, !0);
      a.unshift("add");
      return this._change.apply(this, a)
    },
    addValue: function(a, b, c) {
      var e = {};
      e[a] = b;
      return this._change("add", e, c)
    },
    get: function(b) {
      var e = g._state,
        f = c(e);
      return b ? f && h.owns(e, b) ? e[b] : void 0 : f ? a.mix({}, e, !0) : e
    },
    replace: function() {
      var a = l(arguments, 0, !0);
      a.unshift("replace");
      return this._change.apply(this, a)
    },
    replaceValue: function(a, b, c) {
      var e = {};
      e[a] = b;
      return this._change("replace", e, c)
    },
    _change: function(b, e, f) {
      f = f ? a.merge(p, f) : p;
      f.merge && (c(e) && c(g._state)) && (e = a.merge(g._state, e));
      this._resolveChanges(b, e, f);
      return this
    },
    _fireEvents: function(a, b, c) {
      this.fire("change", {
        _options: c,
        changed: b.changed,
        newVal: b.newState,
        prevVal: b.prevState,
        removed: b.removed,
        src: a
      });
      h.each(b.changed, function(b, c) {
        this._fireChangeEvent(a, c, b)
      }, this);
      h.each(b.removed, function(b, c) {
        this._fireRemoveEvent(a, c, b)
      }, this)
    },
    _fireChangeEvent: function(a, b, c) {
      this.fire(b + "Change", {
        newVal: c.newVal,
        prevVal: c.prevVal,
        src: a
      })
    },
    _fireRemoveEvent: function(a, b, c) {
      this.fire(b + "Remove", {
        prevVal: c,
        src: a
      })
    },
    _resolveChanges: function(a, b, e) {
      var f = {}, k, l = g._state,
        m = {};
      b || (b = {});
      e || (e = {});
      c(b) && c(l) ? (h.each(b, function(a, b) {
        var c = l[b];
        a !== c && (f[b] = {
          newVal: a,
          prevVal: c
        }, k = !0)
      }, this), h.each(l, function(a, c) {
        if (!h.owns(b, c) || null === b[c]) delete b[c], m[c] = a, k = !0
      }, this)) : k = b !== l;
      (k || this.force) && this._fireEvents(a, {
        changed: f,
        newState: b,
        prevState: l,
        removed: m
      }, e)
    },
    _storeState: function(a, b) {
      g._state = b || {}
    },
    _defChangeFn: function(a) {
      this._storeState(a.src, a.newVal, a._options)
    }
  }, !0);
  a.HistoryBase = b
}, "3.17.2", {
  requires: ["event-custom-complex"]
});
YUI.add("squarespace-history-hash", function(a, f) {}, "1.0", {
  requires: ["squarespace-beforeunload"]
});
(function(a) {
  a.add("history-hash", function(f) {
    function b() {
      b.superclass.constructor.apply(this, arguments)
    }
    var c = f.HistoryBase,
      e = f.Lang,
      h = f.Array,
      g = f.Object,
      l = a.namespace("Env.HistoryHash"),
      k, m, n, p, q = f.config.win,
      r = f.config.useHistoryHTML5;
    f.extend(b, c, {
      _init: function(a) {
        var c = b.parseHash();
        a = a || {};
        this._initialState = a.initialState ? f.merge(a.initialState, c) : c;
        f.after("hashchange", f.bind(this._afterHashChange, this), q);
        b.superclass._init.apply(this, arguments)
      },
      _change: function(a, c, f) {
        g.each(c, function(a,
        b) {
          e.isValue(a) && (c[b] = a.toString())
        });
        return b.superclass._change.call(this, a, c, f)
      },
      _storeState: function(a, e) {
        var g = b.decode,
          f = b.createHash(e);
        b.superclass._storeState.apply(this, arguments);
        if ("hash" !== a && g(b.getHash()) !== g(f)) b[a === c.SRC_REPLACE ? "replaceHash" : "setHash"](f)
      },
      _afterHashChange: function(a) {
        this._resolveChanges("hash", b.parseHash(a.newHash), {})
      }
    }, {
      NAME: "historyHash",
      SRC_HASH: "hash",
      hashPrefix: "",
      _REGEX_HASH: /([^\?#&=]+)=?([^&=]*)/g,
      createHash: function(a) {
        var c = b.encode,
          f = [];
        g.each(a,

        function(a, b) {
          e.isValue(a) && f.push(c(b) + "=" + c(a))
        });
        return f.join("&")
      },
      decode: function(a) {
        return decodeURIComponent(a.replace(/\+/g, " "))
      },
      encode: function(a) {
        return encodeURIComponent(a).replace(/%20/g, "+")
      },
      getHash: f.UA.gecko ? function() {
        var a = f.getLocation(),
          a = (a = /#(.*)$/.exec(a.href)) && a[1] || "",
          c = b.hashPrefix;
        return c && 0 === a.indexOf(c) ? a.replace(c, "") : a
      } : function() {
        var a = f.getLocation().hash.substring(1),
          c = b.hashPrefix;
        return c && 0 === a.indexOf(c) ? a.replace(c, "") : a
      },
      getUrl: function() {
        return location.href
      },
      parseHash: function(a) {
        var c = b.decode,
          g, f, h, k, l = {};
        g = b.hashPrefix;
        a = e.isValue(a) ? a : b.getHash();
        if (g && (f = a.indexOf(g), 0 === f || 1 === f && "#" === a.charAt(0))) a = a.replace(g, "");
        h = a.match(b._REGEX_HASH) || [];
        a = 0;
        for (g = h.length; a < g; ++a) f = h[a], k = f.split("="), 1 < k.length ? l[c(k[0])] = c(k[1]) : l[c(f)] = "";
        return l
      },
      replaceHash: function(a) {
        var c = f.getLocation(),
          e = c.href.replace(/#.*$/, "");
        "#" === a.charAt(0) && (a = a.substring(1));
        c.replace(e + "#" + (b.hashPrefix || "") + a)
      },
      setHash: function(a) {
        var c = f.getLocation();
        "#" === a.charAt(0) && (a = a.substring(1));
        c.hash = (b.hashPrefix || "") + a
      }
    });
    var u = f.config.win._YUI_HISTORY_HASH_ENVIRONMENT_ID;
    u || (u = f.guid(), f.config.win._YUI_HISTORY_HASH_ENVIRONMENT_ID = u);
    k = l._notifiers;
    k || (k = {}, l._notifiers = k);
    m = k[u];
    m || (m = [], k[u] = m);
    f.Event.define("hashchange", {
      on: function(a, b, c) {
        (a.compareTo(q) || a.compareTo(f.config.doc.body)) && m.push(c)
      },
      detach: function(a, b, c) {
        a = h.indexOf(m, c); - 1 !== a && m.splice(a, 1)
      }
    });
    n = b.getHash();
    p = b.getUrl();
    c.nativeHashChange ? (l._hashHandle || (l._hashHandle = {}), l._hashHandle[u] || (l._hashHandle[u] = f.Event.attach("hashchange", function(a) {
      var c = b.getHash(),
        e = b.getUrl();
      h.each(m.concat(), function(b) {
        b.fire({
          _event: a,
          oldHash: n,
          oldUrl: p,
          newHash: c,
          newUrl: e
        })
      });
      n = c;
      p = e
    }, q), f.on("beforeunload", function() {
      l._hashHandle[u].detach();
      l._hashHandle[u] = null;
      delete l._hashHandle[u]
    }))) : (l._hashPoll || (l._hashPoll = {}), l._hashPoll[u] || (l._hashPoll[u] = f.later(50, null, function() {
      var a = b.getHash(),
        c, e;
      n !== a && (e = b.getUrl(), c = {
        oldHash: n,
        oldUrl: p,
        newHash: a,
        newUrl: e
      }, n = a, p = e, h.each(m.concat(), function(a) {
        a.fire(c)
      }))
    },
    null, !0), f.on("beforeunload", function() {
      l._hashPoll[u].cancel();
      l._hashPoll[u] = null;
      delete l._hashPoll[u]
    })));
    f.HistoryHash = b;
    if (!1 === r || !f.History && !0 !== r && (!c.html5 || !f.HistoryHTML5)) f.History = b
  }, "3.17.2", {
    requires: ["event-synthetic", "history-base", "yui-later", "squarespace-beforeunload"]
  })
})(YUI);
YUI.add("squarespace-models-website-settings", function(a) {
  var f = a.namespace("Squarespace.Models").WebsiteSettings = a.Base.create("WebsiteSettings", a.Model, [a.Squarespace.ModelSync.REST], {
    url: "/api/settings",
    root: "/api/settings",
    serialize: function() {
      var b = this.toJSON();
      b && a.Lang.isObject(b.tutorialsCompleted) ? b.tutorialsCompleted = a.Object.keys(b.tutorialsCompleted) : b.tutorialsCompleted = [];
      "system-default" === b.notFoundPageId && (b.notFoundPageId = null);
      return a.JSON.stringify(b)
    },
    parse: function(b) {
      var c = f.superclass.parse.apply(this, arguments);
      return c = a.merge({
        contactPhoneNumber: ""
      }, c)
    }
  }, {
    setNewOwner: function(b, c, e, f) {
      a.Data.put({
        url: a.Squarespace.API_ROOT + "settings/owner",
        data: {
          ownerId: b,
          password: c
        },
        success: function() {
          a.Squarespace.Context.getInstance().get("websiteSettings").set("ownerId", b);
          e()
        },
        failure: f
      }, this)
    },
    ATTRS: {
      websiteId: {},
      ownerId: {},
      tutorialsCompleted: {},
      lastAgreedTermsOfService: {},
      type: {},
      subject: {},
      country: {},
      state: {},
      markdownMode: {},
      simpleLikingEnabled: {},
      defaultPostFormat: {},
      commentLikesAllowed: {},
      commentAnonAllowed: {},
      commentTHreaded: {},
      commentApprovalRequired: {},
      commentAvatarsOn: {},
      commentSortType: {},
      commentFlagThreshold: {},
      commentEnableByDefault: {},
      commentDisableAfterDaysDefault: {},
      disqusShortName: {},
      notFoundPageId: {},
      homepageTitleFormat: {},
      collectionTitleFormat: {},
      itemTitleFormat: {},
      commentsEnabled: {},
      amazonAssociateTag: {},
      contactPhoneNumber: {},
      contactEmail: {},
      hours: {},
      allowSquarespacePromotion: {},
      storeSettings: {},
      useEscapeKeyToLogin: {},
      configurationMenuItems: {},
      newslettersEnabled: {},
      socialAccountDisplayOrder: {
        validator: a.Lang.isNullOrArray
      },
      announcementBarSettings: {
        value: {}
      },
      mobileInfoBarSettings: {
        value: {}
      }
    }
  })
}, "1.0", {
  requires: ["base", "model", "squarespace-model-sync-rest", "squarespace-context"]
});
YUI.add("dataschema-xml", function(a, f) {
  var b = a.Lang,
    c = {
      1: !0,
      9: !0,
      11: !0
    }, e;
  e = {
    apply: function(a, b) {
      var f = {
        results: [],
        meta: {}
      };
      b && c[b.nodeType] && a ? (f = e._parseResults(a, b, f), f = e._parseMeta(a.metaFields, b, f)) : f.error = Error("XML schema parse failure");
      return f
    },
    _getLocationValue: function(b, c) {
      var f = b.locator || b.key || b,
        k = c.ownerDocument || c,
        m, n, p = null;
      try {
        for (m = e._getXPathResult(f, c, k); n = m.iterateNext();) p = n.textContent || n.value || n.text || n.innerHTML || n.innerText || null;
        return a.DataSchema.Base.parse.call(this,
        p, b)
      } catch (q) {}
      return null
    },
    _getXPathResult: function(c, e, f) {
      if (b.isUndefined(f.evaluate)) {
        var k = [],
          m = c.split(/\b\/\b/),
          n = 0,
          p = m.length,
          q;
        try {
          try {
            f.setProperty("SelectionLanguage", "XPath")
          } catch (r) {}
          k = e.selectNodes(c)
        } catch (u) {
          for (; n < p && e; n++) if (c = m[n], - 1 < c.indexOf("[") && -1 < c.indexOf("]")) c = c.slice(c.indexOf("[") + 1, c.indexOf("]")), c--, e = e.children[c], q = !0;
          else if (-1 < c.indexOf("@")) e = (c = c.substr(c.indexOf("@"))) ? e.getAttribute(c.replace("@", "")) : e;
          else if (-1 < c.indexOf("//")) c = e.getElementsByTagName(c.substr(2)),
          e = c.length ? c[c.length - 1] : null;
          else if (p != n + 1) for (f = e.childNodes.length - 1; 0 <= f; f -= 1) c === e.childNodes[f].tagName && (e = e.childNodes[f], f = -1);
          e && (b.isString(e) ? k[0] = {
            value: e
          } : q ? k[0] = {
            value: e.innerHTML
          } : k = a.Array(e.childNodes, 0, !0))
        }
        return {
          index: 0,
          iterateNext: function() {
            if (!(this.index >= this.values.length)) {
              var a = this.values[this.index];
              this.index += 1;
              return a
            }
          },
          values: k
        }
      }
      return f.evaluate(c, e, f.createNSResolver(e.ownerDocument ? e.ownerDocument.documentElement : e.documentElement), 0, null)
    },
    _parseField: function(a,
    b, c) {
      var f = a.key || a,
        m;
      a.schema ? (m = {
        results: [],
        meta: {}
      }, m = e._parseResults(a.schema, c, m), b[f] = m.results) : b[f] = e._getLocationValue(a, c)
    },
    _parseMeta: function(a, c, f) {
      if (b.isObject(a)) {
        var k;
        c = c.ownerDocument || c;
        for (k in a) a.hasOwnProperty(k) && (f.meta[k] = e._getLocationValue(a[k], c))
      }
      return f
    },
    _parseResult: function(a, b) {
      var c = {}, f;
      for (f = a.length - 1; 0 <= f; f--) e._parseField(a[f], c, b);
      return c
    },
    _parseResults: function(a, c, f) {
      if (a.resultListLocator && b.isArray(a.resultFields)) {
        var k = c.ownerDocument || c,
          m = a.resultFields,
          n = [],
          p = 0;
        if (a.resultListLocator.match(/^[:\-\w]+$/)) {
          c = c.getElementsByTagName(a.resultListLocator);
          for (p = c.length - 1; 0 <= p; --p) n[p] = e._parseResult(m, c[p])
        } else for (c = e._getXPathResult(a.resultListLocator, c, k); a = c.iterateNext();) n[p] = e._parseResult(m, a), p += 1;
        n.length ? f.results = n : f.error = Error("XML schema result nodes retrieval failure")
      }
      return f
    }
  };
  a.DataSchema.XML = a.mix(e, a.DataSchema.Base)
}, "3.17.2", {
  requires: ["dataschema-base"]
});
YUI.add("widget-skin", function(a, f) {
  var b = a.ClassNameManager.getClassName;
  a.Widget.prototype.getSkinName = function(a) {
    var e = this.get("contentBox") || this.get("boundingBox"),
      f, g;
    a = a || b("skin", "");
    g = RegExp("\\b" + a + "(\\S+)");
    e && e.ancestor(function(a) {
      return f = a.get("className").match(g)
    });
    return f ? f[1] : null
  }
}, "3.17.2", {
  requires: ["widget-base"]
});
YUI.add("squarespace-models-calendar-event", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.CalendarEvent = a.Base.create("CalendarEvent", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "CalendarEvent",
        validator: function(a) {
          return "CalendarEvent" === a
        },
        readOnly: !0
      },
      startDate: {
        valueFn: function() {
          var a = new Date,
            b = a.getMinutes();
          a.setSeconds(0);
          a.setMilliseconds(0);
          30 <= b ? (a.addHours(1), a.setMinutes(0)) : a.setMinutes(30);
          return a.getTime()
        },
        validator: a.Squarespace.AttrValidators.isNumber
      },
      endDate: {
        valueFn: function() {
          var a = new Date(this.get("startDate"));
          a.addHours(1);
          return a.getTime()
        },
        validator: a.Squarespace.AttrValidators.isNumber
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("squarespace-attr-validators", function(a) {
  a.namespace("Squarespace");
  var f = a.Squarespace.AttrValidators = {
    isBoolean: function(b) {
      return !a.Lang.isBoolean(b) ? (console.error('"' + b + '" is not a boolean'), !1) : !0
    },
    isNumber: function(b) {
      return !a.Lang.isNumber(b) ? (console.error('"' + b + '" is not a number'), !1) : !0
    },
    isString: function(b) {
      return !a.Lang.isString(b) ? (console.error('"' + b + '" is not a string'), !1) : !0
    },
    isNonArrayObject: function(b) {
      return a.Lang.isArray(b) ? (console.error('"' + b + '" is an array, not a hash.'), !1) : !a.Lang.isObject(b) ? (console.error('"' + b + '" is not an object'), !1) : !0
    },
    isObject: function(b) {
      if (a.Lang.isObject(b)) return !0;
      console.error('"' + b + '" is not an object');
      return !1
    },
    isArray: function(b) {
      return !a.Lang.isArray(b) ? (console.error('"' + b + '" is not an an Array'), !1) : !0
    },
    isFunction: function(b) {
      if (a.Lang.isFunction(b)) return !0;
      console.error('"' + b + '" is not a function.');
      return !1
    },
    isNode: function(b) {
      if (a.instanceOf(b, a.Node)) return !0;
      console.error('"' + b + '" is not a Node.');
      return !1
    },
    isNodeList: function(b) {
      if (a.instanceOf(b,
      a.NodeList)) return !0;
      console.error('"' + b + '" is not a NodeList.');
      return !1
    },
    isNullOr: function(b) {
      return !a.Lang.isFunction(b) ? (console.error("The validator function argument is required."), !1) : function(c) {
        return a.Lang.isNull(c) ? !0 : b(c)
      }
    },
    isInstanceOf: function(b) {
      if (!b) return console.error(b), console.error("Constructor object to check against was falsy."), !1;
      a.Lang.isString(b) && (b = b.split("."));
      return function(c) {
        if (a.Lang.isArray(b)) return c instanceof a.Squarespace.Damask.ContextGlobals.fromTop(b) || c instanceof a.Squarespace.Damask.ContextGlobals.fromFrame(b) ? !0 : !1;
        if (c instanceof b) return !0;
        console.error('"' + c + '" is not an instance of "' + b + '".');
        return !1
      }
    },
    isTypeOf: function(a) {
      return !a ? (console.error("Type string to check against was falsy. Type was:", a), !1) : function(c) {
        if (typeof c === a) return !0;
        console.error('"' + c + '" is not of type "' + a + '".');
        return !1
      }
    },
    isValueIn: function(b) {
      return !b ? (console.error(b), console.error("Constants object to check against was falsy."), !1) : function(c) {
        if (-1 !== a.Object.values(b).indexOf(c)) return !0;
        console.error('"' + c + '" is not a valid constant of that type.');
        return !1
      }
    },
    isMultipleTimeRange: function(b) {
      return a.Squarespace.BusinessHoursUtils.parseMultipleTimeRange(b) ? !0 : !1
    }
  };
  f.isNullOrInstanceOf = function(a) {
    return f.isNullOr(f.isInstanceOf(a))
  };
  f.isNullOrOfType = function(a) {
    return f.isNullOr(f.isTypeOf(a))
  };
  f.isNullOrValueIn = function(a) {
    return f.isNullOr(f.isValueIn(a))
  };
  f.isDate = f.isInstanceOf(Date);
  f.isNullOrString = f.isNullOr(f.isString);
  f.isNullOrDate = f.isNullOr(f.isDate);
  f.isNullOrBoolean = f.isNullOr(f.isBoolean);
  f.isNullOrNumber = f.isNullOr(f.isNumber);
  f.isNullOrObject = f.isNullOr(f.isObject);
  f.isNullOrNonArrayObject = f.isNullOr(f.isNonArrayObject);
  f.isNullOrArray = f.isNullOr(f.isArray);
  f.isNullOrFunction = f.isNullOr(f.isFunction);
  f.isNullOrNode = f.isNullOr(f.isNode);
  f.isNullOrNodeList = f.isNullOr(f.isNodeList)
}, "1.0", {
  requires: ["squarespace-business-hours-utils", "squarespace-damask-context-globals"]
});
YUI.add("thirdparty-jstween", function(a) {
  with(a.config.win) {
    var f = function(a) {
      var c = /[\-]{0,1}[0-9\.]{1,}|#[0-9\.abcdef]{3,6}/gi,
        e = /[pxemtcin%]{1,2}|deg/gi,
        f = /[0-9\.\-]{1,}/gi,
        g = /[0-9a-f]{3,6}/gi,
        l = /^#/,
        k = /^[0-9\.\-]{1,}([pxemtcin%]{1,2}|deg)$/,
        m = /^rgb\(/,
        n = /^scroll/,
        p = /-([a-z])/ig,
        q = /^-ms/ig,
        r = {
          opacity: ["opacity", "-moz-opacity", "filter"],
          shadow: ["box-shadow", "-moz-box-shadow", "-o-box-shadow", "-ms-box-shadow", "-webkit-box-shadow"],
          transform: ["-moz-transform", "transform", "-o-transform", "-ms-transform",
            "-webkit-transform"],
          transformOrigin: ["-moz-transform-origin", "transform-origin", "-o-transform-origin", "-ms-transform-origin", "-webkit-transform-origin"],
          borderRadius: ["-moz-border-radius", "border-radius", "-webkit-border-radius"],
          borderRadiusTopLeft: ["-moz-border-radius-topleft", "border-top-left-radius", "-webkit-border-top-left-radius"],
          borderRadiusTopRight: ["-moz-border-radius-topright", "border-top-right-radius", "-webkit-border-top-right-radius"],
          borderRadiusBottomLeft: ["-moz-border-radius-bottomleft",
            "border-bottom-left-radius", "-webkit-border-bottom-left-radius"],
          borderRadiusBottomRight: ["-moz-border-radius-bottomright", "border-bottom-right-radius", "-webkit-border-bottom-right-radius"],
          backgroundSize: ["background-size", "-moz-background-size", "-o-background-size", "-webkit-background-size"]
        }, u = {}, v = [],
        w = 0,
        y = 0,
        s = !1,
        x = !1,
        C = 0,
        z = {}, A = /iPad/i.test(navigator.userAgent) || /iPhone OS/i.test(navigator.userAgent),
        E = function() {
          var c = jQuery.fn;
          jQuery.JSTween = a;
          c.tween = function(a) {
            var b, c = this.length;
            for (b = 0; b < c; b++) K(this[b], a);
            return this
          };
          jQuery.framerate = function(a) {
            D(a)
          };
          jQuery.play = function(a) {
            H(a)
          };
          jQuery.clear = function(a, b) {
            T(a, b)
          };
          c.play = function(a) {
            H(a);
            return this
          };
          c.clear = function(a) {
            var b, c = this.length;
            for (b = 0; b < c; b++) T(this[b], a);
            return this
          };
          c.property = function(a) {
            var b = [],
              c, e = this.length;
            for (c = 0; c < e; c++) b.push(I(this[c], a));
            return 1 === b.length ? b[0] : b
          };
          c.opacity = function(a) {
            var b, c = this.length;
            for (b = 0; b < c; b++) R(this[b], a);
            return this
          };
          c.alpha = c.opacity;
          c.transparency = c.opacity;
          c.rotate = function(a) {
            var b, c = this.length;
            for (b = 0; b < c; b++) W(this[b], a);
            return this
          };
          c.action = function(a, b, c, g) {
            var l, m, n = this.length,
              p = {};
            if ("object" === typeof a) {
              for (l in a) a.hasOwnProperty(l) && "string" === typeof a[l] && (k.test(a[l]) ? p[l] = {
                value: parseFloat(a[l].match(f)[0], 10),
                units: a[l].match(e)[0]
              } : p[l] = {
                value: a[l],
                units: void 0
              });
              for (m = 0; m < n; m++) for (l in a = jQuery.JSTween.register(this[m]), p) p.hasOwnProperty(l) && jQuery.JSTween.action(a, l, p[l].value, p[l].units, void 0, !0)
            } else for (m = 0; m < n; m++) O(ca(this[m]), a,
            b, c, g, !0);
            return this
          };
          c.state = function(a) {
            if (0 < this.length && void 0 !== this[0].__animate) {
              if (void 0 !== a && void 0 !== this[0].__animate.state[a]) return this[0].__animate.state[a];
              if (void 0 === a) return this[0].__animate.state
            }
          };
          c.transform = function(a) {
            var b, c = this.length;
            for (b = 0; b < c; b++) X(this[b], a);
            return this
          };
          c.transformOrigin = function(a) {
            var b, c = this.length;
            for (b = 0; b < c; b++) aa(this[b], a);
            return this
          };
          c.backgroundSize = function(a) {
            var b, c = this.length;
            for (b = 0; b < c; b++) Z(this[b], a);
            return this
          };
          c.shadow = function(a) {
            var b,
            c = this.length;
            for (b = 0; b < c; b++) V(this[b], a);
            return this
          };
          c.borderRadius = function(a, b) {
            var c, e = this.length;
            for (c = 0; c < e; c++) ba(this[c], a, b);
            return this
          };
          c.borderRadiusTopRight = function(a, b) {
            var c, e = this.length;
            for (c = 0; c < e; c++) Q(this[c], "top", "right", a, b);
            return this
          };
          c.borderRadiusTopLeft = function(a, b) {
            var c, e = this.length;
            for (c = 0; c < e; c++) Q(this[c], "top", "left", a, b);
            return this
          };
          c.borderRadiusBottomRight = function(a, b) {
            var c, e = this.length;
            for (c = 0; c < e; c++) Q(this[c], "bottom", "right", a, b);
            return this
          };
          c.borderRadiusBottomLeft = function(a, b) {
            var c, e = this.length;
            for (c = 0; c < e; c++) Q(this[c], "bottom", "left", a, b);
            return this
          };
          c.borderRadiusCorner = function(a, b, c, e) {
            var g;
            for (g = 0; g < this.length; g++) Q(this[g], a, b, c, e);
            return this
          }
        }, B = function(a, b) {
          return b.toUpperCase()
        }, D = function(a) {
          if (!a) return z.frameRate;
          z.frameRate = a || 45;
          z.frameDelay = Math.round(1E3 / z.frameRate);
          z.frameLength = 1 / z.frameRate;
          return z.frameRate
        }, I = function(a, b) {
          return void 0 !== a.__animate ? void 0 === b ? a.__animate.state : a.__animate.state[b] ? a.__animate.state[b] : !1 : !1
        }, F = function(a, b, c) {
          return void 0 === a.tagName && (void 0 !== a.scroll || void 0 !== a.scrollTo) ? $(a).scrollLeft() + "px " + $(a).scrollTop() + "px" : a.scrollLeft + "px " + a.scrollTop + "px"
        }, G = function(a, b) {
          return "function" === typeof a ? a() : void 0 !== a ? a : b
        }, J = function(a) {
          var b = a.match(c);
          a = a.split(c);
          var e, k = b.length;
          for (e = 0; e < k; e++) if (l.test(b[e])) {
            var m = b,
              n = e,
              p;
            p = b[e].match(g)[0];
            p = 3 === p.length ? [16 * parseInt(p.substr(0, 1), 16), 16 * parseInt(p.substr(1, 1), 16), 16 * parseInt(p.substr(2, 1), 16)] : [parseInt(p.substr(0, 2), 16), parseInt(p.substr(2,
            2), 16), parseInt(p.substr(4, 2), 16)];
            m[n] = p
          } else b[e] = parseFloat(b[e].match(f)[0], 10);
          return {
            value: b,
            delimiter: a
          }
        }, K = function(a, b) {
          var c = ca(a),
            g = 0,
            k = 0,
            l = {}, p, q;
          for (p in b) if (b.hasOwnProperty(p) && "onStart" !== p && "onStop" !== p && "onFrame" !== p) {
            l[p] = {};
            if (void 0 === b[p].start) {
              var g = a,
                k = p,
                r = b[p].stop,
                u = I(g, k),
                v = void 0,
                s = void 0;
              q = void 0;
              if (!1 !== u && !n.test(k)) q = {
                value: u.value,
                units: g.__animate.state[k].units
              };
              else {
                switch (k) {
                case "transform":
                case "transformOrigin":
                case "shadow":
                case "boxShadow":
                case "backgroundSize":
                  s = r;
                  break;
                case "opacity":
                case "transparency":
                case "alpha":
                  s = 100;
                  break;
                case "scrollLeft":
                case "scrollTop":
                case "scroll":
                case "scrollTo":
                  s = F(g, k, r);
                  break;
                default:
                  void 0 !== window.getComputedStyle ? v = window.getComputedStyle(g, null)[k] : void 0 !== g.currentStyle && (v = g.currentStyle[k]), "auto" === v || void 0 === v || "" === v ? (s = 0, q = "px") : m.test(v) ? (g = v.match(f), u = r = k = void 0, k = parseInt(g[0], 10).toString(16), 1 === k.length && (k = "0" + k), r = parseInt(g[1], 10).toString(16), 1 === r.length && (r = "0" + r), u = parseInt(g[2], 10).toString(16),
                  1 === u.length && (u = "0" + u), s = "#" + k + r + u) : (s = parseFloat(v.match(f), 10), q = v.match(e))
                }
                q = {
                  value: s,
                  units: q
                }
              }
              l[p].start = q.value
            } else l[p].start = G(b[p].start);
            l[p].stop = G(b[p].stop, 1);
            l[p].duration = G(b[p].duration || l[p].dur, 1);
            l[p].time = G(b[p].time, 0);
            l[p].merge = G(b[p].merge, !1);
            l[p].effect = G(b[p].effect, "linear");
            l[p].framerate = G(b[p].framerate, z.frameRate);
            l[p].units = G(b[p].units, q ? q.units : "px");
            l[p].end = G(b[p].end, l[p].time + l[p].duration);
            n.test(p) && ("number" === typeof l[p].start && (l[p].start = l[p].start + "px " + l[p].start + "px"), "number" === typeof l[p].stop && (l[p].stop = l[p].stop + "px " + l[p].stop + "px"));
            l[p].callback = {
              onStart: b[p].onStart,
              onFrame: b[p].onFrame,
              onStop: b[p].onStop
            }
          }
          var x;
          q = p = 0;
          for (var B in l) l.hasOwnProperty(B) && l[B].end > q && (q = l[B].end);
          p = q;
          for (B in l) l.hasOwnProperty(B) && l[B].time < p && (p = l[B].time);
          for (x in l) if (l.hasOwnProperty(x)) {
            if ("string" === typeof l[x].start) {
              B = c;
              for (var g = x, k = l[x], D = void 0, r = J(k.start), u = J(k.stop), A = D = s = v = void 0, C = z.frameLength, E = k.end, D = A = Math.round(z.frameRate / k.framerate - 1), v = k.time; v < E; v += C) if (s = w + Math.round(v * z.frameRate), 0 === D) {
                for (var D = r, H = u, K = k, T = v, N = k.end, M = "", S = "", P = void 0, O = void 0, Q = D.value.length, R = 0, P = 0; P < Q; P++) if ("object" === typeof D.value[P] && void 0 !== D.value[P].length) {
                  M += D.delimiter[P] + "#";
                  R = D.value[P].length;
                  for (O = 0; O < R; O++) S = Math.round(U[K.effect](T - K.time, D.value[P][O], H.value[P][O] - D.value[P][O], N - K.time), 10).toString(16), 1 === S.length && (S = "0" + S), M += S
                } else M += D.delimiter[P] + U[K.effect](T - K.time, D.value[P], H.value[P] - D.value[P], N - K.time);
                D = M + D.delimiter[D.delimiter.length - 1];
                L(s, B, g, D, k.units, !1, !1);
                D = A
              } else L(s, B, g), D--;
              s = w + Math.round(k.end * z.frameRate);
              L(s, B, g, k.stop, k.units, !1, !0)
            } else {
              B = c;
              g = x;
              k = l[x];
              v = C = u = r = C = void 0;
              s = z.frameLength;
              A = k.end;
              C = v = Math.round(z.frameRate / k.framerate - 1);
              for (r = k.time; r < A; r += s) u = w + Math.round(r * z.frameRate), 0 === C ? (C = U[k.effect](r - k.time, k.start, k.stop - k.start, k.end - k.time), L(u, B, g, C, k.units, !1, !1), C = v) : (L(u, B, g), C--);
              u = w + Math.round(k.end * z.frameRate);
              L(u, B, g, k.stop, k.units, !1, !0)
            }
            "function" === typeof l[x].callback.onStart && (B = w + Math.round(l[x].time * z.frameRate), L(B, c, x, !1, !1, l[x].callback.onStart, !0));
            if ("function" === typeof l[x].callback.onFrame) for (k = l[x].time; k < l[x].end; k += z.frameLength) g = w + Math.round(k * z.frameRate), L(g, c, x, !1, !1, l[x].callback.onFrame, !0);
            "function" === typeof l[x].callback.onStop && (B = w + Math.round(l[x].end * z.frameRate), L(B, c, x, !1, !1, l[x].callback.onStop, !0));
            g = w + Math.round(l[x].end * z.frameRate);
            g > y && (y = g)
          }
          "function" === typeof b.onStart && (l = w + Math.round(p * z.frameRate), L(l, c, "callback", !1, !1, b.onStart, !0));
          if ("function" === typeof b.onFrame) for (frame = w + Math.round(p * z.frameRate); frame <= w + Math.round(q * z.frameRate); frame++) L(frame, c, "callback", !1, !1, b.onFrame, !0);
          "function" === typeof b.onStop && (l = w + Math.round(q * z.frameRate), L(l, c, "callback", !1, !1, b.onStop, !0))
        }, L = function(a, b, c, e, g, f, h) {
          void 0 !== b ? (void 0 === u[a] ? (u[a] = {}, u[a][b] = {}, u[a][b][c] = {
            value: e,
            units: g,
            callback: [],
            skip: h
          }) : void 0 === u[a][b] ? (u[a][b] = {}, u[a][b][c] = {
            value: e,
            units: g,
            callback: [],
            skip: h
          }) : void 0 === u[a][b][c] ? u[a][b][c] = {
            value: e,
            units: g,
            callback: [],
            skip: h
          } : (!1 !== e && (u[a][b][c].value = e), !1 !== g && (u[a][b][c].units = g), u[a][b][c].skip = h), "function" === typeof f && u[a][b][c].callback.push(f)) : void 0 === u[a] && (u[a] = {})
        }, H = function(a) {
          !1 === s && (s = !0, C = (new Date).getTime(), x = a, S())
        }, T = function(a, b) {
          var c;
          if (void 0 !== a && void 0 !== b && void 0 !== a.__animate) for (c in u) u.hasOwnProperty(c) && (void 0 !== u[c][a.__animate.id] && void 0 !== u[c][a.__animate.id][b]) && delete u[c][a.__animate.id][b];
          else if (void 0 !== a && void 0 !== a.__animate) for (c in u) u.hasOwnProperty(c) && void 0 !== u[c][a.__animate.id] && delete u[c][a.__animate.id];
          else for (c in u) u.hasOwnProperty(c) && delete u[c]
        }, S = function() {
          var a, b, c, e;
          if (w <= y) {
            e = z.frameDelay - ((new Date).getTime() - C - w * z.frameDelay);
            0 > e ? e = 0 : e > z.frameDelay && (e = z.frameDelay);
            setTimeout(function() {
              S(e ? !0 : !1)
            }, e);
            for (b in u[w]) if (u[w].hasOwnProperty(b)) for (c in a = u[w][b], a) a.hasOwnProperty(c) && O(b, c, a[c].value, a[c].units, a[c].callback, !0 === a[c].skip ? !0 : e ? !0 : !1);
            delete u[w];
            w++;
            (new Date).getTime()
          } else s = !1, w = 0, "function" === typeof x && (x(), x = !1)
        }, O = function(a, b, c, e, g, f) {
          var h = v[a].__animate.state[b];
          if (!0 === f && !1 !== c && (void 0 === h || h.value != c || h.units != e)) switch (b) {
          case "zIndex":
            v[a].style.zIndex = c;
            break;
          case "alpha":
          case "transparency":
          case "opacity":
            R(v[a], c);
            break;
          case "scroll":
          case "scrollTop":
          case "scrollLeft":
          case "scrollTo":
            M(v[a], b, c);
            break;
          case "shadow":
          case "boxShadow":
            V(v[a], c);
            break;
          case "rotate":
            W(v[a], c);
            break;
          case "transformOrigin":
            aa(v[a], c);
            break;
          case "transform":
            X(v[a], c);
            break;
          case "backgroundSize":
            Z(v[a], c);
            break;
          case "borderRadius":
            ba(v[a], c, e);
            break;
          case "borderRadiusTopRight":
            Q(v[a], "top", "right", c, e);
            break;
          case "borderRadiusTopLeft":
            Q(v[a], "top", "left", c, e);
            break;
          case "borderRadiusBottomRight":
            Q(v[a], "bottom", "right", c, e);
            break;
          case "borderRadiusBottomLeft":
            Q(v[a], "bottom", "left", c, e);
            break;
          default:
            v[a].style[b] = "string" === typeof c ? c : c + e
          }
          v[a].__animate.state[b] = {
            value: c,
            units: e
          };
          if (void 0 !== g && 0 < g.length) for (i = 0; i < g.length; i++) if ("function" === typeof g[i]) g[i](v[a], {
            type: b,
            value: c,
            units: e,
            id: a
          })
        }, M = function(a, b, c) {
          void 0 === a.tagName && ("function" === typeof a.scroll || "function" === typeof a.scrollTo) && "string" === typeof c ? (c = c.match(f)) && (self.pageYOffset ? window.scroll(parseInt(c[0], 10), parseInt(c[1], 10)) : document.documentElement && document.documentElement.scrollTop ? window.scrollTo(parseInt(c[0], 10), parseInt(c[1], 10)) : document.body && window.scrollTo(parseInt(c[0], 10), parseInt(c[1], 10))) : (c = "string" === typeof c ? c.match(f) : [c, c], "scrollTop" === b ? a.scrollTop = parseInt(c[1], 10) : "scrollLeft" === b ? a.scrollLeft = parseInt(c[0], 10) : (a.scrollLeft = parseInt(c[0], 10), a.scrollTop = parseInt(c[1], 10)))
        },
        N = function(a, b, c, e) {
          a.style[b] = c + (e ? e : "")
        }, R = function(a, b) {
          "filter" === r.opacity ? N(a, "filter", "alpha(opacity=" + b + ")") : N(a, r.opacity, b / 100)
        }, V = function(a, b) {
          N(a, r.shadow, b)
        }, W = function(a, b) {
          N(a, r.transform, "rotate(" + b + "deg)")
        }, X = function(a, b) {
          N(a, r.transform, b)
        }, Z = function(a, b) {
          N(a, r.backgroundSize, b)
        }, aa = function(a, b) {
          N(a, r.transformOrigin, b)
        }, ba = function(a, b, c) {
          N(a, r.borderRadius, b, c)
        }, Q = function(a, b, c, e, g) {
          "top" === b ? "left" === c ? N(a, r.borderRadiusTopLeft, e, g) : N(a, r.borderRadiusTopRight, e, g) : "left" === c ? N(a, r.borderRadiusBottomLeft, e, g) : N(a, r.borderRadiusBottomRight, e, g)
        }, ca = function(a) {
          if (void 0 === a.__animate) {
            var b = v.length;
            a.__animate = {
              id: b,
              state: {},
              callback: {},
              dragging: !1
            };
            v.push(a);
            return b
          }
          return a.__animate.id
        }, U = {
          linear: function(a, b, c, e) {
            return c * a / e + b
          },
          quadIn: function(a, b, c, e) {
            return c * (a /= e) * a + b
          },
          quadOut: function(a, b, c, e) {
            return -c * (a /= e) * (a - 2) + b
          },
          quadInOut: function(a, b, c, e) {
            return 1 > (a /= e / 2) ? c / 2 * a * a + b : -c / 2 * (--a * (a - 2) - 1) + b
          },
          cubicIn: function(a, b, c, e) {
            return c * (a /= e) * a * a + b
          },
          cubicOut: function(a,
          b, c, e) {
            return c * ((a = a / e - 1) * a * a + 1) + b
          },
          cubicInOut: function(a, b, c, e) {
            return 1 > (a /= e / 2) ? c / 2 * a * a * a + b : c / 2 * ((a -= 2) * a * a + 2) + b
          },
          easeIn: function(a, b, c, e) {
            return c * (a /= e) * a * a + b
          },
          easeOut: function(a, b, c, e) {
            return c * ((a = a / e - 1) * a * a + 1) + b
          },
          easeInOut: function(a, b, c, e) {
            return 1 > (a /= e / 2) ? c / 2 * a * a * a + b : c / 2 * ((a -= 2) * a * a + 2) + b
          },
          quartIn: function(a, b, c, e) {
            return c * (a /= e) * a * a * a + b
          },
          quartOut: function(a, b, c, e) {
            return -c * ((a = a / e - 1) * a * a * a - 1) + b
          },
          quartInOut: function(a, b, c, e) {
            return 1 > (a /= e / 2) ? c / 2 * a * a * a * a + b : -c / 2 * ((a -= 2) * a * a * a - 2) + b
          },
          quintIn: function(a,
          b, c, e) {
            return c * (a /= e) * a * a * a * a + b
          },
          quintOut: function(a, b, c, e) {
            return c * ((a = a / e - 1) * a * a * a * a + 1) + b
          },
          quintInOut: function(a, b, c, e) {
            return 1 > (a /= e / 2) ? c / 2 * a * a * a * a * a + b : c / 2 * ((a -= 2) * a * a * a * a + 2) + b
          },
          sineIn: function(a, b, c, e) {
            return -c * Math.cos(a / e * (Math.PI / 2)) + c + b
          },
          sineOut: function(a, b, c, e) {
            return c * Math.sin(a / e * (Math.PI / 2)) + b
          },
          sineInOut: function(a, b, c, e) {
            return -c / 2 * (Math.cos(Math.PI * a / e) - 1) + b
          },
          expoIn: function(a, b, c, e) {
            return 0 === a ? b : c * Math.pow(2, 10 * (a / e - 1)) + b
          },
          expoOut: function(a, b, c, e) {
            return a === e ? b + c : c * (-Math.pow(2, - 10 * a / e) + 1) + b
          },
          expoInOut: function(a, b, c, e) {
            return 0 === a ? b : a === e ? b + c : 1 > (a /= e / 2) ? c / 2 * Math.pow(2, 10 * (a - 1)) + b : c / 2 * (-Math.pow(2, - 10 * --a) + 2) + b
          },
          circIn: function(a, b, c, e) {
            return -c * (Math.sqrt(1 - (a /= e) * a) - 1) + b
          },
          circOut: function(a, b, c, e) {
            return c * Math.sqrt(1 - (a = a / e - 1) * a) + b
          },
          circInOut: function(a, b, c, e) {
            return 1 > (a /= e / 2) ? -c / 2 * (Math.sqrt(1 - a * a) - 1) + b : c / 2 * (Math.sqrt(1 - (a -= 2) * a) + 1) + b
          },
          bounceIn: function(a, b, c, e) {
            return c - U.bounceOut(e - a, 0, c, e) + b
          },
          bounceOut: function(a, b, c, e) {
            return (a /= e) < 1 / 2.75 ? c * 7.5625 * a * a + b : a < 2 / 2.75 ? c * (7.5625 * (a -= 1.5 / 2.75) * a + 0.75) + b : a < 2.5 / 2.75 ? c * (7.5625 * (a -= 2.25 / 2.75) * a + 0.9375) + b : c * (7.5625 * (a -= 2.625 / 2.75) * a + 0.984375) + b
          },
          bounceInOut: function(a, b, c, e) {
            return a < e / 2 ? 0.5 * U.bounceIn(2 * a, 0, c, e) + b : 0.5 * U.bounceOut(2 * a - e, 0, c, e) + 0.5 * c + b
          },
          elasticIn: function(a, b, c, e, g, f) {
            if (0 === a) return b;
            if (1 === (a /= e)) return b + c;
            f || (f = 0.3 * e);
            g || (g = 1);
            var h = 0;
            g < Math.abs(c) ? (g = c, h = f / 4) : h = f / (2 * Math.PI) * Math.asin(c / g);
            return -(g * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * e - h) * 2 * Math.PI / f)) + b
          },
          elasticOut: function(a, b, c, e, g, f) {
            if (0 === a) return b;
            if (1 === (a /= e)) return b + c;
            f || (f = 0.3 * e);
            g || (g = 1);
            var h = 0;
            g < Math.abs(c) ? (g = c, h = f / 4) : h = f / (2 * Math.PI) * Math.asin(c / g);
            return g * Math.pow(2, - 10 * a) * Math.sin((a * e - h) * 2 * Math.PI / f) + c + b
          },
          elasticInOut: function(a, b, c, e, g, f) {
            if (0 === a) return b;
            if (2 === (a /= e / 2)) return b + c;
            f || (f = e * 0.3 * 1.5);
            g || (g = 1);
            var h = 0;
            g < Math.abs(c) ? (g = c, h = f / 4) : h = f / (2 * Math.PI) * Math.asin(c / g);
            return 1 > a ? -0.5 * g * Math.pow(2, 10 * (a -= 1)) * Math.sin((a * e - h) * 2 * Math.PI / f) + b : 0.5 * g * Math.pow(2, - 10 * (a -= 1)) * Math.sin((a * e - h) * 2 * Math.PI / f) + c + b
          }
        };
      a.tween = K;
      a.action = O;
      a.register = ca;
      a.shadow = V;
      a.opacity = R;
      a.borderRadius = ba;
      a.borderRadiusCorner = Q;
      a.backgroundSize = Z;
      a.transformOrigin = aa;
      a.rotate = W;
      a.transform = X;
      a.clear = T;
      a.play = H;
      a.property = I;
      a.getScroll = F;
      a.scroll = M;
      a.framerate = D;
      D(A ? 30 : 45);
      (function() {
        var a = document.getElementsByTagName("html"),
          b;
        if (void 0 !== a[0]) for (b in a = a[0].style, r) if (r.hasOwnProperty(b)) for (i = 0; i < r[b].length; i++) if (void 0 !== a[r[b][i]]) {
          r[b] = r[b][i];
          break
        } else if (void 0 !== a[r[b][i].replace(q, "ms").replace(p, B)]) {
          r[b] = r[b][i].replace(q, "ms").replace(p,
          B);
          break
        }
      })();
      try {
        E()
      } catch (da) {}
      return a
    }(f || {});
    window.JSTween = f
  }
});
YUI.add("event-valuechange", function(a, f) {
  var b, c = {
    POLL_INTERVAL: 50,
    TIMEOUT: 1E4,
    _poll: function(b, f) {
      var g = b._node,
        l = f.e,
        k = b._data && b._data._valuechange,
        m = 0,
        n, p, q, r, u;
      !g || !k ? c._stopPolling(b) : (p = k.prevVal, r = k.nodeName, k.isEditable ? q = g.innerHTML : "input" === r || "textarea" === r ? q = g.value : "select" === r && (g = g.options[g.selectedIndex], q = g.value || g.text), q !== p && (k.prevVal = q, n = {
        _event: l,
        currentTarget: l && l.currentTarget || b,
        newVal: q,
        prevVal: p,
        target: l && l.target || b
      }, a.Object.some(k.notifiers, function(a) {
        var b = a.handle.evt;
        1 !== m ? a.fire(n) : b.el === u && a.fire(n);
        a = b && b._facade ? b._facade.stopped : 0;
        a > m && (m = a, 1 === m && (u = b.el));
        if (2 === m) return !0
      }), c._refreshTimeout(b)))
    },
    _refreshTimeout: function(a, b) {
      if (a._node) {
        var g = a.getData("_valuechange");
        c._stopTimeout(a);
        g.timeout = setTimeout(function() {
          c._stopPolling(a, b)
        }, c.TIMEOUT)
      }
    },
    _startPolling: function(b, f, g) {
      var l, k;
      if (b.test("input,textarea,select") || (k = c._isEditable(b))) {
        l = b.getData("_valuechange");
        l || (l = {
          nodeName: b.get("nodeName").toLowerCase(),
          isEditable: k,
          prevVal: k ? b.getDOMNode().innerHTML : b.get("value")
        }, b.setData("_valuechange", l));
        l.notifiers || (l.notifiers = {});
        if (l.interval) if (g.force) c._stopPolling(b, f);
        else {
          l.notifiers[a.stamp(f)] = f;
          return
        }
        l.notifiers[a.stamp(f)] = f;
        l.interval = setInterval(function() {
          c._poll(b, g)
        }, c.POLL_INTERVAL);
        c._refreshTimeout(b, f)
      }
    },
    _stopPolling: function(b, f) {
      if (b._node) {
        var g = b.getData("_valuechange") || {};
        clearInterval(g.interval);
        delete g.interval;
        c._stopTimeout(b);
        f ? g.notifiers && delete g.notifiers[a.stamp(f)] : g.notifiers = {}
      }
    },
    _stopTimeout: function(a) {
      a = a.getData("_valuechange") || {};
      clearTimeout(a.timeout);
      delete a.timeout
    },
    _isEditable: function(a) {
      a = a._node;
      return "true" === a.contentEditable || "" === a.contentEditable
    },
    _onBlur: function(a, b) {
      c._stopPolling(a.currentTarget, b)
    },
    _onFocus: function(a, b) {
      var g = a.currentTarget,
        f = g.getData("_valuechange");
      f || (f = {
        isEditable: c._isEditable(g),
        nodeName: g.get("nodeName").toLowerCase()
      }, g.setData("_valuechange", f));
      f.prevVal = f.isEditable ? g.getDOMNode().innerHTML : g.get("value");
      c._startPolling(g, b, {
        e: a
      })
    },
    _onKeyDown: function(a,
    b) {
      c._startPolling(a.currentTarget, b, {
        e: a
      })
    },
    _onKeyUp: function(a, b) {
      (229 === a.charCode || 197 === a.charCode) && c._startPolling(a.currentTarget, b, {
        e: a,
        force: !0
      })
    },
    _onMouseDown: function(a, b) {
      c._startPolling(a.currentTarget, b, {
        e: a
      })
    },
    _onSubscribe: function(b, f, g, l) {
      var k, m, n, p;
      k = {
        blur: c._onBlur,
        focus: c._onFocus,
        keydown: c._onKeyDown,
        keyup: c._onKeyUp,
        mousedown: c._onMouseDown
      };
      f = g._valuechange = {};
      if (l) f.delegated = !0, f.getNodes = function() {
        n = b.all("input,textarea,select").filter(l);
        p = b.all('[contenteditable="true"],[contenteditable=""]').filter(l);
        return n.concat(p)
      }, f.getNodes().each(function(a) {
        a.getData("_valuechange") || a.setData("_valuechange", {
          nodeName: a.get("nodeName").toLowerCase(),
          isEditable: c._isEditable(a),
          prevVal: m ? a.getDOMNode().innerHTML : a.get("value")
        })
      }), g._handles = a.delegate(k, b, l, null, g);
      else if (m = c._isEditable(b), b.test("input,textarea,select") || m) b.getData("_valuechange") || b.setData("_valuechange", {
        nodeName: b.get("nodeName").toLowerCase(),
        isEditable: m,
        prevVal: m ? b.getDOMNode().innerHTML : b.get("value")
      }), g._handles = b.on(k,
      null, null, g)
    },
    _onUnsubscribe: function(a, b, g) {
      b = g._valuechange;
      g._handles && g._handles.detach();
      b.delegated ? b.getNodes().each(function(a) {
        c._stopPolling(a, g)
      }) : c._stopPolling(a, g)
    }
  };
  b = {
    detach: c._onUnsubscribe,
    on: c._onSubscribe,
    delegate: c._onSubscribe,
    detachDelegate: c._onUnsubscribe,
    publishConfig: {
      emitFacade: !0
    }
  };
  a.Event.define("valuechange", b);
  a.Event.define("valueChange", b);
  a.ValueChange = c
}, "3.17.2", {
  requires: ["event-focus", "event-synthetic"]
});
YUI.add("widget-position", function(a, f) {
  function b(a) {}
  var c = a.Lang,
    e = a.Widget,
    h = e.UI_SRC;
  b.ATTRS = {
    x: {
      setter: function(a) {
        this._setX(a)
      },
      getter: function() {
        return this._getX()
      },
      lazyAdd: !1
    },
    y: {
      setter: function(a) {
        this._setY(a)
      },
      getter: function() {
        return this._getY()
      },
      lazyAdd: !1
    },
    xy: {
      value: [0, 0],
      validator: function(a) {
        return this._validateXY(a)
      }
    }
  };
  b.POSITIONED_CLASS_NAME = e.getClassName("positioned");
  b.prototype = {
    initializer: function() {
      this._posNode = this.get("boundingBox");
      a.after(this._renderUIPosition,
      this, "renderUI");
      a.after(this._syncUIPosition, this, "syncUI");
      a.after(this._bindUIPosition, this, "bindUI")
    },
    _renderUIPosition: function() {
      this._posNode.addClass(b.POSITIONED_CLASS_NAME)
    },
    _syncUIPosition: function() {
      "relative" === this._posNode.getStyle("position") && this.syncXY();
      this._uiSetXY(this.get("xy"))
    },
    _bindUIPosition: function() {
      this.after("xyChange", this._afterXYChange)
    },
    move: function() {
      var a = arguments,
        a = c.isArray(a[0]) ? a[0] : [a[0], a[1]];
      this.set("xy", a)
    },
    syncXY: function() {
      this.set("xy", this._posNode.getXY(), {
        src: h
      })
    },
    _validateXY: function(a) {
      return c.isArray(a) && c.isNumber(a[0]) && c.isNumber(a[1])
    },
    _setX: function(a) {
      this.set("xy", [a, this.get("xy")[1]])
    },
    _setY: function(a) {
      this.set("xy", [this.get("xy")[0], a])
    },
    _getX: function() {
      return this.get("xy")[0]
    },
    _getY: function() {
      return this.get("xy")[1]
    },
    _afterXYChange: function(a) {
      a.src != h && this._uiSetXY(a.newVal)
    },
    _uiSetXY: function(a) {
      this._posNode.setXY(a)
    }
  };
  a.WidgetPosition = b
}, "3.17.2", {
  requires: ["base-build", "node-screen", "widget"]
});
YUI.add("squarespace-models-store-item", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.StoreItem = a.Base.create("StoreItem", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "StoreItem",
        validator: function(a) {
          return "StoreItem" === a
        },
        readOnly: !0
      },
      productType: {
        value: a.Squarespace.ProductTypes.PHYSICAL,
        validator: a.Squarespace.AttrValidators.isValueIn(a.Squarespace.ProductTypes)
      },
      priceCents: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      salePriceCents: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      onSale: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      variants: {
        value: [],
        validator: a.Squarespace.AttrValidators.isArray
      },
      originalVariants: {
        value: [],
        validator: a.Squarespace.AttrValidators.isArray
      },
      variantOptionOrdering: {
        value: [],
        validator: a.Squarespace.AttrValidators.isArray
      },
      additionalFieldsFormId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      customAddButtonText: {
        value: "Add to Cart",
        validator: a.Squarespace.AttrValidators.isString
      },
      useCustomAddButtonText: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      additionalFieldsForm: {
        value: null
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("pluginhost-config", function(a, f) {
  var b = a.Plugin.Host,
    c = a.Lang;
  b.prototype._initConfigPlugins = function(b) {
    var c = this._getClasses ? this._getClasses() : [this.constructor],
      g = [],
      f = {}, k, m, n, p;
    for (m = c.length - 1; 0 <= m; m--) k = c[m], (n = k._UNPLUG) && a.mix(f, n, !0), (k = k._PLUG) && a.mix(g, k, !0);
    for (p in g) g.hasOwnProperty(p) && (f[p] || this.plug(g[p]));
    b && b.plugins && this.plug(b.plugins)
  };
  b.plug = function(b, f, g) {
    var l, k, m;
    if (b !== a.Base) {
      b._PLUG = b._PLUG || {};
      c.isArray(f) || (g && (f = {
        fn: f,
        cfg: g
      }), f = [f]);
      l = 0;
      for (k = f.length; l < k; l++) g = f[l], m = g.NAME || g.fn.NAME, b._PLUG[m] = g
    }
  };
  b.unplug = function(b, f) {
    var g, l, k, m;
    if (b !== a.Base) {
      b._UNPLUG = b._UNPLUG || {};
      c.isArray(f) || (f = [f]);
      l = 0;
      for (k = f.length; l < k; l++) g = f[l], m = g.NAME, b._PLUG[m] ? delete b._PLUG[m] : b._UNPLUG[m] = g
    }
  }
}, "3.17.2", {
  requires: ["pluginhost-base"]
});
YUI.add("dataschema-text", function(a, f) {
  var b = a.Lang,
    c = b.isString,
    e = b.isUndefined,
    h = {
      apply: function(a, b) {
        var e = {
          results: [],
          meta: {}
        };
        c(b) && a && c(a.resultDelimiter) ? e = h._parseResults.call(this, a, b, e) : e.error = Error("Text schema parse failure");
        return e
      },
      _parseResults: function(b, f, h) {
        var m = b.resultDelimiter,
          n = c(b.fieldDelimiter) && b.fieldDelimiter,
          p = b.resultFields || [],
          q = [],
          r = a.DataSchema.Base.parse,
          u, v, w, y, s;
        f.slice(-m.length) === m && (f = f.slice(0, - m.length));
        f = f.split(b.resultDelimiter);
        if (n) for (m = f.length - 1; 0 <= m; --m) {
          n = {};
          u = f[m];
          u = u.split(b.fieldDelimiter);
          for (s = p.length - 1; 0 <= s; --s) v = p[s], w = !e(v.key) ? v.key : v, y = !e(u[w]) ? u[w] : u[s], n[w] = r.call(this, y, v);
          q[m] = n
        } else q = f;
        h.results = q;
        return h
      }
    };
  a.DataSchema.Text = a.mix(h, a.DataSchema.Base)
}, "3.17.2", {
  requires: ["dataschema-base"]
});
YUI.add("squarespace-census", function(a) {
  var f = function() {}, b = a.namespace("Squarespace").Census = {
    hit: function() {
      Static.SQUARESPACE_CONTEXT.authenticatedAccount || (Static.SQUARESPACE_CONTEXT.itemId ? b.view("item", Static.SQUARESPACE_CONTEXT.itemId) : Static.SQUARESPACE_CONTEXT.collectionId ? b.view("collection", Static.SQUARESPACE_CONTEXT.collectionId) : console.warn("Census: Hit not recorded, somehow not an item or collection."))
    },
    view: function(c, e) {
      var f = {
        url: window.location.pathname,
        queryString: window.location.search,
        viewportInnerHeight: a.DOM.winHeight(),
        viewportInnerWidth: a.DOM.winWidth(),
        screenHeight: window.screen.height,
        screenWidth: window.screen.width,
        userAgent: a.UA.userAgent,
        referrer: window.document.referrer,
        pixelRatio: window.devicePixelRatio
      };
      this._addPageTypeData(f, c, e);
      b.track(a.Squarespace.Events.VIEW, f)
    },
    track: function(b, e) {
      a.Lang.isObject(e) || (e = {});
      Static.SQUARESPACE_CONTEXT.website && (e.websiteId = a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "id"]));
      Static.SQUARESPACE_CONTEXT.templateId && (e.templateId = Static.SQUARESPACE_CONTEXT.templateId);
      a.Data.post({
        url: "/api/census/RecordHit",
        data: {
          event: b,
          data: e
        },
        success: f,
        failure: f
      })
    },
    _addPageTypeData: function(a, b, f) {
      "item" === b ? (a.title = Static.SQUARESPACE_CONTEXT.item.title, a.itemId = f, a.recordType = Static.SQUARESPACE_CONTEXT.item.recordType) : "collection" === b && (a.title = Static.SQUARESPACE_CONTEXT.collection.title, a.collectionId = f);
      return a
    }
  }
}, "1.0", {
  requires: ["base", "dom-base", "io", "json-stringify"]
});
YUI.add("array-extras", function(a, f) {
  var b = a.Array,
    c = a.Lang,
    e = Array.prototype;
  b.lastIndexOf = c._isNative(e.lastIndexOf) ? function(a, b, c) {
    return c || 0 === c ? a.lastIndexOf(b, c) : a.lastIndexOf(b)
  } : function(a, b, c) {
    var e = a.length,
      f = e - 1;
    if (c || 0 === c) f = Math.min(0 > c ? e + c : c, e);
    if (-1 < f && 0 < e) for (; - 1 < f; --f) if (f in a && a[f] === b) return f;
    return -1
  };
  b.unique = function(a, b) {
    var c = 0,
      e = a.length,
      f = [],
      n, p, q, r;
    a: for (; c < e; c++) {
      r = a[c];
      n = 0;
      for (q = f.length; n < q; n++) if (p = f[n], b) {
        if (b.call(a, r, p, c, a)) continue a
      } else if (r === p) continue a;
      f.push(r)
    }
    return f
  };
  b.filter = c._isNative(e.filter) ? function(a, b, c) {
    return e.filter.call(a, b, c)
  } : function(a, b, c) {
    for (var e = 0, f = a.length, n = [], p; e < f; ++e) e in a && (p = a[e], b.call(c, p, e, a) && n.push(p));
    return n
  };
  b.reject = function(a, c, e) {
    return b.filter(a, function(a, b, f) {
      return !c.call(e, a, b, f)
    })
  };
  b.every = c._isNative(e.every) ? function(a, b, c) {
    return e.every.call(a, b, c)
  } : function(a, b, c) {
    for (var e = 0, f = a.length; e < f; ++e) if (e in a && !b.call(c, a[e], e, a)) return !1;
    return !0
  };
  b.map = c._isNative(e.map) ? function(a, b, c) {
    return e.map.call(a,
    b, c)
  } : function(a, b, c) {
    for (var f = 0, m = a.length, n = e.concat.call(a); f < m; ++f) f in a && (n[f] = b.call(c, a[f], f, a));
    return n
  };
  b.reduce = c._isNative(e.reduce) ? function(a, b, c, f) {
    return e.reduce.call(a, function(a, b, e, g) {
      return c.call(f, a, b, e, g)
    }, b)
  } : function(a, b, c, e) {
    for (var f = 0, n = a.length; f < n; ++f) f in a && (b = c.call(e, b, a[f], f, a));
    return b
  };
  b.find = function(a, b, c) {
    for (var e = 0, f = a.length; e < f; e++) if (e in a && b.call(c, a[e], e, a)) return a[e];
    return null
  };
  b.grep = function(a, c) {
    return b.filter(a, function(a, b) {
      return c.test(a)
    })
  };
  b.partition = function(a, c, e) {
    var f = {
      matches: [],
      rejects: []
    };
    b.each(a, function(b, n) {
      (c.call(e, b, n, a) ? f.matches : f.rejects).push(b)
    });
    return f
  };
  b.zip = function(a, c) {
    var e = [];
    b.each(a, function(a, b) {
      e.push([a, c[b]])
    });
    return e
  };
  b.flatten = function(a) {
    var e = [],
      f, k, m;
    if (!a) return e;
    f = 0;
    for (k = a.length; f < k; ++f) m = a[f], c.isArray(m) ? e.push.apply(e, b.flatten(m)) : e.push(m);
    return e
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("event-base", function(a, f) {
  a.publish("domready", {
    fireOnce: !0,
    async: !0
  });
  YUI.Env.DOMReady ? a.fire("domready") : a.Do.before(function() {
    a.fire("domready")
  }, YUI.Env, "_ready");
  var b = a.UA,
    c = {}, e = {
      63232: 38,
      63233: 40,
      63234: 37,
      63235: 39,
      63276: 33,
      63277: 34,
      25: 9,
      63272: 46,
      63273: 36,
      63275: 35
    }, h = function(b) {
      if (!b) return b;
      try {
        b && 3 == b.nodeType && (b = b.parentNode)
      } catch (c) {
        return null
      }
      return a.one(b)
    }, g = function(a, b, e) {
      this._event = a;
      this._currentTarget = b;
      this._wrapper = e || c;
      this.init()
    };
  a.extend(g, Object, {
    init: function() {
      var a = this._event,
        c = this._wrapper.overrides,
        f = a.pageX,
        g = a.pageY,
        p = this._currentTarget;
      this.altKey = a.altKey;
      this.ctrlKey = a.ctrlKey;
      this.metaKey = a.metaKey;
      this.shiftKey = a.shiftKey;
      this.type = c && c.type || a.type;
      this.clientX = a.clientX;
      this.clientY = a.clientY;
      this.pageX = f;
      this.pageY = g;
      c = a.keyCode || a.charCode;
      b.webkit && c in e && (c = e[c]);
      this.charCode = this.keyCode = c;
      this.button = this.which = a.which || a.charCode || c;
      this.target = h(a.target);
      this.currentTarget = h(p);
      this.relatedTarget = h(a.relatedTarget);
      if ("mousewheel" == a.type || "DOMMouseScroll" == a.type) this.wheelDelta = a.detail ? -1 * a.detail : Math.round(a.wheelDelta / 80) || (0 > a.wheelDelta ? -1 : 1);
      this._touch && this._touch(a, p, this._wrapper)
    },
    stopPropagation: function() {
      this._event.stopPropagation();
      this.stopped = this._wrapper.stopped = 1
    },
    stopImmediatePropagation: function() {
      var a = this._event;
      a.stopImmediatePropagation ? a.stopImmediatePropagation() : this.stopPropagation();
      this.stopped = this._wrapper.stopped = 2
    },
    preventDefault: function(a) {
      var b = this._event;
      b.preventDefault();
      a && (b.returnValue = a);
      this.prevented = this._wrapper.prevented = 1
    },
    halt: function(a) {
      a ? this.stopImmediatePropagation() : this.stopPropagation();
      this.preventDefault()
    }
  });
  g.resolve = h;
  a.DOM2EventFacade = g;
  a.DOMEventFacade = g;
  (function() {
    a.Env.evt.dom_wrappers = {};
    a.Env.evt.dom_map = {};
    var b = a.Env.evt,
      c = a.config,
      e = c.win,
      f = YUI.Env.add,
      g = YUI.Env.remove,
      h = function() {
        YUI.Env.windowLoaded = !0;
        a.Event._load();
        g(e, "load", h)
      }, r = function() {
        a.Event._unload()
      }, u = function(b) {
        try {
          return b && "string" !== typeof b && a.Lang.isNumber(b.length) && !b.tagName && !a.DOM.isWindow(b)
        } catch (c) {
          return !1
        }
      }, v = a.CustomEvent.prototype._delete,
      w = function(b) {
        var c = v.apply(this, arguments);
        this.hasSubs() || a.Event._clean(this);
        return c
      }, y = function() {
        var c = !1,
          h = 0,
          k = [],
          q = b.dom_wrappers,
          v = b.dom_map;
        return {
          POLL_RETRYS: 1E3,
          POLL_INTERVAL: 40,
          lastError: null,
          _interval: null,
          _dri: null,
          DOMReady: !1,
          startInterval: function() {
            y._interval || (y._interval = setInterval(y._poll, y.POLL_INTERVAL))
          },
          onAvailable: function(b, c, e, f, g, m) {
            var l = a.Array(b),
              n;
            for (b = 0; b < l.length; b += 1) k.push({
              id: l[b],
              fn: c,
              obj: e,
              override: f,
              checkReady: g,
              compat: m
            });
            h = this.POLL_RETRYS;
            setTimeout(y._poll, 0);
            return n = new a.EventHandle({
              _delete: function() {
                if (n.handle) n.handle.detach();
                else {
                  var a, b;
                  for (a = 0; a < l.length; a++) for (b = 0; b < k.length; b++) l[a] === k[b].id && k.splice(b, 1)
                }
              }
            })
          },
          onContentReady: function(a, b, c, e, f) {
            return y.onAvailable(a, b, c, e, !0, f)
          },
          attach: function(b, c, e, f) {
            return y._attach(a.Array(arguments, 0, !0))
          },
          _createWrapper: function(b, c, g, h, k) {
            var l, p = a.stamp(b),
              r = "event:" + p + c;
            !1 === k && (r += "native");
            g && (r += "capture");
            l = q[r];
            l || (l = a.publish(r, {
              silent: !0,
              bubbles: !1,
              emitFacade: !1,
              contextFn: function() {
                if (h) return l.el;
                l.nodeRef = l.nodeRef || a.one(l.el);
                return l.nodeRef
              }
            }), l.overrides = {}, l.el = b, l.key = r, l.domkey = p, l.type = c, l.fn = function(a) {
              l.fire(y.getEvent(a, b, h || !1 === k))
            }, l.capture = g, b == e && "load" == c && (l.fireOnce = !0), l._delete = w, q[r] = l, v[p] = v[p] || {}, v[p][r] = l, f(b, c, l.fn, g));
            return l
          },
          _attach: function(b, c) {
            var f, g, h, k = !1,
              l, n = b[0],
              p = b[1],
              q = b[2] || e,
              r = c && c.facade,
              v = c && c.capture,
              w = c && c.overrides;
            "~yui|2|compat~" === b[b.length - 1] && (f = !0);
            if (!p || !p.call) return !1;
            if (u(q)) return g = [], a.each(q, function(a, e) {
              b[2] = a;
              g.push(y._attach(b.slice(), c))
            }), new a.EventHandle(g);
            if (a.Lang.isString(q)) {
              if (f) h = a.DOM.byId(q);
              else switch (h = a.Selector.query(q), h.length) {
              case 0:
                h = null;
                break;
              case 1:
                h = h[0];
                break;
              default:
                return b[2] = h, y._attach(b, c)
              }
              if (h) q = h;
              else return l = y.onAvailable(q, function() {
                l.handle = y._attach(b, c)
              }, y, !0, !1, f)
            }
            if (!q) return !1;
            a.Node && a.instanceOf(q, a.Node) && (q = a.Node.getDOMNode(q));
            h = y._createWrapper(q, n, v, f, r);
            w && a.mix(h.overrides,
            w);
            q == e && "load" == n && YUI.Env.windowLoaded && (k = !0);
            f && b.pop();
            l = h._on(p, b[3], 4 < b.length ? b.slice(4) : null);
            k && h.fire();
            return l
          },
          detach: function(b, c, e, f) {
            var g = a.Array(arguments, 0, !0),
              h, k, l;
            "~yui|2|compat~" === g[g.length - 1] && (h = !0);
            if (b && b.detach) return b.detach();
            "string" == typeof e && (h ? e = a.DOM.byId(e) : (e = a.Selector.query(e), h = e.length, 1 > h ? e = null : 1 == h && (e = e[0])));
            if (!e) return !1;
            if (e.detach) return g.splice(2, 1), e.detach.apply(e, g);
            if (u(e)) {
              k = !0;
              l = 0;
              for (h = e.length; l < h; ++l) g[2] = e[l], k = a.Event.detach.apply(a.Event,
              g) && k;
              return k
            }
            if (!b || !c || !c.call) return y.purgeElement(e, !1, b);
            g = "event:" + a.stamp(e) + b;
            return (g = q[g]) ? g.detach(c) : !1
          },
          getEvent: function(b, c, f) {
            var g = b || e.event;
            return f ? g : new a.DOMEventFacade(g, c, q["event:" + a.stamp(c) + b.type])
          },
          generateId: function(b) {
            return a.DOM.generateID(b)
          },
          _isValidCollection: u,
          _load: function(b) {
            c || (c = !0, a.fire && a.fire("domready"), y._poll())
          },
          _poll: function() {
            if (!y.locked) if (a.UA.ie && !YUI.Env.DOMReady) y.startInterval();
            else {
              y.locked = !0;
              var b, e, f, g, l, m, n = !c;
              n || (n = 0 < h);
              l = [];
              m = function(b, c) {
                var e, f = c.override;
                try {
                  c.compat ? (e = c.override ? !0 === f ? c.obj : f : b, c.fn.call(e, c.obj)) : (e = c.obj || a.one(b), c.fn.apply(e, a.Lang.isArray(f) ? f : []))
                } catch (g) {}
              };
              b = 0;
              for (e = k.length; b < e; ++b) if ((f = k[b]) && !f.checkReady)(g = f.compat ? a.DOM.byId(f.id) : a.Selector.query(f.id, null, !0)) ? (m(g, f), k[b] = null) : l.push(f);
              b = 0;
              for (e = k.length; b < e; ++b) if ((f = k[b]) && f.checkReady) if (g = f.compat ? a.DOM.byId(f.id) : a.Selector.query(f.id, null, !0)) {
                if (c || g.get && g.get("nextSibling") || g.nextSibling) m(g, f), k[b] = null
              } else l.push(f);
              h = 0 === l.length ? 0 : h - 1;
              n ? y.startInterval() : (clearInterval(y._interval), y._interval = null);
              y.locked = !1
            }
          },
          purgeElement: function(b, c, e) {
            var f = a.Lang.isString(b) ? a.Selector.query(b, null, !0) : b;
            b = y.getListeners(f, e);
            var g, h;
            if (c && f) {
              b = b || [];
              g = a.Selector.query("*", f);
              f = g.length;
              for (c = 0; c < f; ++c)(h = y.getListeners(g[c], e)) && (b = b.concat(h))
            }
            if (b) {
              c = 0;
              for (f = b.length; c < f; ++c) b[c].detachAll()
            }
          },
          _clean: function(b) {
            var c = b.key,
              e = b.domkey;
            g(b.el, b.type, b.fn, b.capture);
            delete q[c];
            delete a._yuievt.events[c];
            v[e] && (delete v[e][c],
            a.Object.size(v[e]) || delete v[e])
          },
          getListeners: function(c, e) {
            var f = a.stamp(c, !0),
              g = v[f],
              h = [],
              f = e ? "event:" + f + e : null,
              k = b.plugins;
            if (!g) return null;
            f ? (k[e] && k[e].eventDef && (f += "_synth"), g[f] && h.push(g[f]), f += "native", g[f] && h.push(g[f])) : a.each(g, function(a, b) {
              h.push(a)
            });
            return h.length ? h : null
          },
          _unload: function(b) {
            a.each(q, function(a, c) {
              "unload" == a.type && a.fire(b);
              a.detachAll()
            });
            g(e, "unload", r)
          },
          nativeAdd: f,
          nativeRemove: g
        }
      }();
    a.Event = y;
    c.injected || YUI.Env.windowLoaded ? h() : f(e, "load", h);
    if (a.UA.ie && (a.on("domready", y._poll), 7 > a.UA.ie)) try {
      f(e, "unload", r)
    } catch (s) {}
    y.Custom = a.CustomEvent;
    y.Subscriber = a.Subscriber;
    y.Target = a.EventTarget;
    y.Handle = a.EventHandle;
    y.Facade = a.EventFacade;
    y._poll()
  })();
  a.Env.evt.plugins.available = {
    on: function(b, c, e, f) {
      var g = 4 < arguments.length ? a.Array(arguments, 4, !0) : null;
      return a.Event.onAvailable.call(a.Event, e, c, f, g)
    }
  };
  a.Env.evt.plugins.contentready = {
    on: function(b, c, e, f) {
      var g = 4 < arguments.length ? a.Array(arguments, 4, !0) : null;
      return a.Event.onContentReady.call(a.Event,
      e, c, f, g)
    }
  }
}, "3.17.2", {
  requires: ["event-custom-base"]
});
YUI.add("intl-base", function(a, f) {
  var b = /[, ]/;
  a.mix(a.namespace("Intl"), {
    lookupBestLang: function(c, e) {
      var f, g, l;
      a.Lang.isString(c) && (c = c.split(b));
      for (f = 0; f < c.length; f += 1) if ((g = c[f]) && "*" !== g) for (; 0 < g.length;) {
        a: {
          l = g;
          for (var k = void 0, k = 0; k < e.length; k += 1) if (l.toLowerCase() === e[k].toLowerCase()) {
            l = e[k];
            break a
          }
          l = void 0
        }
        if (l) return l;
        l = g.lastIndexOf("-");
        if (0 <= l) g = g.substring(0, l), 2 <= l && "-" === g.charAt(l - 2) && (g = g.substring(0, l - 2));
        else break
      }
      return ""
    }
  })
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("squarespace-video-loader", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.VideoLoader = a.Base.create("VideoLoader", a.Plugin.Base, [], {
    initializer: function() {
      var f = this.get("host");
      f.plug(a.Squarespace.NodeDestroyNotifier, {
        onDestroy: function() {
          this.destroy()
        },
        context: this
      });
      this._setVariables();
      this._resizeEmitter = new a.Squarespace.ResizeEmitter({
        timeout: 100
      });
      this._modeClass = "video-" + this.get("mode");
      f.addClass(this._modeClass);
      this.once("loaded", this.bindUI, this);
      this.get("load") && this.load();
      this.after("forceAutoplayChange", function() {
        this._augmentVideoSrc()
      })
    },
    destructor: function() {
      this._resizeEmitter.destroy()
    },
    load: function() {
      if (!this._loaded) {
        "invalid" == this.get("type") && (this._intrinsic = !1, this.get("overlay") && (this.get("overlay").remove(), this._set("overlay", null)));
        var f = this.get("host"),
          b = this.get("mode");
        f.removeClass(this._modeClass);
        this._modeClass = "video-" + b;
        f.addClass(this._modeClass);
        var c, e;
        if (this._intrinsic) {
          c = this.getWidth();
          e = this.getHeight();
          e = c && e ? 100 * (e / c) : 56.3;
          c = a.Node.create('<div class="intrinsic"></div>');
          e = a.Node.create('<div class="intrinsic-inner" style="padding-bottom: ' + e + '%;"></div>');
          var h = f.get("parentNode"),
            g = h.getComputedStyle("position");
          "fit" == b ? (f.setStyles(f.getAdjustedDimensions({
            scale: "contain",
            width: this.getWidth(),
            height: this.getHeight()
          })), "static" == g && h.setStyle("position", "relative")) : "fill" == b && "static" == g && h.setStyle("position", "relative");
          this.get("overlay") ? (this.get("overlay").wrap(e), e.wrap(c)) : (c.appendChild(e), f.appendChild(c))
        }
        if (this.get("overlay")) {
          if (this.get("overlay").setStyle("opacity",
          1), f = this.get("overlay").one("img")) f.fire("refresh"), f.plug(a.Squarespace.Loader2, {
            load: !0,
            mode: "fill"
          }), f.fire("refresh")
        } else c ? e.appendChild(this.get("video")) : f.appendChild(this.get("video")), this._set("showingVideo", !0);
        this.fire("loaded");
        this._loaded = !0
      }
    },
    unload: function() {
      var a = this.get("host");
      a.setStyles({
        top: null
      });
      this.showOverlay();
      this.get("overlay") && this.get("overlay").remove();
      this.get("video").remove();
      this._intrinsic && a.one(".intrinsic").remove(!0);
      this.get("overlay") && (this.get("overlay").setStyle("opacity",
      0), a.appendChild(this.get("overlay")));
      this._setIntrinsic();
      this._loaded = !1
    },
    reload: function() {
      this.unload();
      this.load()
    },
    bindUI: function() {
      if ((a.Squarespace.Utils.isDamaskEnabled() || !Static.IN_BACKEND) && this.get("overlay")) this.get("overlay").on("click", function(a) {
        this.get("inactive") || this.showVideo()
      }, this);
      this.after("modeChange", this.reload, this);
      this._resizeEmitter.on("resize", function() {
        "fit" == this.get("mode") && this._resetFitTop();
        if (this.get("overlay")) {
          var a = this.get("overlay").one("img");
          a && a.fire("refresh")
        }
      }, this);
      a.Global.on("tweak:aftershow", function() {
        "fit" == this.get("mode") && this._resetFitTop()
      }, this);
      a.Global.after("tweak:afterclose", function() {
        "fit" == this.get("mode") && setTimeout(a.bind(function() {
          this._resetFitTop()
        }, this), 1E3)
      }, this)
    },
    showVideo: function() {
      if (!this.get("showingVideo") && this.get("overlay")) {
        this._set("showingVideo", !0);
        this._showOverlayOnOthers();
        var a = this.get("video");
        a.setStyle("opacity", 0);
        this._intrinsic ? this.get("host").one(".intrinsic-inner").appendChild(a) : this.get("host").appendChild(a);
        var b = this.get("overlay");
        b.one(".sqs-video-opaque").anim({
          opacity: 1
        }, {
          duration: 1,
          start: function() {
            b.one(".sqs-video-icon").setStyle("visibility", "hidden")
          },
          end: function() {
            this.get("video").setStyle("opacity", 1);
            this.get("showingVideo") && b.setStyle("visibility", "hidden");
            b.hasClass("no-thumb") ? b.one(".sqs-video-opaque").setStyle("opacity", 1) : b.one(".sqs-video-opaque").setStyle("opacity", 0);
            b.one(".sqs-video-icon").setStyle("visibility", null)
          },
          context: this
        }).run()
      }
    },
    showOverlay: function() {
      if (this.get("showingVideo") && this.get("overlay")) {
        this._set("showingVideo", !1);
        this.get("overlay").setStyle("opacity", 0);
        this.get("overlay").setStyle("visibility", null);
        var a = this.get("video");
        a.anim({
          opacity: 0
        }, {
          duration: 0.3,
          start: function() {
            this.get("overlay").anim({
              opacity: 1
            }, {
              duration: 0.3
            }).run()
          },
          end: function() {
            a.remove()
          },
          context: this
        }).run()
      }
    },
    refreshVideo: function() {
      if (this.get("showingVideo")) {
        var a = this.get("video");
        if ("object" == this.get("type")) {
          a.remove();
          var b = this.get("host");
          this._intrinsic ? b.one(".intrinsic-inner").appendChild(a) : b.appendChild(a)
        } else "iframe" == this.get("type") && a.setAttribute("src", a.getAttribute("src"))
      }
    },
    play: function() {
      if (this.get("apiFriendly")) {
        var a = this.get("video").getDOMNode().contentWindow;
        switch (this._providerName) {
        case "Vimeo":
          a.postMessage('{"method": "play", "value": "true"}', "*");
          break;
        case "YouTube":
          a.postMessage('{"event":"command","func":"playVideo","args":""}', "*")
        }
      }
    },
    pause: function() {
      if (this.get("apiFriendly")) {
        var a = this.get("video").getDOMNode().contentWindow;
        switch (this._providerName) {
        case "Vimeo":
          a.postMessage('{"method": "pause", "value": "true"}', "*");
          break;
        case "YouTube":
          a.postMessage('{"event":"command","func":"pauseVideo","args":""}', "*")
        }
      }
    },
    getWidth: function() {
      return this.get("video").getAttribute("width")
    },
    getHeight: function() {
      return this.get("video").getAttribute("height")
    },
    _setVariables: function() {
      var f = this.get("host");
      this._setIntrinsic();
      this._set("overlay", f.one(".sqs-video-overlay"));
      var b = a.Node.create(f.getAttribute("data-html")),
        c = a.Node.create('<div class="sqs-video-invalid-wrapper"><div class="state-message">Invalid video embed.</div></div>');
      b ? b.test("iframe") ? this._set("type", "iframe") : b.test("object") ? this._set("type", "object") : b.one("iframe") ? (b = b.one("iframe"), this._set("type", "iframe")) : b.one("object") ? b.one("embed") ? (b = b.one("object"), this._set("type", "object")) : (b = c, this._set("type", "invalid")) : (b = c, this._set("type", "invalid")) : (b = c, this._set("type", "invalid"));
      this._set("video", b);
      b = f.getAttribute("data-provider-name");
      if ((!b || "" === b) && "invalid" != this.get("type")) c = this.get("video").getAttribute("src"), c.match("player.vimeo.com") ? b = "Vimeo" : c.match("www.youtube.com") && (b = "YouTube");
      this._providerName = b;
      "invalid" === this.get("type") ? f.addClass("video-invalid") : (this._augmentVideoSrc(), f.removeClass("video-invalid"))
    },
    _setIntrinsic: function() {
      this._intrinsic = "none" == this.get("mode") || "fit" == this.get("mode")
    },
    _resetFitTop: function() {
      var a = this.get("host"),
        b = a.get("parentNode").get("offsetHeight"),
        c = a.one(".intrinsic");
      c.setStyle("top", null);
      c = c.get("offsetHeight");
      a.setStyle("top", (b - c) / 2 + "px")
    },
    _augmentVideoSrc: function() {
      var f = this.get("type"),
        b = this.get("video"),
        b = "iframe" == f ? b : b.one("embed") || b,
        c = b.test("object") ? "data" : "src",
        e = b.getAttribute(c),
        h = e.split("?"),
        e = h[0],
        h = a.QueryString.parse(h[1] || ""),
        g = this._providerName;
      if (this.get("overlay") || this.get("forceAutoplay")) "Wistia, Inc." === g ? h.autoPlay = "true" : "Animoto" === g ? h.options = "autostart" : h.autoplay = 1;
      var l = ["Vimeo", "YouTube", "Wistia, Inc.", "Animoto"];
      if ("object" === f || -1 !== l.indexOf(g)) a.Squarespace.UrlUtils.isSecure() && (e = a.Squarespace.UrlUtils.securifyURL(e));
      e = e.replace("http:////", "//");
      e = e.replace("https:////", "//");
      if ("iframe" == f) switch (g) {
      case "Vimeo":
        h.api = 1;
        this._set("apiFriendly", !0);
        break;
      case "YouTube":
        h.enablejsapi = 1, this._set("apiFriendly", !0)
      }
      e = e + "?" + a.QueryString.stringify(h);
      b.setAttribute(c, e)
    },
    _showOverlayOnOthers: function() {
      a.all(".sqs-video-wrapper").each(function(a) {
        a != this.get("host") && a.videoloader.showOverlay()
      }, this)
    }
  }, {
    NS: "videoloader",
    ATTRS: {
      apiFriendly: {
        value: !1,
        readOnly: !0
      },
      inactive: {
        value: !1
      },
      load: {
        value: !0
      },
      mode: {
        value: "none",
        validator: function(a) {
          return -1 != ["none", "fit", "fill", null].indexOf(a)
        }
      },
      overlay: {
        value: null,
        readOnly: !0
      },
      showingVideo: {
        value: !1,
        readOnly: !0
      },
      type: {
        value: null,
        readOnly: !0
      },
      video: {
        value: null,
        readOnly: !0
      },
      forceAutoplay: {
        value: !1
      }
    }
  })
}, "1.0", {
  requires: "base plugin node querystring squarespace-url-utils squarespace-image-loader".split(" ")
});
YUI.add("base-pluginhost", function(a, f) {
  var b = a.Base,
    c = a.Plugin.Host;
  a.mix(b, c, !1, null, 1);
  b.plug = c.plug;
  b.unplug = c.unplug
}, "3.17.2", {
  requires: ["base-base", "pluginhost"]
});
YUI.add("dom-screen", function(a, f) {
  (function(a) {
    var c = a.DOM,
      e = /^t(?:able|d|h)$/i,
      f;
    a.UA.ie && (f = "BackCompat" !== a.config.doc.compatMode ? "documentElement" : "body");
    a.mix(c, {
      winHeight: function(a) {
        return c._getWinSize(a).height
      },
      winWidth: function(a) {
        return c._getWinSize(a).width
      },
      docHeight: function(a) {
        var b = c._getDocSize(a).height;
        return Math.max(b, c._getWinSize(a).height)
      },
      docWidth: function(a) {
        var b = c._getDocSize(a).width;
        return Math.max(b, c._getWinSize(a).width)
      },
      docScrollX: function(e, f) {
        f = f || e ? c._getDoc(e) : a.config.doc;
        var h = f.defaultView;
        return Math.max(f.documentElement.scrollLeft, f.body.scrollLeft, h ? h.pageXOffset : 0)
      },
      docScrollY: function(e, f) {
        f = f || e ? c._getDoc(e) : a.config.doc;
        var h = f.defaultView;
        return Math.max(f.documentElement.scrollTop, f.body.scrollTop, h ? h.pageYOffset : 0)
      },
      getXY: function() {
        return a.config.doc.documentElement.getBoundingClientRect ? function(e) {
          var l = null,
            k, m, n, p, q, r;
          if (e && e.tagName) if (q = e.ownerDocument, l = q.compatMode, r = "BackCompat" !== l ? q.documentElement : q.body, k = r.contains ? r.contains(e) : a.DOM.contains(r, e)) {
            (m = q.defaultView) && "pageXOffset" in m ? (k = m.pageXOffset, m = m.pageYOffset) : (k = f ? q[f].scrollLeft : c.docScrollX(e, q), m = f ? q[f].scrollTop : c.docScrollY(e, q));
            if (a.UA.ie && (!q.documentMode || 8 > q.documentMode || "BackCompat" === l)) n = r.clientLeft, p = r.clientTop;
            e = e.getBoundingClientRect();
            l = [e.left, e.top];
            if (n || p) l[0] -= n, l[1] -= p;
            if (m || k) if (!a.UA.ios || 4.2 <= a.UA.ios) l[0] += k, l[1] += m
          } else l = c._getOffset(e);
          return l
        } : function(e) {
          var f = null,
            h, m, n, p;
          if (e) if (c.inDoc(e)) {
            f = [e.offsetLeft, e.offsetTop];
            h = e.ownerDocument;
            m = e;
            for (n = a.UA.gecko || 519 < a.UA.webkit ? !0 : !1; m = m.offsetParent;) f[0] += m.offsetLeft, f[1] += m.offsetTop, n && (f = c._calcBorders(m, f));
            if ("fixed" != c.getStyle(e, "position")) for (m = e; m = m.parentNode;) if (n = m.scrollTop, p = m.scrollLeft, a.UA.gecko && "visible" !== c.getStyle(m, "overflow") && (f = c._calcBorders(m, f)), n || p) f[0] -= p, f[1] -= n;
            f[0] += c.docScrollX(e, h);
            f[1] += c.docScrollY(e, h)
          } else f = c._getOffset(e);
          return f
        }
      }(),
      getScrollbarWidth: a.cached(function() {
        var c = a.config.doc,
          e = c.createElement("div"),
          f = c.getElementsByTagName("body")[0],
          h = 0.1;
        f && (e.style.cssText = "position:absolute;visibility:hidden;overflow:scroll;width:20px;", e.appendChild(c.createElement("p")).style.height = "1px", f.insertBefore(e, f.firstChild), h = e.offsetWidth - e.clientWidth, f.removeChild(e));
        return h
      }, null, 0.1),
      getX: function(a) {
        return c.getXY(a)[0]
      },
      getY: function(a) {
        return c.getXY(a)[1]
      },
      setXY: function(a, b, e) {
        var f = c.setStyle,
          h, p;
        a && b && (h = c.getStyle(a, "position"), p = c._getOffset(a), "static" == h && f(a, "position", "relative"), h = c.getXY(a), null !== b[0] && f(a, "left", b[0] - h[0] + p[0] + "px"), null !== b[1] && f(a, "top", b[1] - h[1] + p[1] + "px"), e || (e = c.getXY(a), (e[0] !== b[0] || e[1] !== b[1]) && c.setXY(a, b, !0)))
      },
      setX: function(a, b) {
        return c.setXY(a, [b, null])
      },
      setY: function(a, b) {
        return c.setXY(a, [null, b])
      },
      swapXY: function(a, b) {
        var e = c.getXY(a);
        c.setXY(a, c.getXY(b));
        c.setXY(b, e)
      },
      _calcBorders: function(f, h) {
        var k = parseInt(c.getComputedStyle(f, "borderTopWidth"), 10) || 0,
          m = parseInt(c.getComputedStyle(f, "borderLeftWidth"), 10) || 0;
        a.UA.gecko && e.test(f.tagName) && (m = k = 0);
        h[0] += m;
        h[1] += k;
        return h
      },
      _getWinSize: function(e, f) {
        f = f || e ? c._getDoc(e) : a.config.doc;
        var h = f.defaultView || f.parentWindow,
          m = f.compatMode,
          n = h.innerHeight,
          h = h.innerWidth,
          p = f.documentElement;
        m && !a.UA.opera && ("CSS1Compat" != m && (p = f.body), n = p.clientHeight, h = p.clientWidth);
        return {
          height: n,
          width: h
        }
      },
      _getDocSize: function(e) {
        e = e ? c._getDoc(e) : a.config.doc;
        var f = e.documentElement;
        "CSS1Compat" != e.compatMode && (f = e.body);
        return {
          height: f.scrollHeight,
          width: f.scrollWidth
        }
      }
    })
  })(a);
  (function(a) {
    var c = function(a, b) {
      var c = Math.max(a.top, b.top),
        e = Math.min(a.right, b.right),
        f = Math.min(a.bottom, b.bottom),
        n = Math.max(a.left, b.left),
        p = {};
      p.top = c;
      p.right = e;
      p.bottom = f;
      p.left = n;
      return p
    }, e = a.DOM;
    a.mix(e, {
      region: function(a) {
        var b = e.getXY(a),
          c = !1;
        a && b && (c = e._getRegion(b[1], b[0] + a.offsetWidth, b[1] + a.offsetHeight, b[0]));
        return c
      },
      intersect: function(f, g, l) {
        var k = l || e.region(f),
          m = {};
        if (g.tagName) m = e.region(g);
        else if (a.Lang.isObject(g)) m = g;
        else return !1;
        k = c(m, k);
        return {
          top: k.top,
          right: k.right,
          bottom: k.bottom,
          left: k.left,
          area: (k.bottom - k.top) * (k.right - k.left),
          yoff: k.bottom - k.top,
          xoff: k.right - k.left,
          inRegion: e.inRegion(f, g, !1, l)
        }
      },
      inRegion: function(f, g, l, k) {
        var m = {};
        f = k || e.region(f);
        if (g.tagName) m = e.region(g);
        else if (a.Lang.isObject(g)) m = g;
        else return !1;
        if (l) return f.left >= m.left && f.right <= m.right && f.top >= m.top && f.bottom <= m.bottom;
        g = c(m, f);
        return g.bottom >= g.top && g.right >= g.left ? !0 : !1
      },
      inViewportRegion: function(a, b, c) {
        return e.inRegion(a, e.viewportRegion(a), b, c)
      },
      _getRegion: function(a, b, c, e) {
        var f = {};
        f.top = f[1] = a;
        f.left = f[0] = e;
        f.bottom = c;
        f.right = b;
        f.width = f.right - f.left;
        f.height = f.bottom - f.top;
        return f
      },
      viewportRegion: function(c) {
        c = c || a.config.doc.documentElement;
        var f = !1,
          l;
        c && (f = e.docScrollX(c), l = e.docScrollY(c), f = e._getRegion(l, e.winWidth(c) + f, l + e.winHeight(c), f));
        return f
      }
    })
  })(a)
}, "3.17.2", {
  requires: ["dom-base", "dom-style"]
});
YUI.add("squarespace-singletons-location", function(a) {
  a.namespace("Squarespace.Singletons");
  var f = a.Base.create("damaskLocation", a.Base, [], {
    go: function(b, c) {
      this.get("controller").navigate(b, a.merge({
        async: !1
      }, c))
    },
    goBack: function() {
      this.get("controller").navigate("", {
        direction: "back"
      })
    },
    getFrameUrl: function() {
      return this.get("controller").getFrameUrl()
    },
    getPanelPath: function() {
      return this.get("controller").getPanelPath()
    },
    setFrameUrl: function(a) {
      this.get("controller").setFrameUrl(a)
    },
    setFrameUrlOrRefresh: function(a) {
      this.get("controller").setFrameUrlOrRefresh(a)
    },
    requestFrameRefresh: function() {
      this.get("controller").requestFrameRefresh()
    },
    goToCollection: function(b, c) {
      0 !== b.indexOf("/") && (b = "/" + b);
      this.go("/pages" + b, a.merge({
        ifPathHas: "pages"
      }, c))
    },
    pointFrameToCollection: function(b, c) {
      var e = a.Squarespace.Damask.Preview.ContentBridge.getCollectionUrl(b);
      c ? this.setFrameUrlOrRefresh(e) : this.setFrameUrl(e)
    },
    openQuickPanel: function(a, c) {
      this.get("controller").openQuickPanel(a, c)
    }
  }, {
    ATTRS: {
      controller: {
        getter: function(b) {
          return !a.Lang.isValue(b) ? CONFIG_PANEL : b
        },
        validator: a.Squarespace.AttrValidators.isInstanceOf(a.Base)
      }
    }
  });
  a.Lang.isValue(a.Squarespace.Singletons.Location) || (a.Squarespace.Singletons.Location = new f)
}, "1.0", {
  requires: ["base", "squarespace-attr-validators"]
});
YUI.add("lang/datatype-date-format_en", function(a) {
  a.Intl.add("datatype-date-format", "en", {
    a: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
    A: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
    b: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
    B: "January February March April May June July August September October November December".split(" "),
    c: "%a, %b %d, %Y %l:%M:%S %p %Z",
    p: ["AM", "PM"],
    P: ["am", "pm"],
    x: "%m/%d/%y",
    X: "%l:%M:%S %p"
  })
}, "3.17.2");
YUI.add("squarespace-gismo", function(a) {
  a.Squarespace.GismoBase = function() {
    this._gismoEvents = {};
    this._timers = {};
    this._anims = this._anims || []
  };
  a.Squarespace.GismoBase.prototype = {
    destructor: function() {
      a.Object.each(this._gismoEvents, function(f, b) {
        a.Array.invoke(f, "detach");
        this._gismoEvents[b] = null
      }, this);
      a.Object.each(this._timers, function(f, b) {
        a.Array.invoke(f, "cancel");
        this._timers[b] = null
      }, this);
      this._anims.shift ? (a.Array.invoke(this._anims, "destroy"), this._anims = null) : this._anims.destructor && this._anims.destructor()
    },
    _anim: function(a, b, c) {
      var e = a.anim(b, c || {});
      e.on("end", function() {
        this._anims.remove(e)
      }, this);
      this._anims.push(e);
      return e
    },
    _event: function(a, b) {
      b = b || "generic";
      this._gismoEvents[b] = this._gismoEvents[b] || [];
      this._gismoEvents[b].push(a)
    },
    _getEvents: function(a) {
      return this._gismoEvents[a || "generic"]
    },
    _flushEvents: function(f) {
      var b = this._gismoEvents[f || "generic"];
      b && (a.Array.invoke(b, "detach"), this._gismoEvents[f] = null)
    },
    _timer: function(a, b) {
      b = b || "generic";
      this._timers[b] = this._timers[b] || [];
      this._timers[b].push(a)
    }
  }
}, "1.0", {
  requires: ["squarespace-anims", "squarespace-util"]
});
YUI.add("event-focus", function(a, f) {
  function b(b, f, m) {
    var n = "_" + b + "Notifiers";
    a.Event.define(b, {
      _useActivate: g,
      _attach: function(e, g, h) {
        return a.DOM.isWindow(e) ? c._attach([b, function(a) {
          g.fire(a)
        }, e]) : c._attach([f, this._proxy, e, this, g, h], {
          capture: !0
        })
      },
      _proxy: function(b, e, f) {
        var h = b.target,
          k = b.currentTarget,
          l = h.getData(n),
          y = a.stamp(k._node),
          s = g || h !== k;
        e.currentTarget = f ? h : k;
        e.container = f ? k : null;
        l ? s = !0 : (l = {}, h.setData(n, l), s && (f = c._attach([m, this._notify, h._node]).sub, f.once = !0));
        l[y] || (l[y] = []);
        l[y].push(e);
        s || this._notify(b)
      },
      _notify: function(b, c) {
        var e = b.currentTarget,
          f = e.getData(n),
          g = e.ancestors(),
          k = e.get("ownerDocument"),
          m = [],
          l = f ? a.Object.keys(f).length : 0,
          x, C, z, A, E, B, D;
        e.clearData(n);
        g.push(e);
        k && g.unshift(k);
        g._nodes.reverse();
        l && (e = l, g.some(function(b) {
          b = a.stamp(b);
          b = f[b];
          var c, e;
          if (b) {
            l--;
            c = 0;
            for (e = b.length; c < e; ++c) b[c].handle.sub.filter && m.push(b[c])
          }
          return !l
        }), l = e);
        for (; l && (x = g.shift());) {
          C = a.stamp(x);
          if (e = f[C]) {
            A = 0;
            for (E = e.length; A < E && !(k = e[A], B = k.handle.sub, z = !0, b.currentTarget = x, B.filter && (z = B.filter.apply(x, [x, b].concat(B.args || [])), m.splice(h(m, k), 1)), z && (b.container = k.container, D = k.fire(b)), !1 === D || 2 === b.stopped); ++A);
            delete e[C];
            l--
          }
          if (2 !== b.stopped) {
            A = 0;
            for (E = m.length; A < E; ++A) {
              k = m[A];
              B = k.handle.sub;
              if (B.filter.apply(x, [x, b].concat(B.args || []))) b.container = k.container, b.currentTarget = x, D = k.fire(b);
              if (!1 === D || 2 === b.stopped || b.stopped && m[A + 1] && m[A + 1].container !== k.container) break
            }
          }
          if (b.stopped) break
        }
      },
      on: function(a, b, c) {
        b.handle = this._attach(a._node, c)
      },
      detach: function(a, b) {
        b.handle.detach()
      },
      delegate: function(b, c, f, g) {
        e(g) && (c.filter = function(c) {
          return a.Selector.test(c._node, g, b === c ? null : b._node)
        });
        c.handle = this._attach(b._node, f, !0)
      },
      detachDelegate: function(a, b) {
        b.handle.detach()
      }
    }, !0)
  }
  var c = a.Event,
    e = a.Lang.isString,
    h = a.Array.indexOf,
    g = function() {
      var b = !1,
        c = a.config.doc;
      c && (b = c.createElement("p"), b.setAttribute("onbeforeactivate", ";"), b = void 0 !== b.onbeforeactivate);
      return b
    }();
  g ? (b("focus", "beforeactivate", "focusin"), b("blur", "beforedeactivate", "focusout")) : (b("focus", "focus", "focus"),
  b("blur", "blur", "blur"))
}, "3.17.2", {
  requires: ["event-synthetic"]
});
YUI.add("base-observable", function(a, f) {
  function b() {}
  var c = a.Lang,
    e = a.AttributeObservable,
    h = a.BaseCore;
  b._ATTR_CFG = e._ATTR_CFG.concat();
  b._NON_ATTRS_CFG = ["on", "after", "bubbleTargets"];
  b.prototype = {
    _initAttribute: function() {
      h.prototype._initAttribute.apply(this, arguments);
      e.call(this);
      this._eventPrefix = this.constructor.EVENT_PREFIX || this.constructor.NAME;
      this._yuievt.config.prefix = this._eventPrefix
    },
    init: function(a) {
      var b = this._getFullType("init"),
        c = this._publish(b);
      c.emitFacade = !0;
      c.fireOnce = !0;
      c.defaultTargetOnly = !0;
      c.defaultFn = this._defInitFn;
      this._preInitEventCfg(a);
      c._hasPotentialSubscribers() ? this.fire(b, {
        cfg: a
      }) : (this._baseInit(a), c.fired = !0, c.firedWith = [{
        cfg: a
      }]);
      return this
    },
    _preInitEventCfg: function(a) {
      if (a) {
        if (a.on) this.on(a.on);
        a.after && this.after(a.after)
      }
      var b, e;
      if ((b = a && "bubbleTargets" in a) || "_bubbleTargets" in this) if (e = b ? a && a.bubbleTargets : this._bubbleTargets, c.isArray(e)) {
        a = 0;
        for (b = e.length; a < b; a++) this.addTarget(e[a])
      } else e && this.addTarget(e)
    },
    destroy: function() {
      this.publish("destroy", {
        fireOnce: !0,
        defaultTargetOnly: !0,
        defaultFn: this._defDestroyFn
      });
      this.fire("destroy");
      this.detachAll();
      return this
    },
    _defInitFn: function(a) {
      this._baseInit(a.cfg)
    },
    _defDestroyFn: function(a) {
      this._baseDestroy(a.cfg)
    }
  };
  a.mix(b, e, !1, null, 1);
  a.BaseObservable = b
}, "3.17.2", {
  requires: ["attribute-observable", "base-core"]
});
YUI.add("calendarnavigator", function(a, f) {
  function b() {
    b.superclass.constructor.apply(this, arguments)
  }
  var c = a.ClassNameManager.getClassName,
    e = a.Lang.sub,
    h = a.Node.create,
    g = c("calendar", "header"),
    l = c("calendarnav", "prevmonth"),
    k = c("calendarnav", "nextmonth"),
    m = c("calendarnav", "month-disabled"),
    n = a.DataType.Date;
  b.NS = "navigator";
  b.NAME = "pluginCalendarNavigator";
  b.ATTRS = {
    shiftByMonths: {
      value: 1
    }
  };
  b.CALENDARNAV_STRINGS = {
    prev_month_class: l,
    next_month_class: k
  };
  b.PREV_MONTH_CONTROL_TEMPLATE = '<a class="yui3-u {prev_month_class}" role="button" aria-label="{prev_month_arialabel}" tabindex="{control_tabindex}" />';
  b.NEXT_MONTH_CONTROL_TEMPLATE = '<a class="yui3-u {next_month_class}" role="button" aria-label="{next_month_arialabel}" tabindex="{control_tabindex}" />';
  a.extend(b, a.Plugin.Base, {
    _eventAttachments: {},
    _controls: {},
    initializer: function() {
      this._controls = {};
      this._eventAttachments = {};
      this.afterHostMethod("renderUI", this._initNavigationControls)
    },
    destructor: function() {},
    _focusNavigation: function(a) {
      a.currentTarget.focus()
    },
    _subtractMonths: function(a) {
      if ("click" === a.type || "keydown" === a.type && (13 === a.keyCode || 32 === a.keyCode)) {
        var b = this.get("host"),
          c = b.get("date");
        b.set("date", n.addMonths(c, - 1 * this.get("shiftByMonths")));
        a.preventDefault()
      }
    },
    _addMonths: function(a) {
      if ("click" === a.type || "keydown" === a.type && (13 === a.keyCode || 32 === a.keyCode)) {
        var b = this.get("host"),
          c = b.get("date");
        b.set("date", n.addMonths(c, this.get("shiftByMonths")));
        a.preventDefault()
      }
    },
    _updateControlState: function() {
      var a = this.get("host"),
        b = a.get("date"),
        c = n.addMonths(b, a._paneNumber - 1),
        e = a._normalizeDate(a.get("minimumDate")),
        a = a._normalizeDate(a.get("maximumDate"));
      n.areEqual(e, b) ? (this._eventAttachments.prevMonth && (this._eventAttachments.prevMonth.detach(), this._eventAttachments.prevMonth = !1), this._controls.prevMonth.hasClass(m) || this._controls.prevMonth.addClass(m).setAttribute("aria-disabled", "true")) : (this._eventAttachments.prevMonth || (this._eventAttachments.prevMonth = this._controls.prevMonth.on(["click", "keydown"], this._subtractMonths, this)), this._controls.prevMonth.hasClass(m) && this._controls.prevMonth.removeClass(m).setAttribute("aria-disabled", "false"));
      n.areEqual(a, c) ? (this._eventAttachments.nextMonth && (this._eventAttachments.nextMonth.detach(), this._eventAttachments.nextMonth = !1), this._controls.nextMonth.hasClass(m) || this._controls.nextMonth.addClass(m).setAttribute("aria-disabled", "true")) : (this._eventAttachments.nextMonth || (this._eventAttachments.nextMonth = this._controls.nextMonth.on(["click", "keydown"], this._addMonths, this)), this._controls.nextMonth.hasClass(m) && this._controls.nextMonth.removeClass(m).setAttribute("aria-disabled", "false"));
      this._controls.prevMonth.on(["click", "keydown"], this._focusNavigation, this);
      this._controls.nextMonth.on(["click", "keydown"], this._focusNavigation, this)
    },
    _renderPrevControls: function() {
      var a = h(e(b.PREV_MONTH_CONTROL_TEMPLATE, b.CALENDARNAV_STRINGS));
      a.on("selectstart", this.get("host")._preventSelectionStart);
      return a
    },
    _renderNextControls: function() {
      var a = h(e(b.NEXT_MONTH_CONTROL_TEMPLATE, b.CALENDARNAV_STRINGS));
      a.on("selectstart", this.get("host")._preventSelectionStart);
      return a
    },
    _initNavigationControls: function() {
      var a = this.get("host"),
        c = a.get("contentBox").one("." + g);
      b.CALENDARNAV_STRINGS.control_tabindex = a.get("tabIndex");
      b.CALENDARNAV_STRINGS.prev_month_arialabel = "Go to previous month";
      b.CALENDARNAV_STRINGS.next_month_arialabel = "Go to next month";
      this._controls.prevMonth = this._renderPrevControls();
      this._controls.nextMonth = this._renderNextControls();
      this._updateControlState();
      a.after(["dateChange", "minimumDateChange", "maximumDateChange"], this._updateControlState, this);
      c.prepend(this._controls.prevMonth);
      c.append(this._controls.nextMonth)
    }
  });
  a.namespace("Plugin").CalendarNavigator = b
}, "3.17.2", {
  requires: ["plugin", "classnamemanager", "datatype-date", "node"],
  skinnable: !0
});
YUI.add("squarespace-models-content-collection", function(a) {
  a.namespace("Squarespace.Models");
  var f = a.Squarespace.Models.ContentCollection = a.Base.create("Collection", a.Model, [], {
    initializer: function(b) {
      b ? (this.items = new a.Squarespace.Models.ContentItemList({
        items: b.items || [],
        parent: this
      }), this.updateNextDisplayIndex(), this._itemsEventHandle = this.items.after(["load", "add", "remove"], this.updateNextDisplayIndex, this)) : this.items = new a.Squarespace.Models.ContentItemList({
        parent: this
      });
      this._syncFolderChange(this.get("folder"));
      this.after("folderChange", function(a) {
        this._syncFolderChange(a.newVal)
      })
    },
    destructor: function() {
      this._itemsEventHandle.detach();
      this._itemsEventHandle = null;
      this.items.destroy();
      this.items = null
    },
    toDebugString: function() {
      return a.JSON.stringify({
        navigationTitle: this.get("navigationTitle"),
        urlId: this.get("urlId"),
        id: this.get("id")
      })
    },
    toJSON: function() {
      var a = this.constructor.superclass.toJSON.call(this);
      a.items = this.items.toJSON();
      return a
    },
    parse: function(b) {
      b = f.superclass.parse.apply(this, arguments);
      b.passwordProtected && (b.password = a.Squarespace.PasswordMask);
      return b
    },
    sync: function(a, c, e) {
      switch (a) {
      case "create":
        this._ensureDemoCloneAndSave(e);
        break;
      case "delete":
        this._delete(e);
        break;
      case "read":
        this._read(c, e);
        break;
      case "update":
        this._ensureDemoCloneAndSave(e)
      }
    },
    load: function(b, c, e) {
      "function" === typeof b && (e = c, c = b, b = {});
      if (this._readInProgress) this.onceAfter("load", c, e);
      else a.Model.prototype.load.call(this, b, c ? a.bind(c, e || this) : null)
    },
    resetToLastRead: function() {
      this.setAttrs(this._lastReadData)
    },
    updateNextDisplayIndex: function() {
      var a = 0;
      this.items.each(function(c) {
        c = c.get("displayIndex");
        c >= a && (a = c + 1)
      }, this);
      this._set("nextDisplayIndex", a)
    },
    _syncFolderChange: function(a) {
      a && this.set("dropdown", !0)
    },
    _ensureDemoCloneAndSave: function(b) {
      if (this._shouldCloneCollection()) {
        var c = this.toJSON();
        delete c.id;
        this.cloneToNewCollection({
          silent: !0
        }).then(a.bind(this._save, this, b, c))
      } else this._save(b)
    },
    _save: function(b, c) {
      c = a.merge(c, this.toJSON());
      c.collectionId = c.id;
      delete c.tags;
      delete c.categories;
      delete c.mainImage;
      delete c.iTunesImage;
      delete c.items;
      c.metadata && c.metadata.albumCover && delete c.metadata.albumCover;
      var e = a.bind(function(c) {
        a.Data.post({
          url: "/api/commondata/SaveCollection",
          data: c,
          success: function(c) {
            this._lastReadData = a.clone(c);
            b(null, c)
          },
          failure: function(a) {
            b(a, null)
          }
        }, this)
      }, this);
      a.Lang.isValue(c.id) && a.Lang.isNull(c.urlId) ? a.Data.post({
        url: "/api/content-collections/" + c.id + "/generate-url",
        json: !0,
        data: {
          title: c.title,
          urlId: a.Squarespace.Utils.slugify(3 > c.title.length ? c.typeName + "-" + c.title : c.title)
        },
        success: function(a) {
          c.urlId = a.urlId;
          e(c)
        }
      }) : e(c)
    },
    _delete: function(b) {
      a.Data.post({
        url: "/api/commondata/RemoveCollection",
        data: {
          collectionId: this.get("id")
        },
        success: function(a) {
          b(null, a)
        },
        failure: function(a) {
          b(a, null)
        }
      })
    },
    _read: function(b, c) {
      this._readInProgress = !0;
      a.Data.get({
        url: "/api/commondata/GetCollection",
        data: {
          collectionId: this.get("id")
        },
        success: function(b) {
          this._readInProgress = !1;
          this._lastReadData = a.clone(b);
          c(null, b)
        },
        failure: function(a) {
          this._readInProgress = !1;
          c(a,
          null)
        }
      }, this)
    },
    getTemplateConfiguration: function(b) {
      b = b || a.Squarespace.Singletons.Template;
      var c = this.get("typeName"),
        e = this.get("type");
      (b = e == a.Squarespace.CollectionTypes.TEMPLATE_PAGE ? b.get("pageConfigs." + c) : b.get("collectionConfigs." + c)) || (b = new a.Squarespace.Models.CollectionConfiguration({
        collectionType: e || a.Squarespace.CollectionTypes.GENERIC,
        ordering: this.get("ordering"),
        folder: this.get("folder"),
        supported: !1
      }));
      return b
    },
    cloneToNewCollection: function(b) {
      return new a.Promise(a.bind(function(c,
      e) {
        var f = this.get("id"),
          g = a.Squarespace.Singletons.Template.get("navigations").getNavigationItemForCollectionId(f);
        this._cloneExampleContent(b).then(a.bind(function(a) {
          g.set("collectionId", a);
          g.save(c)
        }, this))
      }, this))
    },
    _cloneExampleContent: function(b) {
      b = b || {};
      var c = new a.Promise(a.bind(function(c, f) {
        var g = a.Squarespace.Singletons.Template,
          l = this.get("id");
        a.Data.post({
          url: "/api/commondata/CopyCollection",
          data: {
            collectionId: this.get("id"),
            processPointedCollectionItems: !! b.processPointedCollectionItems
          },
          success: function(b) {
            this.setAttrs(a.merge({
              mainImageId: null,
              mainImage: null
            }, b));
            var m = b.id;
            g.get("homepageCollectionId") == l ? (g.set("homepageCollectionId", m), g.saveHomepageCollectionId(function(a) {
              a ? f() : c(m)
            })) : c(m)
          }
        }, this)
      }, this));
      c.then(a.bind(function() {
        this.fire("clonedExampleContent", {
          silent: !! b.silent
        })
      }, this));
      return c
    },
    _shouldCloneCollection: function() {
      return this.get("isDemoCollection") && this.get("type") === a.Squarespace.CollectionTypes.PAGE
    },
    getId: function() {
      return this.get("id")
    },
    getNextDisplayIndex: function() {
      return this.get("nextDisplayIndex")
    },
    _set: function(a, c, e) {
      return this.constructor.superclass._set.call(this, a, c, e)
    }
  }, {
    ATTRS: {
      title: {
        validator: a.Lang.isString
      },
      navigationTitle: {
        validator: a.Lang.isString
      },
      websiteId: {},
      id: {
        value: null
      },
      enabled: {
        value: !0,
        validator: a.Lang.isBoolean
      },
      deleted: {
        value: !1,
        validator: a.Lang.isBoolean
      },
      homepage: {
        validator: a.Lang.isBoolean
      },
      starred: {
        validator: a.Lang.isBoolean
      },
      synchronizing: {
        validator: a.Lang.isBoolean
      },
      updatedOn: {},
      folder: {
        value: !1
      },
      isDemoCollection: {
        getter: function() {
          return a.Squarespace.ContentCollectionUtils.isDemoCollectionId(this.get("id"))
        }
      },
      itemCountExceeded: {
        getter: function() {
          return this.get("type") == a.Squarespace.CollectionTypes.PRODUCT && this.get("localItemCount") >= this.get("maxItemCount") ? !0 : !1
        }
      },
      localItemCount: {
        getter: function() {
          return this.items.size()
        }
      },
      isEmpty: {
        getter: function() {
          return 0 === this.get("localItemCount")
        }
      },
      maxItemCount: {
        getter: function() {
          return this.get("type") == a.Squarespace.CollectionTypes.PRODUCT ? 200 : 9999
        }
      },
      tags: {
        value: [],
        validator: a.Lang.isArray
      },
      categories: {
        value: [],
        validator: a.Lang.isArray
      },
      pageSize: {
        validator: a.Lang.isNumber,
        valueFn: function() {
          if (this.getTemplateConfiguration().get("ordering") == a.Squarespace.CollectionOrdering.CHRONOLOGICAL) return 20
        }
      },
      ordering: {
        validator: function(b) {
          return a.Object.values(a.Squarespace.CollectionOrdering).contains(b)
        }
      },
      type: {
        validator: function(b) {
          return a.Object.values(a.Squarespace.CollectionTypes).contains(b)
        }
      },
      typeName: {
        validator: a.Lang.isString
      },
      fullUrl: {
        validator: a.Lang.isString
      },
      urlId: {
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      nextDisplayIndex: {
        value: 0,
        readOnly: !0
      },
      regionName: {
        value: "default",
        validator: function(b) {
          return !a.Lang.isString(b) || 0 === b.length ? !1 : a.Object.keys(a.Squarespace.Singletons.Template.get("layouts")).contains(b)
        }
      },
      postByEmailAddress: {
        getter: function(a) {
          return a ? a + "@" + Static.SQUARESPACE_CONTEXT.appDomain : ""
        }
      }
    }
  });
  a.Squarespace.Models.ContentCollectionList = a.Base.create("Collections", a.ModelList, [], {
    model: a.Squarespace.Models.ContentCollection,
    sync: function(b, c, e) {
      "read" == b && a.Data.get({
        url: "/api/commondata/GetCollections",
        success: function(b) {
          e(null,
          a.Object.values(b.collections))
        },
        failure: function(a) {
          e(a, null)
        }
      }, this)
    },
    getCollectionById: function(b, c, e) {
      var f = this.getById(b);
      f ? c.call(e, f) : (f = new a.Squarespace.Models.ContentCollection({
        id: b
      }), f.load({}, function() {
        this.add(f);
        c.call(e, f)
      }, this))
    },
    getCollectionFromData: function(b) {
      if (!b) return null;
      if (!b.id) throw "getCollectionFromData needs at least an ID in the data to work.";
      var c = this.getById(b.id);
      c ? c.setAttrs(b) : c = this.add(new a.Squarespace.Models.ContentCollection(b));
      return c
    }
  });
  a.Squarespace.ContentCollectionCache = new a.Squarespace.Models.ContentCollectionList
}, "2.0", {
  requires: "base model model-list squarespace-models-content-item squarespace-models-content-item-list squarespace-util".split(" ")
});
YUI.add("squarespace-models-check-in", function(a) {
  a.namespace("Squarespace.Models");
  a.Squarespace.Models.CheckIn = a.Base.create("CheckIn", a.Squarespace.Models.StructuredContent, [], {}, {
    ATTRS: {
      _type: {
        value: "CheckIn",
        validator: function(a) {
          return "CheckIn" === a
        },
        readOnly: !0
      },
      checkinId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      venueId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      timeZone: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      venueName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      address: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      crossStreet: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      city: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      state: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      country: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      postalCode: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      categoryId: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      categoryPluralName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      categoryShortName: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      },
      categoryIcon: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrString
      }
    }
  })
}, "1.0", {
  requires: ["base", "squarespace-attr-validators", "squarespace-models-structured-content"]
});
YUI.add("color-base", function(a, f) {
  var b = /^#?([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,
    c = /^#?([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,
    e = /rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/;
  a.Color = {
    KEYWORDS: {
      black: "000",
      silver: "c0c0c0",
      gray: "808080",
      white: "fff",
      maroon: "800000",
      red: "f00",
      purple: "800080",
      fuchsia: "f0f",
      green: "008000",
      lime: "0f0",
      olive: "808000",
      yellow: "ff0",
      navy: "000080",
      blue: "00f",
      teal: "008080",
      aqua: "0ff"
    },
    REGEX_HEX: b,
    REGEX_HEX3: c,
    REGEX_RGB: e,
    re_RGB: e,
    re_hex: b,
    re_hex3: c,
    STR_HEX: "#{*}{*}{*}",
    STR_RGB: "rgb({*}, {*}, {*})",
    STR_RGBA: "rgba({*}, {*}, {*}, {*})",
    TYPES: {
      HEX: "hex",
      RGB: "rgb",
      RGBA: "rgba"
    },
    CONVERTS: {
      hex: "toHex",
      rgb: "toRGB",
      rgba: "toRGBA"
    },
    convert: function(b, c) {
      var e = a.Color.CONVERTS[c.toLowerCase()],
        f = b;
      e && a.Color[e] && (f = a.Color[e](b));
      return f
    },
    toHex: function(b) {
      b = a.Color._convertTo(b, "hex");
      var c = "transparent" === b.toLowerCase();
      "#" !== b.charAt(0) && !c && (b = "#" + b);
      return c ? b.toLowerCase() : b.toUpperCase()
    },
    toRGB: function(b) {
      return a.Color._convertTo(b, "rgb").toLowerCase()
    },
    toRGBA: function(b) {
      return a.Color._convertTo(b, "rgba").toLowerCase()
    },
    toArray: function(b) {
      var c = a.Color.findType(b).toUpperCase(),
        e, f;
      "HEX" === c && 5 > b.length && (c = "HEX3");
      "A" === c.charAt(c.length - 1) && (c = c.slice(0, - 1));
      if (e = a.Color["REGEX_" + c]) if (f = e.exec(b) || [], b = f.length) f.shift(), b--, "HEX3" === c && (f[0] += f[0], f[1] += f[1], f[2] += f[2]), (c = f[b - 1]) || (f[b - 1] = 1);
      return f
    },
    fromArray: function(b, c) {
      b = b.concat();
      if ("undefined" === typeof c) return b.join(", ");
      c = a.Color["STR_" + c.toUpperCase()];
      for (3 === b.length && 4 === c.match(/\{\*\}/g).length && b.push(1); 0 <= c.indexOf("{*}") && 0 < b.length;) c = c.replace("{*}", b.shift());
      return c
    },
    findType: function(b) {
      if (a.Color.KEYWORDS[b]) return "keyword";
      var c = b.indexOf("("),
        e;
      0 < c && (e = b.substr(0, c));
      return e && a.Color.TYPES[e.toUpperCase()] ? a.Color.TYPES[e.toUpperCase()] : "hex"
    },
    _getAlpha: function(b) {
      var c;
      b = a.Color.toArray(b);
      3 < b.length && (c = b.pop());
      return +c || 1
    },
    _keywordToHex: function(b) {
      if (b = a.Color.KEYWORDS[b]) return b
    },
    _convertTo: function(b, c) {
      if ("transparent" === b) return b;
      var e = a.Color.findType(b),
        f = c,
        m, n, p, q;
      "keyword" === e && (b = a.Color._keywordToHex(b), e = "hex");
      "hex" === e && 5 > b.length && ("#" === b.charAt(0) && (b = b.substr(1)), b = "#" + b.charAt(0) + b.charAt(0) + b.charAt(1) + b.charAt(1) + b.charAt(2) + b.charAt(2));
      if (e === c) return b;
      "a" === e.charAt(e.length - 1) && (e = e.slice(0, - 1));
      if (m = "a" === c.charAt(c.length - 1)) c = c.slice(0, - 1), n = a.Color._getAlpha(b);
      q = c.charAt(0).toUpperCase() + c.substr(1).toLowerCase();
      p = a.Color["_" + e + "To" + q];
      !p && ("rgb" !== e && "rgb" !== c) && (b = a.Color["_" + e + "ToRgb"](b),
      p = a.Color["_rgbTo" + q]);
      p && (b = p(b, m));
      m && (a.Lang.isArray(b) || (b = a.Color.toArray(b)), b.push(n), b = a.Color.fromArray(b, f.toUpperCase()));
      return b
    },
    _hexToRgb: function(a, b) {
      var c, e, f;
      "#" === a.charAt(0) && (a = a.substr(1));
      a = parseInt(a, 16);
      c = a >> 16;
      e = a >> 8 & 255;
      f = a & 255;
      return b ? [c, e, f] : "rgb(" + c + ", " + e + ", " + f + ")"
    },
    _rgbToHex: function(b) {
      b = a.Color.toArray(b);
      b = b[2] | b[1] << 8 | b[0] << 16;
      for (b = (+b).toString(16); 6 > b.length;) b = "0" + b;
      return "#" + b
    }
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("history-hash-ie", function(a, f) {
  if (a.UA.ie && !a.HistoryBase.nativeHashChange) {
    var b = a.Do,
      c = YUI.namespace("Env.HistoryHash"),
      e = a.HistoryHash,
      h = c._iframe,
      g = a.config.win;
    e.getIframeHash = function() {
      if (!h || !h.contentWindow) return "";
      var a = e.hashPrefix,
        b = h.contentWindow.location.hash.substr(1);
      return a && 0 === b.indexOf(a) ? b.replace(a, "") : b
    };
    e._updateIframe = function(a, b) {
      var c = h && h.contentWindow && h.contentWindow.document,
        e = c && c.location;
      c && e && (b ? e.replace("#" === a.charAt(0) ? a : "#" + a) : (c.open().close(),
      e.hash = a))
    };
    b.before(e._updateIframe, e, "replaceHash", e, !0);
    if (!h) a.on("domready", function() {
      var b = e.getHash();
      h = c._iframe = a.Node.getDOMNode(a.Node.create('<iframe src="javascript:0" style="display:none" height="0" width="0" tabindex="-1" title="empty"/>'));
      a.config.doc.documentElement.appendChild(h);
      e._updateIframe(b || "#");
      a.on("hashchange", function(a) {
        b = a.newHash;
        e.getIframeHash() !== b && e._updateIframe(b)
      }, g);
      a.later(50, null, function() {
        var a = e.getIframeHash();
        a !== b && e.setHash(a)
      }, null, !0)
    })
  }
}, "3.17.2", {
  requires: ["history-hash", "node-base"]
});
YUI.add("yui-throttle", function(a, f) {
  a.throttle = function(b, c) {
    c = c ? c : a.config.throttleTime || 150;
    if (-1 === c) return function() {
      b.apply(this, arguments)
    };
    var e = a.Lang.now();
    return function() {
      var f = a.Lang.now();
      f - e > c && (e = f, b.apply(this, arguments))
    }
  }
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("attribute-observable", function(a, f) {
  function b() {
    this._ATTR_E_FACADE = {};
    c.call(this, {
      emitFacade: !0
    })
  }
  var c = a.EventTarget;
  b._ATTR_CFG = ["broadcast"];
  b.prototype = {
    set: function(a, b, c) {
      return this._setAttr(a, b, c)
    },
    _set: function(a, b, c) {
      return this._setAttr(a, b, c, !0)
    },
    setAttrs: function(a, b) {
      return this._setAttrs(a, b)
    },
    _setAttrs: function(a, b) {
      for (var c in a) a.hasOwnProperty(c) && this.set(c, a[c], b);
      return this
    },
    _fireAttrChange: function(b, c, f, l, k, m) {
      var n = this._getFullType(b + "Change"),
        p = this._state,
        q;
      m || (m = p.data[b] || {});
      m.published || (q = this._publish(n), q.emitFacade = !0, q.defaultTargetOnly = !0, q.defaultFn = this._defAttrChangeFn, p = m.broadcast, void 0 !== p && (q.broadcast = p), m.published = !0);
      k ? (p = a.merge(k), p._attrOpts = k) : p = this._ATTR_E_FACADE;
      p.attrName = b;
      p.subAttrName = c;
      p.prevVal = f;
      p.newVal = l;
      this._hasPotentialSubscribers(n) ? this.fire(n, p) : this._setAttrVal(b, c, f, l, k, m)
    },
    _defAttrChangeFn: function(a, b) {
      var c = a._attrOpts;
      c && delete a._attrOpts;
      this._setAttrVal(a.attrName, a.subAttrName, a.prevVal, a.newVal,
      c) ? b || (a.newVal = this.get(a.attrName)) : b || a.stopImmediatePropagation()
    }
  };
  a.mix(b, c, !1, null, 1);
  a.AttributeObservable = b;
  a.AttributeEvents = b
}, "3.17.2", {
  requires: ["event-custom"]
});
YUI.add("squarespace-business-hours", function(a) {
  a.namespace("Squarespace.Widgets").BusinessHours = a.Base.create("businessHours", a.Squarespace.Widgets.SSWidget, [], {
    _setDefaultBusinessHours: function(f) {
      var b = this.get("websiteSettings");
      a.Lang.isNull(f) && (f = b.businessHours);
      return f
    }
  }, {
    CSS_PREFIX: "sqs-business-hours",
    HANDLEBARS_TEMPLATE: "business-hours.html",
    ATTRS: {
      websiteSettings: {
        valueFn: function() {
          return a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings"])
        }
      },
      businessHours: {
        value: null,
        setter: "_setDefaultBusinessHours"
      },
      strings: {
        value: {
          store: {
            open: "We are currently<br><span>open</span>",
            closed: "We are currently<br><span>closed</span>"
          },
          daysAbbreviated: a.Squarespace.DateUtils.LANG.days.abbreviated
        }
      }
    }
  })
}, "1.0", {
  requires: ["base", "node", "squarespace-ss-widget", "squarespace-date-utils", "squarespace-business-hours-template"]
});
YUI.add("squarespace-easing", function(a) {
  a.namespace("Squarespace.Easing").easeInOutCubic = function(a, b, c, e) {
    a /= e / 2;
    if (1 > a) return c / 2 * a * a * a + b;
    a -= 2;
    return c / 2 * (a * a * a + 2) + b
  }
});
YUI.add("node-core", function(a, f) {
  var b = Array.prototype.slice,
    c = a.DOM,
    e = function(b) {
      if (!this.getDOMNode) return new e(b);
      if ("string" == typeof b && (b = e._fromString(b), !b)) return null;
      var c = 9 !== b.nodeType ? b.uniqueID : b._yuid;
      c && (e._instances[c] && e._instances[c]._node !== b) && (b._yuid = null);
      (c = c || a.stamp(b)) || (c = a.guid());
      this._yuid = c;
      this._stateProxy = this._node = b;
      this._initPlugins && this._initPlugins()
    }, h = function(b) {
      var c = null;
      b && (c = "string" == typeof b ? function(c) {
        return a.Selector.test(c, b)
      } : function(c) {
        return b(a.one(c))
      });
      return c
    };
  e.ATTRS = {};
  e.DOM_EVENTS = {};
  e._fromString = function(b) {
    b && (b = 0 === b.indexOf("doc") ? a.config.doc : 0 === b.indexOf("win") ? a.config.win : a.Selector.query(b, null, !0));
    return b || null
  };
  e.NAME = "node";
  e.re_aria = /^(?:role$|aria-)/;
  e.SHOW_TRANSITION = "fadeIn";
  e.HIDE_TRANSITION = "fadeOut";
  e._instances = {};
  e.getDOMNode = function(a) {
    return a ? a.nodeType ? a : a._node || null : null
  };
  e.scrubVal = function(b, e) {
    if (b) {
      if ("object" == typeof b || "function" == typeof b) if ("nodeType" in b || c.isWindow(b)) b = a.one(b);
      else if ("undefined" !== typeof SVGElementInstance && b.correspondingElement) b = a.one(b.correspondingUseElement || b.correspondingElement);
      else if (b.item && !b._nodes || b[0] && b[0].nodeType) b = a.all(b)
    } else "undefined" === typeof b ? b = e : null === b && (b = null);
    return b
  };
  e.addMethod = function(a, c, f) {
    a && (c && "function" == typeof c) && (e.prototype[a] = function() {
      var a = b.call(arguments);
      a[0] && a[0]._node && (a[0] = a[0]._node);
      a[1] && a[1]._node && (a[1] = a[1]._node);
      a.unshift(this._node);
      (a = c.apply(f || this, a)) && (a = e.scrubVal(a, this));
      "undefined" != typeof a || (a = this);
      return a
    })
  };
  e.importMethod = function(b, c, f) {
    "string" == typeof c ? e.addMethod(f || c, b[c], b) : a.Array.each(c, function(a) {
      e.importMethod(b, a)
    })
  };
  e.one = function(b) {
    var c = null,
      f;
    if (b) {
      if ("string" == typeof b) {
        if (b = e._fromString(b), !b) return null
      } else if (b.getDOMNode) return b;
      "undefined" !== typeof SVGElementInstance && !b.nodeType && b.correspondingElement && (b = b.correspondingUseElement || b.correspondingElement);
      if (b.nodeType || a.DOM.isWindow(b)) if (c = b.uniqueID && 9 !== b.nodeType ? b.uniqueID : b._yuid, f = (c = e._instances[c]) ? c._node : null, !c || f && b !== f) c = new e(b), 11 != b.nodeType && (e._instances[c._yuid] = c)
    }
    return c
  };
  e.DEFAULT_SETTER = function(b, c) {
    var e = this._stateProxy; - 1 < b.indexOf(".") ? (b = b.split("."), a.Object.setValue(e, b, c)) : "undefined" != typeof e[b] && (e[b] = c);
    return c
  };
  e.DEFAULT_GETTER = function(b) {
    var c = this._stateProxy,
      e;
    b.indexOf && -1 < b.indexOf(".") ? e = a.Object.getValue(c, b.split(".")) : "undefined" != typeof c[b] && (e = c[b]);
    return e
  };
  a.mix(e.prototype, {
    DATA_PREFIX: "data-",
    toString: function() {
      var a = this._yuid + ": not bound to a node",
        b = this._node,
        c, e;
      b && (c = (a = b.attributes) && a.id ? b.getAttribute("id") : null, e = a && a.className ? b.getAttribute("className") : null, a = b.nodeName, c && (a += "#" + c), e && (a += "." + e.replace(" ", ".")), a += " " + this._yuid);
      return a
    },
    get: function(a) {
      (a = this._getAttr ? this._getAttr(a) : this._get(a)) ? a = e.scrubVal(a, this) : null === a && (a = null);
      return a
    },
    _get: function(a) {
      var b = e.ATTRS[a];
      return b && b.getter ? b.getter.call(this) : e.re_aria.test(a) ? this._node.getAttribute(a, 2) : e.DEFAULT_GETTER.apply(this, arguments)
    },
    set: function(a, b) {
      var c = e.ATTRS[a];
      this._setAttr ? this._setAttr.apply(this, arguments) : c && c.setter ? c.setter.call(this, b, a) : e.re_aria.test(a) ? this._node.setAttribute(a, b) : e.DEFAULT_SETTER.apply(this, arguments);
      return this
    },
    setAttrs: function(b) {
      this._setAttrs ? this._setAttrs(b) : a.Object.each(b, function(a, b) {
        this.set(b, a)
      }, this);
      return this
    },
    getAttrs: function(b) {
      var c = {};
      this._getAttrs ? this._getAttrs(b) : a.Array.each(b, function(a, b) {
        c[a] = this.get(a)
      }, this);
      return c
    },
    compareTo: function(a) {
      var b = this._node;
      a && a._node && (a = a._node);
      return b === a
    },
    inDoc: function(a) {
      var b = this._node;
      return b && (a = a ? a._node || a : b.ownerDocument, a.documentElement) ? c.contains(a.documentElement, b) : !1
    },
    getById: function(b) {
      var e = this._node;
      return b = (b = c.byId(b, e.ownerDocument)) && c.contains(e, b) ? a.one(b) : null
    },
    ancestor: function(b, e, f) {
      if (2 === arguments.length && ("string" == typeof e || "function" == typeof e)) f = e;
      return a.one(c.ancestor(this._node, h(b), e, h(f)))
    },
    ancestors: function(b, e, f) {
      if (2 === arguments.length && ("string" == typeof e || "function" == typeof e)) f = e;
      return a.all(c.ancestors(this._node,
      h(b), e, h(f)))
    },
    previous: function(b, e) {
      return a.one(c.elementByAxis(this._node, "previousSibling", h(b), e))
    },
    next: function(b, e) {
      return a.one(c.elementByAxis(this._node, "nextSibling", h(b), e))
    },
    siblings: function(b) {
      return a.all(c.siblings(this._node, h(b)))
    },
    one: function(b) {
      return a.one(a.Selector.query(b, this._node, !0))
    },
    all: function(b) {
      var c;
      this._node && (c = a.all(a.Selector.query(b, this._node)), c._query = b, c._queryRoot = this._node);
      return c || a.all([])
    },
    test: function(b) {
      return a.Selector.test(this._node,
      b)
    },
    remove: function(a) {
      var b = this._node;
      b && b.parentNode && b.parentNode.removeChild(b);
      a && this.destroy();
      return this
    },
    replace: function(a) {
      var b = this._node;
      "string" == typeof a && (a = e.create(a));
      b.parentNode.replaceChild(e.getDOMNode(a), b);
      return this
    },
    replaceChild: function(b, f) {
      "string" == typeof b && (b = c.create(b));
      return a.one(this._node.replaceChild(e.getDOMNode(b), e.getDOMNode(f)))
    },
    destroy: function(b) {
      var c = a.config.doc.uniqueID ? "uniqueID" : "_yuid",
        f;
      this.purge();
      this.unplug && this.unplug();
      this.clearData();
      b && a.NodeList.each(this.all("*"), function(b) {
        (f = e._instances[b[c]]) ? f.destroy() : a.Event.purgeElement(b)
      });
      this._stateProxy = this._node = null;
      delete e._instances[this._yuid]
    },
    invoke: function(a, b, c, f, g, h) {
      var k = this._node;
      b && b._node && (b = b._node);
      c && c._node && (c = c._node);
      a = k[a](b, c, f, g, h);
      return e.scrubVal(a, this)
    },
    swap: a.config.doc.documentElement.swapNode ? function(a) {
      this._node.swapNode(e.getDOMNode(a))
    } : function(a) {
      a = e.getDOMNode(a);
      var b = this._node,
        f = a.parentNode,
        g = a.nextSibling;
      g === b ? f.insertBefore(b,
      a) : a === b.nextSibling ? f.insertBefore(a, b) : (b.parentNode.replaceChild(a, b), c.addHTML(f, b, g));
      return this
    },
    hasMethod: function(a) {
      var b = this._node;
      return !(!b || !(a in b && "unknown" != typeof b[a] && ("function" == typeof b[a] || 1 === String(b[a]).indexOf("function"))))
    },
    isFragment: function() {
      return 11 === this.get("nodeType")
    },
    empty: function() {
      this.get("childNodes").remove().destroy(!0);
      return this
    },
    getDOMNode: function() {
      return this._node
    }
  }, !0);
  a.Node = e;
  a.one = e.one;
  var g = function(b) {
    var e = [];
    b && ("string" === typeof b ? (this._query = b, b = a.Selector.query(b)) : b.nodeType || c.isWindow(b) ? b = [b] : "undefined" !== typeof SVGElementInstance && b.correspondingElement ? b = [b.correspondingUseElement || b.correspondingElement] : b._node ? b = [b._node] : b[0] && b[0]._node ? (a.Array.each(b, function(a) {
      a._node && e.push(a._node)
    }), b = e) : b = a.Array(b, 0, !0));
    this._nodes = b || []
  };
  g.NAME = "NodeList";
  g.getDOMNodes = function(a) {
    return a && a._nodes ? a._nodes : a
  };
  g.each = function(b, c, e) {
    var f = b._nodes;
    f && f.length && a.Array.each(f, c, e || b)
  };
  g.addMethod = function(b, c, e) {
    b && c && (g.prototype[b] = function() {
      var b = [],
        f = arguments;
      a.Array.each(this._nodes, function(h) {
        var k = a.Node._instances[h[h.uniqueID && 9 !== h.nodeType ? "uniqueID" : "_yuid"]];
        k || (k = g._getTempNode(h));
        h = c.apply(e || k, f);
        void 0 !== h && h !== k && (b[b.length] = h)
      });
      return b.length ? b : this
    })
  };
  g.importMethod = function(b, c, e) {
    "string" === typeof c ? g.addMethod(c, b[c]) : a.Array.each(c, function(a) {
      g.importMethod(b, a)
    })
  };
  g._getTempNode = function(b) {
    var c = g._tempNode;
    c || (c = a.Node.create("<div></div>"), g._tempNode = c);
    c._node = b;
    c._stateProxy = b;
    return c
  };
  a.mix(g.prototype, {
    _invoke: function(a, b, c) {
      var e = c ? [] : this;
      this.each(function(f) {
        f = f[a].apply(f, b);
        c && e.push(f)
      });
      return e
    },
    item: function(b) {
      return a.one((this._nodes || [])[b])
    },
    each: function(b, c) {
      var e = this;
      a.Array.each(this._nodes, function(f, g) {
        f = a.one(f);
        return b.call(c || f, f, g, e)
      });
      return e
    },
    batch: function(b, c) {
      var e = this;
      a.Array.each(this._nodes, function(f, h) {
        var k = a.Node._instances[f._yuid];
        k || (k = g._getTempNode(f));
        return b.call(c || k, k, h, e)
      });
      return e
    },
    some: function(b, c) {
      var e = this;
      return a.Array.some(this._nodes, function(f, g) {
        f = a.one(f);
        c = c || f;
        return b.call(c, f, g, e)
      })
    },
    toFrag: function() {
      return a.one(a.DOM._nl2frag(this._nodes))
    },
    indexOf: function(b) {
      return a.Array.indexOf(this._nodes, a.Node.getDOMNode(b))
    },
    filter: function(b) {
      return a.all(a.Selector.filter(this._nodes, b))
    },
    modulus: function(b, c) {
      c = c || 0;
      var e = [];
      g.each(this, function(a, f) {
        f % b === c && e.push(a)
      });
      return a.all(e)
    },
    odd: function() {
      return this.modulus(2, 1)
    },
    even: function() {
      return this.modulus(2)
    },
    destructor: function() {},
    refresh: function() {
      var b = this._nodes,
        c = this._query,
        e = this._queryRoot;
      c && (!e && (b && b[0] && b[0].ownerDocument) && (e = b[0].ownerDocument), this._nodes = a.Selector.query(c, e));
      return this
    },
    size: function() {
      return this._nodes.length
    },
    isEmpty: function() {
      return 1 > this._nodes.length
    },
    toString: function() {
      var a = "",
        b = this._yuid + ": not bound to any nodes",
        c = this._nodes,
        e;
      c && c[0] && (e = c[0], a += e.nodeName, e.id && (a += "#" + e.id), e.className && (a += "." + e.className.replace(" ", ".")), 1 < c.length && (a += "...[" + c.length + " items]"));
      return a || b
    },
    getDOMNodes: function() {
      return this._nodes
    }
  }, !0);
  g.importMethod(a.Node.prototype, ["destroy", "empty", "remove", "set"]);
  g.prototype.get = function(b) {
    var c = [],
      e = this._nodes,
      f = !1,
      h = g._getTempNode,
      k, l;
    e[0] && (k = a.Node._instances[e[0]._yuid] || h(e[0]), (l = k._get(b)) && l.nodeType && (f = !0));
    a.Array.each(e, function(e) {
      (k = a.Node._instances[e._yuid]) || (k = h(e));
      l = k._get(b);
      f || (l = a.Node.scrubVal(l, k));
      c.push(l)
    });
    return f ? a.all(c) : c
  };
  a.NodeList = g;
  a.all = function(a) {
    return new g(a)
  };
  a.Node.all = a.all;
  var l = a.NodeList,
    k = Array.prototype;
  a.Object.each({
    concat: 1,
    pop: 0,
    push: 0,
    shift: 0,
    slice: 1,
    splice: 1,
    unshift: 0
  }, function(b, c) {
    l.prototype[c] = function() {
      for (var e = [], f = 0, g;
      "undefined" != typeof(g = arguments[f++]);) e.push(g._node || g._nodes || g);
      e = k[c].apply(this._nodes, e);
      return e = b ? a.all(e) : a.Node.scrubVal(e)
    }
  });
  a.Array.each("removeChild hasChildNodes cloneNode hasAttribute scrollIntoView getElementsByTagName focus blur submit reset select createCaption".split(" "), function(b) {
    a.Node.prototype[b] = function(a, c, e) {
      return this.invoke(b,
      a, c, e)
    }
  });
  a.Node.prototype.removeAttribute = function(a) {
    var b = this._node;
    b && b.removeAttribute(a, 0);
    return this
  };
  a.Node.importMethod(a.DOM, "contains setAttribute getAttribute wrap unwrap generateID".split(" "));
  a.NodeList.importMethod(a.Node.prototype, "getAttribute setAttribute removeAttribute unwrap wrap generateID".split(" "))
}, "3.17.2", {
  requires: ["dom-core", "selector"]
});
YUI.add("io-queue", function(a, f) {
  function b(a, b) {
    return c.queue.apply(c, [a, b])
  }
  var c = a.io._map["io:0"] || new a.IO;
  a.mix(a.IO.prototype, {
    _q: new a.Queue,
    _qActiveId: null,
    _qInit: !1,
    _qState: 1,
    _qShift: function() {
      var a = this._q.next();
      this._qActiveId = a.id;
      this._qState = 0;
      this.send(a.uri, a.cfg, a.id)
    },
    queue: function(b, c) {
      var f = this,
        l = {
          uri: b,
          cfg: c,
          id: this._id++
        };
      f._qInit || (a.on("io:complete", function(a, b) {
        f._qNext(a)
      }, f), f._qInit = !0);
      f._q.add(l);
      1 === f._qState && f._qShift();
      return l
    },
    _qNext: function(a) {
      this._qState = 1;
      this._qActiveId === a && 0 < this._q.size() && this._qShift()
    },
    qPromote: function(a) {
      this._q.promote(a)
    },
    qRemove: function(a) {
      this._q.remove(a)
    },
    qEmpty: function() {
      this._q = new a.Queue
    },
    qStart: function() {
      this._qState = 1;
      0 < this._q.size() && this._qShift()
    },
    qStop: function() {
      this._qState = 0
    },
    qSize: function() {
      return this._q.size()
    }
  }, !0);
  b.start = function() {
    c.qStart()
  };
  b.stop = function() {
    c.qStop()
  };
  b.promote = function(a) {
    c.qPromote(a)
  };
  b.remove = function(a) {
    c.qRemove(a)
  };
  b.size = function() {
    c.qSize()
  };
  b.empty = function() {
    c.qEmpty()
  };
  a.io.queue = b
}, "3.17.2", {
  requires: ["io-base", "queue-promote"]
});
YUI.add("dom-style-ie", function(a, f) {
  var b = a.config.doc.documentElement,
    c = a.Features.test,
    e = a.Features.add,
    h = /^(\d[.\d]*)+(em|ex|px|gd|rem|vw|vh|vm|ch|mm|cm|in|pt|pc|deg|rad|ms|s|hz|khz|%){1}?/i,
    g = 8 <= a.UA.ie,
    l = function(a) {
      return a.currentStyle || a.style
    }, k = {
      CUSTOM_STYLES: {},
      get: function(b, c) {
        var e = "";
        b && (e = l(b)[c], e = "opacity" === c && a.DOM.CUSTOM_STYLES.opacity ? a.DOM.CUSTOM_STYLES.opacity.get(b) : !e || e.indexOf && -1 < e.indexOf("px") ? e : a.DOM.IE.COMPUTED[c] ? a.DOM.IE.COMPUTED[c](b, c) : h.test(e) ? k.getPixel(b,
        c) + "px" : e);
        return e
      },
      sizeOffsets: {
        width: ["Left", "Right"],
        height: ["Top", "Bottom"],
        top: ["Top"],
        bottom: ["Bottom"]
      },
      getOffset: function(a, b) {
        var c = l(a)[b],
          e = b.charAt(0).toUpperCase() + b.substr(1),
          f = "pixel" + e,
          g = k.sizeOffsets[b],
          h = a.ownerDocument.compatMode,
          m = "";
        "auto" === c || -1 < c.indexOf("%") ? (m = a["offset" + e], "BackCompat" !== h && (g[0] && (m -= k.getPixel(a, "padding" + g[0]), m -= k.getBorderWidth(a, "border" + g[0] + "Width", 1)), g[1] && (m -= k.getPixel(a, "padding" + g[1]), m -= k.getBorderWidth(a, "border" + g[1] + "Width", 1)))) : (!a.style[f] && !a.style[b] && (a.style[b] = c), m = a.style[f]);
        return m + "px"
      },
      borderMap: {
        thin: g ? "1px" : "2px",
        medium: g ? "3px" : "4px",
        thick: g ? "5px" : "6px"
      },
      getBorderWidth: function(a, b, c) {
        b = a.currentStyle[b];
        0 > b.indexOf("px") && (b = k.borderMap[b] && "none" !== a.currentStyle.borderStyle ? k.borderMap[b] : 0);
        return c ? parseFloat(b) : b
      },
      getPixel: function(a, b) {
        var c = null,
          c = l(a),
          e = c.right;
        a.style.right = c[b];
        c = a.style.pixelRight;
        a.style.right = e;
        return c
      },
      getMargin: function(a, b) {
        return ("auto" === l(a)[b] ? 0 : k.getPixel(a, b)) + "px"
      },
      getVisibility: function(a,
      b) {
        for (var c;
        (c = a.currentStyle) && "inherit" === c[b];) a = a.parentNode;
        return c ? c[b] : "visible"
      },
      getColor: function(b, c) {
        var e = l(b)[c];
        (!e || "transparent" === e) && a.DOM.elementByAxis(b, "parentNode", null, function(a) {
          if ((e = l(a)[c]) && "transparent" !== e) return b = a, !0
        });
        return a.Color.toRGB(e)
      },
      getBorderColor: function(b, c) {
        var e = l(b);
        return a.Color.toRGB(a.Color.toHex(e[c] || e.color))
      }
    }, g = {};
  e("style", "computedStyle", {
    test: function() {
      return "getComputedStyle" in a.config.win
    }
  });
  e("style", "opacity", {
    test: function() {
      return "opacity" in b.style
    }
  });
  e("style", "filter", {
    test: function() {
      return "filters" in b
    }
  });
  !c("style", "opacity") && c("style", "filter") && (a.DOM.CUSTOM_STYLES.opacity = {
    get: function(a) {
      var b = 100;
      try {
        b = a.filters["DXImageTransform.Microsoft.Alpha"].opacity
      } catch (c) {
        try {
          b = a.filters("alpha").opacity
        } catch (e) {}
      }
      return b / 100
    },
    set: function(a, b, c) {
      var e = l(a),
        f = e.filter;
      c = c || a.style;
      "" === b && (b = a = "opacity" in e ? e.opacity : 1);
      "string" === typeof f && (c.filter = f.replace(/alpha([^)]*\))/gi, "") + (1 >= b ? "alpha(opacity=" + 100 * b + ")" : ""), c.filter || c.removeAttribute("filter"), e.hasLayout || (c.zoom = 1))
    }
  });
  try {
    a.config.doc.createElement("div").style.height = "-1px"
  } catch (m) {
    a.DOM.CUSTOM_STYLES.height = {
      set: function(a, b, c) {
        if (0 <= parseFloat(b) || "auto" === b || "" === b) c.height = b
      }
    }, a.DOM.CUSTOM_STYLES.width = {
      set: function(a, b, c) {
        if (0 <= parseFloat(b) || "auto" === b || "" === b) c.width = b
      }
    }
  }
  c("style", "computedStyle") || (g.width = g.height = k.getOffset, g.color = g.backgroundColor = k.getColor, g.borderWidth = g.borderTopWidth = g.borderRightWidth = g.borderBottomWidth = g.borderLeftWidth = k.getBorderWidth, g.marginTop = g.marginRight = g.marginBottom = g.marginLeft = k.getMargin, g.visibility = k.getVisibility, g.borderColor = g.borderTopColor = g.borderRightColor = g.borderBottomColor = g.borderLeftColor = k.getBorderColor, a.DOM.getComputedStyle = k.get, a.namespace("DOM.IE"), a.DOM.IE.COMPUTED = g, a.DOM.IE.ComputedStyle = k)
}, "3.17.2", {
  requires: ["dom-style", "color-base"]
});
YUI.add("squarespace-search-result-template", function(a) {
  var f = a.Handlebars;
  (function() {
    var a = f.template;
    (f.templates = f.templates || {})["search-result.html"] = a(function(a, b, f, g, l) {
      function k(a, b) {
        var c, e;
        c = "sqs-post-type-";
        (e = f.recordTypeName) ? e = e.call(a, {
          hash: {},
          data: b
        }) : (e = a.recordTypeName, e = typeof e === p ? e.apply(a) : e);
        return c += q(e)
      }
      function m(a, b) {
        var c, e;
        c = '\n    <div class="sqs-main-image-container">\n      <div class="sqs-main-image-intrinsic">\n        <div class="sqs-main-image content-fill">\n          <img data-src="';
        (e = f.imageUrl) ? e = e.call(a, {
          hash: {},
          data: b
        }) : (e = a.imageUrl, e = typeof e === p ? e.apply(a) : e);
        return c += q(e) + '" />\n        </div>\n      </div>\n    </div>\n    '
      }
      function n(a, b) {
        var c, e;
        c = "\n        <span>";
        if ((e = typeof a === p ? a.apply(a) : a) || 0 === e) c += e;
        return c + "</span>\n        <span>&hellip;</span>\n        "
      }
      this.compilerInfo = [4, ">= 1.0.0"];
      f = this.merge(f, a.helpers);
      l = l || {};
      var p = "function",
        q = this.escapeExpression,
        r = this;
      return (a = f.each.call(b, b.items, {
        hash: {},
        inverse: r.noop,
        fn: r.program(1, function(a,
        b) {
          var c, e;
          c = '\n<div class="search-result clear" itemid="';
          (e = f.id) ? e = e.call(a, {
            hash: {},
            data: b
          }) : (e = a.id, e = typeof e === p ? e.apply(a) : e);
          c += q(e) + '">\n  <div class="sqs-search-container-item sqs-search-ui-item sqs-post ';
          if ((e = f["if"].call(a, a.recordTypeName, {
            hash: {},
            inverse: r.noop,
            fn: r.program(2, k, b),
            data: b
          })) || 0 === e) c += e;
          c += " ";
          (e = f.documentType) ? e = e.call(a, {
            hash: {},
            data: b
          }) : (e = a.documentType, e = typeof e === p ? e.apply(a) : e);
          c += q(e) + '">\n    ';
          if ((e = f["if"].call(a, a.imageUrl, {
            hash: {},
            inverse: r.noop,
            fn: r.program(4,
            m, b),
            data: b
          })) || 0 === e) c += e;
          c += '\n    <div class="sqs-main-content">\n      <div class="sqs-title">';
          (e = f.title) ? e = e.call(a, {
            hash: {},
            data: b
          }) : (e = a.title, e = typeof e === p ? e.apply(a) : e);
          if (e || 0 === e) c += e;
          c += '</div>\n      <div class="sqs-content">\n        ';
          if ((e = f.each.call(a, a.highlight, {
            hash: {},
            inverse: r.noop,
            fn: r.program(6, n, b),
            data: b
          })) || 0 === e) c += e;
          return c + "\n      </div>\n    </div>\n  </div>\n</div>\n"
        }, l),
        data: l
      })) || 0 === a ? a : ""
    })
  })();
  a.Handlebars.registerPartial("search-result.html".replace("/", "."), f.templates["search-result.html"])
}, "1.0", {
  requires: ["handlebars-base"]
});
YUI.add("squarespace-website-overlays-manager", function(a) {
  a.namespace("Squarespace.Frontend").WebsiteOverlaysManager = a.Base.create("websiteOverlaysManager", a.Base, [], {
    initializer: function() {
      this._body = a.one(a.config.doc.body);
      a.config.win.Static.SQUARESPACE_CONTEXT.pageType === a.Squarespace.PageTypes.SPLASH_PAGE ? this._initializePreviewBar() : (this._initializePreviewBar(), this._syncAnnouncementBar(), this._initializeMobileInfoBar(), this._syncSSBadge(), this._manageOverlaps(), this.after("ssBadgeSettingsChange",
      this._syncSSBadge, this), this.after("announcementBarSettingsChange", this._syncAnnouncementBar, this))
    },
    _initializePreviewBar: function() {
      a.config.win.SQUARESPACE_LOGIN || 0 < this._body.all('img[data-licensed-asset-preview="true"]').size() && new a.Squarespace.LicensedAssets.Widgets.PreviewBar({
        render: !0
      })
    },
    _syncSSBadge: function() {
      var f = this.get("ssBadgeSettings"),
        b = f.type;
      if (b === a.Squarespace.SSBadgeType.NONE) this._ssBadge && (this._ssBadge.destroy(), this._ssBadge = null);
      else {
        var c = f.visibility === a.Squarespace.SSBadgeVisibility.SCROLL,
          e = f.position,
          f = f.devices;
        this._ssBadge || (this._ssBadge = new a.Squarespace.Widgets.SSBadge({
          render: this._body
        }));
        this._ssBadge.setAttrs({
          type: b,
          position: e,
          autoHide: c,
          devices: f
        })
      }
    },
    _syncAnnouncementBar: function() {
      var f = this.get("announcementBarSettings");
      if (a.Lang.isUndefined(f)) this._destroyAnnouncementBar();
      else {
        var b = f.text,
          c = f.clickthroughUrl,
          f = parseInt(f.style, 10) === a.Squarespace.AnnouncementBarStyle.CUSTOM;
        a.Lang.isObject(b) && (b = b.html);
        f && b ? this._announcementBar ? this._announcementBar && (this._announcementBar.setAttrs({
          text: b,
          clickthroughUrl: c,
          visible: !0
        }), this._announcementBar.syncUI()) : (this._announcementBar = new a.Squarespace.Widgets.AnnouncementBar({
          text: b,
          clickthroughUrl: c
        }), this._announcementBar.render(), this._announcementBar.addTarget(this)) : this._destroyAnnouncementBar()
      }
    },
    _destroyAnnouncementBar: function() {
      this._announcementBar && (this._announcementBar.destroy(), this._announcementBar = null)
    },
    showAnnouncementsBar: function() {
      this._announcementBar && this._announcementBar.show()
    },
    _initializeMobileInfoBar: function() {
      var f = this._getMobileInfoBarSettings();
      f && (this._mobileInfoBar = new a.Squarespace.Widgets.MobileInfoBar({
        mobileInfoBarSettings: f,
        style: f.style
      }), this._mobileInfoBar.render())
    },
    showMobileInfoBar: function() {
      var f = this._getMobileInfoBarSettings(!0);
      this.hideMobileInfoBar();
      f && (this._mobileInfoBar = new a.Squarespace.Widgets.MobileInfoBar({
        mobileInfoBarSettings: f,
        style: f.style
      }), this._mobileInfoBar.render())
    },
    hideMobileInfoBar: function() {
      this._mobileInfoBar && (this._mobileInfoBar.destroy(), this._mobileInfoBar = null)
    },
    _manageOverlaps: function() {
      var f = this._announcementBar,
        b = this._isSSBadgeVisible(),
        c = this._isAnnouncementBarVisible(),
        e = this._isMobileInfoBarVisible(),
        h = this.get("ssBadgeSettings");
      if (h) {
        var g = h.visibility === a.Squarespace.SSBadgeVisibility.ALWAYS,
          h = this._isSSBadgeTopPositioned(h.position);
        if (b && c && (h && (this._adjustSSBadgeTopOffset(), f.on("destroy", this._clearSSBadgeTopOffset, this)), h && g)) a.one(a.config.win).on("scroll", function() {
          var b = a.config.doc.body.scrollTop,
            c = this._announcementBar.getHeight();
          b >= c ? this._clearSSBadgeTopOffset() : this._adjustSSBadgeTopOffset()
        }, this);
        b && e && (!h && g) && (this._adjustSSBadgeBottomOffset(), a.one(a.config.win).on("scroll", function() {
          0 >= a.config.doc.body.scrollTop ? this._adjustSSBadgeBottomOffset() : this._clearSSbadgeBottomOffset()
        }, this))
      }
    },
    _getMobileInfoBarSettings: function(f) {
      var b = this.get("mobileInfoBarSettings"),
        c = 640 >= a.config.win.innerWidth,
        e = a.UA.mobile,
        h = null;
      if (!a.Lang.isUndefined(b) && (f || e && c)) f = a.Squarespace.MobileInfoBarStyle.NONE, b.style = parseInt(b.style,
      10), b.style !== f && (h = b);
      return h
    },
    _adjustSSBadgeTopOffset: function() {
      var a = this._announcementBar.getHeight() + 22;
      this._ssBadge.get("boundingBox").setStyle("top", a)
    },
    _clearSSBadgeTopOffset: function() {
      this._ssBadge.get("boundingBox").setStyle("top", null)
    },
    _adjustSSBadgeBottomOffset: function() {
      this._ssBadge.set("className", "sqs-ss-badge-mobile-info-bar-present")
    },
    _clearSSbadgeBottomOffset: function() {
      this._ssBadge.set("className", null)
    },
    _isSSBadgeVisible: function() {
      var a = this._ssBadge,
        b = !1;
      a && (b = "visible" === a.get("boundingBox").getStyle("visibility"));
      return b
    },
    _isAnnouncementBarVisible: function() {
      var a = this._announcementBar,
        b = !1;
      a && (b = a.get("isCustomPositioned"), b = !b && a.get("rendered"));
      return b
    },
    _isMobileInfoBarVisible: function() {
      return this._mobileInfoBar ? !0 : !1
    },
    _isSSBadgeTopPositioned: function(f) {
      return f === a.Squarespace.SSBadgePosition.TOP_LEFT || f === a.Squarespace.SSBadgePosition.TOP_CENTER || f === a.Squarespace.SSBadgePosition.TOP_RIGHT
    }
  }, {
    ATTRS: {
      ssBadgeSettings: {
        valueFn: function() {
          var f = a.Object.getValue(a.config.win.Static, ["SQUARESPACE_CONTEXT", "websiteSettings"]);
          return {
            visibility: f.ssBadgeVisibility,
            position: f.ssBadgePosition,
            devices: f.ssBadgeDevices,
            type: f.ssBadgeType
          }
        }
      },
      announcementBarSettings: {
        valueFn: function() {
          return a.Object.getValue(a.config.win.Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "announcementBarSettings"])
        }
      },
      mobileInfoBarSettings: {
        valueFn: function() {
          return a.Object.getValue(a.config.win.Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "mobileInfoBarSettings"])
        }
      }
    }
  })
}, "1.0", {
  requires: "base cookie node squarespace-ss-badge squarespace-announcement-bar squarespace-licensed-assets-preview-bar squarespace-mobile-info-bar".split(" ")
});
YUI.add("squarespace-model-sync-rest", function(a) {
  function f() {
    this._ioConfigCache = {}
  }
  f.prototype = {
    sync: function(b, c, e) {
      a.Lang.isValue(c.timeout) || (c.timeout = 1E7);
      a.ModelSync.REST.prototype.sync.apply(this, arguments)
    },
    _storeRequest: function(b, c) {
      this._ioConfigCache[b.id] = a.merge(c, {})
    },
    _retrieveAndEvict: function(a) {
      var c = this._ioConfigCache[a];
      this._ioConfigCache[a] = null;
      return c
    },
    _isCrumbFailure: function(a) {
      return a && a.crumbFail && a.crumb
    },
    _sendSyncIORequest: function(b) {
      var c = a.ModelSync.REST.prototype._sendSyncIORequest.apply(this,
      arguments);
      this._storeRequest(c, b)
    },
    _onSyncIOEnd: function(b, c) {
      this._retrieveAndEvict(b);
      a.ModelSync.REST.prototype._onSyncIOEnd.apply(this, arguments)
    },
    _onSyncIOSuccess: function(b, c, e) {
      var f = this._retrieveAndEvict(b),
        g = {}, l = c.responseText;
      a.Lang.isValue(l) && l.trim() && (g = a.JSON.parse(l));
      this._isCrumbFailure(g) ? (g = g.crumb, a.ModelSync.REST.CSRF_TOKEN = g, a.Env.CSRF_TOKEN = g, f.headers["X-CSRF-Token"] = g, this._sendSyncIORequest(f)) : a.ModelSync.REST.prototype._onSyncIOSuccess.apply(this, arguments)
    },
    _onSyncIOFailure: function(b,
    c, e) {
      if (b = e.callback) {
        e = {};
        var f = c.responseText;
        a.Lang.isValue(f) && f.trim() && (e = a.JSON.parse(f));
        b({
          code: c.status,
          msg: c.statusText,
          responseJSON: e
        }, c)
      }
    }
  };
  a.mix(f, a.ModelSync.REST, !1, null, 1);
  a.namespace("Squarespace.ModelSync").REST = f
}, "1.0", {
  requires: ["model-sync-rest"]
});
YUI.add("autocomplete-base", function(a, f) {
  function b() {}
  var c = a.Escape,
    e = a.Lang,
    h = a.Array,
    g = a.Object,
    l = e.isFunction,
    k = e.isString,
    m = e.trim,
    n = a.Attribute.INVALID_VALUE,
    p = "_sourceSuccess";
  b.prototype = {
    initializer: function() {
      a.before(this._bindUIACBase, this, "bindUI");
      a.before(this._syncUIACBase, this, "syncUI");
      this.publish("clear", {
        defaultFn: this._defClearFn
      });
      this.publish("query", {
        defaultFn: this._defQueryFn
      });
      this.publish("results", {
        defaultFn: this._defResultsFn
      })
    },
    destructor: function() {
      this._acBaseEvents && this._acBaseEvents.detach();
      delete this._acBaseEvents;
      delete this._cache;
      delete this._inputNode;
      delete this._rawSource
    },
    clearCache: function() {
      this._cache && (this._cache = {});
      return this
    },
    sendRequest: function(b, c) {
      var e, f = this.get("source");
      b || "" === b ? this._set("query", b) : b = this.get("query") || "";
      f && (c || (c = this.get("requestTemplate")), e = c ? c.call(this, b) : b, f.sendRequest({
        query: b,
        request: e,
        callback: {
          success: a.bind(this._onResponse, this, b)
        }
      }));
      return this
    },
    _bindUIACBase: function() {
      var b = this.get("inputNode"),
        c = b && b.tokenInput;
      c && (b = c.get("inputNode"), this._set("tokenInput", c));
      b ? (this._inputNode = b, this._acBaseEvents = new a.EventHandle([b.on("valueChange", this._onInputValueChange, this), b.on("blur", this._onInputBlur, this), this.after("allowBrowserAutocompleteChange", this._syncBrowserAutocomplete), this.after("sourceTypeChange", this._afterSourceTypeChange), this.after("valueChange", this._afterValueChange)])) : a.error("No inputNode specified.")
    },
    _syncUIACBase: function() {
      this._syncBrowserAutocomplete();
      this.set("value",
      this.get("inputNode").get("value"))
    },
    _createArraySource: function(a) {
      var b = this;
      return {
        type: "array",
        sendRequest: function(c) {
          b[p](a.concat(), c)
        }
      }
    },
    _createFunctionSource: function(a) {
      var b = this;
      return {
        type: "function",
        sendRequest: function(c) {
          function e(a) {
            b[p](a || [], c)
          }
          var f;
          (f = a(c.query, e)) && e(f)
        }
      }
    },
    _createObjectSource: function(a) {
      var b = this;
      return {
        type: "object",
        sendRequest: function(c) {
          var e = c.query;
          b[p](g.owns(a, e) ? a[e] : [], c)
        }
      }
    },
    _functionValidator: function(a) {
      return null === a || l(a)
    },
    _getObjectValue: function(a,
    b) {
      if (a) {
        for (var c = 0, e = b.length; a && c < e; c++) a = a[b[c]];
        return a
      }
    },
    _parseResponse: function(a, b, e) {
      e = {
        data: e,
        query: a,
        results: []
      };
      var f = this.get("resultListLocator"),
        g = [],
        h = b && b.results,
        k, l, m, n;
      h && f && (h = f.call(this, h));
      if (h && h.length) {
        k = this.get("resultFilters");
        n = this.get("resultTextLocator");
        b = 0;
        for (f = h.length; b < f; ++b) l = h[b], m = n ? n.call(this, l) : l.toString(), g.push({
          display: c.html(m),
          raw: l,
          text: m
        });
        b = 0;
        for (f = k.length; b < f; ++b) {
          g = k[b].call(this, a, g.concat());
          if (!g) return;
          if (!g.length) break
        }
        if (g.length) {
          h = this.get("resultFormatter");
          b = this.get("resultHighlighter");
          if ((f = this.get("maxResults")) && 0 < f && g.length > f) g.length = f;
          if (b) {
            k = b.call(this, a, g.concat());
            if (!k) return;
            b = 0;
            for (f = k.length; b < f; ++b) l = g[b], l.highlighted = k[b], l.display = l.highlighted
          }
          if (h) {
            a = h.call(this, a, g.concat());
            if (!a) return;
            b = 0;
            for (f = a.length; b < f; ++b) g[b].display = a[b]
          }
        }
      }
      e.results = g;
      this.fire("results", e)
    },
    _parseValue: function(a) {
      var b = this.get("queryDelimiter");
      b && (a = a.split(b), a = a[a.length - 1]);
      return e.trimLeft(a)
    },
    _setEnableCache: function(a) {
      this._cache = a ? {} : null
    },
    _setLocator: function(a) {
      if (this._functionValidator(a)) return a;
      var b = this;
      a = a.toString().split(".");
      return function(c) {
        return c && b._getObjectValue(c, a)
      }
    },
    _setRequestTemplate: function(a) {
      if (this._functionValidator(a)) return a;
      a = a.toString();
      return function(b) {
        return e.sub(a, {
          query: encodeURIComponent(b)
        })
      }
    },
    _setResultFilters: function(b) {
      var c, f;
      if (null === b) return [];
      c = a.AutoCompleteFilters;
      f = function(a) {
        return l(a) ? a : k(a) && c && l(c[a]) ? c[a] : !1
      };
      return e.isArray(b) ? (b = h.map(b, f), h.every(b, function(a) {
        return !!a
      }) ? b : n) : (b = f(b)) ? [b] : n
    },
    _setResultHighlighter: function(b) {
      var c;
      if (this._functionValidator(b)) return b;
      c = a.AutoCompleteHighlighters;
      return k(b) && c && l(c[b]) ? c[b] : n
    },
    _setSource: function(c) {
      var f = this.get("sourceType") || e.type(c),
        g;
      if (c && l(c.sendRequest) || null === c || "datasource" === f) return this._rawSource = c;
      if (g = b.SOURCE_TYPES[f]) return this._rawSource = c, e.isString(g) ? this[g](c) : g(c);
      a.error("Unsupported source type '" + f + "'. Maybe autocomplete-sources isn't loaded?");
      return n
    },
    _sourceSuccess: function(a,
    b) {
      b.callback.success({
        data: a,
        response: {
          results: a
        }
      })
    },
    _syncBrowserAutocomplete: function() {
      var a = this.get("inputNode");
      "input" === a.get("nodeName").toLowerCase() && a.setAttribute("autocomplete", this.get("allowBrowserAutocomplete") ? "on" : "off")
    },
    _updateValue: function(a) {
      var b = this.get("queryDelimiter"),
        c, f;
      a = e.trimLeft(a);
      b && (c = m(b), f = h.map(m(this.get("value")).split(b), m), b = f.length, 1 < b && (f[b - 1] = a, a = f.join(c + " ")), a = a + c + " ");
      this.set("value", a)
    },
    _afterSourceTypeChange: function(a) {
      this._rawSource && this.set("source",
      this._rawSource)
    },
    _afterValueChange: function(a) {
      var c = a.newVal,
        e = this,
        f = a.src === b.UI_SRC,
        g, h;
      f || e._inputNode.set("value", c);
      g = e.get("minQueryLength");
      h = e._parseValue(c) || "";
      0 <= g && h.length >= g ? f ? (f = e.get("queryDelay"), g = function() {
        e.fire("query", {
          inputValue: c,
          query: h,
          src: a.src
        })
      }, f ? (clearTimeout(e._delay), e._delay = setTimeout(g, f)) : g()) : e._set("query", h) : (clearTimeout(e._delay), e.fire("clear", {
        prevVal: a.prevVal ? e._parseValue(a.prevVal) : null,
        src: a.src
      }))
    },
    _onInputBlur: function(a) {
      a = this.get("queryDelimiter");
      var b, c, f;
      if (a && !this.get("allowTrailingDelimiter")) {
        a = e.trimRight(a);
        f = c = this._inputNode.get("value");
        if (a) for (;
        (c = e.trimRight(c)) && (b = c.length - a.length) && c.lastIndexOf(a) === b;) c = c.substring(0, b);
        else c = e.trimRight(c);
        c !== f && this.set("value", c)
      }
    },
    _onInputValueChange: function(a) {
      a = a.newVal;
      a !== this.get("value") && this.set("value", a, {
        src: b.UI_SRC
      })
    },
    _onResponse: function(a, b) {
      if (a === (this.get("query") || "")) this._parseResponse(a || "", b.response, b.data)
    },
    _defClearFn: function() {
      this._set("query", null);
      this._set("results", [])
    },
    _defQueryFn: function(a) {
      this.sendRequest(a.query)
    },
    _defResultsFn: function(a) {
      this._set("results", a.results)
    }
  };
  b.ATTRS = {
    allowBrowserAutocomplete: {
      value: !1
    },
    allowTrailingDelimiter: {
      value: !1
    },
    enableCache: {
      lazyAdd: !1,
      setter: "_setEnableCache",
      value: !0
    },
    inputNode: {
      setter: a.one,
      writeOnce: "initOnly"
    },
    maxResults: {
      value: 0
    },
    minQueryLength: {
      value: 1
    },
    query: {
      readOnly: !0,
      value: null
    },
    queryDelay: {
      value: 100
    },
    queryDelimiter: {
      value: null
    },
    requestTemplate: {
      setter: "_setRequestTemplate",
      value: null
    },
    resultFilters: {
      setter: "_setResultFilters",
      value: []
    },
    resultFormatter: {
      validator: "_functionValidator",
      value: null
    },
    resultHighlighter: {
      setter: "_setResultHighlighter",
      value: null
    },
    resultListLocator: {
      setter: "_setLocator",
      value: null
    },
    results: {
      readOnly: !0,
      value: []
    },
    resultTextLocator: {
      setter: "_setLocator",
      value: null
    },
    source: {
      setter: "_setSource",
      value: null
    },
    sourceType: {
      value: null
    },
    tokenInput: {
      readOnly: !0
    },
    value: {
      value: ""
    }
  };
  b._buildCfg = {
    aggregates: ["SOURCE_TYPES"],
    statics: ["UI_SRC"]
  };
  b.SOURCE_TYPES = {
    array: "_createArraySource",
    "function": "_createFunctionSource",
    object: "_createObjectSource"
  };
  b.UI_SRC = a.Widget && a.Widget.UI_SRC || "ui";
  a.AutoCompleteBase = b
}, "3.17.2", {
  optional: ["autocomplete-sources"],
  requires: ["array-extras", "base-build", "escape", "event-valuechange", "node-base"]
});
YUI.add("squarespace-commerce-utils", function(a) {
  a.Squarespace.Commerce = {
    currencyCode: function() {
      return a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "storeSettings", "selectedCurrency"]) || "USD"
    },
    currencySymbol: function() {
      return a.Squarespace.CurrencySymbol[this.currencyCode()]
    },
    showCurrencyCode: function() {
      return showCurrencyCodeForCurrency(this.currencyCode())
    },
    showCurrencyCodeForCurrency: function(f) {
      return "USD" !== f && "$" === a.Squarespace.CurrencySymbol[f]
    },
    isExpressCheckout: function() {
      return Static.SQUARESPACE_CONTEXT.websiteSettings.storeSettings.expressCheckout
    },
    measurementStandard: function() {
      return a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "websiteSettings", "storeSettings", "measurementStandard"])
    },
    weightUnit: function() {
      return this.measurementStandard() === a.Squarespace.MeasurementStandard.IMPERIAL ? "lbs" : "kg"
    },
    dimensionUnit: function() {
      return this.measurementStandard() === a.Squarespace.MeasurementStandard.IMPERIAL ? '"' : "cm"
    },
    goToCheckoutPage: function() {
      a.Lang.isValue(a.Cookie.get("CART")) ? window.location = "https://secure." + Static.SQUARESPACE_CONTEXT.appDomain + "/commerce/checkout?cartId=" + a.Cookie.get("CART") : alert("Either your session has expired or you do not have cookies enabled. We cannot continue to checkout.")
    },
    goToDonatePage: function(a) {
      window.location = "https://secure." + Static.SQUARESPACE_CONTEXT.appDomain + "/commerce/donate?donatePageId=" + a
    },
    moneyFormat: function(a) {
      return Number((a / 100).toFixed(2)).formatMoney(2)
    },
    speedStringForShippingRate: function(f, b) {
      if (f !== a.Squarespace.ShippingRateTypes.USPS) throw "Unsupported shipping rateType.";
      if (b === a.Squarespace.USPSServiceTypes.EXPRESS) return "Overnight";
      if (b === a.Squarespace.USPSServiceTypes.PRIORITY) return "1 to 3 days";
      if (b === a.Squarespace.USPSServiceTypes.STANDARD) return "2 to 8 days";
      throw "Unsupported USPS serviceType";
    },
    isValidUSZip: function(a) {
      return /^\d{5}$/.test(a)
    },
    variantFormat: function(a) {
      var b = [];
      a = a.optionValues;
      for (var c = 0; c < a.length; c++) b.push(a[c].value);
      return b.join(" / ")
    },
    moneyString: function(f) {
      return '<span class="sqs-money-native">' + a.Squarespace.Commerce.moneyFormat(f) + "</span>"
    },
    priceString: function(f) {
      var b = this.normalPrice(f);
      switch (f.structuredContent.productType) {
      case a.Squarespace.ProductTypes.PHYSICAL:
      case a.Squarespace.ProductTypes.SERVICE:
        return this.onSale(f) ? this.variedPrices(f) ? "from " + this.moneyString(this.fromPrice(f)) : this.moneyString(this.salePrice(f)) + ' <span class="original-price">' + this.moneyString(b) + "</span>" : this.variedPrices(f) ? "from " + this.moneyString(this.fromPrice(f)) : this.moneyString(b);
      case a.Squarespace.ProductTypes.DIGITAL:
        return this.onSale(f) ? this.moneyString(this.salePrice(f)) + ' <span class="original-price">' + this.moneyString(b) + "</span>" : this.moneyString(b)
      }
    },
    variantsSelectString: function(f) {
      var b = f.structuredContent,
        c = b.variants,
        e = b.variantOptionOrdering;
      if (a.Lang.isUndefined(c) || 1 >= c.length) return "";
      for (var b = [], h = 0; h < e.length; h++) b.push({
        name: e[h],
        values: []
      });
      for (h = 0; h < c.length; h++) {
        var g = c[h],
          l;
        for (l in g.attributes) if (!a.Squarespace.Utils.isSystemVariantOption(l)) {
          for (var e = g.attributes[l], k, m = 0; m < b.length; m++) {
            var n = b[m];
            n.name == l && (k = n)
          }
          for (var m = k.values, n = !1, p = 0; p < m.length; p++) m[p] == e && (n = !0);
          n || m.push(e)
        }
      }
      k = "";
      for (h = 0; h < b.length; h++) {
        l = b[h].name;
        g = b[h].values;
        l = '<div class="variant-option"><div class="variant-option-title">' + l + ': </div><select data-variant-option-name="' + l + '"><option value="none" >Select ' + l + "</option>";
        for (m = 0; m < g.length; m++) e = g[m], l += '<option value="' + a.Squarespace.Escaping.escapeForHtmlTag(e) + '">' + e + "</option>";
        l += "</select></div>";
        k += l
      }
      return '<div class="product-variants sqs-suppress-edit-mode" data-item-id="' + f.id + '" data-variants="' + a.Squarespace.Escaping.escapeForHtmlTag(JSON.stringify(c)) + '">' + k + "</div>"
    },
    quantityInputString: function(f) {
      return f.structuredContent.productType !== a.Squarespace.ProductTypes.PHYSICAL || 1 === a.Squarespace.Commerce.getTotalStockRemaining(f) ? "" : '<div class="product-quantity-input sqs-suppress-edit-mode" data-item-id="' + f.id + '" ><div class="quantity-label">Quantity:</div><input size="4" maxlength="4" value="1"></input></div>'
    },
    getTotalStockRemaining: function(f) {
      f = f.structuredContent;
      if (f.productType === a.Squarespace.ProductTypes.DIGITAL) return Infinity;
      for (var b = 0, c = 0; c < f.variants.length; c++) {
        var e = f.variants[c];
        if (e.unlimited) return Infinity;
        b += e.qtyInStock
      }
      return b
    },
    addToCartBtnString: function(f) {
      var b = f.structuredContent,
        c = a.Lang.isValue(b.additionalFieldsFormId) && a.Lang.isValue(b.additionalFieldsForm),
        e = "sqs-add-to-cart-button sqs-suppress-edit-mode";
      c && (e += " use-form");
      var h = b.useCustomButtonText ? b.customButtonText : "Add To Cart";
      f = 'class="' + e + '" data-item-id="' + f.id + '" data-original-label="' + h + '"';
      c && (f += ' data-form="' + a.Squarespace.Escaping.escapeForHtmlTag(JSON.stringify(b.additionalFieldsForm)) + '"');
      return '<div class="sqs-add-to-cart-button-wrapper"><div ' + f + '><div class="sqs-add-to-cart-button-inner">' + h + "</div></div></div>"
    },
    summaryFormFieldString: function(f) {
      var b, c;
      a.Lang.isObject(f.values) && (c = a.Array.reduce(a.Object.keys(f.values), {}, function(b, c) {
        return a.Object.setValue(b, c, a.Squarespace.Escaping.escapeForHtml(f.values[c]))
      }));
      switch (f.type) {
      case "name":
        b = c.First + " " + c.Last;
        break;
      case "phone":
        var e = c.Country;
        b = "";
        e && "" !== e && (b += "+" + e + " ");
        b += c.Areacode + "-" + c.Prefix + "-" + c.Line;
        break;
      case "likert":
        e = function(a) {
          var b;
          switch (a) {
          case "-2":
            b = "Strongly Disagree";
            break;
          case "-1":
            b = "Disagree";
            break;
          case "0":
            b = "Neutral";
            break;
          case "1":
            b = "Agree";
            break;
          case "2":
            b = "Strongly Agree"
          }
          return b
        };
        b = '<div style="padding-left:5px;">';
        for (var h in c) b += '<div><span style="font-weight:bold;">' + h + ":</span> " + e(c[h]) + "</div>";
        b += "</div>";
        break;
      case "address":
        b = '<div style="padding-left:5px;"><div>' + c.Line1 + "</div>";
        (e = c.Line2) && "" !== e && (b += "<div>" + e + "</div>");
        b += "<div>" + c.City + ", " + c.State + " " + c.Zip + " " + c.Country + "</div></div>";
        break;
      case "date":
        b = c.Month + "/" + c.Day + "/" + c.Year;
        break;
      case "time":
        b = (c.Hour || "00") + ":" + (c.Minute || "00") + ":" + (c.Second || "00") + " " + c.Ampm;
        break;
      case "checkbox":
        b = f.value;
        !a.Lang.isValue(c) && a.Lang.isValue(b) ? c = [b] : a.Lang.isValue(c) && (c = a.Object.values(c));
        b = c.join(", ");
        break;
      default:
        b = a.Squarespace.Escaping.escapeForHtml(f.value)
      }
      "" === b && (b = "N/A");
      return '<div style="margin-top:3px;"><span style="font-weight:bold;">' + f.rawTitle + ":</span> " + b + "</div>"
    },
    hasVariants: function(f) {
      f = f.structuredContent;
      return f.productType !== a.Squarespace.ProductTypes.DIGITAL && 1 <= f.variants.length
    },
    variedPrices: function(f) {
      f = f.structuredContent;
      switch (f.productType) {
      case a.Squarespace.ProductTypes.PHYSICAL:
      case a.Squarespace.ProductTypes.SERVICE:
        f = f.variants;
        if (1 >= f.length) return !1;
        for (var b = f[0], c = 1; c < f.length; c++) {
          var e = f[c];
          if (e.onSale != b.onSale || b.onSale && e.salePrice != b.salePrice || e.price != b.price) return !0
        }
        return !1;
      case a.Squarespace.ProductTypes.DIGITAL:
        return !1
      }
    },
    onSale: function(f) {
      f = f.structuredContent;
      switch (f.productType) {
      case a.Squarespace.ProductTypes.PHYSICAL:
      case a.Squarespace.ProductTypes.SERVICE:
        f = f.variants;
        for (var b = !1, c = 0; c < f.length; c++) if (f[c].onSale) {
          b = !0;
          break
        }
        return b;
      case a.Squarespace.ProductTypes.DIGITAL:
        return f.onSale
      }
    },
    soldOut: function(f) {
      f = f.structuredContent;
      switch (f.productType) {
      case a.Squarespace.ProductTypes.PHYSICAL:
      case a.Squarespace.ProductTypes.SERVICE:
        f = f.variants;
        for (var b = !0, c = 0; c < f.length; c++) {
          var e = f[c];
          if (e.unlimited || 0 < e.qtyInStock) {
            b = !1;
            break
          }
        }
        return b;
      case a.Squarespace.ProductTypes.DIGITAL:
        return !1
      }
    },
    normalPrice: function(f) {
      f = f.structuredContent;
      switch (f.productType) {
      case a.Squarespace.ProductTypes.PHYSICAL:
      case a.Squarespace.ProductTypes.SERVICE:
        f = f.variants;
        if (0 === f.length) return 0;
        for (var b = f[0].price, c = 1; c < f.length; c++) {
          var e = f[c].price;
          e > b && (b = e)
        }
        return b;
      case a.Squarespace.ProductTypes.DIGITAL:
        return a.Lang.isUndefined(f.priceCents) ? 0 : f.priceCents
      }
    },
    salePrice: function(f) {
      f = f.structuredContent;
      switch (f.productType) {
      case a.Squarespace.ProductTypes.PHYSICAL:
      case a.Squarespace.ProductTypes.SERVICE:
        f = f.variants;
        if (0 === f.length) return 0;
        for (var b = null, c = 0; c < f.length; c++) {
          var e = f[c],
            h = e.salePrice;
          if (e.onSale && (null === b || e.salePrice < b)) b = h
        }
        return b;
      case a.Squarespace.ProductTypes.DIGITAL:
        return a.Lang.isUndefined(f.salePriceCents) ? 0 : f.salePriceCents
      }
    },
    fromPrice: function(f) {
      f = f.structuredContent;
      switch (f.productType) {
      case a.Squarespace.ProductTypes.PHYSICAL:
      case a.Squarespace.ProductTypes.SERVICE:
        f = f.variants;
        if (0 === f.length) return 0;
        for (var b = f[0], b = b.onSale ? b.salePrice : b.price, c = 1; c < f.length; c++) {
          var e = f[c],
            e = e.onSale ? e.salePrice : e.price;
          e < b && (b = e)
        }
        return b;
      case a.Squarespace.ProductTypes.DIGITAL:
        return a.Lang.isUndefined(f.priceCents) ? 0 : f.priceCents
      }
    },
    couponDescriptor: function(f) {
      var b, c = this._clone(f, {}),
        c = this.normalizeAndCleanCouponData(c),
        e = {
          minPrice: this.moneyString(c.minPrice),
          productTitle: c.productTitle || "?",
          discountAmt: c.discountAmt || "?"
        };
      switch (c.type) {
      case a.Squarespace.CommerceCouponType.ALL_ORDERS:
        f = function(a) {
          return "Save " + a.discountAmt + " on any order."
        };
        b = function() {
          return "Free shipping on any order."
        };
        break;
      case a.Squarespace.CommerceCouponType.ORDERS_OVER:
        f = function(a) {
          return "Save " + a.discountAmt + " on any order over " + a.minPrice + "."
        };
        b = function(a) {
          return "Free shipping on any order over " + a.minPrice + "."
        };
        break;
      case a.Squarespace.CommerceCouponType.CATEGORIES:
        f = function(a) {
          return "Save " + a.discountAmt + " on select products."
        };
        break;
      case a.Squarespace.CommerceCouponType.SINGLE_PRODUCT:
        f = function(a) {
          return "Save " + a.discountAmt + " on  " + a.productTitle + " ."
        };
        break;
      default:
        throw "Unsupported coupon type";
      }
      switch (c.discountType) {
      case a.Squarespace.CommerceDiscountType.FLAT:
        e.discountAmt = this.moneyString(c.discountAmt);
        break;
      case a.Squarespace.CommerceDiscountType.PERCENTAGE:
        e.discountAmt += "%";
        break;
      case a.Squarespace.CommerceDiscountType.FREE_SHIPPING:
        return b(e)
      }
      return f(e)
    },
    normalizeAndCleanCouponData: function(f) {
      f.discountType === a.Squarespace.CommerceDiscountType.FLAT ? f.flatDiscount = f.discountAmt : f.discountType === a.Squarespace.CommerceDiscountType.PERCENTAGE && (f.percentDiscount = f.discountAmt);
      return f
    },
    capitalizeFirst: function(f) {
      f = f.toLowerCase();
      f = f.split(/\s+/);
      return a.Array.map(f, function(a) {
        return a.charAt(0).toUpperCase() + a.substr(1)
      }).join(" ")
    },
    generateSKU: function() {
      for (var a = "", b = 0; 7 > b; ++b) var c = Math.floor(10 * Math.random()),
        a = a + "0123456789".charAt(c);
      return "SQ" + a
    },
    addProductToWebsite: function(f) {
      var b = a.Squarespace.Commerce._createCollectionSelectDialog();
      if (a.Squarespace.Utils.isDamaskEnabled()) {
        var c = 0;
        a.Squarespace.ContentCollectionCache.filter(function(b) {
          b.get("type") == a.Squarespace.CollectionTypes.PRODUCT && c++
        });
        if (0 === c) {
          (new a.Squarespace.Widgets.Confirmation({
            position: a.Squarespace.Widgets.Confirmation.ANCHOR.CENTER,
            "strings.title": "No Product Pages",
            "strings.message": "Before you can add products, you need to first make a Product Page to hold them.",
            "strings.confirm": "Go to Pages"
          })).after("confirm", function() {
            a.Squarespace.Singletons.Location.go("/pages")
          });
          return
        }
      }
      b.after("datachange", function() {
        b.close();
        var c = b.getData().collectionId;
        a.Squarespace.ContentCollectionCache.getCollectionById(c, function(b) {
          a.Squarespace.Commerce._addProductToCollection(b,
          f)
        })
      });
      b.show()
    },
    getLabelForWorkflowState: function(f) {
      switch (f) {
      case a.Squarespace.WorkflowStates.PUBLISHED:
        return "Available";
      case a.Squarespace.WorkflowStates.SCHEDULED:
        return "Scheduled";
      case a.Squarespace.WorkflowStates.DRAFT:
        return "Not Listed";
      default:
        return "Unsupported"
      }
    },
    _createCollectionSelectDialog: function() {
      return new a.Squarespace.EditingDialog({
        overlay: 0.5,
        width: 500,
        height: 300,
        scroll: !0,
        style: "flyout",
        closeOthers: !1,
        buttons: [{
          type: "cancel",
          title: "Cancel"
        }],
        discardChangesConfirmation: !1,
        tabs: [{
          title: "Add Product",
          icon: "/universal/images-v6/icons/icon-plus-16-light.png",
          scroll: !0,
          fields: [{
            ctor: a.Squarespace.DialogFields.Description,
            config: {
              title: "Select a Page",
              text: "Select a page to put your new product into."
            }
          }, {
            ctor: a.Squarespace.DialogFields.ContentIdSelector,
            config: {
              name: "collectionId",
              mode: "page",
              showCollectionTagsAndCategories: !1,
              showGroupTitles: !1,
              emptyMessage: "Before you can add products, you need to create a Product Page to hold them. ",
              className: "inventory-collection-picker",
              collectionFilter: {
                collectionType: a.Squarespace.CollectionTypes.PRODUCT,
                ordering: a.Squarespace.CollectionOrdering.USER,
                folder: !1
              }
            }
          }]
        }]
      })
    },
    _addProductToCollection: function(f, b) {
      var c = new a.Squarespace.ContentItemTypes.Selector({
        model: a.Squarespace.Singletons.Template.get("collectionConfigs.products"),
        onContentItemTypeSelected: function(c, h) {
          var g = new a.Squarespace.Models.ContentItem({
            collectionId: f.get("id"),
            displayIndex: f.get("nextDisplayIndex"),
            recordType: a.Squarespace.RecordType.STORE_ITEM,
            structuredContent: c.structuredContent
          });
          a.Squarespace.Utils.isDamaskEnabled() && f.items.add(g);
          var l = new(a.Squarespace.ContentItemEditorFactory.getEditor(g))({
            model: g
          });
          g.after("save", function(c) {
            c = c.options.headers;
            if (!a.Lang.isValue(c) || !c["X-AutoSave"]) f.items.add(g), b && b.add(g)
          });
          a.Lang.isFunction(h) && h();
          l.show()
        }
      });
      f.load(function() {
        (new a.Promise(function(b) {
          a.Squarespace.Models.Inventory.getViolation(b)
        })).then(function(b) {
          if (b.isAtOrOverProductLimit) if (b.blockUserAction)(new a.Squarespace.Widgets.Confirmation({
            "strings.cancel": "Not Now",
            "strings.confirm": "Go to Upgrade",
            "strings.title": "Product Limit Reached",
            "strings.message": b.message
          })).on("confirm", CONFIG_PANEL.goToUpgrade);
          else(new a.Squarespace.Widgets.Confirmation({
            "strings.cancel": "Not Now",
            "strings.confirm": "Continue",
            "strings.title": "Warning: Product Limit",
            "strings.message": b.message
          })).on("confirm", c.show, selector);
          else f.get("itemCountExceeded") ? (b = "This page has a maximum size of " + f.get("maxItemCount") + " items. We recommend adding an additional page to hold your items.",
          new a.Squarespace.Widgets.Alert({
            "strings.title": "Page Max Size Reached",
            "strings.message": b
          })) : c.show()
        })
      })
    },
    _clone: function(a, b) {
      var c, e;
      for (c in a) if (a.hasOwnProperty(c)) if ((e = a[c]) && "object" === typeof e && !e.node) switch (Object.prototype.toString.call(e)) {
      case "[object Object]":
        b[c] = this._clone(e, "undefined" !== typeof b[c] && "[object Object]" === Object.prototype.toString.call(b[c]) ? b[c] : {});
        break;
      case "[object Array]":
        b[c] = this._clone(e, "undefined" !== typeof b[c] && "[object Array]" === Object.prototype.toString.call(b[c]) ? b[c] : []);
        break;
      default:
        b[c] = e
      } else b[c] = e;
      return b
    }
  }
}, "1.0", {
  requires: ["node", "cookie", "squarespace-singletons-location", "squarespace-enum"]
});
YUI.add("squarespace-plugin-lightbox2", function(a) {
  a.namespace("Squarespace.Plugin");
  a.Squarespace.Lightbox2Plug = a.Squarespace.Plugin.Lightbox2 = a.Base.create("Lightbox2Plug", a.Plugin.Base, [a.Squarespace.GismoBase], {
    initializer: function() {
      this._event(this.get("host").on("click", function(f) {
        f.preventDefault();
        var b = this;
        a.use("squarespace-ui-base", function() {
          (new a.Squarespace.Lightbox2(a.merge({
            content: a.Node.create(b.get("host").getAttribute("data-lightbox"))
          }, b.get("lightboxOptions")))).render()
        })
      },
      this))
    },
    destructor: function() {
      var f = this.get("lightboxOptions.content");
      f instanceof a.Node && f.destroy(!0)
    }
  }, {
    NS: "lightbox2plugin",
    ATTRS: {
      lightboxOptions: {}
    }
  })
}, "1.0", {
  requires: ["base", "node", "plugin", "squarespace-widgets-lightbox2"]
});
YUI.add("squarespace-mixins-event-list", function(a) {
  a.namespace("Squarespace.Mixins");
  a.Squarespace.Mixins.EventList = a.Base.create("EventList", a.Base, [], {
    initializer: function() {
      a.Do.before(function(f) {
        var b = a.Object.hasKey(f, "upcoming"),
          c = a.Object.hasKey(f, "past");
        if (b && c) return new a.Do.AlterArgs("Parsing calendar-specific response", [[].concat(f.upcoming).concat(f.past)])
      }, this, "parse", this)
    },
    getPastEvents: function() {
      var f = new Date;
      return this.filter(function(b) {
        b = b.get("structuredContent");
        if (null === b) return !1;
        b = a.DataType.Date.parse(b.get("endDate"));
        return a.DataType.Date.isGreater(f, b)
      })
    },
    getUpcomingEvents: function() {
      var f = new Date;
      return this.filter(function(b) {
        b = b.get("structuredContent");
        if (null === b) return !1;
        b = a.DataType.Date.parse(b.get("endDate"));
        return !a.DataType.Date.isGreater(f, b)
      })
    }
  })
}, "1.0", {
  requires: ["base", "datatype-date", "event-custom", "json"]
});
YUI.add("datasource-jsonschema", function(a, f) {
  var b = function() {
    b.superclass.constructor.apply(this, arguments)
  };
  a.mix(b, {
    NS: "schema",
    NAME: "dataSourceJSONSchema",
    ATTRS: {
      schema: {}
    }
  });
  a.extend(b, a.Plugin.Base, {
    initializer: function(a) {
      this.doBefore("_defDataFn", this._beforeDefDataFn)
    },
    _beforeDefDataFn: function(b) {
      var e = b.data && (b.data.responseText || b.data),
        f = this.get("schema");
      b = b.details[0];
      b.response = a.DataSchema.JSON.apply.call(this, f, e) || {
        meta: {},
        results: e
      };
      this.get("host").fire("response", b);
      return new a.Do.Halt("DataSourceJSONSchema plugin halted _defDataFn")
    }
  });
  a.namespace("Plugin").DataSourceJSONSchema = b
}, "3.17.2", {
  requires: ["datasource-local", "plugin", "dataschema-json"]
});
YUI.add("squarespace-models-template-installation", function(a) {
  var f = a.namespace("Squarespace.Models").TemplateInstallation = a.Base.create("TemplateInstallation", a.Model, [a.Squarespace.ModelSync.REST], {
    url: "/api/template-installations/{id}",
    root: "/api/template-installations",
    getThumbnailAssetUrl: function(b) {
      var c = this.get("templateWebsiteTaxonomy.thumbnailAssetUrl");
      return c = a.Lang.isValue(c) ? c + ("?format=" + b) : "/universal/images-v6/configuration/no-image.png"
    },
    serialize: function() {
      var b = this.toJSON();
      delete b.templateWebsite;
      return a.JSON.stringify(b)
    }
  }, {
    ATTRS: {
      templateId: {
        validator: a.Lang.isString
      },
      displayName: {
        valueFn: function() {
          var b = this.get("templateWebsiteTaxonomy.displayName");
          a.Lang.isValue(b) || (b = this.get("templateWebsite.siteTitle"));
          return b
        }
      },
      isPreviewTemplate: {
        getter: function() {
          a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "id"]);
          return a.Squarespace.Singletons.AuthenticatedMemberWebsiteSettings.get("previewInstallationId") == this.get("id")
        }
      },
      isActiveTemplate: {
        getter: function() {
          var b = Static.SQUARESPACE_CONTEXT.website.installationId;
          if (a.Lang.isValue(b)) return this.get("id") == b;
          b = Static.SQUARESPACE_CONTEXT.website.templateWebsiteId;
          return a.Lang.isValue(b) ? this.get("sourceWebsiteId") == b : this.get("templateId") == Static.SQUARESPACE_CONTEXT.website.templateId
        }
      }
    },
    createWithTemplateWebsiteIdentifier: function(b) {
      return new a.Promise(function(c, g) {
        a.Data.post({
          url: "/api/template-installations/addTemplate",
          data: {
            templateWebsiteIdentifier: b
          },
          success: function(a) {
            c(new f(a))
          },
          failure: function(a) {
            g(a)
          }
        })
      })
    }
  }),
    b = a.Base.create("TemplateInstallationList", a.ModelList, [a.ModelSync.REST], {
      model: f,
      url: "/api/template-installations",
      initializer: function() {},
      setPreviewInstallation: function(b) {
        return new a.Promise(a.bind(function(c, f) {
          var l = this.get("memberWebsiteSettings"),
            k = l.get("previewInstallationId");
          l.set("previewInstallationId", b ? b.get("id") : null);
          l.save(a.bind(function(m) {
            m ? (l.set("previewInstallationId", k), f(m)) : a.Squarespace.Singletons.Template.set("id", b ? b.get("templateId") : this.getActiveInstallation().get("templateId")).load(c)
          },
          this))
        }, this))
      },
      setActiveInstallation: function(b) {
        return new a.Promise(a.bind(function(c, f) {
          a.Data.post({
            url: "/api/template/SetTemplate",
            data: {
              installationId: b.get("id")
            },
            success: function() {
              this.get("memberWebsiteSettings").set("previewInstallationId", null);
              Static.SQUARESPACE_CONTEXT.website.templateId = b.get("templateId");
              Static.SQUARESPACE_CONTEXT.website.installationId = b.get("id");
              a.Squarespace.Singletons.Template.set("id", b.get("templateId")).load(c)
            }
          }, this)
        }, this))
      },
      sort: function() {
        var b = this.toArray(),
          c = a.Array.find(b, function(a) {
            return a.get("isPreviewTemplate")
          });
        c && (b.remove(c), b.unshift(c));
        if (c = a.Array.find(b, function(a) {
          return a.get("isActiveTemplate")
        })) b.remove(c), b.unshift(c);
        this._defResetFn({
          models: b,
          src: "sort"
        });
        return this
      },
      getActiveInstallation: function() {
        var b = Static.SQUARESPACE_CONTEXT.website.templateId;
        return a.Array.find(this.toArray(), function(a) {
          return a.get("templateId") == b
        })
      },
      getPreviewInstallation: function() {
        a.Object.getValue(Static, ["SQUARESPACE_CONTEXT", "website", "id"]);
        var b = this.get("memberWebsiteSettings").get("previewInstallationId");
        return this.getById(b)
      }
    }, {
      ATTRS: {
        memberWebsiteSettings: {
          valueFn: function() {
            return a.Squarespace.Singletons.AuthenticatedMemberWebsiteSettings
          }
        }
      }
    }),
    c = [];
  Static.SQUARESPACE_CONTEXT && (c.push(new f(Static.SQUARESPACE_CONTEXT.templateInstallation)), Static.SQUARESPACE_CONTEXT.previewTemplateInstallation && c.push(new f(Static.SQUARESPACE_CONTEXT.previewTemplateInstallation)));
  a.namespace("Squarespace.Singletons").TemplateInstallationListCache = new b({
    items: c
  })
}, "1.0", {
  requires: ["base", "model", "promise", "squarespace-model-sync-rest", "squarespace-models-member-website-settings"]
});
YUI.add("squarespace-form-submit", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.FormSubmit = a.Base.create("FormSubmit", a.Base, [], {
    initializer: function() {
      this._submitButton = this.get("formNode").one("[type=submit]");
      this._submitButtonText = this._submitButton.get("value");
      var a = this._getMultiFieldVal;
      this._typeGetterMap = {
        date: a,
        name: a,
        time: a,
        address: a,
        phone: this._getPhoneFieldVal,
        radio: this._getRadioFieldVal,
        checkbox: this._getCheckFieldVal,
        select: this._getSelectVal,
        likert: this._getLikertVal,
        hidden: this._getHiddenVal
      };
      this._defaultGetter = this._getSingleFieldVal
    },
    submit: function(a, b) {
      var c = this.get("formNode");
      try {
        c.hasClass("submitting") || (this._clearErrors(), this._lock(), this._saveFormSubmission(a, b))
      } catch (e) {
        var h = this._createErrorNode("Error processing form submission. Please reload and try again.");
        c.prepend(h);
        this._unlock()
      } finally {
        return !1
      }
    },
    _createErrorNode: function(f) {
      return a.Node.create('<div class="field-error">' + f + "</div>")
    },
    _clearErrors: function() {
      var a = this.get("formNode");
      a.all(".field-error").each(function(a) {
        a.remove()
      });
      a.all(".field-item.error").each(function(a) {
        a.removeClass("error")
      })
    },
    _lock: function() {
      this.get("formNode").addClass("submitting");
      this._submitButton.set("value", "Submitting...")
    },
    _unlock: function() {
      this.get("formNode").removeClass("submitting");
      this._submitButton.set("value", this._submitButtonText)
    },
    _saveFormSubmission: function(f, b) {
      a.Data.post({
        url: "/api/form/FormSubmissionKey",
        success: function(c) {
          a.Lang.isString(c.key) ? a.Data.post({
            url: "/api/form/SaveFormSubmission",
            data: {
              key: c.key,
              formId: f,
              collectionId: b,
              form: a.JSON.stringify(this._getData())
            },
            success: this._submitSuccess,
            failure: this._submitFailure
          }, this) : this._submitFailure(c)
        },
        failure: this._submitFailure
      }, this)
    },
    _submitSuccess: function() {
      this._unlock();
      this._renderSuccess()
    },
    _submitFailure: function(f) {
      var b = this.get("formNode");
      this._unlock();
      if (f.notFound) f = this._createErrorNode("This form has not been configured yet."), b.prepend(f);
      else if (f.demoContent) b.prepend(this._createErrorNode(f.error));
      else {
        var c = a.Object.hasKey(f, "error"),
          e = a.Object.hasKey(f, "errors");
        if (c && e) {
          var h = !1,
            g = f.errors;
          a.Object.each(g, function(c, e) {
            if ("form" === e || "backend" === e) {
              var f = this._createErrorNode(c);
              b.prepend(f);
              b.append(f)
            } else a.Object.hasKey(g, e) && (f = b.one("#" + e), f.one(".title").insert(this._createErrorNode(c), "before"), f.addClass("error"), h = !0)
          }, this);
          h && (c = a.Lang.sub("Your form has encountered a problem. Please scroll {direction} to review.", {
            direction: "down"
          }), f = a.Lang.sub("Your form has encountered a problem. Please scroll {direction} to review.", {
            direction: "up"
          }),
          c = this._createErrorNode(c), f = this._createErrorNode(f), b.prepend(c), b.append(f))
        }
      }
    },
    _renderSuccess: function() {
      var f = this.get("formNode"),
        b = f.one(".form-submission-text").cloneNode(!0),
        c = f.one(".form-submission-html").cloneNode(!0),
        e = c.getData("submission-html");
      c.setHTML(e);
      c.removeClass("hidden");
      b.removeClass("hidden");
      f.empty();
      f.append(b).append(c);
      b = a.config.win;
      f = f.getY();
      f < b.scrollY && b.scrollTo(0, f - 25);
      c.all("script").each(function(b) {
        if (b.hasAttribute("src")) {
          var c = document.createElement("script"),
            f = b.getDOMNode().attributes;
          a.Array.each(f, function(a) {
            c[a.name] = a.value
          });
          b.replace(c)
        } else try {
          eval(b.getHTML())
        } catch (k) {
          console.warn("The following form submission HTML has caused a script error: " + e)
        }
      }, this)
    },
    _getData: function() {
      var a = {};
      this.get("formNode").all(".form-item").each(function(b) {
        a[b.get("id")] = this._getFieldData(b)
      }, this);
      return a
    },
    _getFieldData: function(f) {
      var b = this._typeGetterMap,
        c = f.get("className").split(/\s/),
        e, h = !1;
      a.Array.each(c, function(c) {
        a.Object.hasKey(b, c) ? e = b[c] : "section" === c && (h = !0)
      }, this);
      if (!h) return e || (e = this._defaultGetter), e.call(this, f)
    },
    _getSingleFieldVal: function(a) {
      return (a = a.one(".field-element")) ? a.get("value") : null
    },
    _getMultiFieldVal: function(a) {
      var b = [];
      a.all(".field-element").each(function(a) {
        b.push(a.get("value"))
      });
      return b
    },
    _getPhoneFieldVal: function(a) {
      (a = this._getMultiFieldVal(a)) && 3 === a.length && a.unshift("");
      return a
    },
    _getRadioFieldVal: function(a) {
      return this._getCheckFieldVal(a)[0]
    },
    _getCheckFieldVal: function(a) {
      var b = [];
      a.all("input").each(function(a) {
        a.get("checked") && b.push(a.get("value"))
      }, this);
      return b
    },
    _getSelectVal: function(a) {
      return a.one("select").get("value")
    },
    _getLikertVal: function(f) {
      var b = {};
      f.all(".item").each(function(c) {
        var e;
        c.all("input").each(function(a) {
          a.get("checked") && (e = a.get("value"))
        });
        a.Lang.isValue(e) && (b[c.getAttribute("data-question")] = e)
      });
      return b
    },
    _getHiddenVal: function(f) {
      a.Lang.isValue(this._query) || (this._query = a.QueryString.parse(window.location.search.replace(/^\?/, "")));
      var b = f.get("name");
      return (a.Object.hasKey(this._query,
      b) ? this._query[b] : f.get("value")).toString()
    }
  }, {
    ATTRS: {
      formNode: {
        value: null,
        validator: a.Squarespace.AttrValidators.isNullOrInstanceOf(a.Node),
        writeOnce: "initOnly"
      }
    }
  })
}, "1.0", {
  requires: "base json node querystring-parse squarespace-util squarespace-attr-validators".split(" ")
});
YUI.add("queue-promote", function(a, f) {
  a.mix(a.Queue.prototype, {
    indexOf: function(b) {
      return a.Array.indexOf(this._q, b)
    },
    promote: function(a) {
      a = this.indexOf(a); - 1 < a && this._q.unshift(this._q.splice(a, 1)[0])
    },
    remove: function(a) {
      a = this.indexOf(a); - 1 < a && this._q.splice(a, 1)
    }
  })
}, "3.17.2", {
  requires: ["yui-base"]
});
YUI.add("squarespace-models-form-pre-submit-topic", function(a) {
  a.namespace("Squarespace.Models");
  var f = a.Squarespace.Models.FormPreSubmitTopic = a.Base.create("FormPreSubmitTopic", a.Model, [], {
    initializer: function() {
      this.get("relatedContentItems").after(["add", "remove", "reset"], this._updateRelatedContent, this)
    },
    toJSON: function() {
      var a = f.superclass.toJSON.call(this);
      a.subTopics = a.subTopics.toJSON();
      delete a.relatedContentItems;
      return a
    },
    _updateRelatedContent: function() {
      var a = this.get("relatedContentItems").map(function(a) {
        return a.get("id")
      });
      this.set("relatedContentItemIds", a)
    }
  }, {
    ATTRS: {
      title: {
        value: "New Topic",
        validator: a.Squarespace.AttrValidators.isString
      },
      label: {
        value: "",
        validator: a.Squarespace.AttrValidators.isString
      },
      subTopics: {
        valueFn: function() {
          return new a.Squarespace.Models.FormPreSubmitTopicList
        },
        setter: function(b) {
          if (!a.Lang.isValue(b) || b instanceof a.Squarespace.Models.FormPreSubmitTopicList) return b;
          if (a.Lang.isArray(b)) return new a.Squarespace.Models.FormPreSubmitTopicList({
            items: b
          });
          console.error("FormPreSubmitTopic: Invalid subTopics. Must be an array or aFormPreSubmitTopicList.")
        }
      },
      relatedContentItemIds: {
        value: [],
        validator: a.Squarespace.AttrValidators.isNullOrArray
      },
      relatedContentItems: {
        valueFn: function() {
          return new a.ModelList({
            model: a.Squarespace.Models.ContentItem
          })
        },
        setter: function(b) {
          if (!a.Lang.isValue(b) || b instanceof a.ModelList) return b;
          if (a.Lang.isArray(b)) return new a.ModelList({
            model: a.Squarespace.Models.ContentItem,
            items: b
          });
          console.error("FormPreSubmitTopic: Invalid relatedContentItems. Must be an array or a ContentItemList.")
        }
      }
    }
  });
  a.Squarespace.Models.FormPreSubmitTopicList = a.Base.create("FormPreSubmitTopicList", a.ModelList, [], {
    model: a.Squarespace.Models.FormPreSubmitTopic
  })
}, "1.0", {
  requires: ["base", "model", "model-list", "squarespace-attr-validators", "squarespace-models-content-item"]
});
YUI.add("squarespace-search", function(a) {
  a.namespace("Squarespace");
  a.Squarespace.Widgets.SearchContainer = a.Base.create("searchContainer", a.Squarespace.SSWidget, [], {
    bindUI: function() {
      this.get("searchInputBox").after("queryStringChange", this._onSearchInputBoxChange, this);
      this.after("searchQueryChange", this._onSearchQueryChange, this);
      this.get("censusEnabled") && this.after("searchQueryChange", this._trackOnQueryChange, this, this.get("collectionFilter"));
      this.after("resultItemsChange", this._onSearchResultChange,
      this);
      this.after("loadingChange", this.syncUI, this);
      this.get("contentBox").on("keyup", this._onKeyup, this)
    },
    _onSearchQueryChange: function() {
      this._clearResult();
      this.set("loading", !0);
      this._search()
    },
    _onSearchFilterChange: function() {
      this._clearResult();
      this.set("loading", !0);
      this._search()
    },
    _onSearchResultChange: function() {
      this.syncUI()
    },
    _clearResult: function() {
      this.set("resultItems", null);
      this.set("page", 0)
    },
    _onSearchInputBoxChange: function(a) {
      this.set("searchQuery", a.newVal)
    },
    _onKeyup: function(a) {
      38 === a.keyCode && !this.get("searchInputBox").isAutocompleteEnabled() ? this._moveSelectedResultItem(-1) : 40 === a.keyCode && !this.get("searchInputBox").isAutocompleteEnabled() ? this._moveSelectedResultItem(1) : 13 === a.keyCode && this._onEnter()
    },
    _moveSelectedResultItem: function(f) {
      var b = this.get("contentBox").one(".active");
      if (a.Lang.isValue(b)) {
        b.removeClass("active");
        var c = this.get("contentBox").all(".sqs-search-ui-item"),
          b = c.indexOf(b);
        f = c.item(b + f);
        a.Lang.isValue(f) && (f.addClass("active"), f.scrollIntoView())
      } else 0 < f && (f = this.get("contentBox").one(".sqs-search-ui-item"), a.Lang.isValue(f) && (f.addClass("active"), f.scrollIntoView()))
    },
    _onEnter: function() {
      var f = this.get("contentBox").one(".active");
      !a.Lang.isValue(f) && !this.get("searchInputBox").isAutocompleteEnabled() && this._redirect(this._getSearchItemUrl(f))
    },
    _getSearchItemUrl: function(f) {
      if (a.Lang.isValue(f) && (f = f.getAttribute("itemid"), a.Lang.isValue(f))) return this._getSearchResultObject(f).itemUrl
    },
    _redirect: function(f) {
      a.Lang.isValue(f) && (document.location.href = f)
    },
    _search: function() {
      var f = this.get("searchQuery"),
        b = this.get("searchFilter"),
        c = this.get("page");
      if (0 !== f.length) {
        var e = {
          q: f,
          p: c
        };
        a.Lang.isValue(b) && a.Array.each(b, function(a) {
          e["f_" + a.name] = a.value
        });
        a.Data.get({
          url: "/api/search/GeneralSearch",
          data: e,
          success: this._searchResultCallback,
          error: this._searchResultCallbackError
        }, this)
      }
    },
    _searchResultCallback: function(a) {
      this.set("loading", !1);
      this.set("facets", a.facets);
      this.set("totalCount", a.totalCount);
      var b = this.get("resultItems"),
        c = this.get("page");
      a.serviceError ? console.error("Search error: " + a.serviceError) : 0 < c && b ? (b = b.concat(a.items), this.set("resultItems", b)) : this.set("resultItems", a.items)
    },
    _searchResultCallbackError: function() {
      this.set("loading", !1);
      console.error("error data", data);
      this._errorNotice = this.get("strings.errorNotice")
    },
    _getSearchDataModel: function() {
      var f = this.get("resultItems"),
        b = {
          loading: this.get("loading"),
          error: this._errorNotice,
          items: f
        };
      a.Lang.isValue(f) ? 0 === f.length && (b.notice = this.get("strings.emptyNotice")) : b.notice = this.get("strings.instruction");
      return b
    },
    _getSearchResultObject: function(f) {
      return a.Array.find(this.get("resultItems"), function(a) {
        return a.id === f
      })
    },
    _nextPage: function() {
      var a = this.get("page") + 1;
      this.set("page", a);
      this._search()
    },
    _trackOnQueryChange: function(f, b) {
      this._trackSearchHit(f.newVal, b, a.config.doc.location.href)
    },
    _trackSearchHit: function(f, b, c) {
      if (a.Lang.isValue(f) && "" !== f) {
        var e = [];
        a.Lang.isValue(b) && "" !== b && e.push(b);
        a.Squarespace.Census.track(a.Squarespace.Events.VIEW, {
          recordType: a.Squarespace.RecordType.SITE_SEARCH,
          query: f,
          filters: {
            collectionIds: e
          },
          referrer: c
        })
      }
    }
  }, {
    CSS_PREFIX: "sqs-search-container",
    ATTRS: {
      strings: {
        value: {
          errorNotice: "Something wrong happened. Please reload.",
          emptyNotice: "Your search did not match any documents.",
          instruction: "Begin typing your search above and press return to search."
        }
      },
      searchInputBox: {
        value: null
      },
      searchFilter: {
        value: [],
        validator: a.Squarespace.AttrValidators.isArray
      },
      page: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      searchQuery: {
        value: "",
        validator: a.Squarespace.AttrValidators.isString
      },
      resultItems: {
        validator: a.Squarespace.AttrValidators.isNullOrArray
      },
      totalCount: {
        value: 0,
        validator: a.Squarespace.AttrValidators.isNumber
      },
      facets: {
        value: [],
        validator: a.Squarespace.AttrValidators.isArray
      },
      loading: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      },
      censusEnabled: {
        value: !0,
        validator: a.Squarespace.AttrValidators.isBoolean
      }
    }
  });
  a.Squarespace.Widgets.SearchInputBox = a.Base.create("searchInputBox", a.Widget, [], {
    renderUI: function() {
      var a = this._createSearchNode();
      this.get("contentBox").append(a)
    },
    bindUI: function() {
      this._enableAutoComplete();
      this.get("boundingBox").one("form").on("submit", this.onSubmit, this);
      this.get("boundingBox").one("form").on("keydown", this._onKeyDown, this);
      a.Squarespace.Utils.onPointerAction(this.get("boundingBox").one("input"), this.focus, this);
      this.after("queryStringChange", this._resetAutoComplete, this)
    },
    _onKeyDown: function(a) {
      27 !== a.keyCode && a.stopPropagation()
    },
    _autocompleteSelected: function(f) {
      a.later(1, this, function(a) {
        this.set("queryString", a.result.text)
      }, f)
    },
    onSubmit: function(f) {
      a.Lang.isValue(f) && f.preventDefault();
      f = this.get("contentBox").one("input").get("value");
      this.set("queryString", f)
    },
    _enableAutoComplete: function() {
      var f = new a.DataSource.IO({
        source: location.protocol + "//" + location.host + "/api/search/SearchSuggest"
      }),
        b = this.get("contentBox").one("input");
      this.get("withSearchSuggest") && !b.ac && (b.plug(a.Plugin.AutoComplete, {
        source: f,
        requestTemplate: "?q={query}",
        resultTextLocator: "suggestion",
        resultListLocator: function(b) {
          return a.JSON.parse(b[0].responseText)
        }
      }), this.get("boundingBox").one("input").ac.on("select",
      this._autocompleteSelected, this))
    },
    isAutocompleteEnabled: function() {
      return 0 < this.get("contentBox").all(".yui3-aclist-item").size() ? !0 : !1
    },
    _resetAutoComplete: function() {
      var a = this.get("boundingBox").one("input");
      a.set("value", this.get("queryString"));
      a.ac && a.unplug("ac");
      this._enableAutoComplete()
    },
    focus: function() {
      var a = this.get("contentBox").one("input");
      a.focus();
      a.set("value", this.get("queryString"));
      "" !== this.get("queryString") && a.select()
    },
    blur: function() {
      this.get("contentBox").one("input").blur()
    },
    _createSearchNode: function() {
      var f = a.Node.create("<form/>");
      f.append(a.DB.INPUT("", {
        placeholder: "Type to search...",
        type: this.get("inputType"),
        spellcheck: !1,
        value: this.get("queryString")
      }));
      return f
    }
  }, {
    CSS_PREFIX: "sqs-search-input",
    ATTRS: {
      queryString: {
        value: "",
        validator: a.Squarespace.AttrValidators.isString
      },
      inputType: {
        value: "search",
        validator: a.Squarespace.AttrValidators.isString
      },
      withSearchSuggest: {
        value: !1,
        validator: a.Squarespace.AttrValidators.isBoolean
      }
    }
  })
}, "1.0", {
  requires: "base event datasource autocomplete-plugin squarespace-ss-widget squarespace-enum squarespace-animations squarespace-util".split(" ")
});
YUI.add("squarespace-business-hours-template", function(a) {
  var f = a.Handlebars;
  (function() {
    var a = f.template;
    (f.templates = f.templates || {})["business-hours.html"] = a(function(a, b, f, g, l) {
      this.compilerInfo = [4, ">= 1.0.0"];
      f = this.merge(f, a.helpers);
      l = l || {};
      var k, m;
      g = f.helperMissing;
      var n = this.escapeExpression;
      a = '\n<div class="sqs-business-hours-store">\n  ';
      m = {
        hash: {},
        inverse: this.program(3, function(a, b) {
          var c, e, f;
          c = "\n    ";
          if ((f = (e = (e = (e = a.strings, null == e || !1 === e ? e : e.store), null == e || !1 === e ? e : e.closed), "function" === typeof e ? e.apply(a) : e)) || 0 === f) c += f;
          return c + "\n  "
        }, l),
        fn: this.program(1, function(a, b) {
          var c, e, f;
          c = "\n    ";
          if ((f = (e = (e = (e = a.strings, null == e || !1 === e ? e : e.store), null == e || !1 === e ? e : e.open), "function" === typeof e ? e.apply(a) : e)) || 0 === f) c += f;
          return c + "\n  "
        }, l),
        data: l
      };
      if ((m = (k = f.isStoreOpen || b.isStoreOpen, k ? k.call(b, b.businessHours, m) : g.call(b, "isStoreOpen", b.businessHours, m))) || 0 === m) a += m;
      a += '\n</div>\n\n<div class="sqs-business-hours-day">\n  <div class="sqs-business-hours-day-label">' + n((k = (k = (k = b.strings,
      null == k || !1 === k ? k : k.daysAbbreviated), null == k || !1 === k ? k : k.monday), "function" === typeof k ? k.apply(b) : k)) + '</div>\n  <div class="sqs-business-hours-day-hours">\n    ';
      m = {
        hash: {},
        data: l
      };
      a += n((k = f.dailyHours || b.dailyHours, k ? k.call(b, (k = b.businessHours, null == k || !1 === k ? k : k.monday), m) : g.call(b, "dailyHours", (k = b.businessHours, null == k || !1 === k ? k : k.monday), m))) + '\n  </div>\n</div>\n\n<div class="sqs-business-hours-day">\n  <div class="sqs-business-hours-day-label">' + n((k = (k = (k = b.strings, null == k || !1 === k ? k : k.daysAbbreviated),
      null == k || !1 === k ? k : k.tuesday), "function" === typeof k ? k.apply(b) : k)) + '</div>\n  <div class="sqs-business-hours-day-hours">\n    ';
      m = {
        hash: {},
        data: l
      };
      a += n((k = f.dailyHours || b.dailyHours, k ? k.call(b, (k = b.businessHours, null == k || !1 === k ? k : k.tuesday), m) : g.call(b, "dailyHours", (k = b.businessHours, null == k || !1 === k ? k : k.tuesday), m))) + '\n  </div>\n</div>\n\n<div class="sqs-business-hours-day">\n  <div class="sqs-business-hours-day-label">' + n((k = (k = (k = b.strings, null == k || !1 === k ? k : k.daysAbbreviated), null == k || !1 === k ? k : k.wednesday), "function" === typeof k ? k.apply(b) : k)) + '</div>\n  <div class="sqs-business-hours-day-hours">\n    ';
      m = {
        hash: {},
        data: l
      };
      a += n((k = f.dailyHours || b.dailyHours, k ? k.call(b, (k = b.businessHours, null == k || !1 === k ? k : k.wednesday), m) : g.call(b, "dailyHours", (k = b.businessHours, null == k || !1 === k ? k : k.wednesday), m))) + '\n  </div>\n</div>\n\n<div class="sqs-business-hours-day">\n  <div class="sqs-business-hours-day-label">' + n((k = (k = (k = b.strings, null == k || !1 === k ? k : k.daysAbbreviated), null == k || !1 === k ? k : k.thursday), "function" === typeof k ? k.apply(b) : k)) + '</div>\n  <div class="sqs-business-hours-day-hours">\n    ';
      m = {
        hash: {},
        data: l
      };
      a += n((k = f.dailyHours || b.dailyHours, k ? k.call(b, (k = b.businessHours, null == k || !1 === k ? k : k.thursday), m) : g.call(b, "dailyHours", (k = b.businessHours, null == k || !1 === k ? k : k.thursday), m))) + '\n  </div>\n</div>\n\n<div class="sqs-business-hours-day">\n  <div class="sqs-business-hours-day-label">' + n((k = (k = (k = b.strings, null == k || !1 === k ? k : k.daysAbbreviated), null == k || !1 === k ? k : k.friday), "function" === typeof k ? k.apply(b) : k)) + '</div>\n  <div class="sqs-business-hours-day-hours">\n    ';
      m = {
        hash: {},
        data: l
      };
      a += n((k = f.dailyHours || b.dailyHours, k ? k.call(b, (k = b.businessHours, null == k || !1 === k ? k : k.friday), m) : g.call(b, "dailyHours", (k = b.businessHours, null == k || !1 === k ? k : k.friday), m))) + '\n  </div>\n</div>\n\n<div class="sqs-business-hours-day">\n  <div class="sqs-business-hours-day-label">' + n((k = (k = (k = b.strings, null == k || !1 === k ? k : k.daysAbbreviated), null == k || !1 === k ? k : k.saturday), "function" === typeof k ? k.apply(b) : k)) + '</div>\n  <div class="sqs-business-hours-day-hours">\n    ';
      m = {
        hash: {},
        data: l
      };
      a += n((k = f.dailyHours || b.dailyHours, k ? k.call(b, (k = b.businessHours, null == k || !1 === k ? k : k.saturday), m) : g.call(b, "dailyHours", (k = b.businessHours, null == k || !1 === k ? k : k.saturday), m))) + '\n  </div>\n</div>\n\n<div class="sqs-business-hours-day">\n  <div class="sqs-business-hours-day-label">' + n((k = (k = (k = b.strings, null == k || !1 === k ? k : k.daysAbbreviated), null == k || !1 === k ? k : k.sunday), "function" === typeof k ? k.apply(b) : k)) + '</div>\n  <div class="sqs-business-hours-day-hours">\n    ';
      m = {
        hash: {},
        data: l
      };
      return a += n((k = f.dailyHours || b.dailyHours, k ? k.call(b, (k = b.businessHours, null == k || !1 === k ? k : k.sunday), m) : g.call(b, "dailyHours", (k = b.businessHours, null == k || !1 === k ? k : k.sunday), m))) + "\n  </div>\n</div>\n"
    })
  })();
  a.Handlebars.registerPartial("business-hours.html".replace("/", "."), f.templates["business-hours.html"])
}, "1.0", {
  requires: ["handlebars-base"]
});
