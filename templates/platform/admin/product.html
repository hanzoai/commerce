{% extends "base.html" %}

{% block name %}Product{% endblock %}

{% block css %}
{% endblock %}

{% block content %}
<!-- Product information Form Block -->
<div class="col-sm-10 col-sm-offset-1 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-1">
    <div class="block">
        <!-- Product information Form Title -->
        <div class="block-title">
          <h2>Product Information</h2>
        </div>
        <!-- END Product information Form Title -->

        <!-- Product information Form Content -->
        <product-form>
          <h4>
            <a data-toggle="collapse" href="#product-info">
              Information
            </a>
          </h4>
          <div id="product-info" class="collapse in block">
            <control label="ID" input="{ inputs.id }"></control>
            <control label="Name" input="{ inputs.name }"></control>
            <control label="Slug" input="{ inputs.slug }"></control>
            <control label="Description" input="{ inputs.description }"></control>
            <control label="Created On" input="{ inputs.createdAt }"></control>
            <control label="Last Updated On" input="{ inputs.updatedAt }"></control>
            <div class="form-group form-actions">
              <div class="col-md-9 col-md-offset-3">
                <button type="submit" class="btn btn-effect-ripple btn-primary">Submit</button>
                <button type="reset" class="btn btn-effect-ripple btn-warning">Reset</button>
                <button type="button" id="delete-btn" class="btn btn-effect-ripple btn-danger">Delete</button>
              </div>
            </div>
          </div>
          <h4>
            <a data-toggle="collapse" href="#product-cost">
              Cost and Availability
            </a>
          </h4>
          <div id="product-cost" class="collapse in block">
            <control label="Currency" input="{ inputs.currency }"></control>
            <control label="List Price" input="{ inputs.listPrice }"></control>
            <control label="Price" input="{ inputs.price }"></control>
            <control label="Product is Instock?" input="{ inputs.available }"></control>
            <!-- <control label="Product is Available?" input="{ inputs.hidden }"></control> -->
            <div class="form-group form-actions">
              <div class="col-md-9 col-md-offset-3">
                <button type="submit" class="btn btn-effect-ripple btn-primary">Submit</button>
                <button type="reset" class="btn btn-effect-ripple btn-warning">Reset</button>
              </div>
            </div>
          </div>
          <h4>
            <a data-toggle=collapse" href="product-shipping">
              Shipping (Optional)
            </a>
          </h4>
          <div id="product-shipping" class="collapse in block">
            <control label="Size (L x W x H)" input="{ inputs.dimensions }"></control>
            <control label="Weight (grams)" input="{ inputs.weight }"></control>
            <div class="form-group form-actions">
              <div class="col-md-9 col-md-offset-3">
                <button type="submit" class="btn btn-effect-ripple btn-primary">Submit</button>
                <button type="reset" class="btn btn-effect-ripple btn-warning">Reset</button>
              </div>
            </div>
          </div>
          <h4>
            <a data-toggle="collapse" href="product-variant-options">
              Variant Options
            </a>
          </h4>
          <div id="product-variant-options" class="collapse in block">
            <variant-options model="{ opts.model }" obs="{ obs }"></variant-options>
            <div class="form-group form-actions">
              <div class="col-md-9 col-md-offset-3">
                <button type="submit" class="btn btn-effect-ripple btn-primary">Submit</button>
                <button type="reset" class="btn btn-effect-ripple btn-warning">Reset</button>
              </div>
            </div>
          </div>
        </product-form>
        <!-- END Product information Form Content -->
    </div>
    <!-- END Product information Form Block -->
</div>
<!-- END Product information Form Block -->
{% endblock %}

{% block js %}
<script>
  var countries = {
    {% for country in constants.Countries %}
        '{{ country.ISO3166OneAlphaTwo }}': '{{ country.ISO3166OneEnglishShortNameReadingOrder }}',
    {% endfor %}
  }

  var currencies = {
    {% for type in constants.CurrencyTypes %}
      '{{ type }}': '{{ type.Label() }}',
    {% endfor %}
  }

  $(function(){
    var urlParts = window.location.pathname.split('/')
    var id = urlParts.pop()

    new crowdcontrol.data.Api(
      '{{ urlFor("api") }}',
      '{{ ctx.organization.MustGetTokenByName("live-secret-key") }}'
    ).register('crowdstart')

    riot.mount('product-form', {id: id})
  })
</script>
{% endblock %}
{% block menulink %}menu-products{% endblock %}

